<h1>CSS Scroll Snap Points Module Level 1</h1>

<pre class='metadata'>
Group: csswg
Shortname: css-snappoints
Level: 1
Status: ED
ED: http://dev.w3.org/csswg/css-snappoints/
Editor: Matt Rakow, Microsoft
Editor: Jacob Rossi, Microsoft
Abstract: This module contains features to control panning and scrolling behavior with "snap points".
!Issue Tracking: <a href="http://wiki.csswg.org/spec/css-snappoints">http://wiki.csswg.org/spec/css-snappoints</a>
Ignored Terms: scroll-snap-points-*
</pre>

<h2 id="intro">
Introduction</h2>

	<em>This section is not normative.</em>

	Popular UX paradigms for scrollable content frequently employ paging through content,
	or sectioning into logical divisions.
	This is especially true for touch interactions
	where it is quicker and easier for users to quickly pan through a flatly-arranged breadth of content
	rather than delving into a heirarchical structure through tap navigation.
	For example, it is easier for a user to view many photos in a photo album
	by panning through a photo slideshow view
	rather than tapping on individual photos in an album.

	However, given the imprecise nature of scrolling inputs
	like touch panning and mousewheel scrolling,
	it is difficult for web developers to guarantee a well-controlled scrolling experience,
	in particular creating the effect of paging through content.
	For instance, it is easy for a user to land at an awkward scroll offset
	which leaves a page partially on-screen when panning.

	To this end, we introduce scroll snap points
	which enforce the scroll offsets that a scroll container may end at
	after a scrolling operation has completed.

<h3 id="placement">
Module interactions</h3>

	This module extends the scrolling user interface features defined in [[!CSS21]] section 11.1.

	None of the properties in this module apply to the ''::first-line'' and ''::first-letter'' pseudo-elements.

<h3 id="values">
Values</h3>

	This specification follows the
	<a href="http://www.w3.org/TR/CSS21/about.html#property-defs">CSS property
	definition conventions</a> from [[!CSS21]]. Value types not defined in
	this specification are defined in CSS Level 2 Revision 1 [[!CSS21]].
	Other CSS modules may expand the definitions of these value types: for
	example [[CSS3VAL]], when combined with this module, expands the
	definition of the <<length>> value type as used in this specification.

<h2 id="examples">
Motivating Examples</h2>


	<div class=example>
		In this example, a series of images arranged in a <a>scroll container</a>
		are used to build a photo gallery.
		The <a>scroll container</a> is sized to the same size of the images contained therein.
		Using mandatory snap points,
		scrolling will always complete with a snap point aligned to the edge of the <a>scroll container</a>.
		By aligning a snap point at the edge of each image,
		this creates a photo viewer were users can scroll through the images one at a time.

		<pre>
		img {
			width:500px;
		}
		.photoGallery {
			width: 500px;
			overflow-x: auto;
			overflow-y: hidden;
			white-space: nowrap;
			scroll-snap-points-x: snapInterval(0px,100%);
			/* Sets up points to which scrolling will snap along x-axis */
			scroll-snap-type: mandatory;
			/* Requires that scrolling always end at a snap point when the
			   operation completes (hard snap) */
		}
		</pre>

		<pre>
			&lt;div class="photoGallery">
				&lt;img src="img1.jpg">
				&lt;img src="img2.jpg">
				&lt;img src="img3.jpg">
				&lt;img src="img4.jpg">
				&lt;img src="img5.jpg">
			&lt;/div>
		</pre>

		<figure>
			<img src="interval_snap_points.png" alt="">

			<figcaption>
				The layout of the scroll container's contents in the example.
				Snap points are set along the x-axis,
				starting at 0px and repeating at intervals of 100% of the scroll container's width.
			</figcaption>
		</figure>
	</div>

	<div class=example>
		This example also builds a photo gallery as in example 1.  However, in this example the <a>scroll container</a>
		is larger than the photos contained within (such that multiple images may be seen simultaneously), and the image
		sizes vary (such that a snapInterval would not be effective).  Using mandatory element-based snap points, scrolling
		will always complete with an image centered in the <a>scroll container</a>.

		<pre>
			img {
				scroll-snap-coordinate-x: 50%
				/* Defines the center of each photo as the
				   coordinate that should be used for snapping */
			}
			.photoGallery {
				width: 500px;
				overflow-x: auto;
				overflow-y: hidden;
				white-space: nowrap;
				scroll-snap-points-x: elements;
				/* Denotes that snap points will be defined by
				   the elements contained within. */
				scroll-snap-axis-x: 50%
				/* Specifies that each element's snap coordinate
				   should align with the center of the scroll container */
				scroll-snap-type: mandatory;
				/* Requires that scrolling always end at a snap point
				   when the operation completes (hard snap) */
			}
		</pre>

		<pre>
			&lt;div class="photoGallery">
				&lt;img src="img1.jpg">
				&lt;img src="img2.jpg">
				&lt;img src="img3.jpg">
				&lt;img src="img4.jpg">
				&lt;img src="img5.jpg">
			&lt;/div>
		</pre>

		<figure>
			<img src="element_snap_points.png" alt="">

			<figcaption>
				The layout of the scroll container's contents in the example.
				The snap-axis is horizontally centered within the scroll container
				(represented by a red line),
				and each element has its snap coordinate horizontally centered within the element
				(represented by dashed yellow lines).
			</figcaption>
		</figure>
	</div>

<h2 id="definitions">
Definitions</h2>

	<dl>
		<dt><dfn export>scroll container</dfn>
		<dd>
			An element which provides a scrolling user interface as described in [[!CSS21]], particularly in the section on overflow.
	</dl>

<h2 id="scroll-snap-type">
Scroll Snap Types: the 'scroll-snap-type' property</h2>

	The ''scroll-snap-type'' property is used to define the physics characteristics of panning and scrolling, if any. It defines how and when snap points are enforced on the scroll container it is applied to.

	<pre class='propdef'>
	Name: scroll-snap-type
	Value: none | mandatory | proximity
	Initial: none
	Applies to: <a>scroll containers</a>
	Inherited: no
	Percentages: n/a
	Media: interactive
	Computed value: specified value
	Animatable: no
	</pre>

	<dl dfn-type="value" dfn-for="scroll-snap-type">
		<dt><dfn>none</dfn>
		<dd>
			This <a>scroll container</a> must ignore snap points, if any, when scrolled.

		<dt><dfn>mandatory</dfn>
		<dd>
			This <a>scroll container</a> must come to rest on a snap point at the termination of a scroll, if possible.

		<dt><dfn>proximity</dfn>
		<dd>
			This <a>scroll container</a> may come to rest on a snap point at the termination of a scroll at the discretion of the UA given the parameters of the scroll.
	</dl>

<h2 id="scroll-snap-points">
Scroll Snap Points: the 'scroll-snap-points-x' and 'scroll-snap-points-y properties</h2>

	The 'scroll-snap-points-x' and 'scroll-snap-points-y' properties
	are used to define the positioning of snap points
	within the content of the <a>scroll container</a> they are applied to,
	or to declare the scroll container as snapping to elements.

	<pre class="propdef">
	Name: scroll-snap-points-x, scroll-snap-points-y
	Value: snapInterval(<<length>>, <<length>>) | snapList(<<length>>#) | elements
	Initial: snapInterval(0px, 100%)
	Applies to: <a>scroll containers</a>
	Inherited: no:
	Percentages: relative to same axis of the padding-box of the <a>scroll container</a>
	Media: interactive
	Computed value: specified value, with lengths made absolute
	Animatable: no
	</pre>

	<dl dfn-type="value" dfn-for="snap-points-x, snap-points-y">
		<dt><dfn>snapList(<<length>>#)</dfn>
		<dd>
			Defines one or more discrete snap points for the <a>scroll container</a>,
			measured as lengths from the container's relevant <a>start</a> edge.

		<dt><dfn>snapInterval(<<length>>, <<length>>)</dfn>
		<dd>
			Defines a starting snap point and an interval at which additional snap points are defined.
			The first <<length>> is the starting snap point
			and the second is the interval to repeat thereafter.

		<dt><dfn>elements</dfn>
		<dd>
			Declares that the snap points for this scroll container
			will be determined by the elements contained within.
			In particular, by the combination of the element boxes' positions in layout
			and their corresponding scroll-snap-coordinate properties,
			in conjunction with this element's scroll-snap-axis property.
	</dl>

<h2 id="scroll-snap-axis">
Scroll Snap Axis: the 'scroll-snap-axis-x' and 'scroll-snap-axis-y' properties</h2>

	The 'scroll-snap-axis-x' and 'scroll-snap-axis-y' properties are used to define the x and y coordinate within the <a>scroll container</a>
	which element snap points will align with
	when the ''elements'' value is used for the 'scroll-snap-points-*' property of the respective axis.

	<pre class="propdef">
	Name: scroll-snap-axis-x, scroll-snap-axis-y
	Value: <<length>>
	Initial: 0px
	Applies to: <a>scroll containers</a>
	Inherited: no
	Percentages: relative to same axis of the padding-box of the <a>scroll container</a>
	Media: interactive
	Computed value: specified value, with lengths made absolute
	Animatable: yes
	</pre>

	<dl dfn-type="value" dfn-for="scroll-snap-axis-x, scroll-snap-axis-y">
		<dt><dfn><<length>></dfn>
		<dd>
			Specifies the offset of the snap axis from the leading edge of the scroll container.
	</dl>

<h2 id="scroll-snap-coordinate">
Scroll Snap Coordinate: the 'scroll-snap-coordinate-x' and 'scroll-snap-coordinate-y' properties</h2>

	The 'scroll-snap-coordinate-x' and 'scroll-snap-coordinate-y' properties
	are used to define the x and y coordinate within the element
	which will align with the nearest ancestor <a>scroll container's</a> snap-axis
	when the ''elements'' value is used for the 'scroll-snap-points-*' property
	of the nearest ancestor <a>scroll container's</a> respective axis.

	<pre class="propdef">
	Name: scroll-snap-coordinate-x, scroll-snap-coordinate-y
	Value: <<length>>
	Initial: 0px
	Applies to: block-level elements
	Inherited: no
	Percentages: refer to the element box used by the box-sizing property
	Media: interactive
	Computed value: specified value, with lengths made absolute
	Animatable: yes
	</pre>

	<dl dfn-type=value dfn-for="scroll-snap-coordinate-x, scroll-snap-coordinate-y">
		<dt><dfn><<length>></dfn>
		<dd>
			Specifies the offset of the snap coordinate
			from the leading edge of the element box used by the box-sizing property.
	</dl>

<h2 class=no-num id="acknowledgments">
Acknowledgments</h2>

	Many thanks to lots of people for their proposals and recommendations, some of which are incorporated into this document.
