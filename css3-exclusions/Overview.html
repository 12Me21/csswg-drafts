<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang=en>
 <head profile="http://www.w3.org/2006/03/hcard"><meta
  content="text/html; charset=utf-8" http-equiv=Content-Type>

  <title>CSS Exclusions and Shapes Module Level 3</title>
  <link href="../shared/style/default.css" rel=stylesheet type="text/css">

  <style type="text/css">
    .singleImgExample {
    	display: block;
    	margin: auto;
    }
    
    .example-table {
    	table-layout: fixed; 
    	width: 100%; 
    }
    
    .example-table tr td img {
    	width: 90%;
    }
  </style>
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
  type="text/css">
  <link href="../shared/style/issues.css" rel=stylesheet type="text/css">
  <link href="../shared/style/alternate-spec-style.css" id=st rel=stylesheet
  title="alternate spec style" type="text/css">

 <body>
  <div class=head id=div-head>
   <p><a href="http://www.w3.org/"><img alt=W3C height=53 id=mobile-logo
    src="http://www.w3.org/2008/site/images/logo-w3c-mobile-lg" width=90></a>
    <!--begin-logo-->

   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo--></p>

   <h1 id=css-exclusions-module>CSS Exclusions and Shapes Module Level 3</h1>

   <h2 class="no-num no-toc" id=longstatus-date>Editor's Draft 28 August 2012</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://dev.w3.org/csswg/css3-exclusions/">http://dev.w3.org/csswg/css3-exclusions/</a></dd>
    <!--<dd><a href="http://www.w3.org/TR/2012/ED-css3-exclusions-20120828/">http://www.w3.org/TR/2012/WD-css3-exclusions-20120828/</a></dd>-->

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-exclusions/">http://www.w3.org/TR/css3-exclusions/</a>

    <dt>Editor's Draft:

    <dd><a
     href="http://dev.w3.org/csswg/css3-exclusions/">http://dev.w3.org/csswg/css3-exclusions/</a>
     

    <dt>Previous version:

    <dd>None

    <dt>Editors:

    <dd class=vcard><span class=fn>Vincent Hardy</span>, <span
     class=org>Adobe Systems, Inc.</span>, <span
     class=email>vhardy@adobe.com</span>

    <dd class=vcard><span class=fn>Rossen Atanassov</span>, <span
     class=org>Microsoft Corporation</span>, <span
     class=email>ratan@microsoft.com</span>

    <dd class=vcard><span class=fn>Alan Stearns</span>, <span class=org>Adobe
     Systems, Inc.</span>, <span class=email>stearns@adobe.com</span>

    <dt>Issues List:

    <dd><a
     href="https://www.w3.org/Bugs/Public/buglist.cgi?query_format=advanced&amp;product=CSS&amp;component=Exclusions&amp;resolution=---&amp;cmdtype=doit">in
     Bugzilla</a>

    <dt>Discussion:

    <dd><a
     href="http://lists.w3.org/Archives/Public/www-style/">www-style@w3.org</a>
     with subject line "<code>[css3-exclusions] message topic</code>"
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> © 2012 <a href="http://www.w3.org/"><abbr
    title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
    href="http://www.csail.mit.edu/"><abbr
    title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
    href="http://www.ercim.eu/"><abbr
    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p> CSS Exclusions define arbitrary areas around which <a
   href="http://www.w3.org/TR/CSS2/visuren.html#inline-boxes">inline
   content</a> (<a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>) content can flow. CSS
   Exclusions can be defined on any CSS block-level elements. CSS Exclusions
   extend the notion of content wrapping previously limited to floats.

  <p>CSS Shapes control the geometric shapes used for wrapping inline flow
   content outside or inside an element. CSS Shapes can be applied to any
   element. A circle shape on a float will cause inline content to wrap
   around the circle shape instead of the float's bounding box.

  <p>Combining CSS Exclusions and CSS Shapes allows sophisticated layouts,
   allowing interactions between shapes in complex positioning schemes.

  <h2 class="no-num no-toc" id=status>Status of this document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a
   href="mailto:www-style@w3.org?Subject=%5Bcss3-exclusions%5D%20PUT%20SUBJECT%20HERE">
   www-style@w3.org</a> (see <a
   href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
   discussion of this specification. When sending e-mail, please put the text
   “css3-exclusions” in the subject, preferably like this:
   “[<!---->css3-exclusions<!---->] <em>…summary of comment…</em>”

  <p>This document was produced by the <a href="/Style/CSS/members">CSS
   Working Group</a> (part of the <a href="/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent
   Policy</a>. W3C maintains a <a href="/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the
   W3C Patent Policy</a>.</p>
  <!--end-status-->

  <h2 class="no-num no-toc" id=contents>Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#intro"><span class=secno>1. </span>Introduction</a>

   <li><a href="#definitions"><span class=secno>2. </span>Definitions</a>

   <li><a href="#exclusions"><span class=secno>3. </span>Exclusions</a>
    <ul class=toc>
     <li><a href="#declaring-exclusions"><span class=secno>3.1.
      </span>Declaring exclusions</a>
      <ul class=toc>
       <li><a href="#wrap-flow-property"><span class=secno>3.1.1. </span>The
        ‘<code class=property>wrap-flow</code>’ property</a>
      </ul>

     <li><a href="#scope-and-effect-of-exclusions"><span class=secno>3.2.
      </span>Scope and effect of exclusions</a>

     <li><a href="#propagation-of-exclusions"><span class=secno>3.3.
      </span>Propagation of Exclusions</a>
      <ul class=toc>
       <li><a href="#wrap-through-property"><span class=secno>3.3.1.
        </span>The ‘<code class=property>wrap-through</code>’
        Property</a>
      </ul>

     <li><a href="#exclusions-order"><span class=secno>3.4. </span>Exclusions
      order</a>

     <li><a href="#exclusions-processing-model"><span class=secno>3.5.
      </span>Processing model</a>
      <ul class=toc>
       <li><a href="#exclusions-processing-model-description"><span
        class=secno>3.5.1. </span>Description</a>

       <li><a
        href="#step-1-resolve-exclusion-boxes-belonging-to-each-wrapping-context"><span
        class=secno>3.5.2. </span>Step 1: resolve exclusion boxes belonging
        to each <span>wrapping context</span></a>

       <li><a
        href="#step-2-resolve-wrapping-contexts-layout-containing-blocks"><span
        class=secno>3.5.3. </span>Step 2: resolve wrapping contexts and lay
        out containing blocks</a>

       <li><a href="#step-2-A-resolve-exclusions-position-and-size"><span
        class=secno>3.5.4. </span>Step 2-A: resolve the position and size of
        exclusion boxes</a>

       <li><a
        href="#step-2-B-layout-containing-block-applying-wrapping"><span
        class=secno>3.5.5. </span>Step 2-B: lay out containing block applying
        wrapping</a>

       <li><a href="#exclusions-processing-model-example"><span
        class=secno>3.5.6. </span>Example</a>
        <ul class=toc>
         <li><a href="#step-1-resolve-exclusion-boxes-belonging"><span
          class=secno>3.5.6.1. </span>Step 1: resolve exclusion boxes
          belonging to each <span>wrapping context</span></a>

         <li><a href="#step-2-resolve-wrapping-contexts-and-lay"><span
          class=secno>3.5.6.2. </span>Step 2: resolve wrapping contexts and
          lay out containing blocks</a>
          <ul class=toc>
           <li><a href="#resolving-rwc-1"><span class=secno>3.5.6.2.1.
            </span>Resolving RWC-1</a>

           <li><a href="#resolving-rwc-2"><span class=secno>3.5.6.2.2.
            </span>Resolving RWC-2</a>
          </ul>
        </ul>
      </ul>

     <li><a href="#floats-and-exclusions"><span class=secno>3.6.
      </span>Floats and exclusions</a>
      <ul class=toc>
       <li><a href="#floats-and-exclusions-similarities"><span
        class=secno>3.6.1. </span>Similarities</a>

       <li><a href="#floats-and-exclusions-differences"><span
        class=secno>3.6.2. </span>Differences</a>

       <li><a href="#floats-and-exclusions-interoperability"><span
        class=secno>3.6.3. </span>Interoperability</a>
        <ul class=toc>
         <li><a href="#effect-of-floats-on-exclusions"><span
          class=secno>3.6.3.1. </span>Effect of floats on exclusions</a>

         <li><a href="#effect-of-exclusions-on-floats"><span
          class=secno>3.6.3.2. </span>Effect of exclusions on floats</a>
        </ul>
      </ul>
    </ul>

   <li><a href="#shapes"><span class=secno>4. </span>Shapes</a>
    <ul class=toc>
     <li><a href="#relation-to-box-model-and-float-behavior"><span
      class=secno>4.1. </span>Relation to the box model and float
      behavior</a>

     <li><a href="#basic-shapes-from-svg-syntax"><span class=secno>4.2.
      </span>Basic Shapes</a>
      <ul class=toc>
       <li><a href="#supported-basic-shapes"><span class=secno>4.2.1.
        </span>Supported Shapes</a>

       <li><a href="#referencing-svg-shapes"><span class=secno>4.2.2.
        </span>Referencing SVG shapes</a>
      </ul>

     <li><a href="#shapes-from-image"><span class=secno>4.3. </span>Shapes
      from Image</a>

     <li><a href="#declaring-shapes"><span class=secno>4.4. </span>Declaring
      Shapes</a>
      <ul class=toc>
       <li><a href="#shape-outside-property"><span class=secno>4.4.1.
        </span>The ‘<code class=property>shape-outside</code>’
        Property</a>

       <li><a href="#shape-inside-property"><span class=secno>4.4.2.
        </span>The ‘<code class=property>shape-inside</code>’
        Property</a>

       <li><a href="#shape-image-threshold-property"><span class=secno>4.4.3.
        </span>The ‘<code class=property>shape-image-threshold</code>’
        Property</a>

       <li><a href="#shape-margin-property"><span class=secno>4.4.4.
        </span>The ‘<code class=property>shape-margin</code>’
        property</a>

       <li><a href="#shape-padding-property"><span class=secno>4.4.5.
        </span>The ‘<code class=property>shape-padding</code>’
        Property</a>
      </ul>
    </ul>

   <li><a href="#conformance"><span class=secno>5. </span>Conformance</a>
    <ul class=toc>
     <li><a href="#conventions"><span class=secno>5.1. </span>Document
      Conventions</a>

     <li><a href="#conformance-classes"><span class=secno>5.2.
      </span>Conformance Classes</a>

     <li><a href="#partial"><span class=secno>5.3. </span> Partial
      Implementations</a>

     <li><a href="#experimental"><span class=secno>5.4. </span> Experimental
      Implementations</a>

     <li><a href="#testing"><span class=secno>5.5. </span> Non-Experimental
      Implementations</a>

     <li><a href="#cr-exit-criteria"><span class=secno>5.6. </span> CR Exit
      Criteria</a>
    </ul>

   <li class=no-num><a href="#acknowledgments">Acknowledgments</a>

   <li class=no-num><a href="#references">References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#index">Index</a>

   <li class=no-num><a href="#property-index">Property index</a>

   <li class=no-num><a href="#change-log">Change Log</a>
    <ul class=toc>
     <li><a href="#since-may-3rd-2012"><span class=secno>5.7. </span>Since
      May 3rd 2012</a>

     <li><a href="#since-december-13th-2011"><span class=secno>5.8.
      </span>Since December 13th 2011</a>
    </ul>
  </ul>
  <!--end-toc-->

  <h2 id=intro><span class=secno>1. </span>Introduction</h2>

  <p><em>This section is not normative.</em>

  <p> The exclusions section of this specification defines features that
   allow inline flow content to wrap around outside the <a
   href="#exclusion-area">exclusion area</a> of elements.

  <p> The shapes section of the specification defines properties to control
   the geometry of an element's <a href="#exclusion-area">exclusion area</a>
   as well as the geometry used for wrapping an element's inline flow
   content.

  <h2 id=definitions><span class=secno>2. </span>Definitions</h2>

  <p><dfn id=exclusion-box>Exclusion box</dfn>

  <p> A <a href="http://www.w3.org/TR/css3-box/">box</a> (<a href="#CSS3BOX"
   rel=biblioentry>[CSS3BOX]<!--{{!CSS3BOX}}--></a>) that defines an <a
   href="#exclusion-area">exclusion area</a> for other boxes. The ‘<a
   href="#wrap-flow"><code class=property>wrap-flow</code></a>’ property is
   used to make an element's generated box an exclusion box. An exclusion box
   contributes its <a href="#exclusion-area">exclusion area</a> to its <a
   href="http://www.w3.org/TR/CSS2/visudet.html#containing-block-details">
   containing block's</a> <a href="#wrapping-context">wrapping context</a>.
   An element with a ‘<code class=property>float</code>’ computed value
   other than ‘<code class=property>none</code>’ does not become an
   exclusion.

  <p><dfn id=exclusion-area>Exclusion area</dfn>

  <div class=issue-marker data-bug_id=15087 data-bug_status=NEW> <a
   href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15087">Issue-15087</a>
   
   <div class=issue-details>
    <p class=short-desc>Interaction of floats and exclusions (Howcome's
     questions)</p>
   </div>
  </div>

  <p> The area used for excluding inline flow content around an exclusion
   box. The <a href="#exclusion-area">exclusion area</a> is equivalent to the
   <a href="http://www.w3.org/TR/CSS2/box.html#box-dimensions"> border
   box</a>. This specification's ‘<a href="#shape-outside"><code
   class=property>shape-outside</code></a>’ property can be used to define
   arbitrary, non-rectangular <a href="#exclusion-area">exclusion areas</a>.

  <p><dfn id=float-area>Float area</dfn>

  <p> The area used for excluding inline flow content around a float element.
   By default, the float area is the float element's <a
   href="http://www.w3.org/TR/CSS2/box.html#box-dimensions">margin box</a>.
   This specification's ‘<a href="#shape-outside"><code
   class=property>shape-outside</code></a>’ property can be used to define
   arbitrary, non-rectangular float areas.

  <p><dfn id=exclusion-element>Exclusion element</dfn>

  <p>An block-level element which is not a float and generates an <a
   href="#exclusion-box">exclusion box</a>. An element generates an exclusion
   box when its ‘<a href="#wrap-flow"><code
   class=property>wrap-flow</code></a>’ property's computed value is not
   ‘<code class=property>auto</code>’.

  <p><dfn id=wrapping-context>Wrapping context</dfn>

  <div class=issue-marker data-bug_id=15086 data-bug_status=NEW> <a
   href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15086">Issue-15086</a>
   
   <div class=issue-details>
    <p class=short-desc>should the wrapping context be generic and include
     floats?</p>
   </div>
  </div>

  <p> The <a href="#wrapping-context">wrapping context</a> of a box is a
   collection of <a href="#exclusion-area">exclusion areas</a> contributed by
   its associated <a href="#exclusion-box">exclusion boxes</a>. During
   layout, a box wraps its inline flow content in the area that corresponds
   to the subtraction of its <a href="#wrapping-context">wrapping context</a>
   from its own <a href="#content-area">content area</a>.

  <p> A box inherits its <a
   href="http://www.w3.org/TR/CSS2/visudet.html#containing-block-details">containing
   block's</a> <a href="#wrapping-context">wrapping context</a> unless it
   specifically resets it using the ‘<a href="#wrap-through"><code
   class=property>wrap-through</code></a>’ property.

  <p><dfn id=content-area>Content area</dfn>

  <p> The area used for layout of the inline flow content of a box. By
   default the area is equivalent to the <a
   href="http://www.w3.org/TR/CSS2/box.html#box-dimensions">content box</a>.
   This specification's ‘<a href="#shape-inside"><code
   class=property>shape-inside</code></a>’ property can define arbitrary,
   non-rectangular content areas.

  <div class=issue-marker data-bug_id=15089 data-bug_status=NEW> <a
   href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15089">Issue-15089</a>
   
   <div class=issue-details>
    <p class=short-desc>shrink-to-fit circle / shape</p>
   </div>
  </div>

  <p><dfn id=outside-and-inside title=outside-inside>Outside and inside</dfn>
   

  <p> In this specification, ‘<code class=property>outside</code>’ refers
   to DOM content that is not a descendant of an element while ‘<code
   class=property>inside</code>’ refers to the element's descendants.

  <h2 id=exclusions><span class=secno>3. </span>Exclusions</h2>

  <p> Exclusion elements define <a href="#exclusion-area">exclusion areas</a>
   that contribute to their containing block's <a
   href="#wrapping-context">wrapping context</a>. As a consequence,
   exclusions impact the layout of their containing block's descendants.

  <p>

  <p> Elements layout their inline content in their <a
   href="#content-area">content area</a> and wrap around the <a
   href="#exclusion-area">exclusion areas</a> in their associated <a
   href="#wrapping-context">wrapping context</a>. If the element is itself an
   exclusion, it does not wrap around its own exclusion shape and the impact
   of other exclusions on other exclusions is controlled by the ‘<code
   class=property>z-index</code>’ property as explained in the <a
   href="#exclusions-order">exclusions order</a> section.

  <p> The <a href="#shapes">shape properties</a> can be used to change the
   shape of <a href="#exclusion-area">exclusion areas</a>.

  <h3 id=declaring-exclusions><span class=secno>3.1. </span>Declaring
   exclusions</h3>

  <p> An element becomes an exclusion when its ‘<a href="#wrap-flow"><code
   class=property>wrap-flow</code></a>’ property has a computed value other
   than ‘<code class=property>auto</code>’.

  <h4 id=wrap-flow-property><span class=secno>3.1.1. </span>The ‘<a
   href="#wrap-flow"><code class=property>wrap-flow</code></a>’ property</h4>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=wrap-flow title="'wrap-flow'">wrap-flow</dfn>

    <tr>
     <th>Value:

     <td><var>auto</var> | <var>both</var> | <var>start</var> |
      <var>end</var> | <var>minimum</var> | <var>maximum</var> |
      <var>clear</var>

    <tr>
     <th>Initial:

     <td>auto

    <tr>
     <th>Applies to:

     <td>block-level elements.

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified except for element's whose ‘<code
      class=property>float</code>’ computed value is not <code
      class=css>none</code>, in which case the computed value is ‘<code
      class=property>auto</code>’.
  </table>

  <div class=issue-marker data-bug_id=16437 data-bug_status=ASSIGNED> <a
   href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16437">Issue-16437</a>
   
   <div class=issue-details>
    <p class=short-desc>Consistent use of start/end/top/bottom</p>
   </div>
  </div>

  <p>The values of this property have the following meanings:

  <dl>
   <dt><dfn id=auto title="'wrap-flow'!!'auto'">auto</dfn>

   <dd> No exclusion is created. Inline flow content interacts with the
    element as usual. In particular, if the element is a <a
    href="http://www.w3.org/TR/CSS2/visuren.html#floats">float</a> (see <a
    href="#CSS21" rel=biblioentry>[CSS21]<!--{{CSS21}}--></a>), the behavior
    is unchanged.

   <dt><dfn id=both title="'wrap-flow'!!'both'">both</dfn>

   <dd> Inline flow content can flow on all sides of the exclusion.

   <dt><dfn id=start title="'wrap-flow'!!'start'">start</dfn>

   <dd> Inline flow content can flow before the start edge of the <a
    href="#exclusion-area">exclusion area</a> but must leave the area after
    the end edge of the exclusion empty.

   <dt><dfn id=end title="'wrap-flow'!!'end'">end</dfn>

   <dd> Inline flow content can flow after the end edge of the <a
    href="#exclusion-area">exclusion area</a> but must leave the area before
    the start edge of the exclusion empty.

   <dt><dfn id=minimum title="'wrap-flow'!!'minimum'">minimum</dfn>

   <dd> Inline flow content can flow on the edge of the exclusion with the
    smallest available space within its containing block, and must leave the
    other edge of the exclusion empty.

   <dt><dfn id=maximum title="'wrap-flow'!!'maximum'">maximum</dfn>

   <dd> Inline flow content can flow on the edge of the exclusion with the
    largest available space within its containing block, and must leave the
    other edge of the exclusion empty.

   <dt><dfn id=clear title="'wrap-flow'!!'clear'">clear</dfn>

   <dd> Inline flow content can only flow on top and bottom edges of the
    exclusion and must leave the areas before the start and after the end
    edges of the exclusion empty.
  </dl>

  <p> If the property's computed value is ‘<code
   class=property>auto</code>’, the element does not become an
   <span>exclusion</span>.

  <p> Otherwise, a computed ‘<a href="#wrap-flow"><code
   class=property>wrap-flow</code></a>’ property value of ‘<code
   class=property>both</code>’, ‘<code class=property>start</code>’,
   ‘<code class=property>end</code>’, ‘<code
   class=property>minimum</code>’, ‘<code
   class=property>maximum</code>’ or ‘<code
   class=property>clear</code>’ on an element makes that element an
   <span>exclusion element. It's <span>exclusion shape</span> is contributed
   to its containing block's <a href="#wrapping-context">wrapping
   context</a>, causing the containing block's descendants to wrap around its
   <a href="#exclusion-area">exclusion area</a>. </span>

  <p>An <a href="#exclusion-element">exclusion element</a> establishes a new
   <a href="">block formatting context</a> (see <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>) for its content.

  <div class=figure> <img
   alt="General illustration showing how exclusions combine"
   src="images/exclusions-illustration.png" width="70%">
   <p class=caption>Combining exclusions</p>
  </div>

  <p> The above figure illustrates how exclusions are combined. The outermost
   box represents an element's content box. The A, B, C and D darker gray
   boxes represent exclusions in the element's <a
   href="#wrapping-context">wrapping context</a>. A, B, C and D have their
   respective ‘<a href="#wrap-flow"><code
   class=property>wrap-flow</code></a>’ set to ‘<code
   class=property>both</code>’, ‘<code class=property>start</code>’,
   ‘<code class=property>end</code>’ and ‘<code
   class=property>clear</code>’ respectively. The lighter gray areas show
   the additional areas that are excluded for inline layout as a result of
   the ‘<a href="#wrap-flow"><code class=property>wrap-flow</code></a>’
   value. For example, the area to the right of ‘<code
   class=property>B</code>’ cannot be used for inline layout because the
   ‘<a href="#wrap-flow"><code class=property>wrap-flow</code></a>’ for
   ‘<code class=property>B</code>’ is ‘<code
   class=property>start</code>’.

  <p> The background ‘<code class=property>blue</code>’ area shows what
   areas are available for the element's inline content layout. All areas
   represented with a light or dark shade of gray are not available for
   inline content layout.

  <div class="issue-marker wrapper">
   <div class=issue-marker data-bug_id=15084 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15084">Issue-15084</a>
    
    <div class=issue-details>
     <p class=short-desc>Fluidity of the layout with respect to different
      amounts of content</p>
    </div>
   </div>
  </div>

  <div class=example>
   <p> The ‘<a href="#wrap-flow"><code
    class=property>wrap-flow</code></a>’ property values applied to
    exclusions as grid items.</p>
   <code class=html></code>
   <pre>
    
&lt;div id="grid"&gt;
    &lt;div id="top-right" class="exclusion"&gt;&lt;/div&gt;
    &lt;div id="bottom-left" class="exclusion"&gt;&lt;/div&gt;
    &lt;div id="content"&gt;Lorem ipsum…&lt;/div&gt;
&lt;/div&gt;

&lt;style type="text/css"&gt; 
#grid {
    width: 30em;
    height: 30em;
    display: grid;
    grid-columns: 25% 25% 25% 25%;
    grid-rows: 25% 25% 25% 25%;

#top-right {
    grid-column: 3;
    grid-row: 2;
}

#bottom-left {
    grid-column: 2;
    grid-row: 3;
}

.exclusion {
    wrap-flow: &lt;see below&gt;
}

#content {
    grid-row: 1;
    grid-row-span: 4;
    grid-column: 1;
    grid-column-span: 4;
}
&lt;/style&gt; 
</pre>

   <p>The following figures illustrate the visual rendering for different
    values of the ‘<a href="#wrap-flow"><code
    class=property>wrap-flow</code></a>’ property. The gray grid lines are
    marking the grid cells. and the blue area is the exclusion box
    (positioned by the grid).</p>

   <table class=example-table>
    <tbody>
     <tr>
      <td><code class=html>.exclusion{ wrap-flow: auto; }</code>

      <td><code class=html>.exclusion{ wrap-flow: both; }</code>

     <tr>
      <td><img alt="Example rendering for wrap-side: auto"
       src="images/exclusion_wrap_side_auto.png">

      <td><img alt="Example rendering for wrap-side: both"
       src="images/exclusion_wrap_side_both.png">

     <tr>
      <td><code class=html>.exclusion{ wrap-flow: start; }</code>

      <td><code class=html>.exclusion{ wrap-flow: end; }</code>

     <tr>
      <td><img alt="Example rendering for wrap-side: start"
       src="images/exclusion_wrap_side_left.png">

      <td><img alt="Example rendering for wrap-side: end"
       src="images/exclusion_wrap_side_right.png">

     <tr>
      <td><code class=html>.exclusion{ wrap-flow: minimum; }</code>

      <td><code class=html>.exclusion{ wrap-flow: maximum; }</code>

     <tr>
      <td><img alt="Example rendering for wrap-side: minimum"
       src="images/exclusion_wrap_side_minimum.png">

      <td><img alt="Example rendering for wrap-side: maximum"
       src="images/exclusion_wrap_side_maximum.png">

     <tr>
      <td><code class=html>.exclusion{ wrap-flow: clear; }</code>

      <td>

     <tr>
      <td><img alt="Example rendering for wrap-side: clear"
       src="images/exclusion_wrap_side_clear.png">

      <td>
   </table>
  </div>
  <!-- End section "wrap-flow Property" -->
  <!-- End section "Declaring Exclusions" -->

  <h3 id=scope-and-effect-of-exclusions><span class=secno>3.2. </span>Scope
   and effect of exclusions</h3>

  <p> An <span>exclusion</span> affects the inline flow content descended
   from the exclusion's containing block (defined in <a
   href="http://www.w3.org/TR/CSS2/visudet.html#containing-block-details">
   CSS 2.1 10.1</a>) and that of all descendant elements of the same
   containing block. All inline flow content inside the containing block of
   the exclusions is affected. To stop the effect of exclusions defined
   outside an element, the ‘<a href="#wrap-through"><code
   class=property>wrap-through</code></a>’ property can be used (see the <a
   href="#propagation-of-exclusions">propagation of exclusions</a> section
   below).

  <p> As a reminder, for exclusions with ‘<code
   class=css>position:fixed</code>’, the containing block is that of the
   root element.</p>
  <!-- End section "Scope and Effect of Exclusions" -->

  <h3 id=propagation-of-exclusions><span class=secno>3.3. </span>Propagation
   of Exclusions</h3>

  <p> By default, an element inherits its parent <a
   href="#wrapping-context">wrapping context</a>. In other words it is
   subject to the exclusions defined <a href="#outside-and-inside"
   title=outside-inside>outside the element. </a>

  <p>Setting the ‘<a href="#wrap-through"><code
   class=property>wrap-through</code></a>’ property to ‘<code
   class=property>none</code>’ prevents an element from inheriting its
   parent <a href="#wrapping-context">wrapping context</a>. In other words,
   exclusions defined ‘<code class=property>outside</code>’ the element,
   have not effect on the element's children layout.

  <div class=note> Exclusions defined by an element's descendants still
   contribute to their containing block's <a
   href="#wrapping-context">wrapping context</a>. If that containing block is
   a child of an element with ‘<a href="#wrap-through"><code
   class=property>wrap-through</code></a>’ set to none, or the element
   itself, then exclusion still have an effect on the children of that
   containing block element.</div>

  <h4 id=wrap-through-property><span class=secno>3.3.1. </span>The ‘<a
   href="#wrap-through"><code class=property>wrap-through</code></a>’
   Property</h4>

  <div class=issue-marker data-bug_id=15085 data-bug_status=NEW> <a
   href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15085">Issue-15085</a>
   
   <div class=issue-details>
    <p class=short-desc>do we need wrap-through?</p>
   </div>
  </div>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=wrap-through title="'wrap-through'">wrap-through</dfn>

    <tr>
     <th>Value:

     <td><var>wrap</var> | <var>none</var>

    <tr>
     <th>Initial:

     <td>wrap

    <tr>
     <th>Applies to:

     <td>block-level elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified
  </table>

  <p>The values of this property have the following meanings:

  <dl>
   <dt><dfn id=wrap title="'wrap-through'!!'wrap'">wrap</dfn>

   <dd> The element inherits its parent node's <a
    href="#wrapping-context">wrapping context</a>. Its descendant inline
    content wraps around exclusions defined <a href="#outside-and-inside"
    title=outside-inside>outside</a> the element.
  </dl>

  <dl>
   <dt><dfn id=none title="'wrap-through'!!'none'">none</dfn>

   <dd> The element does not inherit its parent node's <a
    href="#wrapping-context">wrapping context</a>. Its descendants are only
    subject to exclusion shapes defined <a href="#outside-and-inside"
    title=outside-inside>inside</a> the element.
  </dl>

  <div class=example>
   <p> Using the ‘<a href="#wrap-through"><code
    class=property>wrap-through</code></a>’ property to control the effect
    of exclusions.</p>

   <pre><code class=html>

&lt;style type="text/css"&gt; 
    #grid {
        display: grid;
        grid-columns: 25% 50% 25%;
        grid-rows: 25% 25% 25% 25%;
    }

    #exclusion {
        grid-row: 2;
        grid-row-span: 2;
        grid-column: 2;
        wrap-flow: &lt;see below&gt;
    }
    
    #rowA, #rowB {
        grid-row-span: 2;
        grid-column: 1;
        grid-column-span: 3;
    }

    #rowA {
        grid-row: 1;
    }
    
    #rowB {
        grid-row: 3;
    }
    &lt;/style&gt;
        
&lt;style type="text/css"&gt; 
    .exclusion  {
    	wrap-flow: both; 
    	position: absolute; 
    	left: 20%;
    	top: 20%;
    	width: 50%;
    	height: 50%;
    	background-color: rgba(220, 230, 242, 0.5); 
    } 
&lt;/style&gt; 

&lt;div id="grid"&gt; 
    &lt;div class=”exclusion”&gt;&lt;/div&gt; 
    &lt;div id="rowA" style=”wrap-through: wrap;”&gt; Lorem ipsum dolor sit amet...&lt;/div&gt; 
    &lt;div id="rowB" style=”wrap-through: none;”&gt; Lorem ipsum dolor sit amet...&lt;/div&gt; 
&lt;/div&gt;
</code></pre>
   <img alt="Example rendering of wrap-through: wrap | none"
   class=singleImgExample src="images/exclusion_wrap_through.png"
   style="max-width:40%"></div>
  <!-- End section "wrap-through property" -->
  <!-- removed as wrap-margin and wrap-padding changed to shape-margin and shape-padding

    <h4 id="wrap-shorthand-property">The 'wrap' Shorthand Property</h4>
    <table class="propdef">
        <tr>
            <th>Name:</th>
            <td><dfn title="'wrap'">wrap</dfn></td>
        </tr>
        <tr>
            <th>Value:</th>
            <td><var>&lt;wrap-flow&gt;</var> || <var>&lt;wrap-margin&gt;</var> [ / <var>&lt;wrap-padding&gt;</var>]</td>
        </tr>
        <tr>
            <th>Initial:</th>
            <td>see individual properties</td>
        </tr>
        <tr>
            <th>Applies to:</th>
            <td>block-level elements</td>
        </tr>
        <tr>
            <th>Inherited:</th>
            <td>no</td>
        </tr>
        <tr>
            <th>Percentages:</th>
            <td>N/A</td>
        </tr>
        <tr>
            <th>Media:</th>
            <td>visual</td>
        </tr>
        <tr>
            <th>Computed value:</th>
            <td>see individual properties</td>
        </tr>
    </table>
    <p>
        The 'wrap' property is a shorthand property for setting the exclusions properties
        at the same place in the style sheet.
    </p>
-->
  <!-- End section "wrap shorthand property" -->
  <!-- End section "Propagation of Exclusions" -->

  <h3 id=exclusions-order><span class=secno>3.4. </span>Exclusions order</h3>

  <p> Exclusions follow the painting order (See <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> Appendix E). Exclusions are
   applied in reverse to the document order in which they are defined. The
   last exclusion appears on top of all other exclusion, thus it affects the
   inline flow content of all other preceding exclusions or elements
   descendant of the same containing block. The ‘<code
   class=property>z-index</code>’ property can be used to change the
   ordering of <a
   href="http://www.w3.org/TR/CSS2/visuren.html#choose-position">positioned</a>
   exclusion boxes (see <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>). Statically positioned
   exclusions are not affected by the ‘<code
   class=property>z-index</code>’ property and thus follow the painting
   order.

  <div class=issue-marker data-bug_id=16474 data-bug_status=NEW> <a
   href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16474">Issue-16474</a>
   
   <div class=issue-details>
    <p class=short-desc>Improve Example 3 about exclusion order</p>
   </div>
  </div>

  <div class=example>
   <p>Ordering of exclusions.</p>

   <pre><code class=html>
&lt;style type="text/css"&gt; 
    .exclusion  {
    	wrap-flow: both; 
    	position: absolute; 
    	width: 50%; 
    	height: auto; 
    } 
&lt;/style&gt; 

&lt;div class=”exclusion” style=”top: 0px; left: 0px;”&gt; 
    Lorem ipsum dolor sit amet... 
&lt;/div&gt; 
&lt;div id="orderedExclusion" class=”exclusion” style=”top: 25%; left: 25%;”&gt; 
    Lorem ipsum dolor sit amet... 
&lt;/div&gt; 
&lt;div class=”exclusion” style=”top: 50%; left: 50%;”&gt; 
    Lorem ipsum dolor sit amet... 
&lt;/div&gt;
</code></pre>

   <table class=example-table>
    <tbody>
     <tr>
      <td style="width:50%"><code class=html>#orderedExclusion{ z-index:
       auto; }</code>

      <td style="width:50%"><code class=html>#orderedExclusion{ z-index: 1;
       }</code>

     <tr>
      <td><img alt="Example rendering of default exclusion ordering."
       class=singleImgExample src="images/exclusion_ordering.png">

      <td><img alt="Example rendering of default exclusion ordering."
       class=singleImgExample src="images/exclusion_ordering_z_order.png">
   </table>
  </div>
  <!-- End section "Order of Exclusions" -->

  <div class="issue-marker wrapper">
   <div class=issue-marker data-bug_id=15183 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15183">Issue-15183</a>
    
    <div class=issue-details>
     <p class=short-desc>Is the CSS exclusions processing model incorrect?</p>
    </div>
   </div>

   <div class=issue-marker data-bug_id=15083 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15083">Issue-15083</a>
    
    <div class=issue-details>
     <p class=short-desc>Concerns over Error accumulation vs. performance</p>
    </div>
   </div>
  </div>

  <p class=issue> The rules for exclusions order and exclusions on absolutely
   positioned elements (particularly those with static position) build this
   exclusions model on top of the absolute positioning model in CSS Level 2,
   rather than on top of floats, the existing exclusion model in CSS Level 1
   and 2. The CSS Working Group has not reached consensus on whether it
   intends to base the new exclusions features in this specification on top
   of absolute positioning (as these sections of this specification do) or on
   top of floats.

  <p class=note> This module does not depend on any particular positioning
   scheme.

  <h3 id=exclusions-processing-model><span class=secno>3.5. </span>Processing
   model</h3>

  <h4 id=exclusions-processing-model-description><span class=secno>3.5.1.
   </span>Description</h4>

  <p>Applying exclusions is a two-step process:

  <ul>
   <li><strong>Step 1</strong>: resolve exclusion boxes belonging to each <a
    href="#wrapping-context">wrapping context</a>

   <li><strong>Step 2</strong>: resolve <a href="#wrapping-context">wrapping
    context</a>s and lay out each containing block in turn:
    <ul>
     <li><strong>Step 2-A</strong>: resolve the position and size of
      exclusion boxes

     <li><strong>Step 2-B</strong>: lay out containing block, wrapping around
      <a href="#exclusion-area">exclusion areas</a>
    </ul>
  </ul>

  <h4
   id=step-1-resolve-exclusion-boxes-belonging-to-each-wrapping-context><span
   class=secno>3.5.2. </span>Step 1: resolve exclusion boxes belonging to
   each <a href="#wrapping-context">wrapping context</a></h4>

  <p>In this step, the user agent determines which <a
   href="http://www.w3.org/TR/CSS2/visudet.html#containing-block-details">containing
   block</a> each <a href="#exclusion-area">exclusion area</a> belongs to.
   This is a simple step, based on the definition of containing blocks and
   elements with a computed value for ‘<a href="#wrap-flow"><code
   class=property>wrap-flow</code></a>’ that is not <code
   class=css>auto</code>.

  <h4 id=step-2-resolve-wrapping-contexts-layout-containing-blocks><span
   class=secno>3.5.3. </span>Step 2: resolve wrapping contexts and lay out
   containing blocks</h4>

  <p>In this step, starting from the top of the <a
   href="http://www.w3.org/TR/CSS2/visuren.html#z-index">rendering tree</a>
   (see <a href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>), the
   the agent processes each containing block in two sub-steps.

  <h4 id=step-2-A-resolve-exclusions-position-and-size><span
   class=secno>3.5.4. </span>Step 2-A: resolve the position and size of
   exclusion boxes</h4>

  <p>Resolving the position and size of <a href="#exclusion-box">exclusion
   boxes</a> in the <a href="#wrapping-context">wrapping context</a> may or
   may not require a layout. For example, if an <a
   href="#exclusion-box">exclusion box</a> is absolutely positioned and
   sized, a layout may not be needed to resolve its position and size. In
   other situations, laying out the containing block's content is required.

  <p>When a layout is required, it is carried out without applying any <a
   href="#exclusion-area">exclusion area</a>. In other words, the containing
   block is laid out without a <a href="#wrapping-context">wrapping
   context</a>.

  <p>Step 2-A yields a position and size for all <a
   href="#exclusion-box">exclusion boxes</a> in the <a
   href="#wrapping-context">wrapping context</a>. Each exclusion box is
   processed in turn, starting from the top-most, and each <a
   href="#exclusion-area">exclusion area</a> is computed and contributed to
   the <a
   href="http://www.w3.org/TR/CSS2/visudet.html#containing-block-details">containing
   block's</a> <a href="#wrapping-context">wrapping context</a>.

  <p>Scrolling is ignored in this step when resolving the position and size
   of ‘<code class=css>position:fixed</code>’ <a
   href="#exclusion-box">exclusion boxes</a>.

  <p>Once the <a
   href="http://www.w3.org/TR/CSS2/visudet.html#containing-block-details">containing
   block's</a> <a href="#wrapping-context">wrapping context</a> is computed,
   all <a href="#exclusion-box">exclusion boxes</a> in that <a
   href="#wrapping-context">wrapping context</a> are removed from the normal
   flow.

  <h4 id=step-2-B-layout-containing-block-applying-wrapping><span
   class=secno>3.5.5. </span>Step 2-B: lay out containing block applying
   wrapping</h4>

  <p>Finally, the content of the containing block is laid out, with the
   inline content wrapping around the <span>wrapping content</span>‘<code
   class=css>s <a href="#exclusion-area">exclusion areas</a> (which may be
   different from the <a href="#exclusion-box">exclusion box</a> because of
   the </code>’shape-outside' property).

  <p>When the containing block itself is an <a
   href="#exclusion-box">exclusion box</a>, then rules on <a
   href="#exclusions-order">exclusions order</a> define which exclusions
   affect the inline and descendant content of the box.

  <h4 id=exclusions-processing-model-example><span class=secno>3.5.6.
   </span>Example</h4>

  <p>This section illustrates the exclusions processing model with an
   example. It is meant to be simple. Yet, it contains enough complexity to
   address the issues of layout dependencies and re-layout.

  <p>The code snippet in the following example has two exclusions affecting
   the document's inline content.

  <div class=example>
   <pre class=html>&lt;html&gt;
&lt;style&gt;
#d1 {
    position:relative;
    height: auto;
    color: #46A4E9;
    border: 1px solid gray;
}

#e1 {
    wrap-flow: both;
    position: absolute; 
    left: 50%; 
    top: 50%; 
    width: 40%; 
    height: 40%; 
    border: 1px solid red;
    margin-left: -20%;
    margin-top: -20%;
}

#d2 {
    position: static;
    width: 100%;
    height: auto;
    color: #808080;
}

#e2 {
    wrap-flow: both;
    position: absolute; 
    right: 5ex; 
    top: 1em; 
    width: 12ex;
    height: 10em; 
    border: 1px solid lime;
}
&lt;/style&gt;
&lt;body&gt;
    &lt;div id="d1"&gt;
        Lorem ipsusm ...
        &lt;p id="e1"&gt;&lt;/p&gt;
    &lt;/div&gt;
    &lt;div id="d2"&gt;
        Lorem ipsusm ...
        &lt;p id="e2" &gt;&lt;/p&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
  </div>

  <p>The following figures illustrate:

  <ul>
   <li>the document's DOM tree

   <li>the layout tree of generated block boxes
  </ul>

  <div class=figure> <img alt="DOM tree nodes"
   src="images/processing-model-example-dom.svg" width=200>
   <p class=caption>DOM tree</p>
  </div>

  <div class=figure> <img alt="Layout tree boxes"
   src="images/processing-model-example-layout-tree.svg" width=350>
   <p class=caption>Layout tree of generated block boxes</p>
  </div>

  <h5 id=step-1-resolve-exclusion-boxes-belonging><span class=secno>3.5.6.1.
   </span>Step 1: resolve exclusion boxes belonging to each <a
   href="#wrapping-context">wrapping context</a></h5>

  <p>The figures illustrate how the boxes corresponding to the element
   sometimes have a different containment hierarchy in the layout tree than
   in the DOM tree. For example, the box generated by <code
   class=idl>e1</code> is positioned in its containing block's box, which is
   the <code class=idl>d1-box</code>, because <code class=idl>e1</code> is
   absolutely positioned and <code class=idl>d1</code> is relatively
   positioned. However, while <code class=idl>e2</code> is also absolutely
   positioned, its containing block is the initial containing block (ICB).
   See the section 10.1 of the CSS 2.1 specification (<a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>) for details.

  <p>As a result of the computation of containing blocks for the tree, the
   boxes belonging to the <a href="#wrapping-context">wrapping context</a>s
   of all the elements can be determined:

  <ul>
   <li>The <a href="#wrapping-context">wrapping context</a> for the html
    element contains the <code class=idl>e2</code> box: WC-1 (Wrapping
    Context 1)

   <li>The <a href="#wrapping-context">wrapping context</a> for the body
    element inherits the html element's <a href="#wrapping-context">wrapping
    context</a>: WC-1

   <li>The <a href="#wrapping-context">wrapping context</a> for <code
    class=idl>d1</code> inherits the body element's <a
    href="#wrapping-context">wrapping context</a> and adds the <code
    class=idl>e1-box</code> to it. So the wrapping context is made of both
    the <code class=idl>e1-box</code> and the <code class=idl>e2-box</code>:
    WC-2

   <li>The <a href="#wrapping-context">wrapping context</a> for <code
    class=idl>d2</code> inherits the body element's <a
    href="#wrapping-context">wrapping context</a>: WC-1
  </ul>

  <h5 id=step-2-resolve-wrapping-contexts-and-lay><span class=secno>3.5.6.2.
   </span>Step 2: resolve wrapping contexts and lay out containing blocks</h5>

  <p>In this step, each containing block is processed in turn. For each
   containing block, we (conceptually) go through two phases:

  <ol>
   <li>resolve the <a href="#wrapping-context">wrapping context</a>: resolve
    the position and size of its exclusions

   <li>lay out the containing block
  </ol>

  <p>In our example, this breaks down to:

  <ol>
   <li>resolve the position and size of the exclusions belonging to WC-1:
    RWC-1 (Resolved Wrapping Context 1).

   <li>lay out the initial containing block (i.e., lay out its content):
    <ol>
     <li>resolve the html element's <a href="#wrapping-context">wrapping
      context</a>: RWC-1

     <li>lay out the html element:
      <ol>
       <li>resolve the body element's <a href="#wrapping-context">wrapping
        context</a>: RWC-1

       <li>lay out the body element:
        <ol>
         <li>resolve the <code class=idl>d1</code> element's <a
          href="#wrapping-context">wrapping context</a>: RWC-2

         <li>lay out the <code class=idl>d1</code> element

         <li>resolve the <code class=idl>d2</code> element's <a
          href="#wrapping-context">wrapping context</a>: RWC-1

         <li>lay out the <code class=idl>d2</code> element
        </ol>
      </ol>
    </ol>
  </ol>

  <h6 id=resolving-rwc-1><span class=secno>3.5.6.2.1. </span>Resolving RWC-1</h6>

  <p>The top-most <a href="#wrapping-context">wrapping context</a> in the
   layout tree contains the <code class=idl>e2</code> exclusion. Its position
   and size needs to be resolved. In general, computing an exclusion's
   position and size may or may not require laying out other content. In our
   example, no content needs to be laid out to resolve the <code
   class=idl>e2</code> exclusion's position because it is absolutely
   positioned and its size can be resolved without layout either. At this
   point, RWC-1 is resolved and can be used when laying inline content out.

  <h6 id=resolving-rwc-2><span class=secno>3.5.6.2.2. </span>Resolving RWC-2</h6>

  <p>The process is similar: the position of the <code class=idl>e1</code>
   exclusion needs to be resolved. Again, resolving the exclusion's position
   and size may require processing the containing block (d1 here). It is the
   case here because the size and position of <code class=idl>e1</code>
   depend on resolving the percentage lengths. The percentages are relative
   to the size of <code class=idl>d1</code>‘<code class=css>s box. As a
   result, in order to resolve a size for <code
   class=idl>d1</code></code>’s box, a first layout of <code
   class=idl>d1</code> is done without any <a
   href="#wrapping-context">wrapping context</a> (i.e., no exclusions
   applied). The layout yields a position and size for <code
   class=idl>e1</code>‘<code class=css>s box. </code>

  <p>At this point, RWC-2 is resolved because the position and size of both
   e1 and e2 are resolved.

  <p class=note>The important aspect of the above processing example is that
   once an element’s <a href="#wrapping-context">wrapping context</a> is
   resolved (by resolving its exclusions' position and size), the position
   and size of the exclusions are not re-processed if the element's size
   changes between the layout that may be done without considering any <a
   href="#wrapping-context">wrapping context</a> (as for RWC-2) and the
   layout done with the resolved <a href="#wrapping-context">wrapping
   context</a>. This is what breaks the possible circular dependency between
   the resolution of <a href="#wrapping-context">wrapping context</a>s and
   the layout of containing blocks.

  <h3 id=floats-and-exclusions><span class=secno>3.6. </span>Floats and
   exclusions</h3>

  <h4 id=floats-and-exclusions-similarities><span class=secno>3.6.1.
   </span>Similarities</h4>

  <p>There are similarities between floats an exclusions in that inline
   content wraps around floats and also wraps around <a
   href="#exclusion-area">exclusion areas</a>. However, there are very
   significant differences.

  <h4 id=floats-and-exclusions-differences><span class=secno>3.6.2.
   </span>Differences</h4>

  <ul>
   <li><strong>scope</strong>. While floats apply to content that follows in
    the document, exclusions apply to content in their containing block.

   <li><strong>positioning</strong>. Floats are part of the inline flow and
    ‘<code class=property>float</code>’ on the line box. Authors can
    control how the floats move on the line box, to the right or to the left.
    By contrast, exclusions can be positioned using any positioning scheme
    such as grid layout (<a href="#CSS3-GRID-LAYOUT"
    rel=biblioentry>[CSS3-GRID-LAYOUT]<!--{{CSS3-GRID-LAYOUT}}--></a>),
    flexible box (<a href="#CSS3-FLEXBOX"
    rel=biblioentry>[CSS3-FLEXBOX]<!--{{CSS3-FLEXBOX}}--></a>) or any other
    CSS positioning scheme.

   <li><strong>separation of concerns</strong>. Making an element a float
    determines both its positioning scheme and its effect on inline content.
    Making an element an exclusion only determines its impact on inline
    content and does not impose constraints on its positioning method.
  </ul>

  <h4 id=floats-and-exclusions-interoperability><span class=secno>3.6.3.
   </span>Interoperability</h4>

  <h5 id=effect-of-floats-on-exclusions><span class=secno>3.6.3.1.
   </span>Effect of floats on exclusions</h5>

  <p>Floats have an effect on the positioning of exclusions and the layout of
   their inline content. For example, if an exclusion is an inline-box which
   happens to be on the same line as a float, its' position, as computed in
   <a href="#step-2-A-resolve-exclusions-position-and-size">Step 2-A</a> will
   be impacted by the float, as is any other inline content.

  <h5 id=effect-of-exclusions-on-floats><span class=secno>3.6.3.2.
   </span>Effect of exclusions on floats</h5>

  <p>Exclusions have an effect on the positioning of floats as they have an
   effect on inline content. Therefore, in <a
   href="#step-2-B-layout-containing-block-applying-wrapping">Step 2-B</a>,
   floats will avoid <a href="#exclusion-area">exclusion areas</a>.</p>
  <!-- End section "Exclusions" -->

  <h2 id=shapes><span class=secno>4. </span>Shapes</h2>

  <div class="issue-marker wrapper">
   <div class=issue-marker data-bug_id=15091 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15091">Issue-15091</a><br>

    <div class=issue-details>
     <p class=short-desc>Simplify the syntax for shapes</p>
    </div>
   </div>

   <div class=issue-marker data-bug_id=16716 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16716">Issue-16716</a>
    
    <div class=issue-details>
     <p class=short-desc>Handling visible content as a shape for Exclusions</p>
    </div>
   </div>
  </div>

  <p> Shapes define arbitrary geometric contours around which or into which
   inline flow content flows. There are two different types of shapes –
   ‘<code class=property>outside</code>’ and ‘<code
   class=property>inside</code>’. The outside shape defines the <a
   href="#exclusion-area">exclusion area</a> for an <a
   href="#exclusion-element">exclusion element</a> or the <a
   href="#float-area">float area</a> for a float. The inside shape defines an
   element's <span>content shape</span> and the element's inline content will
   flow within that shape.

  <p class=note>It is important to note that while outside shapes only apply
   to <span>exclusions</span> and floats, inside shapes apply to all
   block-level elements.

  <h3 id=relation-to-box-model-and-float-behavior><span class=secno>4.1.
   </span>Relation to the box model and float behavior</h3>

  <p> While the boundaries used for wrapping inline flow content outside and
   inside an element can be defined using shapes, the actual box model does
   not change. If the element has specified margins, borders or paddings they
   will be computed and rendered according to the <a href="#CSS3BOX"
   rel=biblioentry>[CSS3BOX]<!--{{!CSS3BOX}}--></a> module.

  <p> However, floats are an exception. If a float has an outside shape, its
   positioning is resolved as <a
   href="http://www.w3.org/TR/CSS2/visuren.html#float-position">defined</a>
   in <a href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> but using
   the outside shape's bounding box is used in lieu of the float's margin
   box.

  <div class=example>
   <p>CSS ‘<a href="#shape-outside"><code
    class=property>shape-outside</code></a>’ and CSS box model relation:
    the red box illustrates the exclusion element's content box, which is
    unmodified and subject to normal CSS positioning (here absolute
    positioning).</p>

   <pre><code class=html>
&lt;style type="text/css"&gt; 
    .exclusion  {
    	wrap-flow: both; 
    	position: absolute; 
    	top: 25%;
    	left: 25%;
    	width: 50%;
    	height: 50%;
    	shape-outside: circle(50%, 50%, 50%); 
    	border: 1px solid red; 
    } 
&lt;/style&gt; 

&lt;div style=”position: relative;”&gt; 
    &lt;div class=”exclusion”&gt;&lt;/div&gt; 
    Lorem ipsum dolor sit amet... 
&lt;/div&gt;
</code></pre>
   <img alt="Example rendering of circle shape and box model."
   class=singleImgExample src="images/shapes_CSS2.1_MBP.png"
   style="max-width:40%"></div>

  <div class=example>
   <p>In the following example the left and right floating <code
    class=html>div</code> elements specify a triangular shape using the ‘<a
    href="#shape-outside"><code class=property>shape-outside</code></a>’
    property.</p>

   <pre><code class=html>
&lt;div style="text-align:center;"&gt;
      &lt;div id="float-left"&gt;&lt;/div&gt;
      &lt;div id="float-right"&gt;&lt;/div&gt;
      &lt;div&gt;
      Sometimes a web page's text content appears to be
      funneling your attention towards a spot on the page
      to drive you to follow a particular link.  Sometimes
      you don't notice.
      &lt;/div&gt;
&lt;/div&gt;

&lt;style type="text/css"&gt;
#float-left {
      shape-outside: polygon(0,0 100%,100% 0,100%);
      float: left;
      width: 40%;
      height: 12ex;
  }

#float-right {
      shape-outside: polygon(100%,0 100%,100% 0,100%);
      float: right;
      width: 40%;
      height: 12ex;
  }
  &lt;/style&gt;
&lt;/div&gt;</code></pre>
   <img alt="Using the shape-outside property with a float"
   class=singleImgExample src="images/float-shape-outside.png"></div>

  <h3 id=basic-shapes-from-svg-syntax><span class=secno>4.2. </span>Basic
   Shapes</h3>

  <p> Shapes can be specified using syntax similar to <a
   href="http://www.w3.org/TR/SVG/shapes.html">SVG basic shapes</a>. The
   definitions use <code><a
   href="http://www.w3.org/TR/css3-values/#lengths">&lt;length&gt;</a></code>
   type and the <code><a href="">&lt;percentage&gt;</a></code> types (see <a
   href="#CSS3VAL" rel=biblioentry>[CSS3VAL]<!--{{!CSS3VAL}}--></a>).
   Percentages are resolved from the border box of the element to which the
   property applies. For the radius <code>r</code> of the <a
   href="#circle"><code>circle</code></a> shape, a percentage value is
   resolved as <a
   href="http://www.w3.org/TR/SVG/coords.html#Units">specified</a> in the SVG
   recommendation (see <a href="#SVG11"
   rel=biblioentry>[SVG11]<!--{{!SVG11}}--></a>). SVG strokes are not
   considered part of the shape, thus only the following geometries are
   valid.

  <h4 id=supported-basic-shapes><span class=secno>4.2.1. </span>Supported
   Shapes</h4>

  <p> The following SVG shapes are supported by the CSS shapes module.

  <dl>
   <dt><dfn
    id=rectangle>rectangle</dfn>([&lt;length&gt;|&lt;percentage&gt;]{4} [
    curve [&lt;length&gt;|&lt;percentage&gt;]{1,2} ]? )

   <dd>
    <ul>
     <li> The four values represent <strong>x, y, width</strong> and
      <strong>height</strong>. They define the bounding box of the rectangle.
      Negative values for width and height are invalid.

     <li> The two ‘<code class=property>curve</code>’ values represent
      <strong> rx</strong> and <strong>ry</strong>. For rounded rectangles
      they define the x-axis radius and y-axis radius of the ellipse used to
      round off the corners of the rectangle. Negative values for rx and ry
      are invalid.
    </ul>

   <dt><dfn id=circle>circle</dfn>([&lt;length&gt;|&lt;percentage&gt;]{3})

   <dd>
    <ul>
     <li> The three values values represent <strong>cx</strong>,
      <strong>cy</strong>, and <strong>r</strong>. They define the x-axis and
      y-axis coordinates of the center of the circle and the radius of the
      circle. A negative value for r is invalid.
    </ul>

   <dt><dfn id=ellipse>ellipse</dfn>([&lt;length&gt;|&lt;percentage&gt;]{4})

   <dd>
    <ul>
     <li> The four values represent <strong>cx</strong>, <strong>cy</strong>,
      <strong>rx</strong>, and <strong>ry</strong>. They define the x-axis
      and y-axis coordinates of the center of the ellipse and the x-axis and
      y-axis radius of the ellipse. Negative values for rx and ry are
      invalid.
    </ul>

   <dt><dfn id=polygon>polygon</dfn>([&lt;fill-rule&gt;,]?
    [&lt;length&gt;|&lt;percentage&gt;]{2}#)

   <dd>
    <ul>
     <li><strong>fillRule</strong> - The filling rule used to determine the
      interior of the polygon. See <a
      href="http://www.w3.org/TR/SVG/painting.html#FillRuleProperty">fill-rule</a>
      property in SVG for details. Possible values are nonzero or evenodd.
      Default value when omitted is nonzero.

     <li> The two length values represent <strong>xi</strong> and
      <strong>yi</strong> - the <strong>x</strong> and <strong>y</strong>
      axis coordinates of the i-th vertex of the polygon.
    </ul>

    <p> If the polygon is not closed the user-agent will automatically add a
     new vertex at the end.</p>
    <br>
  </dl>

  <h4 id=referencing-svg-shapes><span class=secno>4.2.2. </span>Referencing
   SVG shapes</h4>

  <p>An SVG shape can be referenced using the <code>url()</code> syntax. The
   shape can be any of the <a href="http://www.w3.org/TR/SVG/shapes.html">SVG
   basic shapes</a> or a <a href="http://www.w3.org/TR/SVG/paths.html">path
   element</a>.

  <div class=example> <code class=html></code>
   <pre>
&lt;style&gt;
.in-a-circle {
    shape-inside: url(#circle_shape);
}

.in-a-path {
    shape-inside: url(#path-shape);
}

&lt;/style&gt;

&lt;svg ...&gt;
&lt;circle id="circle_shape" cx="50%" cy="50%" r="50%" /&gt;
&lt;path id="path-shape" d="..." /&gt;
&lt;/svg&gt;

&lt;div class="in-a-circle"&gt;...&lt;/div&gt;
&lt;div class="in-a-path"&gt;...&lt;/div&gt;
          </pre>
  </div>

  <p> When using the SVG syntax or referencing SVG elements to define shapes,
   all the lengths expressed in percentages are resolved from the border box
   of the element. The coordinate system for the shape has its origin on the
   top-left corner of the border box with the x-axis running to the right and
   the y-axis running downwards. If the SVG element uses unitless coordinate
   values, they are equivalent to using ‘<code class=property>px</code>’
   units. If the border box of the element is dependent on auto sizing (i.e.,
   the element's ‘<code class=property>width</code>’ or ‘<code
   class=property>height</code>’ property is ‘<code
   class=property>auto</code>’), then the percentage values resolve to 0.</p>
  <!-- End section "Shapes from SVG Syntax -->

  <h3 id=shapes-from-image><span class=secno>4.3. </span>Shapes from Image</h3>

  <div class="issue-marker wrapper">
   <div class=issue-marker data-bug_id=15093 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15093">Issue-15093</a><br>

    <div class=issue-details>
     <p class=short-desc>Do we need to provide properties to repeat exclusion
      images as for the background-image property?</p>
    </div>
   </div>

   <div class=issue-marker data-bug_id=15090 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15090">Issue-15090</a>
    
    <div class=issue-details>
     <p class=short-desc>Use the contour keyword in shape-outside property?</p>
    </div>
   </div>

   <div class=issue-marker data-bug_id=15092 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15092">Issue-15092</a>
    
    <div class=issue-details>
     <p class=short-desc>Specify what happens with animated images</p>
    </div>
   </div>

   <div class=issue-marker data-bug_id=16112 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16112">Issue-16112</a>
    
    <div class=issue-details>
     <p class=short-desc>Address security concern with automatic shape
      extractions for images</p>
    </div>
   </div>
  </div>

  <p> Another way of defining shapes is by specifying a source image whose
   alpha channel is used to compute the inside or outside shape. The shape is
   computed to be the path that encloses the area where the opacity of the
   specified image is greater than the ‘<a
   href="#shape-image-threshold"><code
   class=property>shape-image-threshold</code></a>’ value. If the ‘<a
   href="#shape-image-threshold"><code
   class=property>shape-image-threshold</code></a>’ is not specified, the
   initial value to be considered is 0.5.

  <p class=note> Note, images can define cavities and inline flow content
   should wrap inside them. In order to avoid that, another exclusion element
   can be overlaid.

  <p>For animated raster image formats (such as <a
   href="http://www.w3.org/Graphics/GIF/spec-gif89a.txt">GIF</a>), the first
   frame of the animation sequence is used. For <a
   href="http://www.w3.org/TR/2002/WD-SVG2Reqs-20020422/">SVG</a> images (<a
   href="#SVG11" rel=biblioentry>[SVG11]<!--{{SVG11}}--></a>), the image is
   rendered without animations applied.</p>
  <!-- End section "Shapes from image" -->

  <h3 id=declaring-shapes><span class=secno>4.4. </span>Declaring Shapes</h3>

  <p> Shapes are declared with the ‘<a href="#shape-outside"><code
   class=property>shape-outside</code></a>’ or ‘<a
   href="#shape-inside"><code class=property>shape-inside</code></a>’
   properties. The ‘<a href="#shape-outside"><code
   class=property>shape-outside</code></a>’ property changes the geometry
   of an <a href="#exclusion-element">exclusion element</a>‘<code
   class=css>s <a href="#exclusion-area">exclusion area</a> or or a float
   element</code>’s <a href="#float-area">float area</a>. If the element is
   not an <a href="#exclusion-element">exclusion element</a> (see the ‘<a
   href="#wrap-flow"><code class=property>wrap-flow</code></a>’ property)
   or a float, then the ‘<a href="#shape-outside"><code
   class=property>shape-outside</code></a>’ property has no effect.

  <p> The ‘<a href="#shape-inside"><code
   class=property>shape-inside</code></a>’ property defines an element's <a
   href="#content-area">content area</a> and the element's inline flow
   content wraps into that shape. The ‘<a href="#shape-inside"><code
   class=property>shape-inside</code></a>’ property applies to all
   block-level elements.

  <h4 id=shape-outside-property><span class=secno>4.4.1. </span>The ‘<a
   href="#shape-outside"><code class=property>shape-outside</code></a>’
   Property</h4>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=shape-outside title="'shape-outside'">shape-outside</dfn>

    <tr>
     <th>Value:

     <td><var>auto</var> | <var>&lt;shape&gt;</var> | <var>&lt;uri&gt;</var>

    <tr>
     <th>Initial:

     <td>auto

    <tr>
     <th>Applies to:

     <td>exclusion elements and floats

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>computed lengths for &lt;shape&gt;, the absolute URI for
      &lt;uri&gt;, otherwise as specified
  </table>

  <p>The values of this property have the following meanings:

  <dl>
   <dt><dfn id=auto0 title="'shape-outside'!!'auto'">auto</dfn>

   <dd>The shape is computed based on the border box of the element.
  </dl>

  <dl>
   <dt><dfn id=ltshapegt
    title="'shape-outside'!!'&lt;shape&gt;'">&lt;shape&gt;</dfn>

   <dd> The shape is computed based on the values of one of ‘<a
    href="#rectangle"><code class=property>rectangle</code></a>’, ‘<a
    href="#circle"><code class=property>circle</code></a>’, ‘<a
    href="#ellipse"><code class=property>ellipse</code></a>’ or ‘<a
    href="#polygon"><code class=property>polygon</code></a>’.
  </dl>

  <dl>
   <dt><dfn id=lturigt
    title="'shape-outside'!!'&lt;uri&gt;'">&lt;uri&gt;</dfn>

   <dd> If the &lt;uri&gt; references an SVG shape element, that element
    defines the shape. Otherwise, if the &lt;uri&gt; references an image, the
    shape is extracted and computed based on the alpha channel of the
    specified image. If the &lt;uri&gt; does not reference an SVG shape
    element or an image, the effect is as if the value ‘<code
    class=property>auto</code>’ had been specified.
  </dl>

  <div class=figure> <img
   alt="arbitrary shapes for excluions. Illustrates how content flows around shapes"
   src="images/shapes-exclusions.png" width="70%">
   <p class=caption>Arbitrary shapes for exclusions</p>
  </div>

  <div>
   <p>The above figure shows how ‘<a href="#shape-outside"><code
    class=property>shape-outside</code></a>’ shapes impact the <a
    href="#exclusion-area">exclusion areas</a>. The red box represents an
    element's content box and ‘<code class=property>A</code>’, ‘<code
    class=property>B</code>’, ‘<code class=property>C</code>’ and
    ‘<code class=property>C</code>’ represent exclusions with a complex
    shape and their ‘<a href="#wrap-flow"><code
    class=property>wrap-flow</code></a>’ property set to ‘<code
    class=property>both</code>’, ‘<code class=property>start</code>’,
    ‘<code class=property>end</code>’ and ‘<code
    class=property>clear</code>’, respectively.</p>

   <p>As illustrated in the picture, when an exclusion allows wrapping on all
    sides, text can flow inside ‘<code class=property>holes</code>’ in
    the exclusion (as for exclusion ‘<code class=property>A</code>’).
    Otherwise, the exclusion clears the area on the side(s) defined by ‘<a
    href="#wrap-flow"><code class=property>wrap-flow</code></a>’, as
    illustrated for ‘<code class=property>B</code>’, ‘<code
    class=property>C</code>’ and ‘<code class=property>D</code>’ above.</p>
  </div>
  <!-- End section "The shape-outside Property" -->

  <h4 id=shape-inside-property><span class=secno>4.4.2. </span>The ‘<a
   href="#shape-inside"><code class=property>shape-inside</code></a>’
   Property</h4>

  <p> The ‘<a href="#shape-inside"><code
   class=property>shape-inside</code></a>’ modifies the shape of the inner
   inline flow content from rectangular content box to an arbitrary geometry.
   

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=shape-inside title="'shape-inside'">shape-inside</dfn>

    <tr>
     <th>Value:

     <td><var>outside-shape</var> | <var>auto</var> |
      <var>&lt;shape&gt;</var> | <var>&lt;uri&gt;</var>

    <tr>
     <th>Initial:

     <td>outside-shape

    <tr>
     <th>Applies to:

     <td>block-level elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>computed lengths for &lt;shape&gt;, the absolute URI for
      &lt;uri&gt;, otherwise as specified
  </table>

  <div class="issue-marker wrapper">
   <div class=issue-marker data-bug_id=16448 data-bug_status=ASSIGNED> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16448">Issue-16448</a>
    
    <div class=issue-details>
     <p class=short-desc>Should we revisit the decision to not allow SVG path
      syntax in the shape-inside, shape-outside properties</p>
    </div>
   </div>

   <div class=issue-marker data-bug_id=16460 data-bug_status=NEW> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16460">Issue-16460</a>
    
    <div class=issue-details>
     <p class=short-desc>Specify overflow behavior for shape-inside</p>
    </div>
   </div>
  </div>

  <p>The values of this property have the following meanings:

  <dl>
   <dt><dfn id=outside-shape
    title="'shape-inside'!!'outside-shape'">outside-shape</dfn>

   <dd> The shape is computed based on the computed value of the ‘<a
    href="#shape-outside"><code class=property>shape-outside</code></a>’
    property.
  </dl>

  <dl>
   <dt><dfn id=auto1 title="'shape-inside'!!'auto'">auto</dfn>

   <dd> The shape is computed based on the content box of the element.
  </dl>

  <dl>
   <dt><dfn id=ltshapegt0
    title="'shape-inside'!!'&lt;shape&gt;'">&lt;shape&gt;</dfn>

   <dd> The shape is computed based on the values of one of ‘<a
    href="#rectangle"><code class=property>rectangle</code></a>’, ‘<a
    href="#circle"><code class=property>circle</code></a>’, ‘<a
    href="#ellipse"><code class=property>ellipse</code></a>’ or ‘<a
    href="#polygon"><code class=property>polygon</code></a>’.
  </dl>

  <dl>
   <dt><dfn id=lturigt0
    title="'shape-inside'!!'&lt;uri&gt;'">&lt;uri&gt;</dfn>

   <dd> If the &lt;uri&gt; references an SVG shape element, that element
    defines the shape. Otherwise, if the &lt;uri&gt; references an image, the
    shape is extracted and computed based on the alpha channel of the
    specified image. If the &lt;uri&gt; does not reference an SVG shape
    element or an image, the effect is as if the value ‘<code
    class=property>auto</code>’ had been specified.
  </dl>

  <p>The ‘<a href="#shape-inside"><code
   class=property>shape-inside</code></a>’ property applies to floats.

  <p>The ‘<a href="#shape-inside"><code
   class=property>shape-inside</code></a>’ property may not apply on some
   elements such as elements with a computed ‘<code
   class=property>display</code>’ value of ‘<code
   class=property>table</code>’.</p>
  <!-- End section "The shape-inside property" -->

  <h4 id=shape-image-threshold-property><span class=secno>4.4.3. </span>The
   ‘<a href="#shape-image-threshold"><code
   class=property>shape-image-threshold</code></a>’ Property</h4>

  <p> The ‘<a href="#shape-image-threshold"><code
   class=property>shape-image-threshold</code></a>’ defines the alpha
   channel threshold used to extract the shape using an image. A value of 0.5
   means that all the pixels that are more than 50% transparent define the
   path of the exclusion shape. The ‘<a href="#shape-image-threshold"><code
   class=property>shape-image-threshold</code></a>’ applies to both ‘<a
   href="#shape-outside"><code class=property>shape-outside</code></a>’ and
   ‘<a href="#shape-inside"><code
   class=property>shape-inside</code></a>’.

  <p class=note> The specified value of ‘<a
   href="#shape-image-threshold"><code
   class=property>shape-image-threshold</code></a>’ is applied to both
   images used for ‘<a href="#shape-outside"><code
   class=property>shape-outside</code></a>’ and ‘<a
   href="#shape-inside"><code class=property>shape-inside</code></a>’.

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=shape-image-threshold
      title="'shape-image-threshold'">shape-image-threshold</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;alphavalue&gt;</var>

    <tr>
     <th>Initial:

     <td>0.5

    <tr>
     <th>Applies to:

     <td>block-level elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>alpha channel of the image specified by &lt;uri&gt;

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>The same as the specified value after clipping the
      &lt;alphavalue&gt; to the range [0.0,1.0].
  </table>

  <p>The values of this property have the following meanings:

  <dl>
   <dt><dfn id=ltalphavaluegt
    title="'shape-image-threshold'!!'&lt;alphavalue&gt;'">&lt;alphavalue&gt;</dfn>

   <dd> A &lt;number&gt; value used to set the threshold used for extracting
    a shape from an image. Any values outside the range 0.0 (fully
    transparent) to 1.0 (fully opaque) will be clamped to this range.
  </dl>
  <!-- End section "The shape-image-threshold property" -->
  <!--
    <h4 id="shape-shorthand-property">The 'shape' Shorthand Property</h4>

    <table class="propdef">
        <tr>
            <th>Name:</th>
            <td><dfn title="'shape'">shape</dfn></td>
        </tr>
        <tr>
            <th>Value:</th>
            <td><var>&lt;shape-outside&gt;</var> [ / <var>&lt;shape-inside&gt;</var> ] || <var>&lt;shape-image-threshold&gt;</var></td>
        </tr>
        <tr>
            <th>Initial:</th>
            <td>see individual properties</td>
        </tr>
        <tr>
            <th>Applies to:</th>
            <td>block-level elements</td>
        </tr>
        <tr>
            <th>Inherited:</th>
            <td>no</td>
        </tr>
        <tr>
            <th>Percentages:</th>
            <td>N/A</td>
        </tr>
        <tr>
            <th>Media:</th>
            <td>visual</td>
        </tr>
        <tr>
            <th>Computed value:</th>
            <td>see individual properties</td>
        </tr>
    </table>
    <p>
        The 'shape' property is a shorthand property for setting the individual shape properties
        at the same place in a style sheet.
    </p>

    <div class="example">
        <p>Style declaration using the 'shape' shorthand property.</p>
<pre><code class="html">
&lt;style type="text/css"&gt;
    .shape {
        shape: rectangle(50px, 50px, 200px, 100px) / url("shape_image.png")  0.7;
    }
&lt;/style&gt;
</code></pre>
    </div>
    <p class="issue">The example above must be finished.</p>
    
    -->
  <!-- End section "Shape Shorthand property -->
  <!-- End section "Declaring Shapes" -->

  <h4 id=shape-margin-property><span class=secno>4.4.4. </span>The ‘<a
   href="#shape-margin"><code class=property>shape-margin</code></a>’
   property</h4>

  <p> The ‘<a href="#shape-margin"><code
   class=property>shape-margin</code></a>’ property adds a margin to a
   shape-outside. This defines a new shape where every point is the specified
   distance from the shape-outside. This property takes on positive values
   only.

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=shape-margin title="'shape-margin'">shape-margin</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;length&gt;</var>

    <tr>
     <th>Initial:

     <td>0

    <tr>
     <th>Applies to:

     <td><span>exclusion</span> elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>the absolute length
  </table>

  <div class=example>
   <p>A ‘<a href="#shape-margin"><code
    class=property>shape-margin</code></a>’ creating an offset from a
    circle shape.</p>
   <img alt="Example of a shape-margin offset" src="images/wrap-margin.png"></div>
  <!-- End secion "shape-margin property" -->

  <h4 id=shape-padding-property><span class=secno>4.4.5. </span>The ‘<a
   href="#shape-padding"><code class=property>shape-padding</code></a>’
   Property</h4>

  <p> The ‘<a href="#shape-padding"><code
   class=property>shape-padding</code></a>’ property adds padding to a
   shape-inside. This defines a new shape where every point is the specified
   distance from the shape-inside. This property takes on positive values
   only.

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=shape-padding title="'shape-padding'">shape-padding</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;length&gt;</var>

    <tr>
     <th>Initial:

     <td>0

    <tr>
     <th>Applies to:

     <td><span>exclusion</span> elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>the absolute length
  </table>
  <!-- End section "shape-padding property" -->

  <div class=note>Note that the ‘<a href="#shape-padding"><code
   class=property>shape-padding</code></a>’ property only affects layout of
   content inside the element it applies to while the ‘<a
   href="#shape-margin"><code class=property>shape-margin</code></a>’
   property only affects layout of content outside the element.</div>
  <!-- End section "Shapes" -->

  <h2 id=conformance><span class=secno>5. </span>Conformance</h2>

  <h3 id=conventions><span class=secno>5.1. </span>Document Conventions</h3>

  <p> Conformance requirements are expressed with a combination of
   descriptive assertions and RFC 2119 terminology. The key words “MUST”,
   “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”,
   “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and
   “OPTIONAL” in the normative parts of this document are to be
   interpreted as described in RFC 2119. However, for readability, these
   words do not appear in all uppercase letters in this specification.

  <p> All of the text of this specification is normative except sections
   explicitly marked as non-normative, examples, and notes. <a
   href="#RFC2119" rel=biblioentry>[RFC2119]<!--{{!RFC2119}}--></a>

  <p> Examples in this specification are introduced with the words “for
   example” or are set apart from the normative text with
   <code>class="example"</code>, like this:

  <div class=example>
   <p>This is an example of an informative example.</p>
  </div>

  <p> Informative notes begin with the word “Note” and are set apart from
   the normative text with <code>class="note"</code>, like this:

  <p class=note>Note, this is an informative note.

  <h3 id=conformance-classes><span class=secno>5.2. </span>Conformance
   Classes</h3>

  <p>Conformance to CSS Exclusions and Shapes is defined for three
   conformance classes:

  <dl>
   <dt><dfn id=style-sheet title="style sheet!!as conformance class">style
    sheet</dfn>

   <dd> A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
    style sheet</a>.

   <dt><dfn id=renderer>renderer</dfn>

   <dd> A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
    that interprets the semantics of a style sheet and renders documents that
    use them.

   <dt><dfn id=authoring-tool>authoring tool</dfn>

   <dd> A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
    that writes a style sheet.
  </dl>

  <p> A style sheet is conformant to CSS Exclusions and Shapes if all of its
   declarations that use properties defined in this module have values that
   are valid according to the generic CSS grammar and the individual grammars
   of each property as given in this module.

  <p> A renderer is conformant to CSS Exclusions and Shapes if, in addition
   to interpreting the style sheet as defined by the appropriate
   specifications, it supports all the features defined by CSS Exclusions and
   Shapes by parsing them correctly and rendering the document accordingly.
   However, the inability of a UA to correctly render a document due to
   limitations of the device does not make the UA non-conformant. (For
   example, a UA is not required to render color on a monochrome monitor.)

  <p> An authoring tool is conformant to CSS Exclusions and Shapes if it
   writes style sheets that are syntactically correct according to the
   generic CSS grammar and the individual grammars of each feature in this
   module, and meet all other conformance requirements of style sheets as
   described in this module.

  <h3 id=partial><span class=secno>5.3. </span> Partial Implementations</h3>

  <p> So that authors can exploit the forward-compatible parsing rules to
   assign fallback values, CSS renderers <strong>must</strong> treat as
   invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">
   ignore as appropriate</a>) any at-rules, properties, property values,
   keywords, and other syntactic constructs for which they have no usable
   level of support. In particular, user agents <strong>must not</strong>
   selectively ignore unsupported component values and honor supported values
   in a single multi-value property declaration: if any value is considered
   invalid (as unsupported values must be), CSS requires that the entire
   declaration be ignored.

  <h3 id=experimental><span class=secno>5.4. </span> Experimental
   Implementations</h3>

  <p> To avoid clashes with future CSS features, the CSS2.1 specification
   reserves a <a
   href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
   syntax</a> for proprietary and experimental extensions to CSS.

  <p> Prior to a specification reaching the Candidate Recommendation stage in
   the W3C process, all implementations of a CSS feature are considered
   experimental. The CSS Working Group recommends that implementations use a
   vendor-prefixed syntax for such features, including those in W3C Working
   Drafts. This avoids incompatibilities with future changes in the draft.

  <h3 id=testing><span class=secno>5.5. </span> Non-Experimental
   Implementations</h3>

  <p> Once a specification reaches the Candidate Recommendation stage,
   non-experimental implementations are possible, and implementors should
   release an unprefixed implementation of any CR-level feature they can
   demonstrate to be correctly implemented according to spec.

  <p> To establish and maintain the interoperability of CSS across
   implementations, the CSS Working Group requests that non-experimental CSS
   renderers submit an implementation report (and, if necessary, the
   testcases used for that implementation report) to the W3C before releasing
   an unprefixed implementation of any CSS features. Testcases submitted to
   W3C are subject to review and correction by the CSS Working Group.

  <p> Further information on submitting testcases and implementation reports
   can be found from on the CSS Working Group's website at <a
   href="http://www.w3.org/Style/CSS/Test/">
   http://www.w3.org/Style/CSS/Test/</a>. Questions should be directed to the
   <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">
   public-css-testsuite@w3.org</a> mailing list.

  <h3 id=cr-exit-criteria><span class=secno>5.6. </span> CR Exit Criteria</h3>

  <p> For this specification to be advanced to Proposed Recommendation, there
   must be at least two independent, interoperable implementations of each
   feature. Each feature may be implemented by a different set of products,
   there is no requirement that all features be implemented by a single
   product. For the purposes of this criterion, we define the following
   terms:

  <dl>
   <dt>independent

   <dd> each implementation must be developed by a different party and cannot
    share, reuse, or derive from code used by another qualifying
    implementation. Sections of code that have no bearing on the
    implementation of this specification are exempt from this requirement.

   <dt>interoperable

   <dd> passing the respective test case(s) in the official CSS test suite,
    or, if the implementation is not a Web browser, an equivalent test. Every
    relevant test in the test suite should have an equivalent test created if
    such a user agent (UA) is to be used to claim interoperability. In
    addition if such a UA is to be used to claim interoperability, then there
    must one or more additional UAs which can also pass those equivalent
    tests in the same way for the purpose of interoperability. The equivalent
    tests must be made publicly available for the purposes of peer review.

   <dt>implementation

   <dd> a user agent which:
    <ol class=inline>
     <li>implements the specification.

     <li>is available to the general public. The implementation may be a
      shipping product or other publicly available version (i.e., beta
      version, preview release, or “nightly build”). Non-shipping product
      releases must have implemented the feature(s) for a period of at least
      one month in order to demonstrate stability.

     <li>is not experimental (i.e., a version specifically designed to pass
      the test suite and is not intended for normal usage going forward).
    </ol>
  </dl>

  <p> The specification will remain Candidate Recommendation for at least six
   months.

  <h2 class=no-num id=acknowledgments>Acknowledgments</h2>

  <p>This specification is made possible by input from Andrei Bucur,
   Alexandru Chiculita, Arron Eicholz, Daniel Glazman, Arno Gourdol, Chris
   Jones, Marcus Mielke, Alex Mogilevsky, Hans Muller, Mihnea Ovidenie,
   Virgil Palanciuc, Peter Sorotokin, Bear Travis, Eugene Veselov, Stephen
   Zilles and the CSS Working Group members.

  <h2 class=no-num id=references>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS21>[CSS21]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607"><cite>Cascading Style
    Sheets Level 2 Revision 1 (CSS 2.1) Specification.</cite></a> 7 June
    2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607">http://www.w3.org/TR/2011/REC-CSS2-20110607</a>
    </dd>
   <!---->

   <dt id=CSS3BOX>[CSS3BOX]

   <dd>Bert Bos. <a
    href="http://www.w3.org/TR/2007/WD-css3-box-20070809"><cite>CSS basic box
    model.</cite></a> 9 August 2007. W3C Working Draft. (Work in progress.)
    URL: <a
    href="http://www.w3.org/TR/2007/WD-css3-box-20070809">http://www.w3.org/TR/2007/WD-css3-box-20070809</a>
    </dd>
   <!---->

   <dt id=CSS3VAL>[CSS3VAL]

   <dd>Håkon Wium Lie; Tab Atkins; Elika J. Etemad. <a
    href="http://www.w3.org/TR/2012/WD-css3-values-20120308/"><cite>CSS
    Values and Units Module Level 3.</cite></a> 8 March 2012. W3C Working
    Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-values-20120308/">http://www.w3.org/TR/2012/WD-css3-values-20120308/</a>
    </dd>
   <!---->

   <dt id=RFC2119>[RFC2119]

   <dd>S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key
    words for use in RFCs to Indicate Requirement Levels.</cite></a> Internet
    RFC 2119. URL: <a
    href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a>
    </dd>
   <!---->

   <dt id=SVG11>[SVG11]

   <dd>Erik Dahlström; et al. <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/"><cite>Scalable
    Vector Graphics (SVG) 1.1 (Second Edition).</cite></a> 16 August 2011.
    W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/">http://www.w3.org/TR/2011/REC-SVG11-20110816/</a>
    </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS3-FLEXBOX>[CSS3-FLEXBOX]

   <dd>Tab Atkins Jr.; Elika J. Etemad; Alex Mogilevsky. <a
    href="http://www.w3.org/TR/2012/WD-css3-flexbox-20120612/"><cite>CSS
    Flexible Box Layout Module.</cite></a> 12 June 2012. W3C Working Draft.
    (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-flexbox-20120612/">http://www.w3.org/TR/2012/WD-css3-flexbox-20120612/</a>
    </dd>
   <!---->

   <dt id=CSS3-GRID-LAYOUT>[CSS3-GRID-LAYOUT]

   <dd>Alex Mogilevsky; et al. <a
    href="http://www.w3.org/TR/2012/WD-css3-grid-layout-20120322/"><cite>CSS
    Grid Layout.</cite></a> 22 March 2012. W3C Working Draft. (Work in
    progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-grid-layout-20120322/">http://www.w3.org/TR/2012/WD-css3-grid-layout-20120322/</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>authoring tool, <a href="#authoring-tool"
    title="authoring tool"><strong>5.2.</strong></a>

   <li>circle, <a href="#circle" title=circle><strong>4.2.1.</strong></a>

   <li>Content area, <a href="#content-area"
    title="Content area"><strong>2.</strong></a>

   <li>ellipse, <a href="#ellipse" title=ellipse><strong>4.2.1.</strong></a>

   <li>Exclusion area, <a href="#exclusion-area"
    title="Exclusion area"><strong>2.</strong></a>

   <li>Exclusion box, <a href="#exclusion-box"
    title="Exclusion box"><strong>2.</strong></a>

   <li>Exclusion element, <a href="#exclusion-element"
    title="Exclusion element"><strong>2.</strong></a>

   <li>Float area, <a href="#float-area"
    title="Float area"><strong>2.</strong></a>

   <li>outside-inside, <a href="#outside-and-inside"
    title=outside-inside><strong>2.</strong></a>

   <li>polygon, <a href="#polygon" title=polygon><strong>4.2.1.</strong></a>

   <li>rectangle, <a href="#rectangle"
    title=rectangle><strong>4.2.1.</strong></a>

   <li>renderer, <a href="#renderer" title=renderer><strong>5.2.</strong></a>
    

   <li>‘<a href="#shape-image-threshold"><code
    class=property>shape-image-threshold</code></a>’, <a
    href="#shape-image-threshold"
    title="'shape-image-threshold'"><strong>4.4.3.</strong></a>
    <ul>
     <li>‘<code class=css>&lt;alphavalue&gt;</code>’, <a
      href="#ltalphavaluegt"
      title="'shape-image-threshold', '&lt;alphavalue&gt;'"><strong>4.4.3.</strong></a>
      
    </ul>

   <li>‘<a href="#shape-inside"><code
    class=property>shape-inside</code></a>’, <a href="#shape-inside"
    title="'shape-inside'"><strong>4.4.2.</strong></a>
    <ul>
     <li>‘<code class=property>auto</code>’, <a href="#auto1"
      title="'shape-inside', 'auto'"><strong>4.4.2.</strong></a>

     <li>‘<code class=property>outside-shape</code>’, <a
      href="#outside-shape"
      title="'shape-inside', 'outside-shape'"><strong>4.4.2.</strong></a>

     <li>‘<code class=css>&lt;shape&gt;</code>’, <a href="#ltshapegt0"
      title="'shape-inside', '&lt;shape&gt;'"><strong>4.4.2.</strong></a>

     <li>‘<code class=css>&lt;uri&gt;</code>’, <a href="#lturigt0"
      title="'shape-inside', '&lt;uri&gt;'"><strong>4.4.2.</strong></a>
    </ul>

   <li>‘<a href="#shape-margin"><code
    class=property>shape-margin</code></a>’, <a href="#shape-margin"
    title="'shape-margin'"><strong>4.4.4.</strong></a>

   <li>‘<a href="#shape-outside"><code
    class=property>shape-outside</code></a>’, <a href="#shape-outside"
    title="'shape-outside'"><strong>4.4.1.</strong></a>
    <ul>
     <li>‘<code class=property>auto</code>’, <a href="#auto0"
      title="'shape-outside', 'auto'"><strong>4.4.1.</strong></a>

     <li>‘<code class=css>&lt;shape&gt;</code>’, <a href="#ltshapegt"
      title="'shape-outside', '&lt;shape&gt;'"><strong>4.4.1.</strong></a>

     <li>‘<code class=css>&lt;uri&gt;</code>’, <a href="#lturigt"
      title="'shape-outside', '&lt;uri&gt;'"><strong>4.4.1.</strong></a>
    </ul>

   <li>‘<a href="#shape-padding"><code
    class=property>shape-padding</code></a>’, <a href="#shape-padding"
    title="'shape-padding'"><strong>4.4.5.</strong></a>

   <li>style sheet
    <ul>
     <li>as conformance class, <a href="#style-sheet"
      title="style sheet, as conformance class"><strong>5.2.</strong></a>
    </ul>

   <li>‘<a href="#wrap-flow"><code class=property>wrap-flow</code></a>’,
    <a href="#wrap-flow" title="'wrap-flow'"><strong>3.1.1.</strong></a>
    <ul>
     <li>‘<code class=property>auto</code>’, <a href="#auto"
      title="'wrap-flow', 'auto'"><strong>3.1.1.</strong></a>

     <li>‘<code class=property>both</code>’, <a href="#both"
      title="'wrap-flow', 'both'"><strong>3.1.1.</strong></a>

     <li>‘<code class=property>clear</code>’, <a href="#clear"
      title="'wrap-flow', 'clear'"><strong>3.1.1.</strong></a>

     <li>‘<code class=property>end</code>’, <a href="#end"
      title="'wrap-flow', 'end'"><strong>3.1.1.</strong></a>

     <li>‘<code class=property>maximum</code>’, <a href="#maximum"
      title="'wrap-flow', 'maximum'"><strong>3.1.1.</strong></a>

     <li>‘<code class=property>minimum</code>’, <a href="#minimum"
      title="'wrap-flow', 'minimum'"><strong>3.1.1.</strong></a>

     <li>‘<code class=property>start</code>’, <a href="#start"
      title="'wrap-flow', 'start'"><strong>3.1.1.</strong></a>
    </ul>

   <li>Wrapping context, <a href="#wrapping-context"
    title="Wrapping context"><strong>2.</strong></a>

   <li>‘<a href="#wrap-through"><code
    class=property>wrap-through</code></a>’, <a href="#wrap-through"
    title="'wrap-through'"><strong>3.3.1.</strong></a>
    <ul>
     <li>‘<code class=property>none</code>’, <a href="#none"
      title="'wrap-through', 'none'"><strong>3.3.1.</strong></a>

     <li>‘<code class=property>wrap</code>’, <a href="#wrap"
      title="'wrap-through', 'wrap'"><strong>3.3.1.</strong></a>
    </ul>
  </ul>
  <!--end-index-->

  <h2 class=no-num id=property-index>Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><a class=property
      href="#shape-image-threshold">shape-image-threshold</a>

     <td>&lt;alphavalue&gt;

     <td>0.5

     <td>block-level elements

     <td>no

     <td>alpha channel of the image specified by &lt;uri&gt;

     <td>visual

    <tr>
     <th><a class=property href="#shape-inside">shape-inside</a>

     <td>outside-shape | auto | &lt;shape&gt; | &lt;uri&gt;

     <td>outside-shape

     <td>block-level elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#shape-margin">shape-margin</a>

     <td>&lt;length&gt;

     <td>0

     <td>exclusion elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#shape-outside">shape-outside</a>

     <td>auto | &lt;shape&gt; | &lt;uri&gt;

     <td>auto

     <td>exclusion elements and floats

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#shape-padding">shape-padding</a>

     <td>&lt;length&gt;

     <td>0

     <td>exclusion elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#wrap-flow">wrap-flow</a>

     <td>auto | both | start | end | minimum | maximum | clear

     <td>auto

     <td>block-level elements.

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#wrap-through">wrap-through</a>

     <td>wrap | none

     <td>wrap

     <td>block-level elements

     <td>no

     <td>N/A

     <td>visual
  </table>
  <!--end-properties-->
  <!-- template markup for issues pulled from Bugzilla -->
  <script id=issue-template type="text/template">
      </script>

  <div class=issue-marker data-bug_id="{{bug_id}}"
   data-bug_status="{{bug_status}}"> <a
   href="https://www.w3.org/Bugs/Public/show_bug.cgi?id={{bug_id}}">Issue-{{bug_id}}</a>
   
   <div class=issue-details>
    <p class=short-desc>{{short_desc}}</p>
   </div>
  </div>
  <script src="../shared/scripts/BugzillaTrackerUtil.js"
  type="text/javascript"></script>
  <script src="../shared/scripts/BugzillaTracker.js"
  type="text/javascript"></script>
  <script type="text/javascript">
              checkSpecificationIssues(‘</script>

  <p><code class=property>CSS</code>’, ‘<code
   class=property>Exclusions</code>’);

  <h2 class=no-num id=change-log>Change Log</h2>

  <h3 id=since-may-3rd-2012><span class=secno>5.7. </span>Since <a
   href="http://www.w3.org/TR/2012/WD-css3-exclusions-20120503/">May 3rd
   2012</a></h3>

  <ul>
   <li>Added wrap-flow:minimum

   <li>Clarified processing model

   <li>Changed wrap-margin and wrap-padding to shape-margin and shape-padding

   <li>Removed wrap shorthand
  </ul>

  <h3 id=since-december-13th-2011><span class=secno>5.8. </span>Since <a
   href="http://www.w3.org/TR/2011/WD-css3-exclusions-20111213/">December
   13th 2011</a></h3>

  <ul>
   <li>Clarified processing model

   <li>Clarified interaction with floats

   <li>Clarified that an exclusion element establishes a new block formatting
    context
  </ul>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
