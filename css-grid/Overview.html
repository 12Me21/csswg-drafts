<!DOCTYPE html><html lang=en><head>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Grid Layout Module Level 1</title>
  <link href=../default.css rel=stylesheet type=text/css>
  <link href=../csslogo.ico rel="shortcut icon" type=image/x-icon>
  <link href=https://www.w3.org/StyleSheets/TR/W3C-ED rel=stylesheet type=text/css>
</head>
<body class=h-entry>
<style scoped type=text/css>
.example {
	clear:both
}

th {
	text-align:left
}

.pseudo-code {
	font-family:monospace
}
.pseudo-code > ol {
	list-style-type:decimal
}
.pseudo-code > ol > li > ol {
	list-style-type:lower-latin
}
.pseudo-code > ol > li > ol > li > ol {
	list-style-type:lower-roman
}
.pseudo-code ul {
	list-style-type:disc
}

dd > p:nth-child(1) {
	margin-top:0
}
</style>

<div class=head>
  <p data-fill-with=logo><a class=logo href=http://www.w3.org/>
    <img alt=W3C height=48 src=http://www.w3.org/Icons/w3c_home width=72>
</a></p>
  <h1 class="p-name no-ref" id=title>CSS Grid Layout Module Level 1</h1>
  <h2 class="no-num no-toc no-ref" id=subtitle><span class=content>Editor's Draft,
    <span class=dt-updated><span class=value-title title=20130826>26 August 2013</span></span></span></h2>
  <div data-fill-with=spec-metadata><dl><dt>This version:<dd><a class=u-url href=http://dev.w3.org/csswg/css-grid/>http://dev.w3.org/csswg/css-grid/</a><dt>Latest version:<dd><a href=http://www.w3.org/TR/css3-grid-layout/>http://www.w3.org/TR/css3-grid-layout/</a><dt>Editor's Draft:<dd><a href=http://dev.w3.org/csswg/css-grid/>http://dev.w3.org/csswg/css-grid/</a>
<dt>Feedback:</dt>
    <dd><a href="mailto:www-style@w3.org?subject=%5Bcss-grid%5D%20feedback">www-style@w3.org</a>
        with subject line
        “<kbd>[css-grid] <var>… message topic …</var></kbd>”
        (<a href=http://lists.w3.org/Archives/Public/www-style/ rel=discussion>archives</a>)<dt>Test Suite:<dd>None Yet<dt>Editors:
<dd class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://www.xanthir.com/contact/>Tab Atkins Jr.</a> (<span class="p-org org">Google</span>)<dd class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://fantasai.inkedblade.net/contact>fantasai</a> (<span class="p-org org">Mozilla</span>)<dd class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:ratan@microsoft.com>Rossen Atanassov</a> (<span class="p-org org">Microsoft</span>)<dt>Previous editors:<dd><a href=mailto:alexmog@microsoft.com>Alex Mogilevsky</a>, Microsoft Corporation<dd><a href=mailto:pcupp@microsoft.com>Phil Cupp</a>, Microsoft Corporation<dt>Previous version:<dd>http://www.w3.org/TR/2013/WD-css3-grid-layout-20130402/<dd>http://www.w3.org/TR/2012/WD-css3-grid-layout-20121106/<dt>Issues list:<dd><a href="https://www.w3.org/Bugs/Public/buglist.cgi?product=CSS&amp;component=Grid+Layout&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED">In Bugzilla</a></dl></div>
  <div data-fill-with=warning></div>
  <p class=copyright data-fill-with=copyright><a href=http://www.w3.org/Consortium/Legal/ipr-notice#Copyright>Copyright</a> © 2013 <a href=http://www.w3.org/><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=http://www.csail.mit.edu/><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href=http://www.ercim.eu/><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href=http://www.keio.ac.jp/>Keio</a>, <a href=http://ev.buaa.edu.cn/>Beihang</a>), All Rights Reserved. W3C <a href=http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer>liability</a>, <a href=http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks>trademark</a> and <a href=http://www.w3.org/Consortium/Legal/copyright-documents>document use</a> rules apply.</p>
  <hr title="Separator for header">
</div>

<h2 class="no-num no-toc no-ref" id=abstract><span class=content>Abstract</span></h2>
<p class=p-summary data-fill-with=abstract>This CSS module defines a two-dimensional grid-based layout system, optimized for user interface design. In the grid layout model, the children of a grid container can be positioned into arbitrary slots in a flexible or fixed predefined layout grid.
<a href=http://www.w3.org/TR/CSS/>CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</p>

<h2 class="no-num no-toc no-ref" id=status><span class=content>Status of this document</span></h2>
<div data-fill-with=status><p>
	This is a public copy of the editors' draft. 
	It is provided for discussion only and may change at any moment. 
	Its publication here does not imply endorsement of its contents by W3C. 
	Don't cite this document other than as work in progress.

<p>
	The (<a href=http://lists.w3.org/Archives/Public/www-style/>archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-grid%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a> 
	(see <a href=http://www.w3.org/Mail/Request>instructions</a>) 
	is preferred for discussion of this specification. 
	When sending e-mail, 
	please put the text “css-grid” in the subject, 
	preferably like this:
	“[css-grid] <em>…summary of comment…</em>”

<p>
	This document was produced by the <a href=/Style/CSS/members>CSS Working Group</a> 
	(part of the <a href=/Style/>Style Activity</a>).

<p>
	This document was produced by a group operating under 
	the <a href=/Consortium/Patent-Policy-20040205/>5 February 2004 W3C Patent Policy</a>. 
	W3C maintains a <a href=/2004/01/pp-impl/32061/status rel=disclosure>public list of any patent disclosures</a> 
	made in connection with the deliverables of the group; 
	that page also includes instructions for disclosing a patent. 
	An individual who has actual knowledge of a patent which the individual believes contains <a href=/Consortium/Patent-Policy-20040205/#def-essential>Essential Claim(s)</a> 
	must disclose the information in accordance with <a href=/Consortium/Patent-Policy-20040205/#sec-Disclosure>section 6 of the W3C Patent Policy</a>.</div>
<div data-fill-with=at-risk></div>

<h2 class="no-num no-toc no-ref" id=contents><span class=content>Table of contents</span></h2>
<div data-fill-with=table-of-contents><ul class=toc><li><a href=#intro><span class=secno>1</span>
Introduction and Overview</a><ul class=toc><li><a href=#background><span class=secno>1.1</span>
Background and Motivation</a><li><a href=#adapting-to-available-space><span class=secno>1.2</span>
Adapting Layouts to Available Space</a><li><a href=#source-independence><span class=secno>1.3</span>
Source Independence</a><li><a href=#grid-layering><span class=secno>1.4</span>
Grid Layering of Elements</a></ul><li><a href=#grid-concepts><span class=secno>2</span>
Grid Layout Concepts and Terminology</a><ul class=toc><li><a href=#grid-track-concept><span class=secno>2.1</span>
Grid Tracks and Cells</a><li><a href=#grid-line-concept><span class=secno>2.2</span>
Grid Lines</a><li><a href=#grid-area-concept><span class=secno>2.3</span>
Grid Areas</a></ul><li><a href=#grid-model><span class=secno>3</span>
Grid Layout Box Model</a><ul class=toc><li><a href=#grid-containers><span class=secno>3.1</span>
Grid Containers: the <span data-link-type=value>grid</span> and <span class=css data-link-type=maybe>inline-grid</span> <span class=property data-link-type=propdesc title=display>display</span> values</a></ul><li><a href=#grid-items><span class=secno>4</span>
Grid Items</a><ul class=toc><li><a href=#abspos-items><span class=secno>4.1</span>
Absolutely-positioned Grid Children</a><li><a href=#visibility-collapse><span class=secno>4.2</span>
Collapsed Grid Items: the <span class=property data-link-type=propdesc title=visibility>visibility</span> property</a><li><a href=#order-property><span class=secno>4.3</span>
Reordered Grid Items: the <span class=property data-link-type=propdesc title=order>order</span> property</a></ul><li><a href=#grid-definition><span class=secno>5</span>
The Explicit Grid</a><ul class=toc><li><a href=#track-sizing><span class=secno>5.1</span>
Track Sizing: the <span class=property data-link-type=propdesc title=grid-template-rows>grid-template-rows</span> and <span class=property data-link-type=propdesc title=grid-template-columns>grid-template-columns</span> properties</a><ul class=toc><li><a href=#named-lines><span class=secno>5.1.1</span>
Named Grid Lines: the <span class=css data-link-type=maybe>(<span class=production data-link-type=type>&lt;ident&gt;</span>*)</span> syntax</a><li><a href=#repeat-notation><span class=secno>5.1.2</span>
Repeating Rows and Columns: the <span class=css data-link-type=maybe>repeat()</span> notation</a><li><a href=#fr-unit><span class=secno>5.1.3</span>
Flexible Lengths: the <span class=css data-link-type=maybe>fr</span> unit</a><li><a href=#subgrids><span class=secno>5.1.4</span>
Subgrids: the <span data-link-type=value>subgrid</span> keyword</a><li><a href=#resolved-track-list><span class=secno>5.1.5</span>
Resolved Values</a></ul><li><a href=#grid-template-areas-property><span class=secno>5.2</span>
Named Areas: the <span class=property data-link-type=propdesc title=grid-template-areas>grid-template-areas</span> property</a><ul class=toc><li><a href=#implicit-named-lines><span class=secno>5.2.1</span>
Implicit Named Lines</a></ul><li><a href=#explicit-grid-shorthand><span class=secno>5.3</span>
Grid Definition Shorthand: the <span class=property data-link-type=propdesc title=grid-template>grid-template</span> property</a></ul><li><a href=#implicit-grids><span class=secno>6</span>
The Implicit Grid</a><ul class=toc><li><a href=#auto-tracks><span class=secno>6.1</span>
Sizing Auto-generated Rows and Columns: the <span class=property data-link-type=propdesc title=grid-auto-rows>grid-auto-rows</span> and <span class=property data-link-type=propdesc title=grid-auto-columns>grid-auto-columns</span> properties</a><li><a href=#grid-auto-flow-property><span class=secno>6.2</span>
Automatic Placement: the <span class=property data-link-type=propdesc title=grid-auto-flow>grid-auto-flow</span> property</a><ul class=toc><li><a href=#auto-placement-algo><span class=secno>6.2.1</span>
Automatic Grid Item Placement Algorithm</a></ul><li><a href=#grid-auto-position-property><span class=secno>6.3</span>
Default Position: the <span class=property data-link-type=propdesc title=grid-auto-position>grid-auto-position</span> property</a><li><a href=#implicit-grid-shorthand><span class=secno>6.4</span>
Implicit Grid Shorthand: the <span class=property data-link-type=propdesc title=grid-auto>grid-auto</span> property</a></ul><li><a href=#placement><span class=secno>7</span>
Placing Grid Items</a><ul class=toc><li><a href=#line-placement><span class=secno>7.1</span>
Line-based Placement: the <span class=property data-link-type=propdesc title=grid-row-start>grid-row-start</span>, <span class=property data-link-type=propdesc title=grid-column-start>grid-column-start</span>, <span class=property data-link-type=propdesc title=grid-row-end>grid-row-end</span>, and <span class=property data-link-type=propdesc title=grid-column-end>grid-column-end</span> properties</a><li><a href=#placement-shorthands><span class=secno>7.2</span>
Placement Shorthands: the <span class=property data-link-type=propdesc title=grid-column>grid-column</span>, <span class=property data-link-type=propdesc title=grid-row>grid-row</span>, and <span class=property data-link-type=propdesc title=grid-area>grid-area</span> properties</a></ul><li><a href=#gutters><span class=secno>8</span>
Gutters</a><li><a href=#alignment><span class=secno>9</span>
Alignment</a><ul class=toc><li><a href=#auto-margins><span class=secno>9.1</span>
Aligning with <span data-link-for=margin data-link-type=value>auto</span> margins</a><li><a href=#row-align><span class=secno>9.2</span>
Row-axis Alignment: the <span class=property data-link-type=propdesc title=justify-self>justify-self</span> and <span class=property data-link-type=propdesc title=justify-items>justify-items</span> properties</a><li><a href=#column-align><span class=secno>9.3</span>
Column-axis Alignment: the <span class=property data-link-type=propdesc title=align-self>align-self</span> and <span class=property data-link-type=propdesc title=align-items>align-items</span> properties</a><li><a href=#z-order><span class=secno>9.4</span>
Z-axis Ordering: the <span class=property data-link-type=propdesc title=z-index>z-index</span> property</a><li><a href=#grid-baselines><span class=secno>9.5</span>
Grid Baselines</a></ul><li><a href=#layout-algorithm><span class=secno>10</span>
Grid Layout Algorithm</a><ul class=toc><li><a href=#algo-terms><span class=secno>10.1</span>
Definition of Terms for use in Calculating Grid Track Sizes</a><li><a href=#grid-track-sizing-algorithm><span class=secno>10.2</span>
Grid Track Sizing Algorithm</a><li><a href=#shrink-to-fit><span class=secno>10.3</span>
Defining the Shrink-to-fit Behavior of Grid Elements</a></ul><li><a href=#pagination><span class=secno>11</span>
Fragmenting Grid Layout</a><li><a href=#acknowledgements><span class=secno></span>
Acknowledgements</a><li><a href=#changes><span class=secno></span>
Changes</a><li><a href=#conformance><span class=secno></span>
Conformance</a><ul class=toc><li><a href=#conventions><span class=secno></span>
Document conventions</a><li><a href=#conformance-classes><span class=secno></span>
Conformance classes</a><li><a href=#partial><span class=secno></span>
Partial implementations</a><li><a href=#experimental><span class=secno></span>
Experimental implementations</a><li><a href=#testing><span class=secno></span>
Non-experimental implementations</a></ul><li><a href=#references><span class=secno></span>
References</a><ul class=toc><li><a href=#normative><span class=secno></span>
Normative References</a><li><a href=#informative><span class=secno></span>
Informative References</a></ul><li><a href=#index><span class=secno></span>
Index</a><li><a href=#property-index><span class=secno></span>
Property index</a></ul></div>



<h2 data-level=1 id=intro><span class=secno>1 </span><span class=content>
Introduction and Overview</span><a class=section-link href=#intro>§</a></h2>

	<p>
		Grid layout contains features targeted at web application authors.
		The grid can be used to achieve many different layouts.
		It excels at dividing up space for major regions of an application,
		or defining the relationship in terms of size, position, and layer
		between parts of a control built from HTML primitives.

	<p>
		Like tables,
		grid layout enables an author to align elements into columns and rows,
		but unlike tables,
		grid layout doesn't have content structure,
		and thus enables a wide variety of layouts not possible with tables.
		For example, the children of a grid container can position themselves
		such that they overlap and layer similar to positioned elements.

	<p>
		In addition, the absence of content structure in grid layout helps to manage changes to layout
		by using fluid and source order independent layout techniques.
		By combining media queries with the CSS properties that control layout of the grid container and its children,
		authors can adapt their layout to changes in device form factors, orientation, and available space,
		without needing to alter the semantic nature of their content.


<h3 data-level=1.1 id=background><span class=secno>1.1 </span><span class=content>
Background and Motivation</span><a class=section-link href=#background>§</a></h3>

	<div class=sidefigure>
		<img alt="Image: Application layout example requiring horizontal and vertical alignment." class=figure src=images/basic-form.png>
		<p class=caption>Application layout example requiring horizontal and vertical alignment.
	</div>

	<p>
		As websites evolved from simple documents into complex, interactive applications,
		tools for document layout, e.g. floats,
		were not necessarily well suited for application layout.
		By using a combination of tables, JavaScript, or careful measurements on floated elements,
		authors discovered workarounds to achieve desired layouts.
		Layouts that adapted to the available space were often brittle
		and resulted in counter-intuitive behavior as space became constrained.
		As an alternative, authors of many web applications opted for a fixed layout
		that cannot take advantage of changes in the available rendering space on a screen.

	<p>
		The capabilities of grid layout address these problems.
		It provides a mechanism for authors to divide available space for layout into columns and rows
		using a set of predictable sizing behaviors.
		Authors can then precisely position and size the building block elements of their application
		by into <a href=#grid-area>grid areas</a> defined by these columns and rows.
		Figure 1 illustrates a basic layout which can be achieved with grid layout.

<h3 data-level=1.2 id=adapting-to-available-space><span class=secno>1.2 </span><span class=content>
Adapting Layouts to Available Space</span><a class=section-link href=#adapting-to-available-space>§</a></h3>

	<div class=sidefigure>
		<p>
			<img alt="Image: Five grid items arranged according to content size and available space." src=images/game-smaller.png>

		<p class=caption>
			Five grid items arranged according to content size and available space.
	</div>

	<div class=sidefigure>
		<p>
			<img alt="Image: Growth in the grid due to an increase in available space." src=images/game-larger.png>

		<p class=caption>
			Growth in the grid due to an increase in available space.
	</div>

	<p>
		Grid layout can be used to intelligently reflow elements within a webpage.
		Figure 2 represents a game with five major areas in the layout:
		the game title, stats area, game board, score area, and control area.
		The author's intent is to divide the space for the game such that:

<p>	<ul>
		<li>
			The stats area always appears immediately under the game title.
		<li>
			The game board appears to the right of the stats and title.
		<li>
			The top of the game title and the game board should always align.
		<li>
			The bottom of the game board and the stats area align when the game has reached its minimum height,
			but otherwise the game board will stretch to take advantage of all the screen real-estate available to it.
		<li>
			The score area should align into the column created by the game and stats area,
			while the controls are centered under the board.
	</ul>

	<p>
		As an alternative to using script to control the absolute position, width, and height of all elements,
		the author can use grid layout,
		as shown in Figure 3.
		The following example shows how an author might achieve all the sizing, placement, and alignment rules declaratively.

	<p>
		Note that there are multiple ways to specify the structure of the grid
		and to position and size <a href=#grid-item>grid items</a>,
		each optimized for different scenarios.
		This example illustrates one that an author may use to define the position and space for each <a href=#grid-item>grid item</a>
		using the <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> properties on the <a href=#grid-container>grid container</a>,
		and the <a class=property data-link-type=propdesc href=#propdef-grid-row title=grid-row>grid-row</a> and <a class=property data-link-type=propdesc href=#propdef-grid-column title=grid-column>grid-column</a> properties on each <a href=#grid-item>grid item</a>.


	<pre class=example>&lt;style type="text/css"&gt;
  #grid {
    display: grid;

    /* Two columns: the first sized to content, the second receives
     * the remaining space, but is never smaller than the minimum 
     * size of the board or the game controls, which occupy this 
     * column. */
    grid-template-columns: auto minmax(min-content, 1fr);

    /* Three rows: the first and last sized to content, the middle 
     * row receives the remaining space, but is never smaller than 
     * the minimum height of the board or stats areas. */
    grid-template-rows: auto minmax(min-content, 1fr) auto
  }

  /* Each part of the game is positioned between grid lines by 
   * referencing the starting grid line and then specifying, if more 
   * than one, the number of rows or columns spanned to determine 
   * the ending grid line, which establishes bounds for the part. */
  #title    { grid-column: 1; grid-row: 1 }
  #score    { grid-column: 1; grid-row: 3 }
  #stats    { grid-column: 1; grid-row: 2; justify-self: start }
  #board    { grid-column: 2; grid-row: 1 / span 2; }
  #controls { grid-column: 2; grid-row: 3; align-self: center }
&lt;/style&gt;

&lt;div id="grid"&gt;
  &lt;div id="title"&gt;Game Title&lt;/div&gt;
  &lt;div id="score"&gt;Score&lt;/div&gt;
  &lt;div id="stats"&gt;Stats&lt;/div&gt;
  &lt;div id="board"&gt;Board&lt;/div&gt;
  &lt;div id="controls"&gt;Controls&lt;/div&gt;
&lt;/div&gt;</pre>
<h3 data-level=1.3 id=source-independence><span class=secno>1.3 </span><span class=content>
Source Independence</span><a class=section-link href=#source-independence>§</a></h3>

	<div class=sidefigure>
		<p>
			<img alt="Image: An arrangement suitable for portrait orientation." src=images/game-portrait.png>

		<p class=caption>An arrangement suitable for <span class=css data-link-type=maybe>portrait</span> orientation.
	</div>

	<div class=sidefigure>
		<p>
			<img alt="Image: An arrangement suitable for landscape orientation." src=images/game-landscape.png>

		<p class=caption>An arrangement suitable for <span class=css data-link-type=maybe>landscape</span> orientation.
	</div>

	<p>
		Continuing the prior example,
		the author also wants the game to adapt to the space available on traditional computer monitors, handheld devices, or tablet computers.
		Also, the game should optimize the placement of the components when viewed either in landscape or portrait orientation (Figures 4 and 5).
		By combining grid layout with media queries,
		the author is able to use the same semantic markup,
		but rearrange the layout of elements independent of their source order,
		to achieve the desired layout in both orientations.

	<p>
		The following example leverages grid layout’s ability to name the space which will be occupied by a <a href=#grid-item>grid item</a>.
		This allows the author to avoid rewriting rules for <a href=#grid-item>grid items</a>
		as the grid’s definition changes.

	<pre class=example>&lt;style type="text/css"&gt;
  @media (orientation: portrait) {
    #grid {
      display: grid;

      /* The rows, columns and areas of the grid are defined visually
       * using the grid-template-areas property.  Each string is a row, and
       * each word an area.  The number of words in a string 
       * determines the number of columns. Note the number of words 
       * in each string must be identical. */
      grid-template-areas: "title stats"
                           "score stats"
                           "board board"
                           "ctrls ctrls";

      /* Columns and rows created with the template property can be 
       * assigned a sizing function with the grid-template-columns 
       * and grid-template-rows properties. */
      grid-template-columns: auto minmax(min-content, 1fr);
      grid-template-rows: auto auto minmax(min-content, 1fr) auto
    }
  }

  @media (orientation: landscape) {
    #grid {
      display: grid;

      /* Again the template property defines areas of the same name, 
       * but this time positioned differently to better suit a 
       * landscape orientation. */
      grid-template-areas: "title board"
                           "stats board"
                           "score ctrls";

      grid-template-columns: auto minmax(min-content, 1fr);
      grid-template-rows: auto minmax(min-content, 1fr) auto
    }
  }

  /* The grid-area property places a grid item into a named 
   * region (area) of the grid. */
  #title    { grid-area: title }
  #score    { grid-area: score }
  #stats    { grid-area: stats }
  #board    { grid-area: board }
  #controls { grid-area: ctrls }
&lt;/style&gt;

&lt;div id="grid"&gt;
  &lt;div id="title"&gt;Game Title&lt;/div&gt;
  &lt;div id="score"&gt;Score&lt;/div&gt;
  &lt;div id="stats"&gt;Stats&lt;/div&gt;
  &lt;div id="board"&gt;Board&lt;/div&gt;
  &lt;div id="controls"&gt;Controls&lt;/div&gt;
&lt;/div&gt;</pre>

<h3 data-level=1.4 id=grid-layering><span class=secno>1.4 </span><span class=content>
Grid Layering of Elements</span><a class=section-link href=#grid-layering>§</a></h3>

	<div class=sidefigure>
		<p>
			<img alt="Image: A control composed of layered HTML elements." src=images/control-layering-and-alignment.png>

		<p class=caption>A control composed of layered HTML elements.
	</div>

	<p>
		In the example shown in Figure 6,
		the author is creating a custom slider control.
		The control has six parts.
		The lower and upper labels align to the left and right edges of the control.
		The track of the slider spans the area between the labels.
		The lower and upper fill parts touch beneath the thumb,
		and the thumb is a fixed width and height that can be moved along the track
		by updating the two flex-sized columns.

	<p>
		Prior to the introduction of grid layout,
		the author would have likely used absolute positioning to control the top and left coordinates,
		along with the width and height of each HTML element that comprises the control.
		By leveraging grid layout,
		the author can instead limit script usage to handling mouse events on the thumb,
		which snaps to various positions along the track
		as the <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> property of the <a href=#grid-container>grid container</a> is updated.

	<pre class=example>&lt;style type="text/css"&gt;
  #grid {
    display: grid;

    /* The grid-template-columns and rows properties also support 
     * naming grid lines which can then be used to position grid 
     * items.  The line names are assigned on either side of a column
     * or row sizing function where the line would logically exist. */
    grid-template-columns:
      (start)        auto
      (track-start)  0.5fr
      (thumb-start)  auto
      (fill-split)   auto
      (thumb-end)    0.5fr
      (track-end)    auto
      (end);
  }

  /* The grid-placement properties accept named lines. Below the
   * lines are referred to by name. Beyond any 
   * semantic advantage, the names also allow the author to avoid 
   * renumbering the grid-column-start and grid-row-start properties of the 
   * grid items.  This is similar to the concept demonstrated in the 
   * prior example with the grid-template-areas property during orientation 
   * changes, but grid lines can also work with layered grid items 
   * that have overlapping areas of different shapes like the thumb 
   * and track parts  in this example. */
  #lower-label { grid-column-start: start }
  #track       { grid-column: track-start / track-end; align-self: center }
  #upper-label { grid-column-end: end; }

  /* Fill parts are drawn above the track so set z-index to 5. */
  #lower-fill  { grid-column: track-start / fill-split; 
                 align-self: end; 
                 z-index: 5 }
  #upper-fill  { grid-column: fill-split / track-end; 
                 align-self: start; 
                 z-index: 5 }

  /* Thumb is the topmost part; assign it the highest z-index value. */
  #thumb       { grid-column: thumb-start / thumb-end; z-index: 10 }
&lt;/style&gt;

&lt;div id="grid"&gt;
  &lt;div id="lower-label"&gt;Lower Label&lt;/div&gt;
  &lt;div id="upper-label"&gt;Upper Label&lt;/div&gt;
  &lt;div id="track"&gt;Track&lt;/div&gt;
  &lt;div id="lower-fill"&gt;Lower Fill&lt;/div&gt;
  &lt;div id="upper-fill"&gt;Upper Fill&lt;/div&gt;
  &lt;div id="thumb"&gt;Thumb&lt;/div&gt;
&lt;/div&gt;</pre>

<h2 data-level=2 id=grid-concepts><span class=secno>2 </span><span class=content>
Grid Layout Concepts and Terminology</span><a class=section-link href=#grid-concepts>§</a></h2>

	<p>
		In <dfn data-dfn-type=dfn data-export="" id=grid-layout>grid layout</dfn>,
		the content of a <a href=#grid-container>grid container</a> is laid out
		by positioning and aligning it into a <a href=#grid>grid</a>.
		The <dfn data-dfn-type=dfn data-export="" id=grid>grid</dfn> is an intersecting set of horizontal and vertical <a href=#grid-line>grid lines</a>
		that divides the <a href=#grid-container>grid container</a>’s space into <a href=#grid-area>grid areas</a>,
		into which <a href=#grid-item>grid items</a> (representing the <a href=#grid-container>grid container</a>’s content) can be placed.  
		There are two sets of <a href=#grid-line>grid lines</a>: 
		one set defining <dfn data-dfn-type=dfn data-export="" id=columns title="grid column | column">columns</dfn>
		that run along the <a href=http://www.w3.org/TR/css3-writing-modes/#block-axis>block axis</a> (the <dfn data-dfn-type=dfn data-export="" id=column-axis>column axis</dfn>,
		and an orthogonal set defining <dfn data-dfn-type=dfn data-export="" id=rows title="grid row | row">rows</dfn>
		along the <a href=http://www.w3.org/TR/css3-writing-modes/#inline-axis>inline axis</a> (the <dfn data-dfn-type=dfn data-export="" id=row-axis>row axis</dfn>).
		<a data-biblio-type=normative data-link-type=biblio href=#css3-writing-modes title=CSS3-WRITING-MODES>[CSS3-WRITING-MODES]</a>

<!--
	<div class="figure">
		<img class="figure" alt="Image: A diagram illustrating the relationship between the Grid Element and its Tracks, Lines, Areas and Items." src="images/grid-concepts.png" />
		<p class="caption">A diagram illustrating the relationship between the <a>grid container</a> and its tracks, lines, areas and items.
	</div>
-->

	<div class=figure>
		<img alt="Image: Grid Lines." class=figure src=images/grid-lines.png>
		<p class=caption>Grid lines: Three in the block axis and four in the inline axis.
	</div>

<h3 data-level=2.1 id=grid-track-concept><span class=secno>2.1 </span><span class=content>
Grid Tracks and Cells</span><a class=section-link href=#grid-track-concept>§</a></h3>

	<p>
		<dfn data-dfn-type=dfn data-export="" id=grid-track>Grid track</dfn> is a generic term for a <a href=#columns>grid column</a> or <a href=#rows>grid row</a>—in
		other words, it is the space between two adjacent <a href=#grid-line>grid lines</a>.
		Each <a href=#grid-track>grid track</a> is assigned a sizing function,
		which controls how wide or tall the column or row may grow,
		and thus how far apart its bounding <a href=#grid-line>grid lines</a> are.

	<p>
		A <dfn data-dfn-type=dfn data-export="" id=grid-cell>grid cell</dfn> is the similar term for the full grid—it
		is the space between two adjacent row and two adjacent column <a href=#grid-line>grid lines</a>.
		It is the smallest unit of the grid that can be referenced when positioning <a href=#grid-item>grid items</a>.

	<div class=example>
		<p>
			In the following example there are two columns and three rows.
			The first column is fixed at 150px.
			The second column uses flexible sizing, which is a function of the unassigned space in the Grid,
			and thus will vary as the width of the <a href=#grid-container>grid container</a> changes.
			If the used width of the <a href=#grid-container>grid container</a> is 200px, then the second column 50px wide.
			If the used width of the <a href=#grid-container>grid container</a> is 100px, then the second column is 0px
			and any content positioned in the column will overflow the <a href=#grid-container>grid container</a>.

		<pre>&lt;style type="text/css"&gt;
  #grid {
display: grid;
grid-template-columns: 150px 1fr; /* two columns */
grid-template-rows: 50px 1fr 50px /* three rows  */
  }
&lt;/style&gt;</pre>	</div>

<h3 data-level=2.2 id=grid-line-concept><span class=secno>2.2 </span><span class=content>
Grid Lines</span><a class=section-link href=#grid-line-concept>§</a></h3>

	<p>
		<dfn data-dfn-type=dfn data-export="" id=grid-line title="grid line|grid row line|grid column line">Grid lines</dfn> are the horizontal and vertical dividing lines of the <a href=#grid>grid</a>.
		A <a href=#grid-line>grid line</a> exists on either side of a column or row.  
		They can be referred to by numerical index,
		or by an author-specified name.
		A <a href=#grid-item>grid item</a> references the <a href=#grid-line>grid lines</a> to determine its position within the <a href=#grid>grid</a>
		using the <a href=#placement>grid-placement properties</a>.

	<div class=example>
		<p>
			The following two examples create three column <a href=#grid-line>grid lines</a> and four row <a href=#grid-line>grid lines</a>.
			The first example demonstrates how an author would position a <a href=#grid-item>grid item</a> using <a href=#grid-line>grid line</a> numbers.
			The second example uses explicitly named <a href=#grid-line>grid lines</a>.

		<pre>&lt;style type="text/css"&gt;
  #grid {
    display: grid;
    grid-template-columns: 150px 1fr;
    grid-template-rows: 50px 1fr 50px
  }

  #item1 { grid-column: 2;
           grid-column-start: 1; grid-column-end: 1; }
&lt;/style&gt;</pre>
    <pre>&lt;style type="text/css"&gt;
  /* equivalent layout to the prior example, but using named lines */
  #grid {
display: grid;
grid-template-columns: 150px (item1-start) 1fr (item1-end);
grid-template-rows: (item1-start) 50px 1fr 50px (item1-end);
  }

  #item1 {
grid-column: item1-start / item1-end;
grid-row: item1-start / item1-end
  }
&lt;/style&gt;</pre>	</div>


<h3 data-level=2.3 id=grid-area-concept><span class=secno>2.3 </span><span class=content>
Grid Areas</span><a class=section-link href=#grid-area-concept>§</a></h3>

	<p>
		A <dfn data-dfn-type=dfn data-export="" id=grid-area>grid area</dfn> is the logical space used to lay out one or more <a href=#grid-item>grid items</a>.
		It is bound by four <a href=#grid-line>grid lines</a>, one on each side of the <a href=#grid-area>grid area</a>,
		and participates in the sizing of the <a href=#grid-track>grid tracks</a> it intersects.
		A <a href=#grid-area>grid area</a> can be named explicitly using the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> property of the <a href=#grid-container>grid container</a>,
		or referenced implicitly by its bounding <a href=#grid-line>grid lines</a>.
		A <a href=#grid-item>grid item</a> is assigned to a <a href=#grid-area>grid area</a>
		using the <a href=#placement>grid-placement properties</a>.

	<pre class=example>&lt;style type="text/css"&gt;
  /* using the template syntax */
  #grid  {
  display: grid;
  grid-template-areas: ". a"
                       "b a"
                       ". a";
  grid-template-columns: 150px 1fr;
  grid-template-rows: 50px 1fr 50px
  }

  #item1 { grid-area: a }
  #item2 { grid-area: b }
  #item3 { grid-area: b }

  /* Align items 2 and 3 at different points in the Grid Area "b".  */
  /* By default, Grid Items are stretched to fit their Grid Area    */
  /* and these items would layer one over the other. */
  #item2 { align-self: head }
  #item3 { justify-self: end; align-self: foot }
&lt;/style&gt;</pre>
	<p>
		A <a href=#grid-item>grid item</a>’s <a href=#grid-area>grid area</a> forms the containing block into which it is laid out.
		Percentage lengths specified on a <a href=#grid-item>grid item</a> resolve against this containing block.
		Percentages specified for <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/box.html#propdef-margin-top title=margin-top>margin-top</a>, <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/box.html#propdef-padding-top title=padding-top>padding-top</a>, <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a>, and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/box.html#propdef-padding-bottom title=padding-bottom>padding-bottom</a> on a <a href=#grid-item>grid item</a>
		resolve against the height of its containing block, 
		rather than the width (as for blocks).

	<p>
		<a href=#grid-item>Grid items</a> placed into the same <a href=#grid-area>grid area</a> do not directly affect each other's layout.
		Indirectly, a <a href=#grid-item>grid item</a> can affect the position of a <a href=#grid-line>grid line</a> in a column or row that uses a contents-based relative size,
		which in turn can affect the position or size of another <a href=#grid-item>grid item</a>.

<h2 data-level=3 id=grid-model><span class=secno>3 </span><span class=content>
Grid Layout Box Model</span><a class=section-link href=#grid-model>§</a></h2>

<h3 data-level=3.1 id=grid-containers><span class=secno>3.1 </span><span class=content>
Grid Containers: the <a data-link-type=value href=#valuedef-grid>grid</a> and <a class=css data-link-type=maybe href=#valuedef-inline-grid>inline-grid</a> <a class=property data-link-type=propdesc href=#propdef-display title=display>display</a> values</span><a class=section-link href=#grid-containers>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-display>display</dfn><tr><th>New Values:<td>grid | inline-grid</table>
	<dl data-dfn-for=display data-dfn-type=value>
		<dt><dfn data-dfn-for=display data-dfn-type=value data-export="" id=valuedef-grid>grid</dfn>
		<dd>
			This value causes an element to generate a block-level <a href=#grid-container>grid container</a> box.

		<dt><dfn data-dfn-for=display data-dfn-type=value data-export="" id=valuedef-inline-grid>inline-grid</dfn>
		<dd>
			This value causes an element to generate an inline-level <a href=#grid-container>grid container</a> box.
	</dl>

	<p>
		A <dfn data-dfn-type=dfn data-export="" id=grid-container>grid container</dfn> establishes a new <dfn data-dfn-type=dfn data-export="" id=grid-formatting-context>grid formatting context</dfn> for its contents.  
		This is the same as establishing a block formatting context,
		except that grid layout is used instead of block layout: 
		floats do not intrude into the grid container, 
		and the grid container's margins do not collapse with the margins of its contents.  
		<a href=#grid-container>Grid containers</a> form a containing block for their contents
		<a href=http://www.w3.org/TR/CSS21/visudet.html#containing-block-details>exactly like block containers do</a>. <a data-biblio-type=normative data-link-type=biblio href=#css21 title=CSS21>[CSS21]</a>
		The <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-overflow-3/#overflow title=overflow>overflow</a> property applies to <a href=#grid-container>grid containers</a>.


	<p>
		Grid containers are not block containers, 
		and so some properties that were designed with the assumption of block layout don't apply in the context of grid layout.  
		In particular:

<p>	<ul>
		<li>
			all of the <a class=property data-link-type=propdesc title=column-*>column-*</a> properties in the Multicol module have no effect on a grid container.

		<li>
			<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-float title=float>float</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-clear title=clear>clear</a> have no effect on a <a href=#grid-item>grid item</a>.
			(However, the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-float title=float>float</a> property still affects the computed value of <a class=property data-link-type=propdesc href=#propdef-display title=display>display</a> on children of a grid container,
			as this occurs <em title="">before</em> <a href=#grid-item>grid items</a> are determined.)

		<li>
			<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-vertical-align title=vertical-align>vertical-align</a> has no effect on a grid item.

		<li>
			the <span class=css data-link-type=maybe>::first-line</span> and <span class=css data-link-type=maybe>::first-letter</span> pseudo-elements do not apply to <a href=#grid-container>grid containers</a>.
	</ul>

	<p>
		If an element's specified <a class=property data-link-type=propdesc href=#propdef-display title=display>display</a> is <a class=css data-link-type=maybe href=#valuedef-inline-grid>inline-grid</a> 
		and the element is floated or absolutely positioned, 
		the computed value of <a class=property data-link-type=propdesc href=#propdef-display title=display>display</a> is <a data-link-type=value href=#valuedef-grid>grid</a>.
		The table in <a href=http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo>CSS 2.1 Chapter 9.7</a> is thus amended 
		to contain an additional row, 
		with <a class=css data-link-type=maybe href=#valuedef-inline-grid>inline-grid</a> in the "Specified Value" column 
		and <a href=#grid>grid</a> in the "Computed Value" column.



<h2 data-level=4 id=grid-items><span class=secno>4 </span><span class=content>
Grid Items</span><a class=section-link href=#grid-items>§</a></h2>

	<p>
		The contents of a <a href=#grid-container>grid container</a> consists of zero or more <dfn data-dfn-type=dfn data-export="" id=grid-item title="grid item">grid items</dfn>:
		each child of a <a href=#grid-container>grid container</a>
		becomes a <a href=#grid-item>grid item</a>,
		and each contiguous run of text that is directly contained inside a <a href=#grid-container>grid container</a>
		is wrapped in an anonymous <a href=#grid-item>grid item</a>.
		However, an anonymous grid item that contains only
		<a href=http://www.w3.org/TR/CSS21/text.html#white-space-prop>white space</a>
		is not rendered, as if it were <a class=css data-link-type=maybe href=#propdef-display title=display>display:none</a>.

	<p>
		A <a href=#grid-item>grid item</a> establishes a new formatting context for its contents.
		The type of this formatting context is determined by its <a class=property data-link-type=propdesc href=#propdef-display title=display>display</a> value, as usual.
		The computed <a class=property data-link-type=propdesc href=#propdef-display title=display>display</a> of a <a href=#grid-item>grid item</a>
		is determined by applying the table in
		<a href=http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo>CSS 2.1 Chapter 9.7</a>.
		However, grid items are grid-level boxes, not block-level boxes:
		they participate in their container's <a href=#grid-formatting-context>grid formatting context</a>,
		not in a block formatting context.

	<div class=example>
		<p>
			Examples of grid items:
		<pre>&lt;div style="display:grid"&gt;

  &lt;!-- grid item: block child --&gt;
  &lt;div id="item1"&gt;block&lt;/div&gt;

  &lt;!-- grid item: floated element; floating is ignored --&gt;
  &lt;div id="item2" style="float: left;"&gt;float&lt;/div&gt;

  &lt;!-- grid item: anonymous block box around inline content --&gt;
  anonymous item 3

  &lt;!-- grid item: inline child --&gt;
  &lt;span&gt;
item 4
&lt;!-- grid items do not split around blocks --&gt;
&lt;div id=not-an-item&gt;item 4&lt;/div&gt;
item 4
  &lt;/span&gt;
&lt;/div&gt;</pre>	</div>

	<p>
		Some values of <a class=property data-link-type=propdesc href=#propdef-display title=display>display</a> trigger the generation of anonymous boxes.
		For example, a misparented <span class=css data-link-type=maybe>table-cell</span> child is fixed up
		by <a href=http://www.w3.org/TR/CSS21/tables.html#anonymous-boxes>generating anonymous <span class=css data-link-type=maybe>table</span> and <span class=css data-link-type=maybe>table-row</span> elements</a> around it. <a data-biblio-type=normative data-link-type=biblio href=#css21 title=CSS21>[CSS21]</a>
		This fixup must occur <em>before</em> a <a href=#grid-container>grid container</a>’s children are promoted to <a href=#grid-item>grid items</a>.
		For example, given two contiguous child elements with <a class=css data-link-type=maybe href=#propdef-display title=display>display:table-cell</a>,
		an anonymous table wrapper box around them becomes the <a href=#grid-item>grid item</a>.

	<p class=note>
		Future display types may generate anonymous containers (e.g. ruby) or otherwise mangle the box tree (e.g. run-ins).
		It is intended that grid item determination run after these operations.

<!--
<h3 id="position-grid">
Non-children Grid Items</h3>

	<p class="issue">
		This is a proposal to create the ability to have descendants of a grid item participate in a grid layout,
		similar to the behavior defined by the Template Layout module.

	<p>
		A descendant of the grid can be pulled out of flow and participate directly in the grid
		by assigning it <span data-link-type="maybe" class="css">position: grid</span>.
		An element with <span data-link-type="maybe" class="css">position: grid</span> is pulled out of flow and participates as a grid item
		belonging to the first ancestor with <span data-link-type="maybe" class="css">display: grid</span>.
		If the element is positioned using named lines or slots,
		it belongs to the first ancestor with <span data-link-type="maybe" class="css">display: grid</span> that has all of the corresponding named lines/slots.
		If no such ancestor exists, the item remains in flow.

	<p class="issue">
		Alternatively, the item can just go into the first grid,
		and missing names are treated as <a value for="<grid-line>">auto</a>.
-->


<h3 data-level=4.1 id=abspos-items><span class=secno>4.1 </span><span class=content>
Absolutely-positioned Grid Children</span><a class=section-link href=#abspos-items>§</a></h3>

	<p>
		An absolutely-positioned child element of a <a href=#grid-container>grid container</a> does not participate directly in grid layout.
		Its static position is affected by the values of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-self title=justify-self>justify-self</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-self title=align-self>align-self</a> on it,
		using the <a href=#grid-container>grid container</a>’s padding box as the <a href=http://dev.w3.org/csswg/css-align-3/#alignment-container>alignment container</a>
		and the element’s own box as the <a href=http://dev.w3.org/csswg/css-align-3/#alignment-container>alignment container</a>.
		A <span class=css data-link-type=maybe>baseline</span> value for either <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-self title=justify-self>justify-self</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-self title=align-self>align-self</a> is treated as <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-writing-modes-3/#start>start</a> for these purposes.

	<p>
		If an absolutely positioned element's <a>containing block</a>
		is generated by a <a href=#grid-container>grid container</a>,
		the <a href=#grid-placement-properties>grid-placement properties</a> can be used to constrain it to a particular <a href=#grid-area>grid area</a>,
		similar to how they affect regular <a href=#grid-item>grid items</a>.
		In this case, an <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a> value for a <a href=#grid-placement-properties>grid-placement property</a> 
		indicates the corresponding padding edge of the <a href=#grid-container>grid container</a>.

	<p class=note>
		Absolute positioning can allow an element to “skip past” intervening grid containers,
		and resolve its grid-placement properties against a grid container
		other than its closest ancestor.
		However, as in other forms of CSS layout,
		elements that are absolutely-positioned to a <a href=#grid-container>grid container</a>
		do not take up space or otherwise participate in the layout of the grid.

<h3 data-level=4.2 id=visibility-collapse><span class=secno>4.2 </span><span class=content>
Collapsed Grid Items: the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visufx.html#propdef-visibility title=visibility>visibility</a> property</span><a class=section-link href=#visibility-collapse>§</a></h3>
<!--
	<p>
		Specifying <span data-link-type="maybe" class="css">visibility: collapse</span> on a <a>grid item</a> causes it to become a <dfn export title="collapsed grid item|collapsed">collapsed grid item</dfn>.
		This has the same effect as <span data-link-type="maybe" class="css">visibility: hidden</span>,
		except that if all the <a>grid items</a> spanning a track are <a>collapsed</a>,
		the track's intrinsic size becomes zero.
-->
	<p class=issue>
		We want the ability to collapse grid tracks (similar to collapsing flex items or table rows/columns), but we're not sure exactly how to do it.
		Ideas welcome, please post them to the list.


<h3 data-level=4.3 id=order-property><span class=secno>4.3 </span><span class=content>
Reordered Grid Items: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#order title=order>order</a> property</span><a class=section-link href=#order-property>§</a></h3>

	<p>
		The <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#order title=order>order</a> property also applies to <a href=#grid-item>grid items</a>.
		It affects their <a href=#grid-auto-flow-property>auto-placement</a> and <a href=#z-order>painting order</a>.


<h2 data-level=5 id=grid-definition><span class=secno>5 </span><span class=content>
The Explicit Grid</span><a class=section-link href=#grid-definition>§</a></h2>

	<p>
		The three properties <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a>, <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a>
		together define the <dfn data-dfn-type=dfn data-export="" id=explicit-grid>explicit grid</dfn> of a <a href=#grid-container>grid container</a>.
		The <a class=property data-link-type=propdesc href=#propdef-grid-template title=grid-template>grid-template</a> property is a shorthand that sets all three at the same time.
		The final grid may end up larger due to <a href=#grid-item>grid items</a> placed outside the <a href=#explicit-grid>explicit grid</a>;
		in this case, any implicit tracks are sized by the <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>grid-auto-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>grid-auto-columns</a> properties.

	<p>
		The size of the <a href=#explicit-grid>explicit grid</a> is determined by the larger of 
		the number of rows/columns defined by <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a>
		and the number of rows/columns sized by <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a>.
		Any rows/columns defined by <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> but not sized by <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a>
		take their size from the <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>grid-auto-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>grid-auto-columns</a> properties.

	<p>
		Numeric indexes in the <a href=#grid-placement-properties>grid-placement properties</a>
		count from the edges of the <a href=#explicit-grid>explicit grid</a>,
		starting from 1.
		Positive indexes count from the before/start side,
		while negative indexes count from the after/end side.

<h3 data-level=5.1 id=track-sizing><span class=secno>5.1 </span><span class=content>
Track Sizing: the <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> properties</span><a class=section-link href=#track-sizing>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-template-columns>grid-template-columns</dfn>, <dfn data-dfn-type=property data-export="" id=propdef-grid-template-rows>grid-template-rows</dfn><tr><th>Value:<td>none | <a class=production data-link-type=type href=#typedef-track-list>&lt;track-list&gt;</a> | subgrid <a class=production data-link-type=type href=#typedef-line-name-list>&lt;line-name-list&gt;</a>?<tr><th>Initial:<td>none<tr><th>Applies to:<td><a href=#grid-container>grid containers</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>n/a<tr><th>Media:<td>visual<tr><th>Computed value:<td>As specified, except for <a data-link-for=grid-template-columns data-link-type=value href=#valuedef-auto>auto</a> (see prose)</table>
	<p>
		These properties specify, 
		as a space-separated <dfn data-dfn-type=dfn data-export="" id=track-list>track list</dfn>,
		the line names and track <a href=#sizing-function>sizing functions</a> of the <a href=#grid>grid</a>.
		Each <dfn data-dfn-type=dfn data-export="" id=sizing-function>sizing function</dfn> can be specified as a length,
		a percentage of the <a href=#grid-container>grid container</a>’s size,
		a measurement of the contents occupying the column or row,
		or a fraction of the free space in the grid.
		It can also be specified as a range using the <a class=css data-link-type=maybe href=#valuedef-minmaxmin-max>minmax()</a> notation,
		which can combine any of the previously mentioned mechanisms to define a min and max size for the column or row.

	<p>
		The <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> property specifies the <a href=#track-list>track list</a> for the grid's columns,
		while <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> specifies the <a href=#track-list>track list</a> for the grid's rows.
		The syntax of a <a href=#track-list>track list</a> is:

	<pre>  <dfn data-dfn-type=type data-export="" id=typedef-track-list>&lt;track-list&gt;</dfn>     = [ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>? [ <a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a> | <a class=production data-link-type=function href=#funcdef-repeat title=repeat()>&lt;repeat()&gt;</a> ] ]+ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>?
  <dfn data-dfn-type=type data-export="" id=typedef-track-size>&lt;track-size&gt;</dfn>     = minmax( <a class=production data-link-type=type href=#typedef-track-breadth>&lt;track-breadth&gt;</a> , <a class=production data-link-type=type href=#typedef-track-breadth>&lt;track-breadth&gt;</a> ) | auto | <a class=production data-link-type=type href=#typedef-track-breadth>&lt;track-breadth&gt;</a>
  <dfn data-dfn-type=type data-export="" id=typedef-track-breadth>&lt;track-breadth&gt;</dfn>  = <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#length-value>&lt;length&gt;</a> | <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#percentage-value>&lt;percentage&gt;</a> | <a class=production data-link-type=type href=#typedef-flex>&lt;flex&gt;</a> | min-content | max-content
  <dfn data-dfn-type=type data-export="" id=typedef-line-names>&lt;line-names&gt;</dfn>     = ( <a class=production data-link-type=type>&lt;ident&gt;</a>* )
  <dfn data-dfn-type=type data-export="" id=typedef-line-name-list>&lt;line-name-list&gt;</dfn> = [ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a> | repeat(<a class=production data-link-type=type>&lt;positive-integer&gt;</a>, <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>) ]+
</pre>
	<p>Where:

	<dl data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value>
		<dt><dfn data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valuedef-length><a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#length-value>&lt;length&gt;</a></dfn>
		<dd>
			A non-negative length, as defined by CSS3 Values. <a data-biblio-type=normative data-link-type=biblio href=#css3val title=CSS3VAL>[CSS3VAL]</a>

		<dt><dfn data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valuedef-percentage><a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#percentage-value>&lt;percentage&gt;</a></dfn>
		<dd>
			A non-negative percentage, as defined by CSS3 Values. <a data-biblio-type=normative data-link-type=biblio href=#css3val title=CSS3VAL>[CSS3VAL]</a>
			<a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#percentage-value>&lt;percentage&gt;</a> values are relative to the measure (logical width) of the <a href=#grid-container>grid container</a> in column <a href=#grid-track>grid tracks</a>,
			and the extent (logical height) of the <a href=#grid-container>grid container</a> in row <a href=#grid-track>grid tracks</a>.
			If the measure or extent of the <a href=#grid-container>grid container</a> is an <a href=http://www.w3.org/TR/css3-sizing/#indefinite-size>indefinite size</a>,
			<a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#percentage-value>&lt;percentage&gt;</a> values relative to that size are treated as <a data-link-for=width data-link-type=value>auto</a>.

		<dt><dfn data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valuedef-flex><a class=production data-link-type=type href=#typedef-flex>&lt;flex&gt;</a></dfn>
		<dd>
			A non-negative dimension with the unit "fr".
			Each <a class=production data-link-type=type href=#typedef-flex>&lt;flex&gt;</a> value takes a share of the remaining space in proportion to its value.  
			See <a href=#fr-unit>Flexible Lengths</a> for more details.

		<dt><dfn data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valuedef-max-content>max-content</dfn>
		<dd>
			Represents the largest <a href=http://www.w3.org/TR/css3-sizing/#max-size-contribution>max size contribution</a> 
			of the <a href=#grid-item>grid items</a> occupying the <a href=#grid-track>grid track</a>.

		<dt><dfn data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valuedef-min-content>min-content</dfn>
		<dd>
			Represents the largest <a href=http://www.w3.org/TR/css3-sizing/#min-size-contribution>min size contribution</a> 
			of the  <a href=#grid-item>grid items</a> occupying the <a href=#grid-track>grid track</a>.

		<dt><dfn data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valuedef-minmaxmin-max title=minmax()>minmax(min, max)</dfn>
		<dd>
			Defines a size range
			greater than or equal to <var>min</var>
			and less than or equal to <var>max</var>.
			If <var>max</var> &lt; <var>min</var>, 
			then <var>max</var> is ignored and <span class=css data-link-type=maybe>minmax(min,max)</span> is treated as <var>min</var>.

		<dt><dfn data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valuedef-auto>auto</dfn>
		<dd>
			Computes to <span class=css data-link-type=maybe>minmax(min-content, max-content)</span>.
	</dl>

	<p>
		The <dfn data-dfn-for="grid-template-rows grid-template-columns" data-dfn-type=value data-export="" id=valuedef-none0>none</dfn> value indicates that there is no <a href=#explicit-grid>explicit grid</a>;
		any rows/columns will be implicitly generated,
		and their size will be determined by the <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>grid-auto-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>grid-auto-columns</a> properties.

	<p>
		The <dfn data-dfn-for="grid-template-rows grid-template-columns" data-dfn-type=value data-export="" id=valuedef-subgrid>subgrid</dfn> value indicates that the grid will align to its parent grid in that axis.
		Rather than specifying the sizes of rows/columns explicitly,
		they'll be taken from the parent grid's definition.
		If the <a href=#grid-container>grid container</a> is not a <a href=#grid-item>grid item</a>,
		this value computes to <a data-link-for=grid-template-rows data-link-type=value href=#valuedef-none0>none</a>.
		See the <a href=#subgrids>Subgrids</a> section for more detail.

	<div class=example>
		<p>
			Given the following <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> declaration:

<pre>grid-template-columns: 100px 1fr max-content minmax(min-content, 1fr);</pre>
		<p>
			Five grid lines are created:

		<ol>
			<li>
				At the start edge of the <a href=#grid-container>grid container</a>.

			<li>
				100px from the start edge of the <a href=#grid-container>grid container</a>.

			<li>
				A distance from the previous line equal to half the <a href=#free-space>free space</a>
				(the width of the <a href=#grid-container>grid container</a>, minus the width of the non-flexible <a href=#grid-track>grid tracks</a>).

			<li>
				A distance from the previous line equal to the maximum size of any <a href=#grid-item>grid items</a>
				belonging to the column between these two lines.

			<li>
				A distance from the previous line at least as large as the largest minimum size of any <a href=#grid-item>grid items</a>
				belonging to the column between these two lines,
				but no larger than the other half of the <a href=#free-space>free space</a>.
		</ol>

		<p>
			If the non-flexible sizes
			(<span class=css data-link-type=maybe>100px</span>, <a class=css data-link-type=maybe href=#valuedef-max-content>max-content</a>, and <a class=css data-link-type=maybe href=#valuedef-min-content>min-content</a>)
			sum to larger than the <a href=#grid-container>grid container</a>’s width,
			the final <a href=#grid-line>grid line</a> will be a distance equal to their sum away from the start edge of the <a href=#grid-container>grid container</a>
			(the <span class=css data-link-type=maybe>1fr</span> sizes both resolve to <span class=css data-link-type=maybe>0</span>).
			If the sum is less than the <a href=#grid-container>grid container</a>’s width,
			the final <a href=#grid-line>grid line</a> will be exactly at the end edge of the <a href=#grid-container>grid container</a>.
			This is true in general whenever there's at least one <a class=production data-link-type=type href=#typedef-flex>&lt;flex&gt;</a> value among the <a href=#grid-track>grid track</a> sizes.
	</div>

	<div class=example>
		<p>
			Additional examples of valid <a href=#grid-track>grid track</a> definitions:

		<pre>/* examples of valid track definitions */
grid-template-rows: 1fr minmax(min-content, 1fr);
grid-template-rows: 10px repeat(2, 1fr auto minmax(30%, 1fr));
grid-template-rows: calc(4em - 5px)</pre>	</div>


<h4 data-level=5.1.1 id=named-lines><span class=secno>5.1.1 </span><span class=content>
Named Grid Lines: the <span class=css data-link-type=maybe>(<a class=production data-link-type=type>&lt;ident&gt;</a>*)</span> syntax</span><a class=section-link href=#named-lines>§</a></h4>

	<p>
		While <a href=#grid-line>grid lines</a> can always be referred to by their numerical index,
		<dfn data-dfn-type=dfn data-export="" id=named-lines0 title="named line">named lines</dfn> 
		can make the <a href=#grid-placement-properties>grid-placement properties</a> easier to understand and maintain.
		Lines can be explicitly named in the <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> properties,
		or <a href=#implicit-named-lines>implicitly named</a> by creating <a href=#named-grid-areas>named grid areas</a> with the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> property.

	<div class=example>
		<p>
			For example,
			the following code gives meaningful names to all of the lines in the grid.
			Note that some of the lines have multiple names.

		<pre>&lt;style&gt;
  #grid {
    display: grid;
    grid-template-columns: (first nav) 150px (main) 1fr (last);
    grid-template-rows: (first header) 50px (main) 1fr (footer) 50px (last);
  }
&lt;/style&gt;</pre>
		<div class=figure>
			<img alt="Image: Named Grid Lines." class=figure src=images/grid-named-lines.png>
			<p class=caption>Named Grid Lines.
		</div>
	</div>


<h4 data-level=5.1.2 id=repeat-notation><span class=secno>5.1.2 </span><span class=content>
Repeating Rows and Columns: the <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation</span><a class=section-link href=#repeat-notation>§</a></h4>

	<p>
		The <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation represents a repeated fragment of the <a href=#track-list>track list</a>.
		This is just a syntactic shorthand that allows writing a large number of columns or rows that exhibit a recurring pattern in a more compact form.
		The syntax of the <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation is:

<pre class=prod><dfn data-dfn-type=function data-export="" id=funcdef-repeat>repeat()</dfn> = repeat( <a class=production data-link-type=type>&lt;positive-integer&gt;</a> , [ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>? <a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a> ]+ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>? )</pre>
	<p>
		The first argument specifies the number of repetitions.
		The second argument is a <a href=#track-list>track list</a>,
		which is repeated that number of times.
		The <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation cannot be nested;
		doing so makes the declaration invalid.

	<div class=example>
		<p>
			This example shows two equivalent ways of writing the same grid definition.
			Both ways produce a grid with a single row and four "main" columns, each 250px wide,
			surrounded by 10px "gutter" columns.

		<pre>&lt;style&gt;
  #grid {
    display: grid;
    grid-template-columns: 10px (col-start) 250px (col-end) 
                           10px (col-start) 250px (col-end) 
                           10px (col-start) 250px (col-end) 
                           10px (col-start) 250px (col-end) 10px;
    grid-template-rows: 1fr;
  }

  /* Equivalent definition. */
  #grid {
    display: grid;
    grid-template-columns: repeat(4, 10px (col-start) 250px (col-end)) 10px;
    grid-template-rows: 1fr;
  }
&lt;/style&gt;</pre>	</div>

<h4 data-level=5.1.3 id=fr-unit><span class=secno>5.1.3 </span><span class=content>
Flexible Lengths: the <span class=css data-link-type=maybe>fr</span> unit</span><a class=section-link href=#fr-unit>§</a></h4>

	<p>
		A <dfn data-dfn-type=dfn data-export="" id=flexible-length>flexible length</dfn> or <dfn data-dfn-type=type data-export="" id=typedef-flex><a class=production data-link-type=type href=#typedef-flex>&lt;flex&gt;</a></dfn> is a dimension with the <span class=css data-link-type=maybe>fr</span> unit,
		which represents a fraction of the <a href=#free-space>free space</a> in the <a href=#grid-container>grid container</a>.

	<p>
		The distribution of <a href=#free-space>free space</a> occurs after all non-flexible <a href=#sizing-function>sizing functions</a> have reached their maximum.
		The total size of such rows or columns is subtracted from the available space, yielding the <dfn data-dfn-type=dfn data-export="" id=free-space>free space</dfn>,
		which is then divided among the flex-sized rows and columns in proportion to their flex factor.

	<p class=note>
		Flexible lengths in a <a href=#track-list>track list</a> work similarly to flexible lengths with a zero base size in <a data-biblio-type=informative data-link-type=biblio href=#css3-flexbox title=CSS3-FLEXBOX>[CSS3-FLEXBOX]</a>.

	<p>
		Each column or row's share of the <a href=#free-space>free space</a> can be computed as the column or row's
		<code>&lt;flex&gt; * &lt;free space&gt; / &lt;sum of all flex factors&gt;</code>.
		For the purpose of this calculation,
		a flexible length in the <var>min</var> position of a <a class=css data-link-type=maybe href=#valuedef-minmaxmin-max>minmax()</a> function is treated as <span class=css data-link-type=maybe>0</span> (an inflexible length).

	<p>
		When the available space is infinite
		(which happens when the <a href=#grid-container>grid container</a>’s width or height is <a href=http://dev.w3.org/csswg/css-sizing-3/#indefinite>indefinite</a>),
		flex-sized <a href=#grid-track>grid tracks</a> are sized to their contents while retaining their respective proportions.
		The used size of each flex-sized <a href=#grid-track>grid track</a> is computed by 
		determining the <a class=css data-link-type=maybe href=#valuedef-max-content>max-content</a> size of each flex-sized <a href=#grid-track>grid track</a> 
		and dividing that size by the respective flex factor
		to determine a <dfn data-dfn-type=dfn data-export="" id=hypothetical-1fr-size>hypothetical 1fr size</dfn>.
		The maximum of those is used as the <span class=css data-link-type=maybe>1fr</span> length,
		which is then multiplied by each <a href=#grid-track>grid track</a>’s flex factor to determine its final size.


<h4 data-level=5.1.4 id=subgrids><span class=secno>5.1.4 </span><span class=content>
Subgrids: the <a data-link-type=value href=#valuedef-subgrid>subgrid</a> keyword</span><a class=section-link href=#subgrids>§</a></h4>

	<p>
		A <a href=#grid-item>grid item</a> can itself be a <a href=#grid-container>grid container</a> by giving it <a class=css data-link-type=maybe href=#propdef-display title=display>display: grid</a>; 
		in this case the layout of its contents will be independent of the layout of the grid it participates in.

	<p>
		In some cases it might be necessary for the contents of multiple <a href=#grid-item>grid items</a> to align to each other.
		A <a href=#grid-container>grid container</a> that is itself a <a href=#grid-item>grid item</a>
		can defer the definition of its rows or columns to its parent <a href=#grid-container>grid container</a>
		by using the <a data-link-type=value href=#valuedef-subgrid>subgrid</a> keyword in <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> and/or <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a>,
		making it a <dfn data-dfn-type=dfn data-export="" id=subgrid>subgrid</dfn> in that dimension.
		In this case, the <a href=#grid-item>grid items</a> of the <a href=#subgrid>subgrid</a>
		participate in sizing the <a href=#grid>grid</a> of the parent <a href=#grid-container>grid container</a>,
		allowing the contents of both grids to align.

	<p>
		A <a href=#subgrid>subgrid</a> behaves just like a normal <a href=#grid-container>grid container</a> except that:

<p>	<ul>
		<li>
			The number of explicit tracks is given by its <a href=#grid-span>grid span</a>,
			rather than by <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a>.
			If the grid has an <a href=#automatic>automatic grid span</a>,
			the number of tracks is determined by the size of the <a href=#subgrid>subgrid</a>’s <a href=#implicit-grid>implicit grid</a>.

		<li>
			The <a href=#grid-placement-properties>grid-placement properties</a> of the <a href=#subgrid>subgrid</a>’s <a href=#grid-item>grid items</a>
			are scoped to the lines covered by the subgrid.
			E.g., numeric indices count starting from the first line of the subgrid
			rather than the first line of the parent grid.

		<li>
			The <a href=#subgrid>subgrid</a>'s own grid items participate in the sizing of its parent grid and are aligned to it.
			In this process, the sum of the item's margin, padding, and borders are applied as an extra layer of margin to the items at those edges.

		<li>
			The <a href=#subgrid>subgrid</a> is always stretched;
			the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-self title=align-self>align-self</a>/<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-self title=justify-self>justify-self</a> properties on it are ignored.
			Any specified width/height constraints are also ignored.

		<li>
			The <a href=#subgrid>subgrid</a>’s <a href=#explicit-grid>explicit grid</a> is always aligned with the corresponding section of the parent <a href=#grid>grid</a>;
			the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-content title=align-content>align-content</a>/<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-content title=justify-content>justify-content</a> properties on it are ignored.

		<li>
			Explicit named lines can also be specified together with the <a data-link-type=value href=#valuedef-subgrid>subgrid</a> keyword;
			these names apply to the corresponding lines taken from the parent <a href=#grid>grid</a>.
			If the <a href=#subgrid>subgrid</a> has an explicit <a href=#grid-span>grid span</a>,
			any names for lines beyond the span are ignored.
			If the <a href=#subgrid>subgrid</a> has an explicit <a href=#grid-position>grid position</a> as well as an explicit <a href=#grid-span>grid span</a>,
			it also automatically receives the names of the lines that it covers in its parent <a href=#grid>grid</a>.
	</ul>

	<div class=example>
		<p>
			For example, suppose we have a form consisting of a list of inputs with labels:
		<pre>&lt;ul&gt;
  &lt;li&gt;&lt;label&gt;Name:&lt;/label&gt; &lt;input name=fn&gt;
  &lt;li&gt;&lt;label&gt;Address:&lt;/label&gt; &lt;input name=address&gt;
  &lt;li&gt;&lt;label&gt;Phone:&lt;/label&gt; &lt;input name=phone&gt;
&lt;/ul&gt;</pre>
		<p>
			We want the labels and inputs to align, and we want to style each list item with a border.
			This can be accomplished with subgrid layout:

		<pre>ul {
  display: grid;
  grid-auto-flow: rows;
  grid-template-columns: auto 1fr;
}
li {
  display: subgrid;
  margin: 0.5em;
  border: solid;
  padding: 0.5em;
}
label {
  grid-column: 1;
}
input {
  grid-column: 2;
}</pre>	</div>

<h4 data-level=5.1.5 id=resolved-track-list><span class=secno>5.1.5 </span><span class=content>
Resolved Values</span><a class=section-link href=#resolved-track-list>§</a></h4>

	<p>
		The <a href=http://www.w3.org/TR/cssom/#resolved-values>resolved value</a> of the <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> properties is the used value,
		serialized as follows:

<p>	<ul>
		<li>
			Every track listed,
			whether implicitly or explicitly created.

		<li>
			Every track size given as a length in pixels, 
			regardless of sizing function.

		<li>
			A contiguous run of two or more tracks that have the same size and associated line names
			may be serialized with the <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation.
	</ul>

	<div class=example>
		<pre>&lt;style&gt;
  #grid {
    width: 500px;
    grid-template-columns:
      (a)     auto
      (b)     minmax(min-content, 1fr)
      (b c d) repeat(2, (e) 40px)
              repeat(5, auto);
  }
&lt;/style&gt;
&lt;div id="grid"&gt;
  &lt;div style="grid-column-start:1; width:50px"&gt;&lt;/div&gt;
  &lt;div style="grid-column-start:9; width:50px"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script&gt;
  var gridElement = document.getElementById("grid");
  getComputedStyle(gridElement).gridDefinitionColumns;
  // (a) 50px (b) 320px (b c d) repeat(2, (e) 40px) repeat(4, 0px) 50px
&lt;/script&gt;</pre>	</div>

<p class=note>	Note: In general, resolved values are the computed values,
	except for a small list of legacy 2.1 properties.
	However, compatibility with early implementations of this module
	requires us to define <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> as returning used values.
	Authors are recommended to use the 
	<a href=http://dev.w3.org/csswg/cssom/#the-getstyleutils-interface><code>.rawComputedStyle</code> and <code>.usedStyle</code> attributes</a>
	instead of <code>getComputedStyle()</code>.


<h3 data-level=5.2 id=grid-template-areas-property><span class=secno>5.2 </span><span class=content>
Named Areas: the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> property</span><a class=section-link href=#grid-template-areas-property>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-template-areas>grid-template-areas</dfn><tr><th>Value:<td>none | <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a>+<tr><th>Initial:<td>none<tr><th>Applies to:<td><a href=#grid-container>grid containers</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>n/a<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value</table>
	<p>
		This property specifies <dfn data-dfn-type=dfn data-export="" id=named-grid-areas title="named grid area">named grid areas</dfn>,
		which are not associated with any particular <a href=#grid-item>grid item</a>,
		but can be referenced from the <a href=#grid-placement-properties>grid-placement properties</a>.
		The syntax of the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> property also provides a visualization
		of the structure of the <a href=#grid>grid</a>,
		making the overall layout of the <a href=#grid-container>grid container</a> easier to understand.

	<p>
		Values have the following meanings:

	<dl data-dfn-for=grid-template-areas data-dfn-type=value>
		<dt><dfn data-dfn-for=grid-template-areas data-dfn-type=value data-export="" id=valuedef-none1>none</dfn>
		<dd>
			The <a href=#grid-container>grid container</a> doesn't define any <a href=#named-grid-areas>named grid areas</a>.

		<dt><dfn data-dfn-for=grid-template-areas data-dfn-type=value data-export="" id=valuedef-string><a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a>+</dfn>
		<dd>
			A row is created for every separate string listed for the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> property,
			and a column is created for each identifier or period ("." U+002E) in the string,
			when the string's contents are parsed as CSS.

<p>			<ul>
				<li>
					A period represents an unnamed area in the <a href=#grid-container>grid container</a>.

				<li>
					An identifier creates a <a href=#named-grid-areas>named grid area</a> with the identifier as its name.
					Multiple identical identifiers
					create a single <a href=#named-grid-areas>named grid area</a> that spans the corresponding <a href=#grid-cell>grid cells</a>.
			</ul>

			<p>
				All strings must have the same number of columns,
				or else the declaration is invalid.
				If a <a href=#named-grid-areas>named grid area</a> spans multiple <a href=#grid-cell>grid cells</a>,
				but those cells do not form a single filled-in rectangle,
				the declaration is invalid.
				If a string's contents, when parsed as CSS,
				contain anything other than whitespace, identifiers, or periods,
				the declaration is invalid.

			<p class=note>
				Non-rectangular or disconnected regions may be permitted in a future version of this module.
	</dl>


	<div class=example>
		<p>
			In this example, the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> property is used to create a page layout 
			where areas are defined for header content (<code>head</code>),
			navigational content (<code>nav</code>),
			footer content (<code>foot</code>),
			and main content (<code>main</code>). 
			Accordingly, the template creates three rows and two columns,
			with four <a href=#named-grid-areas>named grid areas</a>.
			The <code>head</code> area spans both columns and the first row of the grid. 

		<pre>&lt;style type="text/css"&gt;
  #grid {
    display: grid;
    grid-template-areas: "head head"
                         "nav  main"
                         "foot .   "
  }
  #grid &gt; header { grid-area: head; }
  #grid &gt; nav    { grid-area: nav; }
  #grid &gt; main   { grid-area: main; }
  #grid &gt; footer { grid-area: foot; }
&lt;/style&gt;</pre>	</div>

<h4 data-level=5.2.1 id=implicit-named-lines><span class=secno>5.2.1 </span><span class=content>
Implicit Named Lines</span><a class=section-link href=#implicit-named-lines>§</a></h4>

	<p>
		The <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> property creates <dfn data-dfn-type=dfn data-export="" id=implicit-named-lines0 title="implicit named line">implicit named lines</dfn> from the <a href=#named-grid-areas>named grid areas</a> in the template.
		For each <a href=#named-grid-areas>named grid area</a> <var>foo</var>, four <a href=#implicit-named-lines0>implicit named lines</a> are created:
		two named <span class=css data-link-type=maybe><var>foo</var>-start</span>, naming the row-start and column-start lines of the <a href=#named-grid-areas>named grid area</a>,
		and two named <span class=css data-link-type=maybe><var>foo</var>-end</span>, naming the row-end and column-end lines of the <a href=#named-grid-areas>named grid area</a>.

	<p>
		These named lines behave just like any other named line,
		except that they do not appear in the value of <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a>.
		Even if an explicit line of the same name is defined,
		the implicit named lines are just more lines with the same name.

<h3 data-level=5.3 id=explicit-grid-shorthand><span class=secno>5.3 </span><span class=content>
Grid Definition Shorthand: the <a class=property data-link-type=propdesc href=#propdef-grid-template title=grid-template>grid-template</a> property</span><a class=section-link href=#explicit-grid-shorthand>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-template>grid-template</dfn><tr><th>Value:<td>none | <a class=production data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>&lt;‘grid-template-columns’&gt;</a> / <a class=production data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>&lt;‘grid-template-rows’&gt;</a> |<br> [ <a class=production data-link-type=type href=#typedef-track-list>&lt;track-list&gt;</a> / ]? [ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>? <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a> [ <a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a> <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a> ]? ]+<tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a href=#grid-container>grid containers</a><tr><th>Inherited:<td>see individual properties<tr><th>Percentages:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-grid-template title=grid-template>grid-template</a> property is a shorthand for setting
		<a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a>, <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> in a single declaration.
		It has three distinct syntax forms:

	<dl data-dfn-for=grid-template data-dfn-type=value>
		<dt><dfn data-dfn-for=grid-template data-dfn-type=value data-export="" id=valuedef-none2>none</dfn>
		<dd>
			Sets all three properties to their initial values (<a data-link-for=grid-template-rows data-link-type=value href=#valuedef-none0>none</a>).

		<dt><dfn data-dfn-for=grid-template data-dfn-type=value data-export="" id=valuedef-grid-template-columns--grid-template-rows><a class=production data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>&lt;‘grid-template-columns’&gt;</a> / <a class=production data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>&lt;‘grid-template-rows’&gt;</a></dfn>
		<dd>
			Sets <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> to the specified values, respectively,
			and sets <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> to <a data-link-for=grid-template-areas data-link-type=value href=#valuedef-none1>none</a>.

			<div class=example>
<pre>grid-template: auto 1fr auto / auto 1fr;</pre>
				<p>
					is equivalent to

				<pre>grid-template-columns: auto 1fr auto;
grid-template-rows: auto 1fr;
grid-template-areas: none;</pre>			</div>

		<dt><dfn data-dfn-for=grid-template data-dfn-type=value data-export="" id=valuedef--track-list---line-names-string--track-size-line-names-->[ <a class=production data-link-type=type href=#typedef-track-list>&lt;track-list&gt;</a> / ]?<br>
				[ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>? <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a> [ <a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a> <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a> ]? ]+</dfn>
		<dd>
			<ul>
				<li>
					Sets <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> to the track listing specified before the slash
					(or <a data-link-for=grid-template-columns data-link-type=value href=#valuedef-none0>none</a>, if not specified).

				<li>
					Sets <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> to the strings listed after the slash.

				<li>
					Sets <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> to the <a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a>s following each string
					(filling in <a data-link-for=grid-template-rows data-link-type=value href=#valuedef-auto>auto</a> for any missing sizes),
					and splicing in the named lines defined before/after each size.
			</ul>

			<p>
				This syntax allows the author to align track names and sizes inline with their respective grid areas.

			<div class=example>
				<pre>grid-template: auto 1fr auto / 
  (header-top) "a   a   a"     (header-bottom)
    (main-top) "b   b   b" 1fr (main-bottom);</pre>
				<p>
					is equivalent to

				<pre>grid-template-columns: auto 1fr auto;
grid-template-rows: (header-top) auto (header-bottom main-top) 1fr (main-bottom);
grid-template-areas: "a a a" 
                     "b b b";</pre>            </div>
    </dl>


<h2 data-level=6 id=implicit-grids><span class=secno>6 </span><span class=content>
The Implicit Grid</span><a class=section-link href=#implicit-grids>§</a></h2>

	<p>
		While <a class=property data-link-type=propdesc href=#propdef-grid-template title=grid-template>grid-template</a> and its longhand properties define the <a href=#explicit-grid>explicit grid</a>,
		<a href=#grid-item>grid items</a> can be positioned outside of these bounds.
		This causes the <a href=#grid-container>grid container</a> to generate <a href=#implicit-grid-tracks>implicit grid tracks</a>,
		forming the <dfn data-dfn-type=dfn data-export="" id=implicit-grid>implicit grid</dfn>.
		The <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>grid-auto-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>grid-auto-columns</a> properties size these <a href=#implicit-grid-tracks>implicit grid tracks</a>.

	<p>
		The <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>grid-auto-flow</a> property controls auto-placement of <a href=#grid-item>grid items</a>
		without an explicit position.
		Once the <a href=#explicit-grid>explicit grid</a> is filled
		(or if there is no <a href=#explicit-grid>explicit grid</a>)
		auto-placement will also cause the generation of <a href=#implicit-grid-tracks>implicit grid tracks</a>.
		The <a class=property data-link-type=propdesc href=#propdef-grid-auto title=grid-auto>grid-auto</a> shorthand can be used to set <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>grid-auto-flow</a>, <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>grid-auto-rows</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>grid-auto-columns</a> together.

<h3 data-level=6.1 id=auto-tracks><span class=secno>6.1 </span><span class=content>
Sizing Auto-generated Rows and Columns: the <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>grid-auto-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>grid-auto-columns</a> properties</span><a class=section-link href=#auto-tracks>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-auto-columns>grid-auto-columns</dfn>, <dfn data-dfn-type=property data-export="" id=propdef-grid-auto-rows>grid-auto-rows</dfn><tr><th>Value:<td><a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a><tr><th>Initial:<td>auto<tr><th>Applies to:<td><a href=#grid-container>grid containers</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>see <a href=#track-sizing>Track Sizing</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>see <a href=#track-sizing>Track Sizing</a></table>
	<p>
		If a grid item is positioned into a row or column that is not explicitly sized
		by <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> or <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a>,
		<dfn data-dfn-type=dfn data-export="" id=implicit-grid-tracks title="implicit grid track|implicit grid row|implicit grid column">implicit grid tracks</dfn> are created to hold it.
		This can happen either by explicitly positioning into a row or column that is out of range,
		or by the <a href=#auto-placement-algorithm>auto-placement algorithm</a> creating additional rows or columns.
		The <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>grid-auto-columns</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>grid-auto-rows</a> properties specify the size of such implicitly-created tracks.

	<div class=example>
		<p>
			This example illustrates the sizing of <a href=#implicit-grid-tracks>implicit grid tracks</a>.
			Note that <a href=#grid-item>grid item</a> B is positioned on <a href=#grid-line>grid line</a> 5,
			which automatically creates <strong>four</strong> <a href=#implicit-grid-tracks>implicit grid columns</a>.
			However, only two of them
			(the first and the last) 
			are occupied by any <a href=#grid-item>grid items</a>,
			so the two empty <a href=#grid-track>grid tracks</a>
			collapse to zero width.

		<div class=figure>
			<p>
				<img alt="" src=images/implicit-columns-and-rows.png>

			<p class=caption>
				A Grid with an implicit row and four implicit columns, two of which are zero-sized.
		</div>

		<pre>&lt;style type="text/css"&gt;
  #grid { 
display: grid; 
grid-template-columns: 20px; 
grid-template-rows: 20px }
  #A { grid-column: 1;          grid-row: 1; }
  #B { grid-column: 5;          grid-row: 1 / span 2; }
  #C { grid-column: 1 / span 2; grid-row: 2; }
&lt;/style&gt;

&lt;div id="grid"&gt;
  &lt;div id="A"&gt;A&lt;/div&gt;
  &lt;div id="B"&gt;B&lt;/div&gt;
  &lt;div id="C"&gt;C&lt;/div&gt;
&lt;/div&gt;</pre>	</div>

<h3 data-level=6.2 id=grid-auto-flow-property><span class=secno>6.2 </span><span class=content>
Automatic Placement: the <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>grid-auto-flow</a> property</span><a class=section-link href=#grid-auto-flow-property>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-auto-flow>grid-auto-flow</dfn><tr><th>Value:<td>none | [ [ rows | columns ] &amp;&amp; dense? ]<tr><th>Initial:<td>rows<tr><th>Applies to:<td><a href=#grid-container>grid containers</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>n/a<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value</table>
	<p>
		<a href=#grid-item>Grid items</a> that aren't explicitly placed are automatically placed into an unoccupied space in the <a href=#grid-container>grid container</a>.
		The <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>grid-auto-flow</a> property controls the direction in which the search for unoccupied space takes place, 
		and whether rows or columns are added as needed to accommodate the content.

	<dl data-dfn-for=grid-auto-flow data-dfn-type=value>
		<dt><dfn data-dfn-for=grid-auto-flow data-dfn-type=value data-export="" id=valuedef-none>none</dfn>
		<dd>
			Rather than use the auto-placement algorithm,
			auto-placed <a href=#grid-item>grid items</a> are simply positioned according to the <a class=property data-link-type=propdesc href=#propdef-grid-auto-position title=grid-auto-position>grid-auto-position</a> property.

		<dt><dfn data-dfn-for=grid-auto-flow data-dfn-type=value data-export="" id=valuedef-rows>rows</dfn>
		<dd>
			The auto-placement algorithm places items
			by filling each row in turn,
			adding new rows as necessary.

		<dt><dfn data-dfn-for=grid-auto-flow data-dfn-type=value data-export="" id=valuedef-columns>columns</dfn>
		<dd>
			The auto-placement algorithm places items
			by filling each column in turn,
			adding new columns as necessary.

		<dt><dfn data-dfn-for=grid-auto-flow data-dfn-type=value data-export="" id=valuedef-dense>dense</dfn>
		<dd>
			If specified, the auto-placement algorithm uses a "dense" packing algorithm,
			which attempts to fill in holes in the grid if smaller items come up later.
			(By default, the auto-placement algorithm is "sparse",
			permanently skipping spaces that it can't fill with the curren grid item.)

<p class=note>			Note: This may cause items to appear out-of-order.
	</dl>

<p class=note>	Note: A future level of this module is expected to add a value that flows auto-positioned items together into a single “default” cell.

	<p>
		Auto-placement takes <a href=#grid-item>grid items</a> in <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#order title=order>order</a>-modified document order.

	<div class=example>
		<p>
			In the following example, there are three columns, each auto-sized to their contents.
			No rows are explicitly defined.  
			The <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>grid-auto-flow</a> property is <a data-link-for=grid-auto-flow data-link-type=value href=#valuedef-rows>rows</a>
			which instructs the grid to search across its three columns starting with the first row, 
			then the next, 
			adding rows as needed until sufficient space is located to accommodate the position of any auto-placed <a href=#grid-item>grid item</a>.

		<div class=figure>
			<p>
				<img alt="Image: A form arranged using automatic placement." src=images/auto-placed-form.png>

			<p class=caption>A form arranged using automatic placement.
		</div>

		<pre>&lt;style type="text/css"&gt;
  form {
    display: grid;
    /* Define three columns, all content-sized,
       and name the corresponding lines. */
    grid-template-columns: (labels) auto (controls) auto (oversized) auto;
    grid-auto-flow: rows;
  }
  form &gt; label {
    /* Place all labels in the "labels" column and 
       automatically find the next available row. */
    grid-column: labels;
    grid-row: auto;
  }
  form &gt; input, form &gt; select {
    /* Place all controls in the "controls" column and 
       automatically find the next available row. */
    grid-column: controls;
    grid-row: auto;
  }

  #department {
    /* Auto place this item in the "oversized" column 
       in the first row where an area that spans three rows 
       won't overlap other explicitly placed items or areas 
       or any items automatically placed prior to this area. */
    grid-column: oversized;
    grid-row: span 3;
  }

  /* Place all the buttons of the form 
     in the explicitly defined grid area. */
  #buttons {
    grid-row: auto;

    /* Ensure the button area spans the entire grid element 
       in the row axis. */
    grid-column: 1 / -1;
    text-align: end;
  }
&lt;/style&gt;
&lt;form&gt;
  &lt;label for="firstname"&gt;First name:&lt;/label&gt;
  &lt;input type="text" id="firstname" name="firstname" /&gt;
  &lt;label for="lastname"&gt;Last name:&lt;/label&gt;
  &lt;input type="text" id="lastname" name="lastname" /&gt;
  &lt;label for="address"&gt;Address:&lt;/label&gt;
  &lt;input type="text" id="address" name="address" /&gt;
  &lt;label for="address2"&gt;Address 2:&lt;/label&gt;
  &lt;input type="text" id="address2" name="address2" /&gt;
  &lt;label for="city"&gt;City:&lt;/label&gt;
  &lt;input type="text" id="city" name="city" /&gt;
  &lt;label for="state"&gt;State:&lt;/label&gt;
  &lt;select type="text" id="state" name="state"&gt;
    &lt;option value="WA"&gt;Washington&lt;/option&gt;
  &lt;/select&gt;
  &lt;label for="zip"&gt;Zip:&lt;/label&gt;
  &lt;input type="text" id="zip" name="zip" /&gt;

  &lt;div id="department"&gt;
    &lt;label for="department"&gt;Department:&lt;/label&gt;
    &lt;select id="department" name="department" multiple&gt;
      &lt;option value="finance"&gt;Finance&lt;/option&gt;
      &lt;option value="humanresources"&gt;Human Resources&lt;/option&gt;
      &lt;option value="marketing"&gt;Marketing&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;

  &lt;div id="buttons"&gt;
    &lt;button id="cancel"&gt;Cancel&lt;/button&gt;
    &lt;button id="back"&gt;Back&lt;/button&gt;
    &lt;button id="next"&gt;Next&lt;/button&gt;
  &lt;/div&gt;
&lt;/form&gt;</pre>	</div>

<h4 data-level=6.2.1 id=auto-placement-algo><span class=secno>6.2.1 </span><span class=content>
Automatic Grid Item Placement Algorithm</span><a class=section-link href=#auto-placement-algo>§</a></h4>
	<p>
		The following summarizes the <dfn data-dfn-type=dfn data-export="" id=auto-placement-algorithm>auto-placement algorithm</dfn> for <a href=#grid-item>Grid items</a>:

	<ol>
		<li>
			For each <a href=#grid-item>Grid item</a> with a major-axis position that is not <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a> in source order:
			<ol>
				<li>Resolve the <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a> value for its minor-axis position to the minimum value that ensures this item's <a href=#grid-area>grid area</a> will not overlap the <a href=#grid-area>grid area</a> of any explicitly or previously auto-placed item.
			</ol>

		<li>
			Determine the maximum number of minor tracks based on maximum track number implied by the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas title=grid-template-areas>grid-template-areas</a> property, the <a class=property data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>grid-template-columns</a> properties, the position and size of any explicitly-defined <a href=#grid-item>grid items</a>, or any minor-axis <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a> values resolved by the step 1 of the algorithm. Note that this step must be run prior to the layout algorithm.
		<li>
			The <dfn data-dfn-type=dfn data-export="" id=auto-placement-cursor>auto-placement cursor</dfn> defines the current "insertion point" in the grid.
			Position the <a href=#auto-placement-cursor>auto-placement cursor</a> at position 1,1 in the grid.
		<li>
			For each <a href=#grid-item>grid item</a> having an unresolved value of <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>, in source order:
			<ol>
				<li>
					If the minor-axis position is not <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>, then:
					<ol>
						<li>
							Set the minor-axis position of the cursor to be equal to the minor-axis position of the <a href=#grid-item>grid item</a>.
						<li>
							Increment the <a href=#auto-placement-cursor>auto-placement cursor</a> along the major-axis until a value is found where the <a href=#grid-item>grid item</a> does not overlap the <a href=#grid-area>grid area</a> of any other <a href=#grid-item>grid item</a> (creating new major-axis tracks as necessary).
					</ol>

				<li>
					If the minor and major-axis positions are both <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>, then:
					<ol>
						<li>
							Increment the minor-axis position of the <a href=#auto-placement-cursor>auto-placement cursor</a> until this item's <a href=#grid-area>grid area</a> does not overlap another item's <a href=#grid-area>grid area</a>, or causes the <a href=#grid-area>grid area</a> to exceed the maximum number of minor-axis tracks previously determined in step 2.
						<li>
							If this item's position is still unresolved after the previous step, then increment the cursor's major-axis position and reset the minor-axis position to 1 (creating new major-axis tracks if necessary).
					</ol>
			</ol>
	</ol>

	<div class=issue>
		Two mistakes in the algorithm currently:

		<ol>
			<li>Step 2 needs to take into account the major-axis spans of every item as well.  Otherwise, extra-wide single items can create new columns late in auto-placement.

			<li>Step 4 needs to verify that placement also doesn't cause the item to generate new columns.  Currently, it only verifies that placement won't overlap anything else.
		</ol>
	</div>

	<p class=issue>
		Edit the algorithm to allow for dense packing.

<h3 data-level=6.3 id=grid-auto-position-property><span class=secno>6.3 </span><span class=content>
Default Position: the <a class=property data-link-type=propdesc href=#propdef-grid-auto-position title=grid-auto-position>grid-auto-position</a> property</span><a class=section-link href=#grid-auto-position-property>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-auto-position>grid-auto-position</dfn><tr><th>Value:<td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> / <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a><tr><th>Initial:<td>1 / 1<tr><th>Applies to:<td><a href=#grid-container>grid containers</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>na/<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value</table>
<p>	If a <a href=#grid-container>grid container</a> doesn't specify an automatic-placement strategy through <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>grid-auto-flow</a>,
	any grid items with an <a href=#automatic0>automatic grid position</a> are instead all placed at the default position
	specified by <a class=property data-link-type=propdesc href=#propdef-grid-auto-position title=grid-auto-position>grid-auto-position</a>.

<p>	Interpret the two <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a>s as if they were specified in <a class=property data-link-type=propdesc href=#propdef-grid-column-start title=grid-column-start>grid-column-start</a> and <a class=property data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start</a>, respectively,
	of a hypothetical <a href=#grid-item>grid item</a>,
	treating <a data-link-for=grid-row-start data-link-type=value>auto</a> as <span class=css data-link-type=maybe>1</span> for this purpose.
	The resulting lines of the <a href=#grid-container>grid container</a>
	become a <a href=#definite0>definite grid position</a> in both axises
	for the auto-placed <a href=#grid-item>grid items</a>.


<h3 data-level=6.4 id=implicit-grid-shorthand><span class=secno>6.4 </span><span class=content>
Implicit Grid Shorthand: the <a class=property data-link-type=propdesc href=#propdef-grid-auto title=grid-auto>grid-auto</a> property</span><a class=section-link href=#implicit-grid-shorthand>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-auto>grid-auto</dfn><tr><th>Value:<td><a class=production data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>&lt;‘grid-auto-flow’&gt;</a> || [ <a class=production data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>&lt;‘grid-auto-columns’&gt;</a> [ / <a class=production data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>&lt;‘grid-auto-rows’&gt;</a> ]? ]<tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a href=#grid-container>grid containers</a><tr><th>Inherited:<td>see individual properties<tr><th>Percentages:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-grid-auto title=grid-auto>grid-auto</a> property is a shorthand that sets
		all three of <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>grid-auto-rows</a>, <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>grid-auto-columns</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>grid-auto-flow</a> in a single declaration.
		If <a class=production data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>&lt;‘grid-auto-rows’&gt;</a> value is omitted,
		it is set to the value specified for <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>grid-auto-columns</a>.
		Other omitted values are set to their initial values.

	<div class=example>
		<p>For example, <a class=css data-link-type=maybe href=#propdef-grid-auto title=grid-auto>grid-auto: 1fr;</a> is equivalent to
		<pre>grid-auto-columns: 1fr;
grid-auto-rows: 1fr;
grid-auto-flow: rows;</pre>		<p>Similarly, <a class=css data-link-type=maybe href=#propdef-grid-auto title=grid-auto>grid-auto: columns 1fr / auto</a> is equivalent to
		<pre>grid-auto-columns: 1fr;
grid-auto-rows: auto;
grid-auto-flow: columns;</pre>	</div>

<h2 data-level=7 id=placement><span class=secno>7 </span><span class=content>
Placing Grid Items</span><a class=section-link href=#placement>§</a></h2>

	<p class=issue>
		Put in "common uses" section, like <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#flex title=flex>flex</a> has, to describe what you would use <a class=property data-link-type=propdesc href=#propdef-grid-area title=grid-area>grid-area</a> for, etc.

<h3 data-level=7.1 id=line-placement><span class=secno>7.1 </span><span class=content>
Line-based Placement: the <a class=property data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-column-start title=grid-column-start>grid-column-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-row-end title=grid-row-end>grid-row-end</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-column-end title=grid-column-end>grid-column-end</a> properties</span><a class=section-link href=#line-placement>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-row-start>grid-row-start</dfn>, <dfn data-dfn-type=property data-export="" id=propdef-grid-column-start>grid-column-start</dfn>, <dfn data-dfn-type=property data-export="" id=propdef-grid-row-end>grid-row-end</dfn>, <dfn data-dfn-type=property data-export="" id=propdef-grid-column-end>grid-column-end</dfn><tr><th>Value:<td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a><tr><th>Initial:<td>auto<tr><th>Applies to:<td><a href=#grid-item>grid items</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>n/a<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value (almost)</table>	<tablee>

	<pre>  <dfn data-dfn-for="grid-row-start grid-column-start grid-row-end grid-column-end" data-dfn-type=type data-export="" id=typedef-grid-line><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a></dfn> = 
    auto |
    <a class=production data-link-type=type>&lt;ident&gt;</a> |
    [ <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> &amp;&amp; <a class=production data-link-type=type>&lt;ident&gt;</a>? ] | 
    [ span &amp;&amp; [ <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> || <a class=production data-link-type=type>&lt;ident&gt;</a> ] ]
</pre>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-column-start title=grid-column-start>grid-column-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-row-end title=grid-row-end>grid-row-end</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-column-end title=grid-column-end>grid-column-end</a> properties
		(collectively, the <dfn data-dfn-type=dfn data-export="" id=grid-placement-properties title="grid-placement property">grid-placement properties</dfn>)
		determine a <a href=#grid-item>grid item</a>’s <a href=#placement0>placement</a> by specifying, respectively,
		the <a href=http://dev.w3.org/csswg/css-writing-modes-3/#block-start>block-start</a>, <a href=http://dev.w3.org/csswg/css-writing-modes-3/#inline-start>inline-start</a>, <a href=http://dev.w3.org/csswg/css-writing-modes-3/#block-end>block-end</a>, and <a href=http://dev.w3.org/csswg/css-writing-modes-3/#inline-end>inline-end</a>
		<a href=#grid-line>grid lines</a> of a <a href=#grid-item>grid item</a>’s <a href=#grid-area>grid area</a>.

	<p>
		A <a href=#grid-item>grid item</a>’s <dfn data-dfn-type=dfn data-export="" id=placement0>placement</dfn> consists of both a <dfn data-dfn-type=dfn data-export="" id=grid-position>grid position</dfn>
		(which can be either <dfn data-dfn-type=dfn data-export="" id=definite0 title="definite grid position">definite</dfn> or <dfn data-dfn-type=dfn data-export="" id=automatic0 title="automatic grid position">automatic</dfn>)
		and a <dfn data-dfn-type=dfn data-export="" id=grid-span>grid span</dfn>
		(which also can be either <dfn data-dfn-type=dfn data-export="" id=definite title="definite grid span">definite</dfn> or <dfn data-dfn-type=dfn data-export="" id=automatic title="automatic grid span">automatic</dfn>).
		The <a href=#grid-position>grid position</a> indicates the item’s location in the <a href=#grid>grid</a>.
		The <a href=#grid-span>grid span</a> indicates how many <a href=#grid-track>grid tracks</a> the <a href=#grid-item>grid item</a> occupies.
		An <a href=#automatic0>automatic grid position</a> triggers <a href=#auto-placement-algorithm title="auto-placement algorithm">auto-placement</a>.
		An <a href=#automatic>automatic grid span</a> causes a <a href=#subgrid>subgrid</a> to take its <a href=#grid-span>grid span</a> from the size of its <a href=#implicit-grid>implicit grid</a>.
		(See <a href=#subgrids>Subgrids</a>, above.)

	<p>
		Each <a href=#grid-placement-properties>grid-placement property</a> contributes a line, a span, or nothing (automatic)
		to the item's row <a href=#placement0>placement</a> or column <a href=#placement0>placement</a>.
		Values have the following meanings:

	<dl data-dfn-for="<grid-line>" data-dfn-type=value>
		<dt><dfn data-dfn-for="<grid-line>" data-dfn-type=value data-export="" id=grid-placement-slot><a class=production data-link-type=type>&lt;ident&gt;</a></dfn>
		<dd>
			If there is a <a href=#named-grid-areas>named grid area</a> with the specified name,
			contributes a line to the <a href=#grid-item>grid item</a>’s <a href=#placement0>placement</a>
			by specifying the line at the corresponding edge of that <a href=#named-grid-areas>named grid area</a>.

			<p>
				Otherwise, if there is a <a href=#named-lines0>named line</a> with the specified name,
				contributes a line to the <a href=#grid-item>grid item</a>’s <a href=#placement0>placement</a>
				by specifying the first line of that name.

			<p>
				Otherwise,
				the property contributes nothing (just as if <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a> were specified).

		<dt><dfn data-dfn-for="<grid-line>" data-dfn-type=value data-export="" id=grid-placement-int><a class=production data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> &amp;&amp; <a class=production data-link-type=type>&lt;ident&gt;</a>?</dfn>
		<dd>
			Contributes a line to the <a href=#grid-item>grid item</a>’s <a href=#placement0>placement</a>
			by specifying the <var>N</var>th <a href=#grid-line>grid line</a>.
			If a negative integer is given,
			it instead counts in reverse,
			starting from the end edge of the <a href=#explicit-grid>explicit grid</a>.

			<p>
				If a name is given as an <a class=production data-link-type=type>&lt;ident&gt;</a>,
				only lines with that name are counted.
				(If no line with that name exists,
				it instead specifies the first grid line;
				or the last, if the <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> is negative.
				If not enough lines of that name exist,
				it specifies the <em>last</em> such named line;
				or the first, if the <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> is negative.)

			<p>
				If the <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> is omitted, it defaults to <span class=css data-link-type=maybe>1</span>.
				A value of zero makes the declaration invalid.

		<dt><dfn data-dfn-for="<grid-line>" data-dfn-type=value data-export="" id=grid-placement-span-int>span &amp;&amp; [ &lt;<integer> || <a class=production data-link-type=type>&lt;ident&gt;</a> ]</integer></dfn>
		<dd>
			Contributes a <a href=#grid-span>grid span</a> to the <a href=#grid-item>grid item</a>’s <a href=#placement0>placement</a>
			by specifying that the corresponding edge of the item’s <a href=#grid-area>grid area</a> 
			is <var>N</var> grid lines from the opposite edge of the item’s <a href=#grid-area>grid area</a>.

			<p>
				If a name is given as an <a class=production data-link-type=type>&lt;ident&gt;</a>,
				only lines with that name are counted.
				(If no line with that name exists,
				the name is ignored.
				If not enough lines of that name exist,
				it spans to the last such named line in the spanning direction.)

			<p>
				If the <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> is omitted, it defaults to <span class=css data-link-type=maybe>1</span>.
				Negative integers or zero are invalid.

		<dt><dfn data-dfn-for="<grid-line>" data-dfn-type=value data-export="" id=grid-placement-auto>auto</dfn>
		<dd>
			The property contributes nothing to the <a href=#grid-item>grid item</a>’s <a href=#placement0>placement</a>.
	</dl>

	<p>
		If <a class=property data-link-type=propdesc href=#propdef-grid-row-end title=grid-row-end>grid-row-end</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-end title=grid-column-end>grid-column-end</a> specifies a line at or before that specified by <a class=property data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-start title=grid-column-start>grid-column-start</a>,
		it instead contributes nothing.

	<p>
		In each dimension (row or column), if the corresponding pair of properties contributed:

	<dl>
		<dt>two lines
		<dt>one line and one span
		<dd>
			The item has a <a href=#definite0>definite grid position</a> and <a href=#definite>definite grid span</a>.

		<dt>one line and no span
		<dd>
			If the item is a <a href=#subgrid>subgrid</a> in this dimension, it has an <a href=#definite0>definite grid position</a> and <a href=#automatic>automatic grid span</a>.
			Otherwise, it has an <a href=#definite0>definite grid position</a> and a <a href=#definite>definite grid span</a> of one.

		<dt>no lines and one span
		<dt>two spans
		<dd>
			The item has an <a href=#automatic0>automatic grid position</a> and an <a href=#definite>definite grid span</a>.
			If two spans were specified, the <a href=http://dev.w3.org/csswg/css-writing-modes-3/#end>end</a> span is ignored.
			If the <a href=#grid-span>grid span</a> is for a named line,
			it's instead treated as a <a href=#definite>definite grid span</a> of one.

		<dt>no lines and no spans
		<dd>
			If the item is a <a href=#subgrid>subgrid</a> in this dimension, it has an <a href=#automatic0>automatic grid position</a> and <a href=#automatic>automatic grid span</a>.
			Otherwise, it has an <a href=#automatic0>automatic grid position</a> and a <a href=#definite>definite grid span</a> of one.
	</dl>

	<div class=example>
		<p>
			Given a single-row, 8-column grid and the following 9 named lines:

		<pre>			
1  2  3  4  5  6  7  8  9
+--+--+--+--+--+--+--+--+
|  |  |  |  |  |  |  |  |
A  B  C  A  B  C  A  B  C
|  |  |  |  |  |  |  |  |
+--+--+--+--+--+--+--+--+</pre>
		<p>
			The following declarations place the grid item between the lines indicated by index:

		<pre>grid-column-start: 4; grid-column-end: auto;
/* Line 4 to line 5 */

grid-column-start: auto; grid-column-end: 6;
/* Line 5 to line 6 */

grid-column-start: 'C'; grid-column-end: 'C';
/* Line 3 to line 9 */

grid-column-start: 'C'; grid-column-end: span 'C';
/* Line 3 to line 6 */

grid-column-start: span 'C'; grid-column-end: 'C';
/* Line 6 to line 9 */

grid-column-start: span 'C'; grid-column-end: span 'C';
/* Error: both properties compute to <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a> */

grid-column-start: 5; grid-column-end: 'C';
/* Line 5 to line 9 */

grid-column-start: 5; grid-column-end: span 'C';
/* Line 5 to line 6 */

grid-column-start: 8; grid-column-end: 8;
/* Error: line 8 to line 9 */

grid-column-start: 'B' 2; grid-column-end: span 1;
/* Line 5 to line 6 */</pre>	</div>

<h3 data-level=7.2 id=placement-shorthands><span class=secno>7.2 </span><span class=content>
Placement Shorthands: the <a class=property data-link-type=propdesc href=#propdef-grid-column title=grid-column>grid-column</a>, <a class=property data-link-type=propdesc href=#propdef-grid-row title=grid-row>grid-row</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-area title=grid-area>grid-area</a> properties</span><a class=section-link href=#placement-shorthands>§</a></h3>

<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-column>grid-column</dfn>, <dfn data-dfn-type=property data-export="" id=propdef-grid-row>grid-row</dfn><tr><th>Value:<td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> [ / <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> ]?<tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a href=#grid-item>grid items</a><tr><th>Inherited:<td>see individual properties<tr><th>Percentages:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-grid-row title=grid-row>grid-row</a> and <a class=property data-link-type=propdesc href=#propdef-grid-column title=grid-column>grid-column</a> properties are shorthands for <a class=property data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start</a>/<a class=property data-link-type=propdesc href=#propdef-grid-row-end title=grid-row-end>grid-row-end</a> and <a class=property data-link-type=propdesc href=#propdef-grid-column-start title=grid-column-start>grid-column-start</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-end title=grid-column-end>grid-column-end</a>, respectively.

	<p>
		If two <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> values are specified,
		the <a class=property data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-start title=grid-column-start>grid-column-start</a> longhand is set to the value before the slash,
		and the <a class=property data-link-type=propdesc href=#propdef-grid-row-end title=grid-row-end>grid-row-end</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-end title=grid-column-end>grid-column-end</a> longhand is set to the value after the slash.
	
	<p>
		When the second value is omitted,
		if the first value is an <a class=production data-link-type=type>&lt;ident&gt;</a>,
		the <a class=property data-link-type=propdesc href=#propdef-grid-row-end title=grid-row-end>grid-row-end</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-end title=grid-column-end>grid-column-end</a> longhand is also set to that <a class=production data-link-type=type>&lt;ident&gt;</a>;
		otherwise, it is set to <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>.


<table class=propdef><tr><th>Name:<td><dfn data-dfn-type=property data-export="" id=propdef-grid-area>grid-area</dfn><tr><th>Value:<td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> [ / <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> ]{0,3}<tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a href=#grid-item>grid items</a><tr><th>Inherited:<td>see individual properties<tr><th>Percentages:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties</table>
	<p>
		If four <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> values are specified,
		<a class=property data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start</a> is set to the first value,
		<a class=property data-link-type=propdesc href=#propdef-grid-column-start title=grid-column-start>grid-column-start</a> is set to the second value,
		<a class=property data-link-type=propdesc href=#propdef-grid-row-end title=grid-row-end>grid-row-end</a> is set to the third value,
		and <a class=property data-link-type=propdesc href=#propdef-grid-column-end title=grid-column-end>grid-column-end</a> is set to the fourth value.

	<p>
		When <a class=property data-link-type=propdesc href=#propdef-grid-column-end title=grid-column-end>grid-column-end</a> is omitted,
		if <a class=property data-link-type=propdesc href=#propdef-grid-column-start title=grid-column-start>grid-column-start</a> is an <a class=production data-link-type=type>&lt;ident&gt;</a>,
		<a class=property data-link-type=propdesc href=#propdef-grid-column-end title=grid-column-end>grid-column-end</a> is set to that <a class=production data-link-type=type>&lt;ident&gt;</a>;
		otherwise, it is set to <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>.

	<p>
		When <a class=property data-link-type=propdesc href=#propdef-grid-row-end title=grid-row-end>grid-row-end</a> is omitted,
		if <a class=property data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start</a> is an <a class=production data-link-type=type>&lt;ident&gt;</a>,
		<a class=property data-link-type=propdesc href=#propdef-grid-row-end title=grid-row-end>grid-row-end</a> is set to that <a class=production data-link-type=type>&lt;ident&gt;</a>;
		otherwise, it is set to <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>.

	<p>
		When <a class=property data-link-type=propdesc href=#propdef-grid-column-start title=grid-column-start>grid-column-start</a> is omitted,
		if <a class=property data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start</a> is an <a class=production data-link-type=type>&lt;ident&gt;</a>,
		all four longhands are set to that value.
		Otherwise, it is set to <a data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>.

	<p class=note>
		The resolution order for this shorthand is row-start/column-start/row-end/column-end,
		which goes CCW for LTR pages,
		the opposite direction of the related 4-edge properties using physical directions, like <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/box.html#propdef-margin title=margin>margin</a>.

	<p class=issue>
		Should <a class=property data-link-type=propdesc href=#propdef-grid-area title=grid-area>grid-area</a> be <a class=property data-link-type=propdesc title=grid-field>grid-field</a>?


<h2 data-level=8 id=gutters><span class=secno>8 </span><span class=content>
Gutters</span><a class=section-link href=#gutters>§</a></h2>

	<div class=issue>
		We should have some way of defining "gutter" columns/rows,
		where content can never go
		(unless it's spanning across two tracks).
		Otherwise, auto-flow is completely broken when you manually add gutters,
		and it's just much less convenient to add them manually.

<p>		<a href=http://lists.w3.org/Archives/Public/www-style/2013May/0057.html>Lea's email on the subject.</a>
		See <a href=http://lists.w3.org/Archives/Public/www-style/2013May/0077.html>our proposal</a>
		and <a href=http://lists.w3.org/Archives/Public/www-style/2012Mar/0611.html>Tab's email on the subject</a>.
	</div>



<h2 data-level=9 id=alignment><span class=secno>9 </span><span class=content>
Alignment</span><a class=section-link href=#alignment>§</a></h2>

	<p>
		After a <a href=#grid-container>grid container</a>’s <a href=#grid-track>grid tracks</a> have been sized,
		and the dimensions of all <a href=#grid-item>grid items</a> are finalized, 
		<a href=#grid-item>grid items</a> can be aligned within their <a href=#grid-area>grid areas</a>.

	<p>
		The <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/box.html#propdef-margin title=margin>margin</a> properties can be used to align items in a manner similar to, 
		but more powerful than, 
		what margins can do in block layout.
		<a href=#grid-item>Grid items</a> also respect the alignment properties from the Box Alignment spec,
		which allow easy keyword-based alignment of items in both the <a href=#row-axis>row axis</a> and <a href=#column-axis>column axis</a>.

	<p>
		By default,
		<a href=#grid-item>grid items</a> stretch to fill their <a href=#grid-area>grid area</a>.
		However, if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-self title=justify-self>justify-self</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-self title=align-self>align-self</a> compute to a value other than <span class=css data-link-type=maybe>stretch</span>
		or margins are <a data-link-for=margin data-link-type=value>auto</a>,
		<a href=#grid-item>grid items</a> will auto-size to fit their contents.


<h3 data-level=9.1 id=auto-margins><span class=secno>9.1 </span><span class=content>
Aligning with <a data-link-for=margin data-link-type=value>auto</a> margins</span><a class=section-link href=#auto-margins>§</a></h3>

	<p>
		<em>This section is non-normative.  
			The normative definition of how margins affect grid items is in the <a href=#layout-algorithm>Grid Layout Algorithm</a> section.</em>

	<p>
		Auto margins on <a href=#grid-item>grid items</a> have an effect very similar to auto margins in block flow:

<p>	<ul>
		<li>
			During calculations of <a href=#grid-track>grid track</a> sizes, auto margins are treated as <span class=css data-link-type=maybe>0</span>.

		<li>
			Auto margins absorb positive free space
			prior to alignment via the alignment properties
			(defined in the next sections).

		<li>
			Overflowing elements ignore their auto margins and overflow in the <a href=http://dev.w3.org/csswg/css-writing-modes-3/#end>end</a> directions.
	</ul>

	<p class=note>
		Note that, if free space is distributed to auto margins, 
		the alignment properties will have no effect in that dimension
		because the margins will have stolen all the free space
		left over after sizing.

	<div class=example>
		TODO: EXAMPLE HERE
	</div>


<h3 data-level=9.2 id=row-align><span class=secno>9.2 </span><span class=content>
Row-axis Alignment: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-self title=justify-self>justify-self</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-items title=justify-items>justify-items</a> properties</span><a class=section-link href=#row-align>§</a></h3>

	<p>
		<a href=#grid-item>Grid items</a> can be aligned in the inline dimension 
		by using the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-self title=justify-self>justify-self</a> property on the <a href=#grid-item>grid item</a>
		or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-items title=justify-items>justify-items</a> property on the <a href=#grid-container>grid container</a>,
		as defined in <a data-biblio-type=normative data-link-type=biblio href=#css3-align title=CSS3-ALIGN>[CSS3-ALIGN]</a>.

	<div class=example>
		For example,
		for an English document,
		the inline axis is horizontal,
		and so the <a class=property data-link-type=propdesc title=justify-*>justify-*</a> properties align the <a href=#grid-item>grid items</a> horizontally.

		<pre>TODO: provide example
</pre>	</div>




<h3 data-level=9.3 id=column-align><span class=secno>9.3 </span><span class=content>
Column-axis Alignment: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-self title=align-self>align-self</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-items title=align-items>align-items</a> properties</span><a class=section-link href=#column-align>§</a></h3>

	<p>
		<a href=#grid-item>Grid items</a> can also be aligned in the block dimension
		(perpendicular to the inline dimension)
		by using the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-self title=align-self>align-self</a> property on the <a href=#grid-item>grid item</a>
		or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-items title=align-items>align-items</a> property on the <a href=#grid-container>grid container</a>,
		as defined in <a data-biblio-type=normative data-link-type=biblio href=#css3-align title=CSS3-ALIGN>[CSS3-ALIGN]</a>.

<h3 data-level=9.4 id=z-order><span class=secno>9.4 </span><span class=content>
Z-axis Ordering: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#z-index title=z-index>z-index</a> property</span><a class=section-link href=#z-order>§</a></h3>


	<p>
		<a href=#grid-item>Grid items</a> can overlap when they are positioned into intersecting <a href=#grid-area>grid areas</a>.
		<a href=#grid-item>Grid item</a> boxes in non-intersecting areas can also overlap because of negative margins or positioning.

	<p>
		When <a href=#grid-item>grid items</a> overlap, 
		the <a href=http://www.w3.org/TR/CSS21/visuren.html#propdef-z-index><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#z-index title=z-index>z-index</a></a> property provides control over the drawing order of <a href=#grid-item>grid items</a>.
		<a href=#grid-item>Grid items</a> paint <a href=http://www.w3.org/TR/css3-flexbox/#painting>exactly the same as flex items</a> <a data-biblio-type=normative data-link-type=biblio href=#css3-flexbox title=CSS3-FLEXBOX>[CSS3-FLEXBOX]</a>:
		they use <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#order title=order>order</a>-modified document order,
		and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#z-index title=z-index>z-index</a> values other than <a data-link-for=z-index data-link-type=value>auto</a> create a stacking context even if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#position title=position>position</a> is <span class=css data-link-type=maybe>static</span>.

	<p class=note>
		Note: Descendants that are positioned outside a grid item still participate in any stacking context established by the grid item.

	<div class=example>
		<p>
			The following diagram shows several overlapping grid items,
			with a combination of implicit source order
			and explicit <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#z-index title=z-index>z-index</a>
			used to control their stacking order.

		<div class=figure>
			<p>
				<img alt="Image: Drawing order controlled by z-index and source order." src=images/drawing-order.png>

			<p class=caption>
				Drawing order controlled by z-index and source order.
		</div>

		<pre>&lt;style type="text/css"&gt;
  #grid { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    grid-template-rows: 1fr 1fr 
  }
  #A { grid-column: 1 / span 2; grid-row: 2; align-self: foot }
  #B { grid-column: 1; grid-row: 1; z-index: 10 }
  #C { grid-column: 2; grid-row: 1; align-self: head; margin-left: -20px }
  #D { grid-column: 2; grid-row: 2; justify-self: end; align-self: head }
  #E { grid-column: 1 / span 2; grid-row: 1 / span 2;
       z-index: 5; justify-self: center; align-self: center; }
&lt;/style&gt;

&lt;div id="grid"&gt;
  &lt;div id="A"&gt;A&lt;/div&gt;
  &lt;div id="B"&gt;B&lt;/div&gt;
  &lt;div id="C"&gt;C&lt;/div&gt;
  &lt;div id="D"&gt;D&lt;/div&gt;
  &lt;div id="E"&gt;E&lt;/div&gt;
&lt;/div&gt;</pre>	</div>

<h3 data-level=9.5 id=grid-baselines><span class=secno>9.5 </span><span class=content>
Grid Baselines</span><a class=section-link href=#grid-baselines>§</a></h3>

	<p>
		The baselines of a <a href=#grid-container>grid container</a> are determined as follows:

	<ol>
		<li>
			If any of the <a href=#grid-item>grid items</a> whose areas intersect the <a href=#grid-container>grid container</a>’s first row/column
			<a href=#baseline-participation>participate in baseline alignment</a>,
			the grid container's baseline is the baseline of those <a href=#grid-item>grid items</a>.

		<li>
			Otherwise, if the grid container has at least one <a href=#grid-item>grid item</a> whose area intersects the first row/column,
			and the first such <a href=#grid-item>grid item</a> (in <a href=#order-modified-grid-order><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#order title=order>order</a>-modified grid order</a>) has a baseline
			parallel to the relevant axis,
			the grid container's baseline is that baseline.

		<li>
			Otherwise, the grid container's baseline is <a href=http://www.w3.org/TR/css3-writing-modes/#inline-alignment>synthesized</a> 
			from the first item's (in <a href=#order-modified-grid-order><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#order title=order>order</a>-modified grid order</a>) content box, 
			or, failing that, from the grid container's content box.
	</ol>

	<p>
		A <a href=#grid-item>grid item</a> <dfn data-dfn-type=dfn data-export="" id=baseline-participation>participates in baseline alignment</dfn> in a particular dimension
		if its value for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#align-self title=align-self>align-self</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#justify-self title=justify-self>justify-self</a>, as appropriate, is <span class=css data-link-type=maybe>baseline</span> 
		and its inline axis is parallel to that dimension.

	<p>
		<dfn data-dfn-type=dfn data-export="" id=order-modified-grid-order><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#order title=order>order</a>-modified grid order</dfn> is the order in which
		<a href=#grid-item>grid items</a> are encountered when traversing the grid's <a href=#grid-cell>grid cells</a>,
		in row-major order if calculating the inline-axis baseline,
		or in column-major order if calculating the block-axis baseline.
		If two items are encountered at the same time,
		they are taken in <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#order title=order>order</a>-modified document order.

	<p>
		When calculating the baseline according to the above rules,
		if the box contributing a baseline has an <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-overflow-3/#overflow title=overflow>overflow</a> value that allows scrolling,
		the box must be treated as being in its initial scroll position
		for the purpose of determining its baseline.

	<p>
		When <a href=http://www.w3.org/TR/CSS21/tables.html#height-layout>determining the baseline of a table cell</a>,
		a grid container provides a baseline just as a line box or table-row does. <a data-biblio-type=normative data-link-type=biblio href=#css21 title=CSS21>[CSS21]</a>



<h2 data-level=10 id=layout-algorithm><span class=secno>10 </span><span class=content>
Grid Layout Algorithm</span><a class=section-link href=#layout-algorithm>§</a></h2>

<h3 data-level=10.1 id=algo-terms><span class=secno>10.1 </span><span class=content>
Definition of Terms for use in Calculating Grid Track Sizes</span><a class=section-link href=#algo-terms>§</a></h3>

	<dl>
		<dt><dfn data-dfn-type=dfn data-noexport="" id=AvailableSpace-definition>AvailableSpace</dfn>
		<dd>
			The <a href=#grid-container>grid container</a>’s content box size in the applicable dimension.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=MaxTrackSizingFunction-definition>MaxTrackSizingFunction</dfn>
		<dd>
			One of the <a class=production data-link-type=type href=#typedef-track-breadth>&lt;track-breadth&gt;</a> sizing functions assigned as the maximum breadth of a <a href=#grid-track>Grid track</a>.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=MinTrackSizingFunction-definition>MinTrackSizingFunction</dfn>
		<dd>
			One of the <a class=production data-link-type=type href=#typedef-track-breadth>&lt;track-breadth&gt;</a> sizing functions assigned as the minimum breadth of a <a href=#grid-track>Grid track</a>.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=RemainingSpace-definition>RemainingSpace</dfn>
		<dd>
			The max of zero and the AvailableSpace less the sum of all <a href=#grid-track>Grid track</a> UsedBreadth values. This is undefined if AvailableSpace is undefined (i.e. the Grid element is shrink-to-fit or the height is auto.)

		<dt><dfn data-dfn-type=dfn data-noexport="" id=SpanCount-definition>SpanCount</dfn>
		<dd>
			The number of <a href=#grid-track>Grid tracks</a> crossed by a <a href=#grid-item>Grid item</a> in the applicable dimension.
	</dl>


<h3 data-level=10.2 id=grid-track-sizing-algorithm><span class=secno>10.2 </span><span class=content>
Grid Track Sizing Algorithm</span><a class=section-link href=#grid-track-sizing-algorithm>§</a></h3>
	<ol>
		<li>Call ComputedUsedBreadthOfGridTracks for Grid Columns to resolve their logical width.
		<li>Call ComputedUsedBreadthOfGridTracks for Grid Rows to resolve their logical height.  The logical width of Grid Columns from the prior step is used in the formatting of <a href=#grid-item>Grid items</a> in content-sized Grid Rows to determine their required height.
		<li>If the minimum content size of any <a href=#grid-item>Grid item</a> has changed based on available height for the <a href=#grid-item>Grid item</a> as computed in step 2, adjust the min content size of the <a href=#grid-item>Grid item</a> and restart the <a href=#grid-track>Grid track</a> Sizing algorithm (once only).
	</ol>

				<dl>
	<dt id=function-ComputeUsedBreadthOfGridTracks>ComputeUsedBreadthOfGridTracks

	<dd>
		<p>
			This is the core <a href=#grid-track>Grid track</a> sizing algorithm.  It is run for Grid columns and Grid rows.  The goal of the function is to ensure:

		<ol>
			<li>That each <a href=#grid-track>Grid track</a> satisfies its MinTrackSizingFunction
			<li>That each <a href=#grid-track>Grid track</a> grows from the breadth which satisfied its MinTrackSizingFunction to a breadth which satisfies its MaxTrackSizingFunction, subject to RemainingSpace.
		</ol>
		<p>
			For the purposes of resolving the breadth that satisfies the MinTrackSizingFunction and MaxTrackSizingFunction, each <a href=#grid-track>Grid track</a> falls into one of three categories:

		<ol>
			<li>A percentage or length value which can be trivially resolved.
			<li>A min-content or max-content value which will be resolved based on the measurements of the <a href=#grid-item>Grid items</a> which cover the <a href=#grid-track>Grid track</a>.
			<li>A flexible length which can only be resolved after determining the RemainingSpace in the <a href=#grid-container>grid container</a>’s content box after having considered all contributions from the prior two categories of <a href=#grid-track>Grid tracks</a>.
		</ol>
		<p>
			The breadths which satisfy MinTrackSizingFunctions and MaxTrackSizingFunctions for the first category of <a href=#grid-track>Grid tracks</a> are resolved in step 1 during <a href=#grid-track>Grid track</a> variable initialization.
			The breadths which satisfy the MinTrackSizingFunctions and the MaxTrackSizingFunctions for the second category of content-sized <a href=#grid-track>Grid tracks</a> are resolved in step 2.  At the end of step 2, the first goal of ComputeUsedBreadthOfGridTracks function has been satisfied:
			the UsedBreadth variable of each GridTrack now satisfies its MinTrackSizingFunction. The MaxBreadth variable for each <a href=#grid-track>Grid track</a> now contains the resolved value for its MaxTrackSizingFunction.

		<p>
			In step 3, the second goal of this function is satisfied as each (non-flex-sized) <a href=#grid-track>Grid track</a>
			attempts to grow from the UsedBreadth value to the MaxBreadth value, subject to RemainingSpace.

		<p>
			Finally in step 4, the third category of flex-sized <a href=#grid-track>Grid tracks</a> can be resolved using what is now the RemainingSpace having updated the UsedBreadth of each <a href=#grid-track>Grid track</a> at the end of step 3.

		<dl>
			<dt id=function-ComputeUsedBreadthOfGridTracks-inputs>Inputs

			<dd>
				<ul>
					<li>GridTracks: The set of <a href=#grid-track>Grid tracks</a> for which the <a href=#grid-track>Grid track</a> variable UsedBreadth will be computed.
				</ul>

		</dl>
		<dl>
			<dt id=function-ComputeUsedBreadthOfGridTracks-algorithm>Algorithm

			<dd class=pseudo-code>
				<ol>
					<li>Initialize per <a href=#grid-track>Grid track</a> variables
						<ol>
							<li>For each <a href=#grid-track>Grid track</a> t in GridTracks
								<ol>
									<li>If t.MinTrackSizingFunction is a percentage or length, then t.UsedBreadth = resolved length
									<li>If t.MinTrackSizingFunction is min-content, max-content, or a flexible length, then t.UsedBreadth = 0
									<li>If t.MaxTrackSizingFunction is percentage or length, then t.MaxBreadth = resolved length
										<ol>
											<li>If the resolved length of the MaxTrackSizingFunction is less than the MinTrackSizingFunction, t.MaxBreadth = t.UsedBreadth.
										</ol>

									<li>If t.MaxTrackSizingFunction is min-content, or max-content, then t.MaxBreadth = Infinity
									<li>If t.MaxTrackSizingFunction is a flexible length, then t.MaxBreadth = t.UsedBreadth
									<li>t.SpanGroupInWhichMaxBreadthWasMadeFinite = null
								</ol>

						</ol>

					<li>Resolve content-based TrackSizingFunctions
						<ol>
							<li>Call ResolveContentBasedTrackSizingFunctions, with arguments:
								<ul>
									<li>GridItems: All <a href=#grid-item>Grid items</a>.
								</ul>

						</ol>

					<li>Grow all <a href=#grid-track>Grid tracks</a> in GridTracks from their UsedBreadth up to their MaxBreadth value until RemainingSpace is exhausted.
						<ol>
							<li>If RemainingSpace is defined
								<ol>
									<li>Iterate over all GridTracks and assign UsedBreadth to UpdatedTrackBreadth
									<li>Call DistributeSpaceToTracks, with arguments:
										<ul>
											<li>SpaceToDistribute: RemainingSpace
											<li>TrackGrowthConstraint: A function which given a <a href=#grid-track>Grid track</a> returns its MaxBreadth.
											<li>TracksForGrowth: All <a href=#grid-track>Grid tracks</a>
											<li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: The empty set.
											<li>CurrentBreadth: A function which given a <a href=#grid-track>Grid track</a> returns the UsedBreadth.
										</ul>

									<li>Iterate over all GridTracks and assign UpdatedTrackBreadth to UsedBreadth
								</ol>

							<li>Else
								<ol>
									<li>For each <a href=#grid-track>Grid track</a> t in GridTracks
										<ol>
											<li>t.UsedBreadth = t.MaxBreadth
										</ol>

								</ol>

						</ol>

					<li>Grow all <a href=#grid-track>Grid tracks</a> having a flexible length as the MaxTrackSizingFunction
						<ol>
							<li>normalizedFlexBreadth = 0
							<li>If RemainingSpace is defined
								<ol>
									<li>normalizedFlexBreadth = Call ComputeNormalizedFlexBreadth, with arguments:
										<ul>
											<li>GridTracks: GridTracks
											<li>SpaceToFill: AvailableSpace
										</ul>

								</ol>

							<li>Else
								<ol>
									<li>For each <a href=#grid-track>Grid track</a> t in GridTracks having a flexible length as the MaxTrackSizingFunction
										<ol>
											<li>normalizedFlexBreadth = Max( normalizedFlexBreadth, t.UsedBreadth / t.MaxTrackSizingFunction.FlexValue )

										</ol>

									<li>For each <a href=#grid-item>Grid item</a> i, which crosses a set of GridTracks s
										<ol>
											<li>itemNormalizedFlexBreadth = Call ComputeNormalizedFlexBreadth, with arguments:
												<ul>
													<li>GridTracks: s
													<li>SpaceToFill: max-content size of i
												</ul>

											<li>normalizedFlexBreadth = Max( normalizedFlexBreadth, itemNormalizedFlexBreadth )

										</ol>

								</ol>

							<li>For each <a href=#grid-track>Grid track</a> t in GridTracks
								<ol>
									<li>t.UsedBreadth = Max( t.UsedBreadth, normalizedFlexBreadth * t.MaxTrackSizingFunction.FlexValue )
								</ol>

						</ol>

				</ol>

		</dl>

<!--End Function Definition: ComputeUsedBreadthOfGridTracks-->
</dl>

<dl>
	<dt id=function-ResolveContentBasedTrackSizingFunctions>ResolveContentBasedTrackSizingFunctions

	<dd>
		<p>
			The purpose of this function is to resolve the contribution that each <a href=#grid-item>Grid item</a> makes to any min-content or max-content TrackSizingFunctions for the <a href=#grid-track>Grid tracks</a> it covers. There are four permutations: min-content or max-content in either the MinTrackSizingFunction or MaxTrackSizingFunction. MinTrackSizingFunctions are resolved before MaxTrackSizingFunctions, and min-content contributions are resolved before max-content contributions. Note that when resolving min-content contributions they may grow tracks that have either min-content or max-content keywords, as seen in 3.a.i and 3.b.i below.

		<p class=issue>
			Currently this algorithm embodies several heuristics which regulate the growth of spanning <a href=#grid-item>Grid items</a> to accommodate certain use cases. (E.g. the game example in Figures 2 and 3 above.) These heuristics should be a normative part of this specification to ensure interoperability. To the extent additional use cases can be identified that cannot be satisfied by following the current heuristics, the normative algorithm can be updated, or additional mechanisms can be introduced for fine-grained control of content-based TrackSizingFunction.

		<dl>
			<dt id=function-ResolveContentBasedTrackSizingFunctions-inputs>Inputs

			<dd>
				<ul>
					<li>GridItems: The set of <a href=#grid-item>Grid items</a> for which min-content or max-content keywords should be resolved.
				</ul>

		</dl>
		<dl>
			<dt id=function-ResolveContentBasedTrackSizingFunctions-algorithm>Algorithm

			<dd class=pseudo-code>
				<ol>
					<li>Filter all <a href=#grid-item>Grid items</a> into a set g, such that each <a href=#grid-item>Grid item</a> has either a SpanCount of 1 or does not cross a flex-sized <a href=#grid-track>Grid track</a>
					<li>Group all <a href=#grid-item>Grid items</a> in set g by their SpanCount ascending
					<li>For each group of <a href=#grid-item>Grid items</a>
						<ol>
							<li>Resolve content-based MinTrackSizingFunctions
								<ol>
									<li>Call ResolveContentBasedTrackSizingFunctionsForItems, with arguments:
										<ul>
											<li>GridItems: All <a href=#grid-item>Grid items</a> in the current group.
											<li>AdditionalSpaceRequiredByItem: A function which given a <a href=#grid-item>Grid item</a> returns the min-content size of that <a href=#grid-item>Grid item</a> less the summed UsedBreadth of all <a href=#grid-track>Grid tracks</a> it covers.
											<li>TrackGrowthConstraint: A function which given a <a href=#grid-track>Grid track</a> returns its MaxBreadth.
											<li>TracksForGrowth: A function which given a <a href=#grid-item>Grid item</a> returns the set of <a href=#grid-track>Grid tracks</a> covered by that <a href=#grid-item>Grid item</a> that have a min-content or max-content MinTrackSizingFunction.
											<li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A function which given a set of <a href=#grid-track>Grid tracks</a> returns the subset of <a href=#grid-track>Grid tracks</a> having a min-content or max-content MaxTrackSizingFunction.  If that set is the empty set, return the input set instead.
											<li>Accumulator: A function which given a <a href=#grid-track>Grid track</a> returns a reference to its UsedBreadth variable.
										</ul>

									<li>Call ResolveContentBasedTrackSizingFunctionsForItems, with arguments:
										<ul>
											<li>GridItems: All <a href=#grid-item>Grid items</a> in the current group.
											<li>AdditionalSpaceRequiredByItem: A function which given a <a href=#grid-item>Grid item</a> returns the max-content size of that <a href=#grid-item>Grid item</a> less the summed UsedBreadth of all <a href=#grid-track>Grid tracks</a> it covers.
											<li>TrackGrowthConstraint: A function which given a <a href=#grid-track>Grid track</a> returns its MaxBreadth.
											<li>TracksForGrowth: A function which given a <a href=#grid-item>Grid item</a> returns the set of <a href=#grid-track>Grid tracks</a> covered by that <a href=#grid-item>Grid item</a> that have a max-content MinTrackSizingFunction.
											<li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A function which given a set of <a href=#grid-track>Grid tracks</a> returns the subset of <a href=#grid-track>Grid tracks</a> having a max-content MaxTrackSizingFunction.  If that set is the empty set, return the input set instead.
											<li>Accumulator: A function which given a <a href=#grid-track>Grid track</a> returns a reference to its UsedBreadth variable.
										</ul>

								</ol>

							<li>Resolve content-based MaxTrackSizingFunctions
								<ol>
									<li>Call ResolveContentBasedTrackSizingFunctionsForItems, with arguments:
										<ul>
											<li>GridItems: All <a href=#grid-item>Grid items</a> in the current group.
											<li>AdditionalSpaceRequiredByItem: A function which given a <a href=#grid-item>Grid item</a> returns the min-content size of that <a href=#grid-item>Grid item</a> less the summed MaxBreadth (unless the MaxBreadth is infinite, in which case use the UsedBreadth) of all <a href=#grid-track>Grid tracks</a> it covers.
											<li>TrackGrowthConstraint: A function which given a <a href=#grid-track>Grid track</a> returns its MaxBreadth.
											<li>TracksForGrowth: A function which given a <a href=#grid-item>Grid item</a> returns the set of <a href=#grid-track>Grid tracks</a> covered by that <a href=#grid-item>Grid item</a> that have a min-content or max-content MaxTrackSizingFunction.
											<li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: The identity function.
											<li>Accumulator: A function which given a <a href=#grid-track>Grid track</a> returns a reference to its MaxBreadth variable.
										</ul>

									<li>Call ResolveContentBasedTrackSizingFunctionsForItems, with arguments:
										<ul>
											<li>GridItems: All <a href=#grid-item>Grid items</a> in the current group.
											<li>AdditionalSpaceRequiredByItem: A function which given a <a href=#grid-item>Grid item</a> returns the max-content size of that <a href=#grid-item>Grid item</a> less the summed MaxBreadth (unless the MaxBreadth is infinite, in which case use the UsedBreadth) of all <a href=#grid-track>Grid tracks</a> it covers.
											<li>TrackGrowthConstraint: A function which given a <a href=#grid-track>Grid track</a> returns infinity if the <a href=#grid-track>Grid track</a>’s SpanGroupInWhichMaxBreadthWasMadeFinite is equal to the current group; otherwise return the <a href=#grid-track>Grid track</a>’s MaxBreadth.
											<li>TracksForGrowth: A function which given a <a href=#grid-item>Grid item</a> returns the set of <a href=#grid-track>Grid tracks</a> covered by that <a href=#grid-item>Grid item</a> that have a max-content MaxTrackSizingFunction.
											<li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: The identity function.
											<li>Accumulator: A function which given a <a href=#grid-track>Grid track</a> returns a reference to its MaxBreadth variable.
										</ul>

								</ol>

						</ol>

					<li>For each <a href=#grid-track>Grid track</a> t from the set of all <a href=#grid-track>Grid tracks</a>
						<ol>
							<li>If t.MaxBreadth == infinity then t.MaxBreadth = t.UsedBreadth
						</ol>

				</ol>

		</dl>

<!--End Function Definition: ResolveContentBasedTrackSizingFunctions-->
</dl>

<dl>
	<dt id=function-ResolveContentBasedTrackSizingFunctionsForItems>ResolveContentBasedTrackSizingFunctionsForItems

	<dd>
		<p>
			The above function, ResolveContentBasedTrackSizingFunctions, groups <a href=#grid-item>Grid items</a> based on the number of <a href=#grid-track>Grid tracks</a> each <a href=#grid-item>Grid item</a> spanned. ResolveContentBasedTrackSizingFunctionsForItems, below, then calls DistributeSpaceToTracks for each <a href=#grid-item>Grid item</a> in the
			group to determine how much each <a href=#grid-item>Grid item</a> needs to grow the <a href=#grid-track>Grid tracks</a> that it covers.  The maximum contribution made by any <a href=#grid-item>Grid item</a> is accumulated into a temporary, per-<a href=#grid-track>Grid track</a> variable,
			and at the end of the group, the space is recorded into a final <a href=#grid-track>Grid track</a> variable as determined by the Accumulator function.

		<dl>
			<dt id=function-ResolveContentBasedTrackSizingFunctionsForItems-inputs>Inputs

			<dd>
				<ul>
					<li>GridItems: The set of <a href=#grid-item>Grid items</a> which will contribute to the growth of <a href=#grid-track>Grid tracks</a>.
					<li>AdditionalSpaceRequiredByItem: A function which returns the difference between either the min-content or max-content for the <a href=#grid-item>Grid item</a> and the space already allocated to the <a href=#grid-track>Grid tracks</a> covered by the <a href=#grid-item>Grid item</a> in earlier phases of the algorithm.
					<li>TrackGrowthConstraint: A function which given a <a href=#grid-track>Grid track</a> returns a value that limits the amount by which it may be grown by the <a href=#grid-item>Grid items</a> which cover it.
					<li>TracksForGrowth: A function which given a <a href=#grid-item>Grid item</a> identifies the set of <a href=#grid-track>Grid tracks</a> to be grown in this phase of the algorithm.
					<li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A function which identifies a subset of <a href=#grid-track>Grid tracks</a> from TracksForGrowth that may be grown in this phase of the algorithm after all <a href=#grid-track>Grid tracks</a> in the TracksForGrowth set have already grown to their TrackGrowthConstraint.
					<li>Accumulator: A function which given a <a href=#grid-track>Grid track</a> returns the variable used to accumulate the results of the UpdatedTrackBreadth from DistributeSpaceToTracks.
				</ul>

		</dl>
		<dl>
			<dt id=function-ResolveContentBasedTrackSizingFunctionsForItems-algorithm>Algorithm

			<dd class=pseudo-code>
				<ol>
					<li>For each <a href=#grid-track>Grid track</a> t
						<ol>
							<li>t.UpdatedTrackBreadth = Accumulator( t )
						</ol>

					<li>For each <a href=#grid-item>Grid item</a> i in GridItems
						<ol>
							<li>Call DistributeSpaceToTracks, with arguments:
								<ul>
									<li>SpaceToDistribute: AdditionalSpaceRequiredByItem( i )
									<li>TrackGrowthConstraint: TrackGrowthConstraint
									<li>TracksForGrowth: TracksForGrowth( i )
									<li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: SubsetOfTracksForGrowthBeyondTrackGrowthConstraint( TracksForGrowth( i ) )
									<li>CurrentBreadth: A function which given a <a href=#grid-track>Grid track</a> returns the UsedBreadth of the <a href=#grid-track>Grid track</a> if Accumulator returns infinity; otherwise the value of the Accumulator is returned.
								</ul>

						</ol>

					<li>For each <a href=#grid-track>Grid track</a> t
						<ol>
							<li>If Accumulator( t ) == infinity and t.UpdatedTrackBreadth != infinity
								<ol>
									<li>t.SpanGroupInWhichMaxBreadthWasMadeFinite = GridItems
								</ol>

							<li>Accumulator( t ) = t.UpdatedTrackBreadth
						</ol>

				</ol>

		</dl>

<!--End Function Definition: ResolveContentBasedTrackSizingFunctionsForItems-->
</dl>

<dl>
	<dt id=function-DistributeSpaceToTracks>DistributeSpaceToTracks

	<dd>
		<p>
			Ensures that for each <a href=#grid-track>Grid track</a> in RecipientTracks, a value will be computed, UpdatedTrackBreadth, that represents the <a href=#grid-track>Grid track</a>’s share of SpaceToDistribute.

		<p>
			There are two parts to this function.  The first for loop in step 2 is giving each <a href=#grid-track>Grid track</a> an equal share of the space, but without exceeding their TrackGrowthConstraint values.
			Because there are different MaxBreadths assigned to the different <a href=#grid-track>Grid tracks</a>, the first loop can result in their uneven growth.

		<p>
			If the first loop completes having grown every <a href=#grid-track>Grid track</a> to its TrackGrowthConstraint, and there is still SpaceToDistribute, then  SubsetOfTracksForGrowthBeyondTrackGrowthConstraint are further grown equally until SpaceToDistribute is exhausted.

		<p>
			Note that <a href=#grid-track>Grid tracks</a> considered by this function may have a TrackGrowthConstraint equal to Infinity, which signals that these tracks have not yet been grown by a <a href=#grid-item>Grid item</a>. These tracks can therefore be grown without exceeding the TrackGrowthConstraint of the track. By only growing tracks up to their TrackGrowthConstraint value, we can ensure that the grid remains "tight" - that is, that track breadth is as close to the content size of the <a href=#grid-item>Grid items</a> inside as possible. Only once all <a href=#grid-track>Grid tracks</a> have a CurrentBreadth equal to a TrackGrowthConstraint do we move to the second for loop and grow tracks further, thereby making the <a href=#grid-container>grid container</a> less tight.

		<dl>
			<dt id=function-DistributeSpaceToTracks-inputs>Inputs

			<dd>
				<ul>
					<li>SpaceToDistribute: A length to be distributed among the supplied set of <a href=#grid-track>Grid tracks</a>.
					<li>TrackGrowthConstraint: A function which given a <a href=#grid-track>Grid track</a> returns the maximum breadth of the track, unless the track is in the SubsetOfTracksForGrowthBeyoundTrackGrowthConstraint.
					<li>TracksForGrowth: A set of <a href=#grid-track>Grid tracks</a> to be grown up to their TrackGrowthConstraint while SpaceToDistribute remains.
					<li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A subset of <a href=#grid-track>Grid tracks</a> from TracksForGrowth that may be grown beyond their TrackGrowthConstraint after all <a href=#grid-track>Grid tracks</a> in the TracksForGrowth set have already grown to their TrackGrowthConstraint if there is remaining SpaceToDistribute.
					<li>CurrentBreadth: A function which given a <a href=#grid-track>Grid track</a> returns a value to use as a starting point from which to grow this track.
				</ul>

		</dl>
		<dl>
			<dt id=function-DistributeSpaceToTracks-algorithm>Algorithm

			<dd class=pseudo-code>
				<ol>
					<li>Sort TracksForGrowth by TrackGrowthConstraint( t ) - CurrentBreadth( t ) ascending (where t is an element in the RecipientTrack set).
					<li>For i = 0 to TracksForGrowth.length - 1
						<ol>
							<li>t = TracksForGrowth[i]
							<li>share = Min ((SpaceToDistribute / ( TracksForGrowth.length - i )), (TrackGrowthConstraint( t ) - CurrentBreadth( t )))
							<li>t.TempBreadth = CurrentBreadth( t ) + share
							<li>SpaceToDistribute -= share
						</ol>

					<li>If SpaceToDistribute &gt; 0
						<ol>
							<li>Let tracks = SubsetOfTracksForGrowthBeyondTrackGrowthConstraint( TracksForGrowth )
							<li>For i = 0 to tracks.length - 1
								<ol>
									<li>t = tracks[i]
									<li>share = SpaceToDistribute / ( tracks.length - i )
									<li>t.TempBreadth += share
									<li>SpaceToDistribute -= share
								</ol>

						</ol>

					<li>For each <a href=#grid-track>Grid track</a> t in TracksForGrowth
						<ol>
							<li>If t.UpdatedTrackBreadth == infinity
								<ol>
									<li>t.UpdatedTrackBreadth = t.TempBreadth
								</ol>

							<li>Else
								<ol>
									<li>t.UpdatedTrackBreadth = Max( t.UpdatedTrackBreadth, t.TempBreadth )
								</ol>

						</ol>

				</ol>

		</dl>

<!--End Function Definition: DistributeSpaceToTracks-->
</dl>


<dl>
	<dt id=function-CalculateNormalizedFlexBreadth>CalculateNormalizedFlexBreadth

	<dd>
		This method computes a <span class=css data-link-type=maybe>1fr</span> value, referred to as the NormalizedFlexBreadth, for a set of <a href=#grid-track>Grid tracks</a>.  The value computed will ensure that when the NormalizedFlexBreadth is multiplied by the flex factors associated with GridTracks, that the UsedBreadths of GridTracks will increase by an amount equal to the maximum of zero and the specified SpaceToFill less the sum of the current UsedBreadths.
		<dl>
			<dt id=function-CalculateNormalizedFlexBreadth-inputs>
				Inputs

			<dd>
				<ul>
					<li>GridTracks: The set of <a href=#grid-track>Grid tracks</a> whose flex sizing functions are considered for the purposes of a computing a NormalizedFlexBreadth that will cause GridTracks to fill SpaceToFill.
					<li>SpaceToFill: The space to be filled by GridTracks.
				</ul>

		</dl>
		<dl>
			<dt id=function-CalculateNormalizedFlexBreadth-returns>Returns

			<dd>
				<ul>
					<li>The 1fr value required by GridTracks to fill SpaceToFill.
				</ul>

		</dl>
		<dl>
			<dt id=function-CalculateNormalizedFlexBreadth-algorithm>Algorithm

			<dd class=pseudo-code>
				<ol>
					<li>allocatedSpace = the sum of the UsedBreadth for each <a href=#grid-track>Grid track</a> in GridTracks
					<li>flexTracks = the subset of GridTracks whose MaxTrackSizingFunction is a flexible length
					<li>For each <a href=#grid-track>Grid track</a> t in flexTracks
						<ol>
							<li>t.NormalizedFlexValue = t.UsedBreadth / t.MaxTrackSizingFunction.FractionValue
						</ol>

					<li>Sort flexTracks by their NormalizedFlexValue ascending
					<li>spaceNeededFromFlexTracks = SpaceToFill - allocatedSpace
					<li>currentBandFractionBreadth = accumulatedFractions = 0
					<li>For each <a href=#grid-track>Grid track</a> t in flexTracks
						<ol>
							<li>If t.NormalizedFlexValue &gt; currentBandFractionBreadth
								<ol>
									<li>If t.NormalizedFlexValue * accumulatedFractions &gt; spaceNeededFromFlexTracks then break from for loop
									<li>currentBandFractionBreadth = t.NormalizedFlexValue
								</ol>

							<li>accumulatedFractions += t.MaxTrackSizingFunction.FractionValue
							<li>spaceNeededFromFlexTracks += t.UsedBreadth
						</ol>

					<li>return spaceNeededFromFlexTracks / accumulatedFractions
				</ol>

		</dl>
	</dl>

<h3 data-level=10.3 id=shrink-to-fit><span class=secno>10.3 </span><span class=content>
Defining the Shrink-to-fit Behavior of Grid Elements</span><a class=section-link href=#shrink-to-fit>§</a></h3>

	<p>
		The <a href=http://www.w3.org/TR/css3-box/#shrink-to-fit>CSS3 Box Model</a> defines the shrink-to-fit behavior of an element as min(max(preferred minimum width, available width), preferred width), with available width defined in the Box Model spec. Accordingly, for the <a href=#grid-container>grid container</a> we define the preferred minimum width as the sum of the UsedBreadths of the <a href=#grid-track>Grid tracks</a> just before step 3 in ComputeUsedBreadthOfGridTracks, and the preferred width as the sum of the UsedBreadths of the <a href=#grid-track>Grid tracks</a> after the entire track sizing algorithm has been run with infinite space.


<h2 data-level=11 id=pagination><span class=secno>11 </span><span class=content>
Fragmenting Grid Layout</span><a class=section-link href=#pagination>§</a></h2>

	<p class=issue>
		Fill this in.

<h2 class=no-num id=acknowledgements><span class=content>
Acknowledgements</span><a class=section-link href=#acknowledgements>§</a></h2>
	<p>
		This specification is made possible by input from Erik Anderson, Rossen Atanassov, Arron Eicholz, Sylvain Galineau, Markus Mielke, John Jansen, Chris Jones, Kathy Kam, Veljko Miljanic, Peter Salas, Christian Stockwell, Eugene Veselov, and the CSS Working Group members. Thanks to Eliot Graff for editorial input.

<h2 class=no-num id=changes><span class=content>
Changes</span><a class=section-link href=#changes>§</a></h2>

	<p>
		The following significant changes were made since the
		<a href=http://www.w3.org/TR/2013/WD-css3-grid-layout-20130402/>2 April 2013 Working Draft</a>.

<p>	<ul>
		<li>Percentages are no longer resolved like they are in table layout.
		<li><a href=#auto-margins>Margin alignment</a> now matches <a href=http://www.w3.org/TR/css3-flexbox>Flexbox</a> and <a href=http://www.w3.org/TR/css3-align>Box Alignment</a>.
		<li>Renamed all the <a href=#placement>placement properties</a> and <a href=#grid-definition>grid-defining properties</a>.
		<li>Added the <a class=property data-link-type=propdesc href=#propdef-grid-template title=grid-template>grid-template</a> shorthand for all the grid-defining properties.
		<li>Refined <a href=#abspos-items>definitions of absolutely-positioned elements</a> whose containing block is a grid container.
		<li>Marked <a href=#visibility-collapse>grid row/column collapsing</a> as an open issue.
		<li>Changed the syntax of <a href=#named-lines>named lines</a> to use parentheses and identifiers rather than strings.
		<li>Removed the "none" value from <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>grid-auto-flow</a>, turning auto-placement on by default so that grid items by default don't stack on top of each other.
		<li>Made named grid areas <a href=#implict-named-lines>imply named grid lines</a>.
		<li>Added the <a class=property data-link-type=propdesc href=#propdef-grid-auto title=grid-auto>grid-auto</a> shorthand.
		<li>Added an option for dense packing to <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>grid-auto-flow</a>.
		<li>Redesigned <a href=#subgrid>subgrid</a> feature.
	</ul>

<h2 class="no-ref no-num" id=conformance><span class=content>
Conformance</span><a class=section-link href=#conformance>§</a></h2>

<h3 class=no-ref id=conventions><span class=content>
Document conventions</span><a class=section-link href=#conventions>§</a></h3>

    <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-biblio-type=normative data-link-type=biblio href=#rfc2119 title=RFC2119>[RFC2119]</a></p>

    <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    <div class=example>
        <p>This is an example of an informative example.</p>
    </div>

    <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    <p class=note>Note, this is an informative note.</p>

<h3 class=no-ref id=conformance-classes><span class=content>
Conformance classes</span><a class=section-link href=#conformance-classes>§</a></h3>

    <p>Conformance to this specification
    is defined for three conformance classes:
    <dl>
        <dt>style sheet
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#style-sheet>CSS
            style sheet</a>.
        <dt>renderer
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        <dt>authoring tool
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that writes a style sheet.
    </dl>

    <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

<h3 class=no-ref id=partial><span class=content>
Partial implementations</span><a class=section-link href=#partial>§</a></h3>

    <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href=http://www.w3.org/TR/CSS21/conform.html#ignore>ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>

<h3 class=no-ref id=experimental><span class=content>
Experimental implementations</span><a class=section-link href=#experimental>§</a></h3>

    <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href=http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords>prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>

<h3 class=no-ref id=testing><span class=content>
Non-experimental implementations</span><a class=section-link href=#testing>§</a></h3>

    <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group's website at
    <a href=http://www.w3.org/Style/CSS/Test/>http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href=http://lists.w3.org/Archives/Public/public-css-testsuite>public-css-testsuite@w3.org</a>
    mailing list.

<h2 class="no-num no-ref" id=references><span class=content>
References</span><a class=section-link href=#references>§</a></h2>

<h3 class="no-num no-ref" id=normative><span class=content>
Normative References</span><a class=section-link href=#normative>§</a></h3>
<div data-fill-with=normative-references><dl><dt id=css21 title=CSS21>[CSS21]<dd>Bert Bos; et al. <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607/>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607/>http://www.w3.org/TR/2011/REC-CSS2-20110607/</a><dt id=css3-align title=CSS3-ALIGN>[CSS3-ALIGN]<dd>Elika J. Etemad. <a href=http://www.w3.org/TR/2012/WD-css3-align-20120612/>CSS Box Alignment Module Level 3</a>. 12 June 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-align-20120612/>http://www.w3.org/TR/2012/WD-css3-align-20120612/</a><dt id=css3-flexbox title=CSS3-FLEXBOX>[CSS3-FLEXBOX]<dd>Tab Atkins Jr.; Elika J. Etemad; Alex Mogilevsky. <a href=http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/>CSS Flexible Box Layout Module</a>. 18 September 2012. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/>http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/</a><dt id=css3-writing-modes title=CSS3-WRITING-MODES>[CSS3-WRITING-MODES]<dd>Elika J. Etemad; Koji Ishii. <a href=http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/>CSS Writing Modes Module Level 3</a>. 15 November 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/>http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/</a><dt id=css3val title=CSS3VAL>[CSS3VAL]<dd>Håkon Wium Lie; Tab Atkins; Elika J. Etemad. <a href=http://www.w3.org/TR/2012/CR-css3-values-20120828/>CSS Values and Units Module Level 3</a>. 28 August 2012. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/CR-css3-values-20120828/>http://www.w3.org/TR/2012/CR-css3-values-20120828/</a><dt id=rfc2119 title=RFC2119>[RFC2119]<dd>S. Bradner. <a href=http://www.ietf.org/rfc/rfc2119.txt>Key words for use in RFCs to Indicate Requirement Levels</a>. URL: <a href=http://www.ietf.org/rfc/rfc2119.txt>http://www.ietf.org/rfc/rfc2119.txt</a></dl></div>

<h3 class="no-num no-ref" id=informative><span class=content>
Informative References</span><a class=section-link href=#informative>§</a></h3>
<div data-fill-with=informative-references><dl></dl></div>

<h2 class="no-num no-ref" id=index><span class=content>
Index</span><a class=section-link href=#index>§</a></h2>
<div data-fill-with=index><ul class=indexlist>
<li>automatic grid position, <a href=#automatic0 title="section 7.1">7.1</a>
<li>automatic grid span, <a href=#automatic title="section 7.1">7.1</a>
<li>auto-placement algorithm, <a href=#auto-placement-algorithm title="section 6.2.1">6.2.1</a>
<li>auto-placement cursor, <a href=#auto-placement-cursor title="section 6.2.1">6.2.1</a>
<li>auto (value), <a href=#valuedef-auto title="section 5.1">5.1</a>
<li>auto (value), <a href=#grid-placement-auto title="section 7.1">7.1</a>
<li>AvailableSpace, <a href=#AvailableSpace-definition title="section 10.1">10.1</a>
<li>column, <a href=#columns title="section 2">2</a>
<li>column axis, <a href=#column-axis title="section 2">2</a>
<li>columns (value), <a href=#valuedef-columns title="section 6.2">6.2</a>
<li>definite grid position, <a href=#definite0 title="section 7.1">7.1</a>
<li>definite grid span, <a href=#definite title="section 7.1">7.1</a>
<li>dense (value), <a href=#valuedef-dense title="section 6.2">6.2</a>
<li>explicit grid, <a href=#explicit-grid title="section 5">5</a>
<li>&lt;flex&gt;, <a href=#typedef-flex title="section 5.1.3">5.1.3</a>
<li>flexible length, <a href=#flexible-length title="section 5.1.3">5.1.3</a>
<li>&lt;flex&gt; (value), <a href=#valuedef-flex title="section 5.1">5.1</a>
<li>free space, <a href=#free-space title="section 5.1.3">5.1.3</a>
<li>grid, <a href=#grid title="section 2">2</a>
<li>grid area, <a href=#grid-area title="section 2.3">2.3</a>
<li>grid cell, <a href=#grid-cell title="section 2.1">2.1</a>
<li>grid column, <a href=#columns title="section 2">2</a>
<li>grid column line, <a href=#grid-line title="section 2.2">2.2</a>
<li>grid container, <a href=#grid-container title="section 3.1">3.1</a>
<li>grid formatting context, <a href=#grid-formatting-context title="section 3.1">3.1</a>
<li>grid item, <a href=#grid-item title="section 4">4</a>
<li>grid layout, <a href=#grid-layout title="section 2">2</a>
<li>grid line, <a href=#grid-line title="section 2.2">2.2</a>
<li>&lt;grid-line&gt;, <a href=#typedef-grid-line title="section 7.1">7.1</a>
<li>grid-placement property, <a href=#grid-placement-properties title="section 7.1">7.1</a>
<li>grid position, <a href=#grid-position title="section 7.1">7.1</a>
<li>grid row, <a href=#rows title="section 2">2</a>
<li>grid row line, <a href=#grid-line title="section 2.2">2.2</a>
<li>grid span, <a href=#grid-span title="section 7.1">7.1</a>
<li>&lt;‘grid-template-columns’&gt; / &lt;‘grid-template-rows’&gt; (value), <a href=#valuedef-grid-template-columns--grid-template-rows title="section 5.3">5.3</a>
<li>Grid track, <a href=#grid-track title="section 2.1">2.1</a>
<li>grid (value), <a href=#valuedef-grid title="section 3.1">3.1</a>
<li>hypothetical 1fr size, <a href=#hypothetical-1fr-size title="section 5.1.3">5.1.3</a>
<li>&lt;ident&gt; (value), <a href=#grid-placement-slot title="section 7.1">7.1</a>
<li>implicit grid, <a href=#implicit-grid title="section 6">6</a>
<li>implicit grid column, <a href=#implicit-grid-tracks title="section 6.1">6.1</a>
<li>implicit grid row, <a href=#implicit-grid-tracks title="section 6.1">6.1</a>
<li>implicit grid track, <a href=#implicit-grid-tracks title="section 6.1">6.1</a>
<li>implicit named line, <a href=#implicit-named-lines0 title="section 5.2.1">5.2.1</a>
<li>inline-grid (value), <a href=#valuedef-inline-grid title="section 3.1">3.1</a>
<li>&lt;integer&gt; &amp;&amp; &lt;ident&gt;? (value), <a href=#grid-placement-int title="section 7.1">7.1</a>
<li>&lt;length&gt; (value), <a href=#valuedef-length title="section 5.1">5.1</a>
<li>&lt;line-name-list&gt;, <a href=#typedef-line-name-list title="section 5.1">5.1</a>
<li>&lt;line-names&gt;, <a href=#typedef-line-names title="section 5.1">5.1</a>
<li>max-content (value), <a href=#valuedef-max-content title="section 5.1">5.1</a>
<li>MaxTrackSizingFunction, <a href=#MaxTrackSizingFunction-definition title="section 10.1">10.1</a>
<li>min-content (value), <a href=#valuedef-min-content title="section 5.1">5.1</a>
<li>minmax() (value), <a href=#valuedef-minmaxmin-max title="section 5.1">5.1</a>
<li>MinTrackSizingFunction, <a href=#MinTrackSizingFunction-definition title="section 10.1">10.1</a>
<li>named grid area, <a href=#named-grid-areas title="section 5.2">5.2</a>
<li>named line, <a href=#named-lines0 title="section 5.1.1">5.1.1</a>
<li>none (value), <a href=#valuedef-none0 title="section 5.1">5.1</a>
<li>none (value), <a href=#valuedef-none1 title="section 5.2">5.2</a>
<li>none (value), <a href=#valuedef-none2 title="section 5.3">5.3</a>
<li>none (value), <a href=#valuedef-none title="section 6.2">6.2</a>
<li>order-modified grid order, <a href=#order-modified-grid-order title="section 9.5">9.5</a>
<li>participates in baseline alignment, <a href=#baseline-participation title="section 9.5">9.5</a>
<li>&lt;percentage&gt; (value), <a href=#valuedef-percentage title="section 5.1">5.1</a>
<li>placement, <a href=#placement0 title="section 7.1">7.1</a>
<li>RemainingSpace, <a href=#RemainingSpace-definition title="section 10.1">10.1</a>
<li>repeat(), <a href=#funcdef-repeat title="section 5.1.2">5.1.2</a>
<li>row, <a href=#rows title="section 2">2</a>
<li>row axis, <a href=#row-axis title="section 2">2</a>
<li>rows (value), <a href=#valuedef-rows title="section 6.2">6.2</a>
<li>sizing function, <a href=#sizing-function title="section 5.1">5.1</a>
<li>SpanCount, <a href=#SpanCount-definition title="section 10.1">10.1</a>
<li>span &amp;&amp; [ &lt; || &lt;ident&gt; ] (value), <a href=#grid-placement-span-int title="section 7.1">7.1</a>
<li>&lt;string&gt;+ (value), <a href=#valuedef-string title="section 5.2">5.2</a>
<li>subgrid, <a href=#subgrid title="section 5.1.4">5.1.4</a>
<li>subgrid (value), <a href=#valuedef-subgrid title="section 5.1">5.1</a>
<li>&lt;track-breadth&gt;, <a href=#typedef-track-breadth title="section 5.1">5.1</a>
<li>track list, <a href=#track-list title="section 5.1">5.1</a>
<li>&lt;track-list&gt;, <a href=#typedef-track-list title="section 5.1">5.1</a>
<li>[ &lt;track-list&gt; / ]?
				[ &lt;line-names&gt;? &lt;string&gt; [ &lt;track-size&gt; &lt;line-names&gt; ]? ]+ (value), <a href=#valuedef--track-list---line-names-string--track-size-line-names-- title="section 5.3">5.3</a>
<li>&lt;track-size&gt;, <a href=#typedef-track-size title="section 5.1">5.1</a>
</ul></div>

<h2 class="no-num no-ref" id=property-index><span class=content>
Property index</span><a class=section-link href=#property-index>§</a></h2>
<div data-fill-with=property-index><table class=proptable><thead><tr><th scope=col>Name<th scope=col>Value<th scope=col>Initial<th scope=col>Applies To<th scope=col>Inh.<th scope=col>%ages<th scope=col>Media<th scope=col>Applies to<th scope=col>Computed value<th scope=col>New Values<tbody>
<tr><th scope=row><a data-property="">display</a><td><td><td><td><td><td><td><td><td>grid | inline-grid
<tr><th scope=row><a data-property="">grid-template-columns</a><td>none | <a class=production data-link-type=type href=#typedef-track-list>&lt;track-list&gt;</a> | subgrid <a class=production data-link-type=type href=#typedef-line-name-list>&lt;line-name-list&gt;</a>?<td>none<td><td>no<td>n/a<td>visual<td><a href=#grid-container>grid containers</a><td>As specified, except for <a data-link-for=grid-template-columns data-link-type=value href=#valuedef-auto>auto</a> (see prose)<td>
<tr><th scope=row><a data-property="">grid-template-rows</a><td>none | <a class=production data-link-type=type href=#typedef-track-list>&lt;track-list&gt;</a> | subgrid <a class=production data-link-type=type href=#typedef-line-name-list>&lt;line-name-list&gt;</a>?<td>none<td><td>no<td>n/a<td>visual<td><a href=#grid-container>grid containers</a><td>As specified, except for <a data-link-for=grid-template-columns data-link-type=value href=#valuedef-auto>auto</a> (see prose)<td>
<tr><th scope=row><a data-property="">grid-template-areas</a><td>none | <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a>+<td>none<td><td>no<td>n/a<td>visual<td><a href=#grid-container>grid containers</a><td>specified value<td>
<tr><th scope=row><a data-property="">grid-template</a><td>none | <a class=production data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>&lt;‘grid-template-columns’&gt;</a> / <a class=production data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>&lt;‘grid-template-rows’&gt;</a> |<br> [ <a class=production data-link-type=type href=#typedef-track-list>&lt;track-list&gt;</a> / ]? [ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>? <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a> [ <a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a> <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a> ]? ]+<td>see individual properties<td><td>see individual properties<td>see individual properties<td>visual<td><a href=#grid-container>grid containers</a><td>see individual properties<td>
<tr><th scope=row><a data-property="">grid-auto-columns</a><td><a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a><td>auto<td><td>no<td>see <a href=#track-sizing>Track Sizing</a><td>visual<td><a href=#grid-container>grid containers</a><td>see <a href=#track-sizing>Track Sizing</a><td>
<tr><th scope=row><a data-property="">grid-auto-rows</a><td><a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a><td>auto<td><td>no<td>see <a href=#track-sizing>Track Sizing</a><td>visual<td><a href=#grid-container>grid containers</a><td>see <a href=#track-sizing>Track Sizing</a><td>
<tr><th scope=row><a data-property="">grid-auto-flow</a><td>none | [ [ rows | columns ] &amp;&amp; dense? ]<td>rows<td><td>no<td>n/a<td>visual<td><a href=#grid-container>grid containers</a><td>specified value<td>
<tr><th scope=row><a data-property="">grid-auto-position</a><td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> / <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a><td>1 / 1<td><td>no<td>na/<td>visual<td><a href=#grid-container>grid containers</a><td>specified value<td>
<tr><th scope=row><a data-property="">grid-auto</a><td><a class=production data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>&lt;‘grid-auto-flow’&gt;</a> || [ <a class=production data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>&lt;‘grid-auto-columns’&gt;</a> [ / <a class=production data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>&lt;‘grid-auto-rows’&gt;</a> ]? ]<td>see individual properties<td><td>see individual properties<td>see individual properties<td>visual<td><a href=#grid-container>grid containers</a><td>see individual properties<td>
<tr><th scope=row><a data-property="">grid-row-start</a><td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a><td>auto<td><td>no<td>n/a<td>visual<td><a href=#grid-item>grid items</a><td>specified value (almost)<td>
<tr><th scope=row><a data-property="">grid-column-start</a><td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a><td>auto<td><td>no<td>n/a<td>visual<td><a href=#grid-item>grid items</a><td>specified value (almost)<td>
<tr><th scope=row><a data-property="">grid-row-end</a><td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a><td>auto<td><td>no<td>n/a<td>visual<td><a href=#grid-item>grid items</a><td>specified value (almost)<td>
<tr><th scope=row><a data-property="">grid-column-end</a><td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a><td>auto<td><td>no<td>n/a<td>visual<td><a href=#grid-item>grid items</a><td>specified value (almost)<td>
<tr><th scope=row><a data-property="">grid-column</a><td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> [ / <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> ]?<td>see individual properties<td><td>see individual properties<td>see individual properties<td>visual<td><a href=#grid-item>grid items</a><td>see individual properties<td>
<tr><th scope=row><a data-property="">grid-row</a><td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> [ / <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> ]?<td>see individual properties<td><td>see individual properties<td>see individual properties<td>visual<td><a href=#grid-item>grid items</a><td>see individual properties<td>
<tr><th scope=row><a data-property="">grid-area</a><td><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> [ / <a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> ]{0,3}<td>see individual properties<td><td>see individual properties<td>see individual properties<td>visual<td><a href=#grid-item>grid items</a><td>see individual properties<td></table></div>


</tablee>