<!DOCTYPE html><html lang=en><head>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Grid Layout Module Level 1</title>
  <link href=../default.css rel=stylesheet type=text/css>
  <link href=../csslogo.ico rel="shortcut icon" type=image/x-icon>
  <style>
  body {
    background: url("https://www.w3.org/StyleSheets/TR/logo-ED") top left no-repeat white;
    background-attachment: fixed;
    color: black;
    font-family: sans-serif;
    margin: 0 auto;
    max-width: 50em;
    padding: 2em 1em 2em 70px;
  }
  :link { color: #00C; background: transparent }
  :visited { color: #609; background: transparent }
  a[href]:active { color: #C00; background: transparent }
  a[href]:hover { background: #ffa }

  a[href] img { border-style: none }

  h1, h2, h3, h4, h5, h6 { text-align: left }
  h1, h2, h3 { color: #005A9C; }
  h1 { font: 170% sans-serif }
  h2 { font: 140% sans-serif }
  h3 { font: 120% sans-serif }
  h4 { font: bold 100% sans-serif }
  h5 { font: italic 100% sans-serif }
  h6 { font: small-caps 100% sans-serif }

  .hide { display: none }

  div.head { margin-bottom: 1em }
  div.head h1 { margin-top: 2em; clear: both }
  div.head table { margin-left: 2em; margin-top: 2em }

  p.copyright { font-size: small }
  p.copyright small { font-size: small }

  pre { margin-left: 2em }
  dt { font-weight: bold }

  ul.toc, ol.toc {
    list-style: none;
  }
  </style>
<style type=text/css>
.example {
	clear:both
}

.pseudo-code {
	font-family:monospace
}
.pseudo-code > ol {
	list-style-type:decimal
}
.pseudo-code > ol > li > ol {
	list-style-type:lower-latin
}
.pseudo-code > ol > li > ol > li > ol {
	list-style-type:lower-roman
}
.pseudo-code ul {
	list-style-type:disc
}

dd > p:nth-child(1) {
	margin-top:0
}

dd:last-child {
	margin-bottom: 0;
}

dl.phase {
	padding-left: .5em;
	border-left: .5em #e0e0e0 solid;
}
</style>

<script>self = (typeof window !== 'undefined')
	? window   // if in browser
	: (
		(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)
		? self // if in worker
		: {}   // if in node js
	);

/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 * MIT license http://www.opensource.org/licenses/mit-license.php/
 * @author Lea Verou http://lea.verou.me
 */

var Prism = (function(){

// Private helper vars
var lang = /\blang(?:uage)?-(?!\*)(\w+)\b/i;

var _ = self.Prism = {
	util: {
		encode: function (tokens) {
			if (tokens instanceof Token) {
				return new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);
			} else if (_.util.type(tokens) === 'Array') {
				return tokens.map(_.util.encode);
			} else {
				return tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\u00a0/g, ' ');
			}
		},

		type: function (o) {
			return Object.prototype.toString.call(o).match(/\[object (\w+)\]/)[1];
		},

		// Deep clone a language definition (e.g. to extend it)
		clone: function (o) {
			var type = _.util.type(o);

			switch (type) {
				case 'Object':
					var clone = {};

					for (var key in o) {
						if (o.hasOwnProperty(key)) {
							clone[key] = _.util.clone(o[key]);
						}
					}

					return clone;

				case 'Array':
					return o.slice();
			}

			return o;
		}
	},

	languages: {
		extend: function (id, redef) {
			var lang = _.util.clone(_.languages[id]);

			for (var key in redef) {
				lang[key] = redef[key];
			}

			return lang;
		},

		// Insert a token before another token in a language literal
		insertBefore: function (inside, before, insert, root) {
			root = root || _.languages;
			var grammar = root[inside];
			var ret = {};

			for (var token in grammar) {

				if (grammar.hasOwnProperty(token)) {

					if (token == before) {

						for (var newToken in insert) {

							if (insert.hasOwnProperty(newToken)) {
								ret[newToken] = insert[newToken];
							}
						}
					}

					ret[token] = grammar[token];
				}
			}

			return root[inside] = ret;
		},

		// Traverse a language definition with Depth First Search
		DFS: function(o, callback, type) {
			for (var i in o) {
				if (o.hasOwnProperty(i)) {
					callback.call(o, i, o[i], type || i);

					if (_.util.type(o[i]) === 'Object') {
						_.languages.DFS(o[i], callback);
					} else if (_.util.type(o[i]) === 'Array') {
						_.languages.DFS(o[i], callback, i);
					}
				}
			}
		}
	},

	highlightAll: function(async, callback) {
		var elements = document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');
		for (var i=0, element; element = elements[i++];) {
			if (element.classList.contains("idl")) {
				// Bikeshed handles IDL blocks already.
				continue;
			}
			_.highlightElement(element, async === true, callback);
		}

		var elements = document.querySelectorAll('pre[class*="language-"], [class*="language-"] pre, pre[class*="lang-"], [class*="lang-"] pre');
		for (var i=0, element; element = elements[i++];) {
			if (element.firstElementChild && element.firstElementChild.tagName.toLowerCase() == "code") {
				// Already handled by the previous loop
				continue;
			}
			if (element.classList.contains("idl")) {
				// Bikeshed handles IDL blocks already.
				continue;
			}
			_.highlightElement(element, async === true, callback);
		}
	},

	highlightElement: function(element, async, callback) {
		// Find language
		var language, grammar, parent = element;

		while (parent && !lang.test(parent.className)) {
			parent = parent.parentNode;
		}

		if (parent) {
			language = (parent.className.match(lang) || [,''])[1];
			grammar = _.languages[language];
		}

		if (!grammar) {
			return;
		}

		// Set language on the element, if not present
		element.className = element.className.replace(lang, '').replace(/\s+/g, ' ') + ' language-' + language;

		// Set language on the parent, for styling
		parent = element.parentNode;

		if (/pre/i.test(parent.nodeName)) {
			parent.className = parent.className.replace(lang, '').replace(/\s+/g, ' ') + ' language-' + language;
		}

		var code = element.textContent;

		if(!code) {
			return;
		}

		var env = {
			element: element,
			language: language,
			grammar: grammar,
			code: code
		};

		_.hooks.run('before-highlight', env);

		if (async && self.Worker) {
			var worker = new Worker(_.filename);

			worker.onmessage = function(evt) {
				env.highlightedCode = Token.stringify(JSON.parse(evt.data), language);

				_.hooks.run('before-insert', env);

				env.element.innerHTML = env.highlightedCode;

				callback && callback.call(env.element);
				_.hooks.run('after-highlight', env);
			};

			worker.postMessage(JSON.stringify({
				language: env.language,
				code: env.code
			}));
		}
		else {
			env.highlightedCode = _.highlight(env.code, env.grammar, env.language)

			_.hooks.run('before-insert', env);

			env.element.innerHTML = env.highlightedCode;

			callback && callback.call(element);

			_.hooks.run('after-highlight', env);
		}
	},

	highlight: function (text, grammar, language) {
		var tokens = _.tokenize(text, grammar);
		return Token.stringify(_.util.encode(tokens), language);
	},

	tokenize: function(text, grammar, language) {
		var Token = _.Token;

		var strarr = [text];

		var rest = grammar.rest;

		if (rest) {
			for (var token in rest) {
				grammar[token] = rest[token];
			}

			delete grammar.rest;
		}

		tokenloop: for (var token in grammar) {
			if(!grammar.hasOwnProperty(token) || !grammar[token]) {
				continue;
			}

			var patterns = grammar[token];
			patterns = (_.util.type(patterns) === "Array") ? patterns : [patterns];

			for (var j = 0; j < patterns.length; ++j) {
				var pattern = patterns[j],
					inside = pattern.inside,
					lookbehind = !!pattern.lookbehind,
					lookbehindLength = 0,
					alias = pattern.alias;

				pattern = pattern.pattern || pattern;

				for (var i=0; i<strarr.length; i++) { // Don’t cache length as it changes during the loop

					var str = strarr[i];

					if (strarr.length > text.length) {
						// Something went terribly wrong, ABORT, ABORT!
						break tokenloop;
					}

					if (str instanceof Token) {
						continue;
					}

					pattern.lastIndex = 0;

					var match = pattern.exec(str);

					if (match) {
						if(lookbehind) {
							lookbehindLength = match[1].length;
						}

						var from = match.index - 1 + lookbehindLength,
							match = match[0].slice(lookbehindLength),
							len = match.length,
							to = from + len,
							before = str.slice(0, from + 1),
							after = str.slice(to + 1);

						var args = [i, 1];

						if (before) {
							args.push(before);
						}

						var wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias);

						args.push(wrapped);

						if (after) {
							args.push(after);
						}

						Array.prototype.splice.apply(strarr, args);
					}
				}
			}
		}

		return strarr;
	},

	hooks: {
		all: {},

		add: function (name, callback) {
			var hooks = _.hooks.all;

			hooks[name] = hooks[name] || [];

			hooks[name].push(callback);
		},

		run: function (name, env) {
			var callbacks = _.hooks.all[name];

			if (!callbacks || !callbacks.length) {
				return;
			}

			for (var i=0, callback; callback = callbacks[i++];) {
				callback(env);
			}
		}
	}
};

var Token = _.Token = function(type, content, alias) {
	this.type = type;
	this.content = content;
	this.alias = alias;
};

Token.stringify = function(o, language, parent) {
	if (typeof o == 'string') {
		return o;
	}

	if (Object.prototype.toString.call(o) == '[object Array]') {
		return o.map(function(element) {
			return Token.stringify(element, language, o);
		}).join('');
	}

	var env = {
		type: o.type,
		content: Token.stringify(o.content, language, parent),
		tag: 'span',
		classes: ['token', o.type],
		attributes: {},
		language: language,
		parent: parent
	};

	if (env.type == 'comment') {
		env.attributes['spellcheck'] = 'true';
	}

	if (o.alias) {
		var aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];
		Array.prototype.push.apply(env.classes, aliases);
	}

	_.hooks.run('wrap', env);

	var attributes = '';

	for (var name in env.attributes) {
		attributes += name + '="' + (env.attributes[name] || '') + '"';
	}

	return '<' + env.tag + ' class="' + env.classes.join(' ') + '" ' + attributes + '>' + env.content + '</' + env.tag + '>';

};

if (!self.document) {
	if (!self.addEventListener) {
		// in Node.js
		return self.Prism;
	}
 	// In worker
	self.addEventListener('message', function(evt) {
		var message = JSON.parse(evt.data),
		    lang = message.language,
		    code = message.code;

		self.postMessage(JSON.stringify(_.util.encode(_.tokenize(code, _.languages[lang]))));
		self.close();
	}, false);

	return self.Prism;
}

// Get current script and highlight
var script = document.getElementsByTagName('script');

script = script[script.length - 1];

if (script) {
	_.filename = script.src;

	if (document.addEventListener && !script.hasAttribute('data-manual')) {
		document.addEventListener('DOMContentLoaded', _.highlightAll);
	}
}

return self.Prism;

})();

if (typeof module !== 'undefined' && module.exports) {
	module.exports = Prism;
}
;
Prism.languages.markup = {
	'comment': /<!--[\w\W]*?-->/g,
	'prolog': /<\?.+?\?>/,
	'doctype': /<!DOCTYPE.+?>/,
	'cdata': /<!\[CDATA\[[\w\W]*?]]>/i,
	'tag': {
		pattern: /<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,
		inside: {
			'tag': {
				pattern: /^<\/?[\w:-]+/i,
				inside: {
					'punctuation': /^<\/?/,
					'namespace': /^[\w-]+?:/
				}
			},
			'attr-value': {
				pattern: /=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,
				inside: {
					'punctuation': /=|>|"/g
				}
			},
			'punctuation': /\/?>/g,
			'attr-name': {
				pattern: /[\w:-]+/g,
				inside: {
					'namespace': /^[\w-]+?:/
				}
			}

		}
	},
	'entity': /\&#?[\da-z]{1,8};/gi
};

// Plugin to make entity title show the real entity, idea by Roman Komarov
Prism.hooks.add('wrap', function(env) {

	if (env.type === 'entity') {
		env.attributes['title'] = env.content.replace(/&amp;/, '&');
	}
});
;
Prism.languages.css = {
	'comment': /\/\*[\w\W]*?\*\//g,
	'atrule': {
		pattern: /@[\w-]+?.*?(;|(?=\s*{))/gi,
		inside: {
			'punctuation': /[;:]/g
		}
	},
	'url': /url\((["']?).*?\1\)/gi,
	'selector': /[^\{\}\s][^\{\};]*(?=\s*\{)/g,
	'property': /(\b|\B)[\w-]+(?=\s*:)/ig,
	'string': /("|')(\\?.)*?\1/g,
	'important': /\B!important\b/gi,
	'punctuation': /[\{\};:]/g,
	'function': /[-a-z0-9]+(?=\()/ig
};

if (Prism.languages.markup) {
	Prism.languages.insertBefore('markup', 'tag', {
		'style': {
			pattern: /<style[\w\W]*?>[\w\W]*?<\/style>/ig,
			inside: {
				'tag': {
					pattern: /<style[\w\W]*?>|<\/style>/ig,
					inside: Prism.languages.markup.tag.inside
				},
				rest: Prism.languages.css
			}
		}
	});
};
Prism.languages.css.selector = {
	pattern: /[^\{\}\s][^\{\}]*(?=\s*\{)/g,
	inside: {
		'pseudo-element': /:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,
		'pseudo-class': /:[-\w]+(?:\(.*\))?/g,
		'class': /\.[-:\.\w]+/g,
		'id': /#[-:\.\w]+/g
	}
};

Prism.languages.insertBefore('css', 'ignore', {
	'hexcode': /#[\da-f]{3,6}/gi,
	'entity': /\\[\da-f]{1,8}/gi,
	'number': /[\d%\.]+/g
});;
</script><style>/* http://prismjs.com/download.html?themes=prism&languages=clike */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', monospace;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important {
	font-weight: bold;
}

.token.entity {
	cursor: help;
}
</style></head>
<body class=h-entry>
<div class=head>
  <p data-fill-with=logo><a class=logo href=http://www.w3.org/>
    <img alt=W3C height=48 src=https://www.w3.org/Icons/w3c_home width=72>
</a>
</p>
  <h1 class="p-name no-ref" id=title>CSS Grid Layout Module Level 1</h1>
  <h2 class="no-num no-toc no-ref heading settled" id=subtitle><span class=content>Editor’s Draft,
    <time class=dt-updated datetime=2014-12-18>18 December 2014</time></span></h2>
  <div data-fill-with=spec-metadata><dl><dt>This version:<dd><a class=u-url href=http://dev.w3.org/csswg/css-grid/>http://dev.w3.org/csswg/css-grid/</a><dt>Latest version:<dd><a href=http://www.w3.org/TR/css-grid-1/>http://www.w3.org/TR/css-grid-1/</a><dt>Previous Versions:<dd><a href=http://www.w3.org/TR/2014/WD-css-grid-1-20140513/ rel=previous>http://www.w3.org/TR/2014/WD-css-grid-1-20140513/</a><dd><a href=http://www.w3.org/TR/2014/WD-css-grid-1-20140123/ rel=previous>http://www.w3.org/TR/2014/WD-css-grid-1-20140123/</a><dd><a href=http://www.w3.org/TR/2013/WD-css3-grid-layout-20130402/ rel=previous>http://www.w3.org/TR/2013/WD-css3-grid-layout-20130402/</a><dd><a href=http://www.w3.org/TR/2012/WD-css3-grid-layout-20121106/ rel=previous>http://www.w3.org/TR/2012/WD-css3-grid-layout-20121106/</a><dt>Feedback:<dd><span><a href="mailto:www-style@w3.org?subject=%5Bcss-grid%5D%20feedback">www-style@w3.org</a> with subject line “<kbd>[css-grid] <var>… message topic …</var></kbd>” (<a href=http://lists.w3.org/Archives/Public/www-style/ rel=discussion>archives</a>)</span><dt>Issue Tracking:<dd><a href=#issues-index>Inline In Spec</a><dt class=editor>Editors:<dd class=editor><div class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://www.xanthir.com/contact/>Tab Atkins Jr.</a> (<span class="p-org org">Google</span>)</div><dd class=editor><div class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://fantasai.inkedblade.net/contact>fantasai</a> (<span class="p-org org">Mozilla</span>)</div><dd class=editor><div class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:ratan@microsoft.com>Rossen Atanassov</a> (<span class="p-org org">Microsoft</span>)</div><dt>Former Editors:<dd><div class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:alexmog@microsoft.com>Alex Mogilevsky</a> (<span class="p-org org">Microsoft Corporation</span>)</div><dd><div class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:pcupp@microsoft.com>Phil Cupp</a> (<span class="p-org org">Microsoft Corporation</span>)</div><dt>Issues list:<dd><span><a href="https://www.w3.org/Bugs/Public/buglist.cgi?product=CSS&amp;component=Grid+Layout&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED">In Bugzilla</a></span></dl></div>
  <div data-fill-with=warning></div>
  <p class=copyright data-fill-with=copyright><a href=http://www.w3.org/Consortium/Legal/ipr-notice#Copyright>Copyright</a> © 2014 <a href=http://www.w3.org/><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=http://www.csail.mit.edu/><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href=http://www.ercim.eu/><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href=http://www.keio.ac.jp/>Keio</a>, <a href=http://ev.buaa.edu.cn/>Beihang</a>), All Rights Reserved. W3C <a href=http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer>liability</a>, <a href=http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks>trademark</a> and <a href=http://www.w3.org/Consortium/Legal/copyright-documents>document use</a> rules apply.
</p>
  <hr title="Separator for header">
</div>

<h2 class="no-num no-toc no-ref heading settled" id=abstract><span class=content>Abstract</span></h2>
<div class=p-summary data-fill-with=abstract><p>This CSS module defines a two-dimensional grid-based layout system, optimized for user interface design. In the grid layout model, the children of a grid container can be positioned into arbitrary slots in a flexible or fixed predefined layout grid.</p>

<a href=http://www.w3.org/TR/CSS/>CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</div>

<h2 class="no-num no-toc no-ref heading settled" id=status><span class=content>Status of this document</span></h2>
<div data-fill-with=status><p>
	This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress.

<p>
	The (<a href=http://lists.w3.org/Archives/Public/www-style/>archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-grid%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>
	(see <a href=http://www.w3.org/Mail/Request>instructions</a>)
	is preferred for discussion of this specification.
	When sending e-mail,
	please put the text “css-grid” in the subject,
	preferably like this:
	“[css-grid] <em>…summary of comment…</em>”

<p>
	This document was produced by the <a href=http://www.w3.org/Style/CSS/members>CSS Working Group</a>
	(part of the <a href=http://www.w3.org/Style/>Style Activity</a>).

<p>
	This document was produced by a group operating under
	the <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/>5 February 2004 W3C Patent Policy</a>.
	W3C maintains a <a href=http://www.w3.org/2004/01/pp-impl/32061/status rel=disclosure>public list of any patent disclosures</a>
	made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential>Essential Claim(s)</a>
	must disclose the information in accordance with <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure>section 6 of the W3C Patent Policy</a>.

<p>
	This document is governed by the <a href=http://www.w3.org/2014/Process-20140801/>1 August 2014 W3C Process Document</a>.
</div>
<div data-fill-with=at-risk><p>The following features are at-risk, and may be dropped during the CR period:
<ul><li>the <a class=css data-link-for=grid-template-rows data-link-type=maybe href=#valdef-grid-template-rows-grid-template-columns-subgrid>subgrid</a> value of <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a>, and its component parts individually</ul></div>

<h2 class="no-num no-toc no-ref heading settled" id=contents><span class=content>Table of Contents</span></h2>
<div data-fill-with=table-of-contents role=navigation><ul class=toc role=directory><li><a href=#intro><span class=secno>1</span> <span class=content>
Introduction and Overview</span></a><ul class=toc><li><a href=#background><span class=secno>1.1</span> <span class=content>
Background and Motivation</span></a><li><a href=#adapting-to-available-space><span class=secno>1.2</span> <span class=content>
Adapting Layouts to Available Space</span></a><li><a href=#source-independence><span class=secno>1.3</span> <span class=content>
Source-Order Independence</span></a><li><a href=#grid-layering><span class=secno>1.4</span> <span class=content>
Grid Layering of Elements</span></a></ul><li><a href=#grid-concepts><span class=secno>2</span> <span class=content>
Grid Layout Concepts and Terminology</span></a><ul class=toc><li><a href=#grid-track-concept><span class=secno>2.1</span> <span class=content>
Grid Tracks and Cells</span></a><li><a href=#grid-line-concept><span class=secno>2.2</span> <span class=content>
Grid Lines</span></a><li><a href=#grid-area-concept><span class=secno>2.3</span> <span class=content>
Grid Areas</span></a></ul><li><a href=#grid-model><span class=secno>3</span> <span class=content>
Grid Containers</span></a><ul class=toc><li><a href=#grid-containers><span class=secno>3.1</span> <span class=content>
Establishing Grid Containers: the <span class=css data-link-for=display data-link-type=maybe title=grid>grid</span> and <span class=css data-link-type=maybe title=inline-grid>inline-grid</span> <span class=property data-link-type=propdesc title=display>display</span> values</span></a><li><a href=#intrinsic-sizes><span class=secno>3.2</span> <span class=content>
Sizing Grid Containers</span></a></ul><li><a href=#grid-items><span class=secno>4</span> <span class=content>
Grid Items</span></a><ul class=toc><li><a href=#visibility-collapse><span class=secno>4.1</span> <span class=content>
	Collapsed Grid Items: the <span class=property data-link-type=propdesc title=visibility>visibility</span> property</span></a><li><a href=#order-property><span class=secno>4.2</span> <span class=content>
Reordered Grid Items: the <span class=property data-link-type=propdesc title=order>order</span> property</span></a><li><a href=#static-position><span class=secno>4.3</span> <span class=content>
Static Position of Grid Container Children</span></a><li><a href=#z-order><span class=secno>4.4</span> <span class=content>
Z-axis Ordering: the <span class=property data-link-type=propdesc title=z-index>z-index</span> property</span></a></ul><li><a href=#grid-definition><span class=secno>5</span> <span class=content>
The Explicit Grid</span></a><ul class=toc><li><a href=#track-sizing><span class=secno>5.1</span> <span class=content>
Track Sizing: the <span class=property data-link-type=propdesc title=grid-template-rows>grid-template-rows</span> and <span class=property data-link-type=propdesc title=grid-template-columns>grid-template-columns</span> properties</span></a><ul class=toc><li><a href=#named-lines><span class=secno>5.1.1</span> <span class=content>
Named Grid Lines: the ''(<span class=production data-link-type=type title="<custom-ident>">&lt;custom-ident&gt;</span>*)'' syntax</span></a><li><a href=#repeat-notation><span class=secno>5.1.2</span> <span class=content>
Repeating Rows and Columns: the <span class=css data-link-type=maybe title=repeat()>repeat()</span> notation</span></a><li><a href=#fr-unit><span class=secno>5.1.3</span> <span class=content>
Flexible Lengths: the <span class=css>fr</span> unit</span></a><li><a href=#subgrids><span class=secno>5.1.4</span> <span class=content>
Subgrids: the <span class=css data-link-for=grid-template-rows data-link-type=maybe title=subgrid>subgrid</span> keyword</span></a><li><a href=#resolved-track-list><span class=secno>5.1.5</span> <span class=content>
Resolved Values</span></a></ul><li><a href=#grid-template-areas-property><span class=secno>5.2</span> <span class=content>
Named Areas: the <span class=property data-link-type=propdesc title=grid-template-areas>grid-template-areas</span> property</span></a><ul class=toc><li><a href=#implicit-named-lines><span class=secno>5.2.1</span> <span class=content>
Implicit Named Lines</span></a><li><a href=#implicit-named-areas><span class=secno>5.2.2</span> <span class=content>
Implicit Named Areas</span></a></ul><li><a href=#explicit-grid-shorthand><span class=secno>5.3</span> <span class=content>
Explicit Grid Shorthand: the <span class=property data-link-type=propdesc title=grid-template>grid-template</span> property</span></a></ul><li><a href=#implicit-grids><span class=secno>6</span> <span class=content>
The Implicit Grid</span></a><ul class=toc><li><a href=#auto-tracks><span class=secno>6.1</span> <span class=content>
Sizing Auto-generated Rows and Columns: the <span class=property data-link-type=propdesc title=grid-auto-rows>grid-auto-rows</span> and <span class=property data-link-type=propdesc title=grid-auto-columns>grid-auto-columns</span> properties</span></a><li><a href=#grid-auto-flow-property><span class=secno>6.2</span> <span class=content>
<span data-dfn-type=dfn data-noexport="" title="auto-placement|automatic placement">Automatic Placement</span>: the <span class=property data-link-type=propdesc title=grid-auto-flow>grid-auto-flow</span> property</span></a></ul><li><a href=#grid-shorthand><span class=secno>7</span> <span class=content>
Grid Definition Shorthand: the <span class=property data-link-type=propdesc title=grid>grid</span> property</span></a><li><a href=#placement><span class=secno>8</span> <span class=content>
Placing Grid Items</span></a><ul class=toc><li><a href=#common-uses><span class=secno>8.1</span> <span class=content>
Common Patterns for Grid Placement</span></a><ul class=toc><li><a href=#common-uses-named-areas><span class=secno>8.1.1</span> <span class=content>
Named Areas</span></a><li><a href=#common-uses-numeric><span class=secno>8.1.2</span> <span class=content>
Numeric Indexes and Spans</span></a><li><a href=#common-uses-named-lines><span class=secno>8.1.3</span> <span class=content>
Named Lines and Spans</span></a><li><a href=#common-uses-auto-placement><span class=secno>8.1.4</span> <span class=content>
Auto Placement</span></a><li><a href=#common-uses-auto-sizing><span class=secno>8.1.5</span> <span class=content>
Auto Sizing Subgrids</span></a></ul><li><a href=#line-placement><span class=secno>8.2</span> <span class=content>
Line-based Placement: the <span class=property data-link-type=propdesc title=grid-row-start>grid-row-start</span>, <span class=property data-link-type=propdesc title=grid-column-start>grid-column-start</span>, <span class=property data-link-type=propdesc title=grid-row-end>grid-row-end</span>, and <span class=property data-link-type=propdesc title=grid-column-end>grid-column-end</span> properties</span></a><ul class=toc><li><a href=#grid-placement-errors><span class=secno>8.2.1</span> <span class=content>
Grid Placement Conflict Handling</span></a></ul><li><a href=#placement-shorthands><span class=secno>8.3</span> <span class=content>
Placement Shorthands: the <span class=property data-link-type=propdesc title=grid-column>grid-column</span>, <span class=property data-link-type=propdesc title=grid-row>grid-row</span>, and <span class=property data-link-type=propdesc title=grid-area>grid-area</span> properties</span></a><li><a href=#abspos-items><span class=secno>8.4</span> <span class=content>
Absolutely-positioned Grid Items</span></a><li><a href=#auto-placement-algo><span class=secno>8.5</span> <span class=content>
Grid Item Placement Algorithm</span></a></ul><li><a href=#alignment><span class=secno>9</span> <span class=content>
Alignment</span></a><ul class=toc><li><a href=#auto-margins><span class=secno>9.1</span> <span class=content>
Aligning with <span data-link-for=margin data-link-type=value title=auto>auto</span> margins</span></a><li><a href=#row-align><span class=secno>9.2</span> <span class=content>
Row-axis Alignment: the <span class=property data-link-type=propdesc title=justify-self>justify-self</span> and <span class=property data-link-type=propdesc title=justify-items>justify-items</span> properties</span></a><li><a href=#column-align><span class=secno>9.3</span> <span class=content>
Column-axis Alignment: the <span class=property data-link-type=propdesc title=align-self>align-self</span> and <span class=property data-link-type=propdesc title=align-items>align-items</span> properties</span></a><li><a href=#grid-align><span class=secno>9.4</span> <span class=content>
Aligning the Grid: the <span class=property data-link-type=propdesc title=justify-content>justify-content</span> and <span class=property data-link-type=propdesc title=align-content>align-content</span> properties</span></a><li><a href=#grid-baselines><span class=secno>9.5</span> <span class=content>
Grid Baselines</span></a></ul><li><a href=#layout-algorithm><span class=secno>10</span> <span class=content>
Track Sizing Algorithm</span></a><ul class=toc><li><a href=#algo-terms><span class=secno>10.1</span> <span class=content>
Definition of Terms for use in Calculating Grid Track Sizes</span></a><li><a href=#algo-overview><span class=secno>10.2</span> <span class=content>
Overall Sizing Algorithm</span></a><li><a href=#algo-init><span class=secno>10.3</span> <span class=content>
Initialize Track Sizes</span></a><li><a href=#algo-content><span class=secno>10.4</span> <span class=content>
Resolve Content-Based Track Sizing Functions</span></a><li><a href=#algo-grow-tracks><span class=secno>10.5</span> <span class=content>
Grow All Tracks To Their Max</span></a><li><a href=#algo-flex-tracks><span class=secno>10.6</span> <span class=content>
Process Flexible Tracks</span></a><ul class=toc><li><a href=#algo-find-fr-size><span class=secno>10.6.1</span> <span class=content>
Find the Size of an <span class=css>fr</span></span></a></ul></ul><li><a href=#pagination><span class=secno>11</span> <span class=content>
Fragmenting Grid Layout</span></a><ul class=toc><li><a href=#fragmentation-alg><span class=secno>11.1</span> <span class=content>
Sample Fragmentation Algorithm</span></a></ul><li><a href=#acks><span class=secno></span> <span class=content>
Acknowledgements</span></a><li><a href=#changes><span class=secno></span> <span class=content>
Changes</span></a><li><a href=#translated-algo><span class=secno></span> <span class=content>
Appendix A: Translated Layout Algorithm</span></a><li><a href=#conformance><span class=secno></span> <span class=content>
Conformance</span></a><ul class=toc><li><a href=#conventions><span class=secno></span> <span class=content>
Document conventions</span></a><li><a href=#conformance-classes><span class=secno></span> <span class=content>
Conformance classes</span></a><li><a href=#partial><span class=secno></span> <span class=content>
Partial implementations</span></a><li><a href=#experimental><span class=secno></span> <span class=content>
Experimental implementations</span></a><li><a href=#testing><span class=secno></span> <span class=content>
Non-experimental implementations</span></a></ul><li><a href=#references><span class=secno></span> <span class=content>References</span></a><ul class=toc><li><a href=#normative><span class=secno></span> <span class=content>Normative References</span></a><li><a href=#informative><span class=secno></span> <span class=content>Informative References</span></a></ul><li><a href=#index><span class=secno></span> <span class=content>Index</span></a><li><a href=#property-index><span class=secno></span> <span class=content>Property Index</span></a><li><a href=#issues-index><span class=secno></span> <span class=content>Issues Index</span></a></ul></div>
<main>




<h2 class="heading settled" data-level=1 id=intro><span class=secno>1. </span><span class=content>
Introduction and Overview</span><a class=self-link href=#intro></a></h2>

<p>Grid layout contains features targeted at web application authors.
	The grid can be used to achieve many different layouts.
	It excels at dividing up space for major regions of an application,
	or defining the relationship in terms of size, position, and layer
	between parts of a control built from HTML primitives.</p>

<p>Like tables,
	grid layout enables an author to align elements into columns and rows,
	but unlike tables,
	grid layout doesn’t have content structure,
	and thus enables a wide variety of layouts not possible with tables.
	For example, the children of a grid container can position themselves
	such that they overlap and layer similar to positioned elements.</p>

<p>In addition, the absence of content structure in grid layout helps to manage changes to layout
	by using fluid and source order independent layout techniques.
	By combining media queries with the CSS properties that control layout of the grid container and its children,
	authors can adapt their layout to changes in device form factors, orientation, and available space,
	without needing to alter the semantic nature of their content.</p>


<h3 class="heading settled" data-level=1.1 id=background><span class=secno>1.1. </span><span class=content>
Background and Motivation</span><a class=self-link href=#background></a></h3>

	<figure class=sidefigure>
		<img alt="Image: Application layout example requiring horizontal and vertical alignment." class=figure src=images/basic-form.png>
		<figcaption>Application layout example requiring horizontal and vertical alignment.</figcaption>
	</figure>

<p>As websites evolved from simple documents into complex, interactive applications,
	tools for document layout, e.g. floats,
	were not necessarily well suited for application layout.
	By using a combination of tables, JavaScript, or careful measurements on floated elements,
	authors discovered workarounds to achieve desired layouts.
	Layouts that adapted to the available space were often brittle
	and resulted in counter-intuitive behavior as space became constrained.
	As an alternative, authors of many web applications opted for a fixed layout
	that cannot take advantage of changes in the available rendering space on a screen.</p>

<p>The capabilities of grid layout address these problems.
	It provides a mechanism for authors to divide available space for layout into columns and rows
	using a set of predictable sizing behaviors.
	Authors can then precisely position and size the building block elements of their application
	by into <a data-link-type=dfn href=#grid-area>grid areas</a> defined by these columns and rows.
	Figure 1 illustrates a basic layout which can be achieved with grid layout.</p>

<h3 class="heading settled" data-level=1.2 id=adapting-to-available-space><span class=secno>1.2. </span><span class=content>
Adapting Layouts to Available Space</span><a class=self-link href=#adapting-to-available-space></a></h3>

	<figure class=sidefigure>
			<img alt="Image: Five grid items arranged according to content size and available space." src=images/game-smaller.png>

		<figcaption>Five grid items arranged according to content size and available space.</figcaption>
	</figure>

	<figure class=sidefigure>
			<img alt="Image: Growth in the grid due to an increase in available space." src=images/game-larger.png>

		<figcaption>Growth in the grid due to an increase in available space.</figcaption>
	</figure>

<p>Grid layout can be used to intelligently reflow elements within a webpage.
	Figure 2 represents a game with five major areas in the layout:
	the game title, stats area, game board, score area, and control area.
	The author’s intent is to divide the space for the game such that:</p>

	<ul>
		<li>
			The stats area always appears immediately under the game title.
		<li>
			The game board appears to the right of the stats and title.
		<li>
			The top of the game title and the game board should always align.
		<li>
			The bottom of the game board and the stats area align when the game has reached its minimum height,
			but otherwise the game board will stretch to take advantage of all the screen real-estate available to it.
		<li>
			The score area should align into the column created by the game and stats area,
			while the controls are centered under the board.
	</ul>

<p>As an alternative to using script to control the absolute position, width, and height of all elements,
	the author can use grid layout,
	as shown in Figure 3.
	The following example shows how an author might achieve all the sizing, placement, and alignment rules declaratively.</p>

<p>Note that there are multiple ways to specify the structure of the grid
	and to position and size <a data-link-type=dfn href=#grid-item>grid items</a>,
	each optimized for different scenarios.
	This example illustrates one that an author may use to define the position and space for each <a data-link-type=dfn href=#grid-item>grid item</a>
	using the <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> properties on the <a data-link-type=dfn href=#grid-container>grid container</a>,
	and the <a class=property data-link-type=propdesc href=#propdef-grid-row>grid-row</a> and <a class=property data-link-type=propdesc href=#propdef-grid-column>grid-column</a> properties on each <a data-link-type=dfn href=#grid-item>grid item</a>.</p>

	<div class=example>
		<pre class=lang-css>#grid {
  display: grid;

  /* Two columns: the first sized to content, the second receives
   * the remaining space, but is never smaller than the minimum
   * size of the board or the game controls, which occupy this
   * column. */
  grid-template-columns: auto minmax(min-content, 1fr);

  /* Three rows: the first and last sized to content, the middle
   * row receives the remaining space, but is never smaller than
   * the minimum height of the board or stats areas. */
  grid-template-rows: auto minmax(min-content, 1fr) auto
}

/* Each part of the game is positioned between grid lines by
 * referencing the starting grid line and then specifying, if more
 * than one, the number of rows or columns spanned to determine
 * the ending grid line, which establishes bounds for the part. */
#title    { grid-column: 1; grid-row: 1 }
#score    { grid-column: 1; grid-row: 3 }
#stats    { grid-column: 1; grid-row: 2; justify-self: start }
#board    { grid-column: 2; grid-row: 1 / span 2; }
#controls { grid-column: 2; grid-row: 3; align-self: center }
</pre>

		<pre class=lang-markup>&lt;div id="grid"&gt;
  &lt;div id="title"&gt;Game Title&lt;/div&gt;
  &lt;div id="score"&gt;Score&lt;/div&gt;
  &lt;div id="stats"&gt;Stats&lt;/div&gt;
  &lt;div id="board"&gt;Board&lt;/div&gt;
  &lt;div id="controls"&gt;Controls&lt;/div&gt;
&lt;/div&gt;
</pre>
	</div>

<h3 class="heading settled" data-level=1.3 id=source-independence><span class=secno>1.3. </span><span class=content>
Source-Order Independence</span><a class=self-link href=#source-independence></a></h3>

	<figure class=sidefigure>
		<img alt="Image: An arrangement suitable for portrait orientation." src=images/game-portrait.png>

		<figcaption>An arrangement suitable for <span class=css>portrait</span> orientation.</figcaption>
	</figure>

	<figure class=sidefigure>
		<img alt="Image: An arrangement suitable for landscape orientation." src=images/game-landscape.png>

		<figcaption>An arrangement suitable for <span class=css>landscape</span> orientation.</figcaption>
	</figure>

<p>Continuing the prior example,
	the author also wants the game to adapt to the space available on traditional computer monitors, handheld devices, or tablet computers.
	Also, the game should optimize the placement of the components when viewed either in landscape or portrait orientation (Figures 4 and 5).
	By combining grid layout with media queries,
	the author is able to use the same semantic markup,
	but rearrange the layout of elements independent of their source order,
	to achieve the desired layout in both orientations.</p>

<p>The following example leverages grid layout’s ability to name the space which will be occupied by a <a data-link-type=dfn href=#grid-item>grid item</a>.
	This allows the author to avoid rewriting rules for <a data-link-type=dfn href=#grid-item>grid items</a>
	as the grid’s definition changes.</p>

	<pre class=example>&lt;style type="text/css"&gt;
  @media (orientation: portrait) {
  #grid {
    display: grid;

    /* The rows, columns and areas of the grid are defined visually
     * using the grid-template-areas property.  Each string is a row, and
     * each word an area.  The number of words in a string
     * determines the number of columns. Note the number of words
     * in each string must be identical. */
    grid-template-areas: "title stats"
               "score stats"
               "board board"
               "ctrls ctrls";

    /* Columns and rows created with the template property can be
     * assigned a sizing function with the grid-template-columns
     * and grid-template-rows properties. */
    grid-template-columns: auto minmax(min-content, 1fr);
    grid-template-rows: auto auto minmax(min-content, 1fr) auto
  }
  }

  @media (orientation: landscape) {
  #grid {
    display: grid;

    /* Again the template property defines areas of the same name,
     * but this time positioned differently to better suit a
     * landscape orientation. */
    grid-template-areas: "title board"
               "stats board"
               "score ctrls";

    grid-template-columns: auto minmax(min-content, 1fr);
    grid-template-rows: auto minmax(min-content, 1fr) auto
  }
  }

  /* The grid-area property places a grid item into a named
   * region (area) of the grid. */
  #title    { grid-area: title }
  #score    { grid-area: score }
  #stats    { grid-area: stats }
  #board    { grid-area: board }
  #controls { grid-area: ctrls }
&lt;/style&gt;

&lt;div id="grid"&gt;
  &lt;div id="title"&gt;Game Title&lt;/div&gt;
  &lt;div id="score"&gt;Score&lt;/div&gt;
  &lt;div id="stats"&gt;Stats&lt;/div&gt;
  &lt;div id="board"&gt;Board&lt;/div&gt;
  &lt;div id="controls"&gt;Controls&lt;/div&gt;
&lt;/div&gt;
</pre>


<h3 class="heading settled" data-level=1.4 id=grid-layering><span class=secno>1.4. </span><span class=content>
Grid Layering of Elements</span><a class=self-link href=#grid-layering></a></h3>

	<figure class=sidefigure>
		<img alt="Image: A control composed of layered HTML elements." src=images/control-layering-and-alignment.png>

		<figcaption>A control composed of layered HTML elements.</figcaption>
	</figure>

<p>In the example shown in Figure 6,
	the author is creating a custom slider control.
	The control has six parts.
	The lower and upper labels align to the left and right edges of the control.
	The track of the slider spans the area between the labels.
	The lower and upper fill parts touch beneath the thumb,
	and the thumb is a fixed width and height that can be moved along the track
	by updating the two flex-sized columns.</p>

<p>Prior to the introduction of grid layout,
	the author would have likely used absolute positioning to control the top and left coordinates,
	along with the width and height of each HTML element that comprises the control.
	By leveraging grid layout,
	the author can instead limit script usage to handling mouse events on the thumb,
	which snaps to various positions along the track
	as the <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> property of the <a data-link-type=dfn href=#grid-container>grid container</a> is updated.</p>

	<pre class=example>&lt;style type="text/css"&gt;
  #grid {
  display: grid;

  /* The grid-template-columns and rows properties also support
   * naming grid lines which can then be used to position grid
   * items.  The line names are assigned on either side of a column
   * or row sizing function where the line would logically exist. */
  grid-template-columns:
    (start)        auto
    (track-start)  0.5fr
    (thumb-start)  auto
    (fill-split)   auto
    (thumb-end)    0.5fr
    (track-end)    auto
    (end);
  }

  /* The grid-placement properties accept named lines. Below the
   * lines are referred to by name. Beyond any
   * semantic advantage, the names also allow the author to avoid
   * renumbering the grid-column-start and grid-row-start properties of the
   * grid items.  This is similar to the concept demonstrated in the
   * prior example with the grid-template-areas property during orientation
   * changes, but grid lines can also work with layered grid items
   * that have overlapping areas of different shapes like the thumb
   * and track parts  in this example. */
  #lower-label { grid-column-start: start }
  #track       { grid-column: track-start / track-end; align-self: center }
  #upper-label { grid-column-end: end; }

  /* Fill parts are drawn above the track so set z-index to 5. */
  #lower-fill  { grid-column: track-start / fill-split;
         align-self: end;
         z-index: 5 }
  #upper-fill  { grid-column: fill-split / track-end;
         align-self: start;
         z-index: 5 }

  /* Thumb is the topmost part; assign it the highest z-index value. */
  #thumb       { grid-column: thumb-start / thumb-end; z-index: 10 }
&lt;/style&gt;

&lt;div id="grid"&gt;
  &lt;div id="lower-label"&gt;Lower Label&lt;/div&gt;
  &lt;div id="upper-label"&gt;Upper Label&lt;/div&gt;
  &lt;div id="track"&gt;Track&lt;/div&gt;
  &lt;div id="lower-fill"&gt;Lower Fill&lt;/div&gt;
  &lt;div id="upper-fill"&gt;Upper Fill&lt;/div&gt;
  &lt;div id="thumb"&gt;Thumb&lt;/div&gt;
&lt;/div&gt;
</pre>


<h2 class="heading settled" data-level=2 id=grid-concepts><span class=secno>2. </span><span class=content>
Grid Layout Concepts and Terminology</span><a class=self-link href=#grid-concepts></a></h2>

<p>In <dfn data-dfn-type=dfn data-export="" id=grid-layout>grid layout<a class=self-link href=#grid-layout></a></dfn>,
	the content of a <a data-link-type=dfn href=#grid-container>grid container</a> is laid out
	by positioning and aligning it into a <a data-link-type=dfn href=#grid>grid</a>.
	The <dfn data-dfn-type=dfn data-export="" id=grid>grid<a class=self-link href=#grid></a></dfn> is an intersecting set of horizontal and vertical <a data-link-type=dfn href=#grid-line>grid lines</a>
	that divides the <a data-link-type=dfn href=#grid-container>grid container</a>’s space into <a data-link-type=dfn href=#grid-area>grid areas</a>,
	into which <a data-link-type=dfn href=#grid-item>grid items</a> (representing the <a data-link-type=dfn href=#grid-container>grid container</a>’s content) can be placed.
	There are two sets of <a data-link-type=dfn href=#grid-line>grid lines</a>:
	one set defining <dfn data-dfn-type=dfn data-export="" id=grid-column title="grid column | column">columns<a class=self-link href=#grid-column></a></dfn>
	that run along the <a href=http://www.w3.org/TR/css3-writing-modes/#block-axis->block axis</a> (the <dfn data-dfn-type=dfn data-export="" id=column-axis>column axis<a class=self-link href=#column-axis></a></dfn>),
	and an orthogonal set defining <dfn data-dfn-type=dfn data-export="" id=grid-row title="grid row | row">rows<a class=self-link href=#grid-row></a></dfn>
	along the <a href=http://www.w3.org/TR/css3-writing-modes/#inline-axis->inline axis</a> (the <dfn data-dfn-type=dfn data-export="" id=row-axis>row axis<a class=self-link href=#row-axis></a></dfn>).
	<a data-biblio-type=normative data-link-type=biblio href=#biblio-css3-writing-modes title=CSS3-WRITING-MODES>[CSS3-WRITING-MODES]</a></p>



	<figure>
		<img alt="Image: Grid Lines." class=figure src=images/grid-lines.png>
		<figcaption>Grid lines: Three in the block axis and four in the inline axis.</figcaption>
	</figure>

<h3 class="heading settled" data-level=2.1 id=grid-track-concept><span class=secno>2.1. </span><span class=content>
Grid Tracks and Cells</span><a class=self-link href=#grid-track-concept></a></h3>

<p><dfn data-dfn-type=dfn data-export="" id=grid-track>Grid track<a class=self-link href=#grid-track></a></dfn> is a generic term for a <a data-link-type=dfn href=#grid-column>grid column</a> or <a data-link-type=dfn href=#grid-row>grid row</a>—in
	other words, it is the space between two adjacent <a data-link-type=dfn href=#grid-line>grid lines</a>.
	Each <a data-link-type=dfn href=#grid-track>grid track</a> is assigned a sizing function,
	which controls how wide or tall the column or row may grow,
	and thus how far apart its bounding <a data-link-type=dfn href=#grid-line>grid lines</a> are.</p>

<p>A <dfn data-dfn-type=dfn data-export="" id=grid-cell>grid cell<a class=self-link href=#grid-cell></a></dfn> is the similar term for the full grid—it
	is the space between two adjacent row and two adjacent column <a data-link-type=dfn href=#grid-line>grid lines</a>.
	It is the smallest unit of the grid that can be referenced when positioning <a data-link-type=dfn href=#grid-item>grid items</a>.</p>

	<div class=example>
		In the following example there are two columns and three rows.
		The first column is fixed at 150px.
		The second column uses flexible sizing, which is a function of the unassigned space in the Grid,
		and thus will vary as the width of the <a data-link-type=dfn href=#grid-container>grid container</a> changes.
		If the used width of the <a data-link-type=dfn href=#grid-container>grid container</a> is 200px, then the second column 50px wide.
		If the used width of the <a data-link-type=dfn href=#grid-container>grid container</a> is 100px, then the second column is 0px
		and any content positioned in the column will overflow the <a data-link-type=dfn href=#grid-container>grid container</a>.

		<pre>&lt;style type="text/css"&gt;
  #grid {
    display: grid;
    grid-template-columns: 150px 1fr; /* two columns */
    grid-template-rows: 50px 1fr 50px /* three rows  */
  }
&lt;/style&gt;
</pre>
	</div>

<h3 class="heading settled" data-level=2.2 id=grid-line-concept><span class=secno>2.2. </span><span class=content>
Grid Lines</span><a class=self-link href=#grid-line-concept></a></h3>

<p><dfn data-dfn-type=dfn data-export="" id=grid-line title="grid line|grid row line|grid column line">Grid lines<a class=self-link href=#grid-line></a></dfn> are the horizontal and vertical dividing lines of the <a data-link-type=dfn href=#grid>grid</a>.
	A <a data-link-type=dfn href=#grid-line>grid line</a> exists on either side of a column or row.
	They can be referred to by numerical index,
	or by an author-specified name.
	A <a data-link-type=dfn href=#grid-item>grid item</a> references the <a data-link-type=dfn href=#grid-line>grid lines</a> to determine its position within the <a data-link-type=dfn href=#grid>grid</a>
	using the <a href=#placement>grid-placement properties</a>.</p>

	<div class=example>
		The following two examples create three column <a data-link-type=dfn href=#grid-line>grid lines</a> and four row <a data-link-type=dfn href=#grid-line>grid lines</a>.
		The first example demonstrates how an author would position a <a data-link-type=dfn href=#grid-item>grid item</a> using <a data-link-type=dfn href=#grid-line>grid line</a> numbers.
		The second example uses explicitly named <a data-link-type=dfn href=#grid-line>grid lines</a>.

		<pre>&lt;style type="text/css"&gt;
  #grid {
  display: grid;
  grid-template-columns: 150px 1fr;
  grid-template-rows: 50px 1fr 50px
  }

  #item1 { grid-column: 2;
       grid-row-start: 1; grid-row-end: 4; }
&lt;/style&gt;
</pre>

		<pre>&lt;style type="text/css"&gt;
  /* equivalent layout to the prior example, but using named lines */
  #grid {
  display: grid;
  grid-template-columns: 150px (item1-start) 1fr (item1-end);
  grid-template-rows: (item1-start) 50px 1fr 50px (item1-end);
  }

  #item1 {
  grid-column: item1-start / item1-end;
  grid-row: item1-start / item1-end
  }
&lt;/style&gt;
</pre>
	</div>


<h3 class="heading settled" data-level=2.3 id=grid-area-concept><span class=secno>2.3. </span><span class=content>
Grid Areas</span><a class=self-link href=#grid-area-concept></a></h3>

<p>A <dfn data-dfn-type=dfn data-export="" id=grid-area>grid area<a class=self-link href=#grid-area></a></dfn> is the logical space used to lay out one or more <a data-link-type=dfn href=#grid-item>grid items</a>.
	It is bound by four <a data-link-type=dfn href=#grid-line>grid lines</a>, one on each side of the <a data-link-type=dfn href=#grid-area>grid area</a>,
	and participates in the sizing of the <a data-link-type=dfn href=#grid-track>grid tracks</a> it intersects.
	A <a data-link-type=dfn href=#grid-area>grid area</a> can be named explicitly using the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> property of the <a data-link-type=dfn href=#grid-container>grid container</a>,
	or referenced implicitly by its bounding <a data-link-type=dfn href=#grid-line>grid lines</a>.
	A <a data-link-type=dfn href=#grid-item>grid item</a> is assigned to a <a data-link-type=dfn href=#grid-area>grid area</a>
	using the <a href=#placement>grid-placement properties</a>.</p>

	<div class=example>
		<pre>&lt;style type="text/css"&gt;
  /* using the template syntax */
  #grid  {
  display: grid;
  grid-template-areas: ". a"
             "b a"
             ". a";
  grid-template-columns: 150px 1fr;
  grid-template-rows: 50px 1fr 50px
  }

  #item1 { grid-area: a }
  #item2 { grid-area: b }
  #item3 { grid-area: b }

  /* Align items 2 and 3 at different points in the Grid Area "b".  */
  /* By default, Grid Items are stretched to fit their Grid Area    */
  /* and these items would layer one over the other. */
  #item2 { align-self: start }
  #item3 { justify-self: end; align-self: end }
&lt;/style&gt;
</pre>
	</div>

<p>A <a data-link-type=dfn href=#grid-item>grid item</a>’s <a data-link-type=dfn href=#grid-area>grid area</a> forms the containing block into which it is laid out.
	Percentage lengths specified on a <a data-link-type=dfn href=#grid-item>grid item</a> resolve against this containing block.
	Percentages specified for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top>margin-top</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-padding-top>padding-top</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom>margin-bottom</a>, and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-padding-bottom>padding-bottom</a> on a <a data-link-type=dfn href=#grid-item>grid item</a>
	resolve against the height of its containing block,
	rather than the width (as for blocks).</p>

<p><a data-link-type=dfn href=#grid-item>Grid items</a> placed into the same <a data-link-type=dfn href=#grid-area>grid area</a> do not directly affect each other’s layout.
	Indirectly, a <a data-link-type=dfn href=#grid-item>grid item</a> can affect the position of a <a data-link-type=dfn href=#grid-line>grid line</a> in a column or row that uses a contents-based relative size,
	which in turn can affect the position or size of another <a data-link-type=dfn href=#grid-item>grid item</a>.</p>

<h2 class="heading settled" data-level=3 id=grid-model><span class=secno>3. </span><span class=content>
Grid Containers</span><a class=self-link href=#grid-model></a></h2>

<h3 class="heading settled" data-level=3.1 id=grid-containers><span class=secno>3.1. </span><span class=content>
Establishing Grid Containers: the <a class=css data-link-for=display data-link-type=maybe href=#valdef-display-grid>grid</a> and <a class=css data-link-type=maybe href=#valdef-display-inline-grid>inline-grid</a> <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display>display</a> values</span><a class=self-link href=#grid-containers></a></h3>

<table class="definition propdef partial"><tr><th>Name:<td><a class=css data-link-type=property href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display>display</a><tr><th>New values:<td class=prod>grid <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a> inline-grid</table>

	<dl data-dfn-for=display data-dfn-type=value>
		<dt><dfn class=css data-dfn-for=display data-dfn-type=value data-export="" id=valdef-display-grid>grid<a class=self-link href=#valdef-display-grid></a></dfn>
		<dd>
			This value causes an element to generate a block-level <a data-link-type=dfn href=#grid-container>grid container</a> box.

		<dt><dfn class=css data-dfn-for=display data-dfn-type=value data-export="" id=valdef-display-inline-grid>inline-grid<a class=self-link href=#valdef-display-inline-grid></a></dfn>
		<dd>
			This value causes an element to generate an inline-level <a data-link-type=dfn href=#grid-container>grid container</a> box.
	</dl>

<p>A <dfn data-dfn-type=dfn data-export="" id=grid-container>grid container<a class=self-link href=#grid-container></a></dfn> establishes a new <dfn data-dfn-type=dfn data-export="" id=grid-formatting-context>grid formatting context<a class=self-link href=#grid-formatting-context></a></dfn> for its contents.
	This is the same as establishing a block formatting context,
	except that grid layout is used instead of block layout:
	floats do not intrude into the grid container,
	and the grid container’s margins do not collapse with the margins of its contents.
	<a data-link-type=dfn href=#grid-container>Grid containers</a> form a containing block for their contents
	<a href=http://www.w3.org/TR/CSS21/visudet.html#containing-block-details>exactly like block containers do</a>. <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a>
	The <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-overflow-3/#overflow0>overflow</a> property applies to <a data-link-type=dfn href=#grid-container>grid containers</a>.</p>

<p>Grid containers are not block containers,
	and so some properties that were designed with the assumption of block layout
	don’t apply in the context of grid layout.
	In particular:</p>

	<ul>
		<li>
			all of the <a class=property data-link-type=propdesc>column-*</a> properties in the Multicol module have no effect on a grid container.

		<li>
			<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float>float</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-clear>clear</a> have no effect on a <a data-link-type=dfn href=#grid-item>grid item</a>.
			(However, the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float>float</a> property still affects the computed value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display>display</a> on children of a grid container,
			as this occurs <em title="">before</em> <a data-link-type=dfn href=#grid-item>grid items</a> are determined.)

		<li>
			<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-vertical-align>vertical-align</a> has no effect on a grid item.

		<li>
			the <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-pseudo-4/#selectordef-first-line>::first-line</a> and <span class=css>::first-letter</span> pseudo-elements do not apply to <a data-link-type=dfn href=#grid-container>grid containers</a>,
			and <a data-link-type=dfn href=#grid-container>grid containers</a> do not contribute a first formatted line or first letter to their ancestors.
	</ul>

<p>If an element’s specified <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display>display</a> is <a class=css data-link-type=maybe href=#valdef-display-inline-grid>inline-grid</a>
	and the element is floated or absolutely positioned,
	the computed value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display>display</a> is <a class=css data-link-type=value href=#valdef-display-grid>grid</a>.
	The table in <a href=http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo>CSS 2.1 Chapter 9.7</a> is thus amended
	to contain an additional row,
	with <a class=css data-link-type=maybe href=#valdef-display-inline-grid>inline-grid</a> in the "Specified Value" column
	and <a data-link-type=dfn href=#grid>grid</a> in the "Computed Value" column.</p>

<h3 class="heading settled" data-level=3.2 id=intrinsic-sizes><span class=secno>3.2. </span><span class=content>
Sizing Grid Containers</span><a class=self-link href=#intrinsic-sizes></a></h3>

<p>A <a data-link-type=dfn href=#grid-container>grid container</a> is sized
	using the rules of the formatting context in which it participates.
	As a block-level box in a <a data-link-type=dfn>block formatting context</a>,
	it is sized like any other block-level box that establishes a formatting context,
	with an <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-auto>auto</a> inline size calculated as for in-flow block boxes.
	As an inline-level box in an inline formatting context,
	it is sized as an atomic inline-level box (such as an inline-block).
	In both inline and block formatting contexts,
	the <a data-link-type=dfn href=#grid-container>grid container</a>’s <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-auto>auto</a> block size is its max-content size.
	<span class=issue id=issue-839d056f><a class=self-link href=#issue-839d056f></a>The block layout spec should define this?</span></p>

<p>The <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-content-inline-size>max-content size</a> of a <a data-link-type=dfn href=#grid-container>grid container</a> is
	the sum of the <a data-link-type=dfn href=#grid-container>grid container’s</a> track sizes in the appropriate axis,
	when the grid is sized under a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-content-constraint>max-content constraint</a>.</p>

<p>The <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-inline-size>min-content size</a> of a <a data-link-type=dfn href=#grid-container>grid container</a> is
	the sum of the <a data-link-type=dfn href=#grid-container>grid container’s</a> track sizes in the appropriate axis,
	when the grid is sized under a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-constraint>min-content constraint</a>.</p>

<p>See <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3-sizing title=CSS3-SIZING>[CSS3-SIZING]</a> for a definition of the terms in this section.</p>



<h2 class="heading settled" data-level=4 id=grid-items><span class=secno>4. </span><span class=content>
Grid Items</span><a class=self-link href=#grid-items></a></h2>

<p>The contents of a <a data-link-type=dfn href=#grid-container>grid container</a> consists of zero or more <dfn data-dfn-type=dfn data-export="" id=grid-item title="grid item">grid items<a class=self-link href=#grid-item></a></dfn>:
	each child of a <a data-link-type=dfn href=#grid-container>grid container</a>
	becomes a <a data-link-type=dfn href=#grid-item>grid item</a>,
	and each contiguous run of text that is directly contained inside a <a data-link-type=dfn href=#grid-container>grid container</a>
	is wrapped in an anonymous <a data-link-type=dfn href=#grid-item>grid item</a>.
	However, an anonymous grid item that contains only
	<a href=http://www.w3.org/TR/CSS21/text.html#white-space-prop>white space</a>
	is not rendered, as if it were <span class=css>display:none</span>.</p>

<p>A <a data-link-type=dfn href=#grid-item>grid item</a> establishes a new formatting context for its contents.
	The type of this formatting context is determined by its <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display>display</a> value, as usual.
	The computed <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display>display</a> of a <a data-link-type=dfn href=#grid-item>grid item</a>
	is determined by applying the table in
	<a href=http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo>CSS 2.1 Chapter 9.7</a>.
	However, grid items are grid-level boxes, not block-level boxes:
	they participate in their container’s <a data-link-type=dfn href=#grid-formatting-context>grid formatting context</a>,
	not in a block formatting context.</p>

	<div class=example>
			Examples of grid items:
		<pre>&lt;div style="display:grid"&gt;

  &lt;!-- grid item: block child --&gt;
  &lt;div id="item1"&gt;block&lt;/div&gt;

  &lt;!-- grid item: floated element; floating is ignored --&gt;
  &lt;div id="item2" style="float: left;"&gt;float&lt;/div&gt;

  &lt;!-- grid item: anonymous block box around inline content --&gt;
  anonymous item 3

  &lt;!-- grid item: inline child --&gt;
  &lt;span&gt;
    item 4
    &lt;!-- grid items do not split around blocks --&gt;
    &lt;div id=not-an-item&gt;item 4&lt;/div&gt;
    item 4
  &lt;/span&gt;
&lt;/div&gt;</pre>
	</div>

<p>Some values of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display>display</a> trigger the generation of anonymous boxes.
	For example, a misparented <span class=css>table-cell</span> child is fixed up
	by <a href=http://www.w3.org/TR/CSS21/tables.html#anonymous-boxes>generating anonymous <span class=css>table</span> and <span class=css>table-row</span> elements</a> around it. <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a>
	This fixup must occur <em>before</em> a <a data-link-type=dfn href=#grid-container>grid container</a>’s children are promoted to <a data-link-type=dfn href=#grid-item>grid items</a>.
	For example, given two contiguous child elements with <span class=css>display:table-cell</span>,
	an anonymous table wrapper box around them becomes the <a data-link-type=dfn href=#grid-item>grid item</a>.</p>

	<p class=note role=note>
		Future display types may generate anonymous containers (e.g. ruby) or otherwise mangle the box tree (e.g. run-ins).
		It is intended that grid item determination run after these operations.



<h3 class="heading settled" data-level=4.1 id=visibility-collapse><span class=secno>4.1. </span><span class=content>
	Collapsed Grid Items: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visufx.html#propdef-visibility>visibility</a> property</span><a class=self-link href=#visibility-collapse></a></h3>

	<p class=issue id=issue-8f83c1bc><a class=self-link href=#issue-8f83c1bc></a>
		We want the ability to collapse grid tracks
		(similar to <a href=http://www.w3.org/TR/css3-flexbox/#visibility-collapse>collapsing flex items</a>
		 or <a href=http://www.w3.org/TR/CSS21/tables.html#dynamic-effects>table rows/columns</a>),
		but we’re not sure exactly how to do it.
		Ideas welcome, please <a href="mailto:www-style@w3.org?Subject=%5Bcss-grid%5D%20Collapsing%20Grid%20Tracks">post them to www-style@w3.org</a>.

<h3 class="heading settled" data-level=4.2 id=order-property><span class=secno>4.2. </span><span class=content>
Reordered Grid Items: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#propdef-order>order</a> property</span><a class=self-link href=#order-property></a></h3>

<p>The <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#propdef-order>order</a> property also applies to <a data-link-type=dfn href=#grid-item>grid items</a>.
	It affects their <a href=#grid-auto-flow-property>auto-placement</a> and <a href=#z-order>painting order</a>.</p>


<h3 class="heading settled" data-level=4.3 id=static-position><span class=secno>4.3. </span><span class=content>
Static Position of Grid Container Children</span><a class=self-link href=#static-position></a></h3>

<p>The <a href=http://www.w3.org/TR/CSS21/visudet.html#abs-non-replaced-width>static position</a> <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a>
	of an absolutely-positioned child of a <a data-link-type=dfn href=#grid-container>grid container</a>
	is determined as if it were the sole grid item
	in a fixed-size <a data-link-type=dfn href=#grid-area>grid area</a>
	whose edges coincide with the padding edges of the <a data-link-type=dfn href=#grid-container>grid container</a>.</p>

<p class=note role=note>Note: Note that this position is affected by the values of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-self>justify-self</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-self>align-self</a> on the child,
	and that, as in most other layout models,
	the absolutely-positioned child has no effect on the size of the containing block
	or layout of its contents.</p>

<h3 class="heading settled" data-level=4.4 id=z-order><span class=secno>4.4. </span><span class=content>
Z-axis Ordering: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#propdef-z-index>z-index</a> property</span><a class=self-link href=#z-order></a></h3>

<p><a data-link-type=dfn href=#grid-item>Grid items</a> can overlap when they are positioned into intersecting <a data-link-type=dfn href=#grid-area>grid areas</a>,
	or even when positioned in non-intersecting areas because of negative margins or positioning.
	The painting order of <a data-link-type=dfn href=#grid-item>grid items</a> is exactly the same as inline blocks [CSS21],
	except that <a data-link-type=dfn href=http://dev.w3.org/csswg/css-flexbox-1/#order-modified-document-order>order-modified document order</a> is used in place of raw document order,
	and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#propdef-z-index>z-index</a> values other than <a class=css data-link-for=z-index data-link-type=value>auto</a> create a stacking context even if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#propdef-position>position</a> is <span class=css>static</span>.
	Thus the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#propdef-z-index>z-index</a> property can easily be used to control the z-axis order of grid items.</p>

	<p class=note role=note>
		Note: Descendants that are positioned outside a grid item still participate in any stacking context established by the grid item.

	<div class=example>
		The following diagram shows several overlapping grid items,
		with a combination of implicit source order
		and explicit <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#propdef-z-index>z-index</a>
		used to control their stacking order.

		<figure>
			<img src=images/drawing-order.png>

			<figcaption>Drawing order controlled by z-index and source order.</figcaption>
		</figure>

		<pre>&lt;style type="text/css"&gt;
  #grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr
  }
  #A { grid-column: 1 / span 2; grid-row: 2; align-self: end; }
  #B { grid-column: 1; grid-row: 1; z-index: 10; }
  #C { grid-column: 2; grid-row: 1; align-self: start; margin-left: -20px; }
  #D { grid-column: 2; grid-row: 2; justify-self: end; align-self: start; }
  #E { grid-column: 1 / span 2; grid-row: 1 / span 2;
     z-index: 5; justify-self: center; align-self: center; }
&lt;/style&gt;

&lt;div id="grid"&gt;
  &lt;div id="A"&gt;A&lt;/div&gt;
  &lt;div id="B"&gt;B&lt;/div&gt;
  &lt;div id="C"&gt;C&lt;/div&gt;
  &lt;div id="D"&gt;D&lt;/div&gt;
  &lt;div id="E"&gt;E&lt;/div&gt;
&lt;/div&gt;
</pre>
	</div>

<h2 class="heading settled" data-level=5 id=grid-definition><span class=secno>5. </span><span class=content>
The Explicit Grid</span><a class=self-link href=#grid-definition></a></h2>

<p>The three properties <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a>, <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a>
	together define the <dfn data-dfn-type=dfn data-export="" id=explicit-grid>explicit grid<a class=self-link href=#explicit-grid></a></dfn> of a <a data-link-type=dfn href=#grid-container>grid container</a>.
	The <a class=property data-link-type=propdesc href=#propdef-grid-template>grid-template</a> property is a shorthand that sets all three at the same time.
	The final grid may end up larger due to <a data-link-type=dfn href=#grid-item>grid items</a> placed outside the <a data-link-type=dfn href=#explicit-grid>explicit grid</a>;
	in this case, any implicit tracks are sized by the <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows>grid-auto-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns>grid-auto-columns</a> properties.</p>

<p>The size of the <a data-link-type=dfn href=#explicit-grid>explicit grid</a> is determined by the larger of
	the number of rows/columns defined by <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a>
	and the number of rows/columns sized by <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a>.
	Any rows/columns defined by <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> but not sized by <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a>
	take their size from the <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows>grid-auto-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-auto-columns>grid-auto-columns</a> properties.</p>

<p>Numeric indexes in the <a data-link-type=dfn href=#grid-placement-property>grid-placement properties</a>
	count from the edges of the <a data-link-type=dfn href=#explicit-grid>explicit grid</a>,
	starting from 1.
	Positive indexes count from the before/start side,
	while negative indexes count from the after/end side.</p>

<p>Implementations may limit the possible size of the <a data-link-type=dfn href=#explicit-grid>explicit grid</a>.
	If they do,
	attempting to specify an <a data-link-type=dfn href=#explicit-grid>explicit grid</a> larger than the implementation-defined maximum
	must instead define an <a data-link-type=dfn href=#explicit-grid>explicit grid</a> of the maximum size.
	Implementations may cap the <a data-link-type=dfn href=#explicit-grid>explicit grid</a> to slightly less than the maximum,
	in order to have only whole repetitions of the <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> function.
	It is recommended that the maximum size of the <a data-link-type=dfn href=#explicit-grid>explicit grid</a> not be smaller than 1 million tracks in each axis.</p>

<h3 class="heading settled" data-level=5.1 id=track-sizing><span class=secno>5.1. </span><span class=content>
Track Sizing: the <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> properties</span><a class=self-link href=#track-sizing></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-grid-template-columns>grid-template-columns<a class=self-link href=#propdef-grid-template-columns></a></dfn>, <dfn class=css data-dfn-type=property data-export="" id=propdef-grid-template-rows>grid-template-rows<a class=self-link href=#propdef-grid-template-rows></a></dfn><tr><th>Value:<td class=prod>none <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a> <a class="production css" data-link-type=type href=#typedef-track-list>&lt;track-list&gt;</a> <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a> subgrid <a class="production css" data-link-type=type href=#typedef-line-name-list>&lt;line-name-list&gt;</a><a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a><tr><th>Initial:<td>none<tr><th>Applies to:<td><a data-link-type=dfn href=#grid-container>grid containers</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>refer to corresponding dimension of the content area<tr><th>Media:<td>visual<tr><th>Computed value:<td>As specified, except for <a class=css data-link-for=grid-template-columns data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-auto>auto</a> (see prose), with lengths made absolute<tr><th>Animatable:<td>no</table>

<p>These properties specify,
	as a space-separated <dfn data-dfn-type=dfn data-export="" id=track-list>track list<a class=self-link href=#track-list></a></dfn>,
	the line names and <a data-link-type=dfn href=#track-sizing-function>track sizing functions</a> of the <a data-link-type=dfn href=#grid>grid</a>.
	Each <dfn data-dfn-type=dfn data-noexport="" id=track-sizing-function title="track sizing function|sizing function">track sizing function<a class=self-link href=#track-sizing-function></a></dfn> can be specified as a length,
	a percentage of the <a data-link-type=dfn href=#grid-container>grid container</a>’s size,
	a measurement of the contents occupying the column or row,
	or a fraction of the free space in the grid.
	It can also be specified as a range using the <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-minmax>minmax()</a> notation,
	which can combine any of the previously mentioned mechanisms
	to specify separate <a data-link-type=dfn href=#min-track-sizing-function title="min track sizing function">min</a>
	and <a data-link-type=dfn href=#max-track-sizing-function>max track sizing functions</a> for the column or row.</p>

<p>The <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> property specifies the <a data-link-type=dfn href=#track-list>track list</a> for the grid’s columns,
	while <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> specifies the <a data-link-type=dfn href=#track-list>track list</a> for the grid’s rows.
	The syntax of a <a data-link-type=dfn href=#track-list>track list</a> is:</p>

	<pre><dfn data-dfn-type=type data-export="" id=typedef-track-list>&lt;track-list&gt;<a class=self-link href=#typedef-track-list></a></dfn>     = [ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>? [ <a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a> | <a class=production data-link-type=function href=#funcdef-repeat title=repeat()>&lt;repeat()&gt;</a> ] ]+ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>?
<dfn data-dfn-type=type data-export="" id=typedef-track-size>&lt;track-size&gt;<a class=self-link href=#typedef-track-size></a></dfn>     = minmax( <a class=production data-link-type=type href=#typedef-track-breadth>&lt;track-breadth&gt;</a> , <a class=production data-link-type=type href=#typedef-track-breadth>&lt;track-breadth&gt;</a> ) | auto | <a class=production data-link-type=type href=#typedef-track-breadth>&lt;track-breadth&gt;</a>
<dfn data-dfn-type=type data-export="" id=typedef-track-breadth>&lt;track-breadth&gt;<a class=self-link href=#typedef-track-breadth></a></dfn>  = <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#length-value>&lt;length&gt;</a> | <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#percentage-value>&lt;percentage&gt;</a> | <a class=production data-link-type=type href=#typedef-flex>&lt;flex&gt;</a> | min-content | max-content
<dfn data-dfn-type=type data-export="" id=typedef-line-names>&lt;line-names&gt;<a class=self-link href=#typedef-line-names></a></dfn>     = ( <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>* )
<dfn data-dfn-type=type data-export="" id=typedef-line-name-list>&lt;line-name-list&gt;<a class=self-link href=#typedef-line-name-list></a></dfn> = [ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a> | repeat(<a class=production data-link-type=type>&lt;positive-integer&gt;</a>, <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>+) ]+
</pre>

<p>Where:</p>

	<dl data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value>
		<dt><dfn class=css data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valdef-grid-template-columns-grid-template-rows-length><a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#length-value>&lt;length&gt;</a><a class=self-link href=#valdef-grid-template-columns-grid-template-rows-length></a></dfn>
		<dd>
			A non-negative length, as defined by CSS3 Values. <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3val title=CSS3VAL>[CSS3VAL]</a>

		<dt><dfn class=css data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valdef-grid-template-columns-grid-template-rows-percentage><a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#percentage-value>&lt;percentage&gt;</a><a class=self-link href=#valdef-grid-template-columns-grid-template-rows-percentage></a></dfn>
		<dd>
			A non-negative percentage, as defined by CSS3 Values. <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3val title=CSS3VAL>[CSS3VAL]</a>
			<a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#percentage-value>&lt;percentage&gt;</a> values are relative to the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#inline-size>inline size</a> of the <a data-link-type=dfn href=#grid-container>grid container</a> in column <a data-link-type=dfn href=#grid-track>grid tracks</a>,
			and the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#block-size>block size</a> of the <a data-link-type=dfn href=#grid-container>grid container</a> in row <a data-link-type=dfn href=#grid-track>grid tracks</a>.
			If the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#inline-size title="inline size">inline</a> or <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#block-size>block size</a> of the <a data-link-type=dfn href=#grid-container>grid container</a>
			is <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#indefinite>indefinite</a>,
			<a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#percentage-value>&lt;percentage&gt;</a> values relative to that size are treated as <a class=css data-link-for=width data-link-type=value>auto</a>
			(or, if in a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-minmax>minmax()</a> function, as <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> when in the first position
			and as <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> when in the second).

		<dt><dfn class=css data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valdef-grid-template-columns-grid-template-rows-flex><a class="production css" data-link-type=type href=#typedef-flex>&lt;flex&gt;</a><a class=self-link href=#valdef-grid-template-columns-grid-template-rows-flex></a></dfn>
		<dd>
			A non-negative dimension with the unit <span class=css>fr</span> specifying the track’s <dfn class=css data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-noexport="" id=valdef-grid-template-columns-grid-template-rows-flex-factor>flex factor<a class=self-link href=#valdef-grid-template-columns-grid-template-rows-flex-factor></a></dfn>.
			Each <a class="production css" data-link-type=type href=#typedef-flex>&lt;flex&gt;</a>-sized track takes a share of the remaining space in proportion to its <a data-link-type=dfn>flex factor</a>.
			See <a href=#fr-unit>Flexible Lengths</a> for more details.

		<dt><dfn class=css data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valdef-grid-template-columns-grid-template-rows-max-content>max-content<a class=self-link href=#valdef-grid-template-columns-grid-template-rows-max-content></a></dfn>
		<dd>
			Represents the largest <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-content-contribution>max-content contribution</a>
			of the <a data-link-type=dfn href=#grid-item>grid items</a> occupying the <a data-link-type=dfn href=#grid-track>grid track</a>.

		<dt><dfn class=css data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valdef-grid-template-columns-grid-template-rows-min-content>min-content<a class=self-link href=#valdef-grid-template-columns-grid-template-rows-min-content></a></dfn>
		<dd>
			Represents the largest <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-contribution>min-content contribution</a>
			of the  <a data-link-type=dfn href=#grid-item>grid items</a> occupying the <a data-link-type=dfn href=#grid-track>grid track</a>.

		<dt><dfn class=css data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valdef-grid-template-columns-grid-template-rows-minmax title=minmax()>minmax(min, max)<a class=self-link href=#valdef-grid-template-columns-grid-template-rows-minmax></a></dfn>
		<dd>
			Defines a size range
			greater than or equal to <var>min</var>
			and less than or equal to <var>max</var>.
			If <var>max</var> &lt; <var>min</var>,
			then <var>max</var> is ignored and <span class=css>minmax(min,max)</span> is treated as <var>min</var>.
			As a maximum, a <a class="production css" data-link-type=type href=#typedef-flex>&lt;flex&gt;</a> value sets the track’s <a data-link-type=dfn>flex factor</a>.
			As a minimum, it is treated as zero
			(or <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a>, if the <a data-link-type=dfn href=#grid-container>grid container</a> is sized under a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-constraint>min-content constraint</a>).

		<dt><dfn class=css data-dfn-for="grid-template-columns grid-template-rows" data-dfn-type=value data-export="" id=valdef-grid-template-columns-grid-template-rows-auto>auto<a class=self-link href=#valdef-grid-template-columns-grid-template-rows-auto></a></dfn>
		<dd>
			Computes to <span class=css>minmax(min-content, max-content)</span>.
	</dl>

<p>The <dfn class=css data-dfn-for="grid-template-rows grid-template-columns" data-dfn-type=value data-export="" id=valdef-grid-template-rows-grid-template-columns-none>none<a class=self-link href=#valdef-grid-template-rows-grid-template-columns-none></a></dfn> value indicates that there is no <a data-link-type=dfn href=#explicit-grid>explicit grid</a>;
	any rows/columns will be implicitly generated,
	and their size will be determined by the <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows>grid-auto-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns>grid-auto-columns</a> properties.</p>

<p>The <dfn class=css data-dfn-for="grid-template-rows grid-template-columns" data-dfn-type=value data-export="" id=valdef-grid-template-rows-grid-template-columns-subgrid>subgrid<a class=self-link href=#valdef-grid-template-rows-grid-template-columns-subgrid></a></dfn> value indicates that the grid will align to its parent grid in that axis.
	Rather than specifying the sizes of rows/columns explicitly,
	they’ll be taken from the parent grid’s definition.</p>

	<div class=example>
		Given the following <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> declaration:

<pre>grid-template-columns: 100px 1fr max-content minmax(min-content, 1fr);</pre>

<p>Five grid lines are created:</p>

		<ol>
			<li>
				At the start edge of the <a data-link-type=dfn href=#grid-container>grid container</a>.

			<li>
				100px from the start edge of the <a data-link-type=dfn href=#grid-container>grid container</a>.

			<li>
				A distance from the previous line equal to half the <a data-link-type=dfn href=#free-space>free space</a>
				(the width of the <a data-link-type=dfn href=#grid-container>grid container</a>, minus the width of the non-flexible <a data-link-type=dfn href=#grid-track>grid tracks</a>).

			<li>
				A distance from the previous line equal to the maximum size of any <a data-link-type=dfn href=#grid-item>grid items</a>
				belonging to the column between these two lines.

			<li>
				A distance from the previous line at least as large as the largest minimum size of any <a data-link-type=dfn href=#grid-item>grid items</a>
				belonging to the column between these two lines,
				but no larger than the other half of the <a data-link-type=dfn href=#free-space>free space</a>.
		</ol>

<p>If the non-flexible sizes
		(<span class=css>100px</span>, <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a>, and <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a>)
		sum to larger than the <a data-link-type=dfn href=#grid-container>grid container</a>’s width,
		the final <a data-link-type=dfn href=#grid-line>grid line</a> will be a distance equal to their sum away from the start edge of the <a data-link-type=dfn href=#grid-container>grid container</a>
		(the <span class=css>1fr</span> sizes both resolve to <span class=css>0</span>).
		If the sum is less than the <a data-link-type=dfn href=#grid-container>grid container</a>’s width,
		the final <a data-link-type=dfn href=#grid-line>grid line</a> will be exactly at the end edge of the <a data-link-type=dfn href=#grid-container>grid container</a>.
		This is true in general whenever there’s at least one <a class="production css" data-link-type=type href=#typedef-flex>&lt;flex&gt;</a> value among the <a data-link-type=dfn href=#grid-track>grid track</a> sizes.</p>
	</div>

	<div class=example>
		Additional examples of valid <a data-link-type=dfn href=#grid-track>grid track</a> definitions:

		<pre>/* examples of valid track definitions */
grid-template-rows: 1fr minmax(min-content, 1fr);
grid-template-rows: 10px repeat(2, 1fr auto minmax(30%, 1fr));
grid-template-rows: calc(4em - 5px)
</pre>
	</div>


<h4 class="heading settled" data-level=5.1.1 id=named-lines><span class=secno>5.1.1. </span><span class=content>
Named Grid Lines: the ''(<a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>*)'' syntax</span><a class=self-link href=#named-lines></a></h4>

<p>While <a data-link-type=dfn href=#grid-line>grid lines</a> can always be referred to by their numerical index,
	<dfn data-dfn-type=dfn data-export="" id=named-line title="named line">named lines<a class=self-link href=#named-line></a></dfn>
	can make the <a data-link-type=dfn href=#grid-placement-property>grid-placement properties</a> easier to understand and maintain.
	Lines can be explicitly named in the <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> properties,
	or <a href=#implicit-named-lines>implicitly named</a> by creating <a data-link-type=dfn href=#named-grid-area>named grid areas</a> with the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> property.</p>

	<div class=example>
		For example,
		the following code gives meaningful names to all of the lines in the grid.
		Note that some of the lines have multiple names.

		<pre>&lt;style&gt;
  #grid {
  display: grid;
  grid-template-columns: (first nav) 150px (main) 1fr (last);
  grid-template-rows: (first header) 50px (main) 1fr (footer) 50px (last);
  }
&lt;/style&gt;
</pre>

		<figure class=figure>
			<img alt="Image: Named Grid Lines." class=figure src=images/grid-named-lines.png>
			<figcaption>Named Grid Lines.</figcaption>
		</figure>
	</div>


<h4 class="heading settled" data-level=5.1.2 id=repeat-notation><span class=secno>5.1.2. </span><span class=content>
Repeating Rows and Columns: the <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation</span><a class=self-link href=#repeat-notation></a></h4>

<p>The <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation represents a repeated fragment of the <a data-link-type=dfn href=#track-list>track list</a>.
	This is just a syntactic shorthand that allows
	writing a large number of columns or rows that exhibit a recurring pattern
	in a more compact form.
	The syntax of the <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation is:</p>

<pre class=prod><dfn data-dfn-type=function data-export="" id=funcdef-repeat>repeat()<a class=self-link href=#funcdef-repeat></a></dfn> = repeat( <a class=production data-link-type=type>&lt;positive-integer&gt;</a> <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-comma>,</a> [ <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a><a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a> <a class=production data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a> ]<a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus>+</a> <a class=production data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a><a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a> )</pre>

<p>The first argument specifies the number of repetitions.
	The second argument is a <a data-link-type=dfn href=#track-list>track list</a>,
	which is repeated that number of times.
	The <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation cannot be nested;
	doing so makes the declaration invalid.</p>

	<div class=example>
		This example shows two equivalent ways of writing the same grid definition.
		Both ways produce a grid with a single row and four "main" columns, each 250px wide,
		surrounded by 10px "gutter" columns.

		<pre>&lt;style&gt;
  #grid {
  display: grid;
  grid-template-columns: 10px (col-start) 250px (col-end)
               10px (col-start) 250px (col-end)
               10px (col-start) 250px (col-end)
               10px (col-start) 250px (col-end) 10px;
  grid-template-rows: 1fr;
  }

  /* Equivalent definition. */
  #grid {
  display: grid;
  grid-template-columns: repeat(4, 10px (col-start) 250px (col-end)) 10px;
  grid-template-rows: 1fr;
  }
&lt;/style&gt;
</pre>
	</div>

<p>If the <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> function ends up placing two <a class="production css" data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a> adjacent to each other,
	the name lists are merged.
	For example, <span class=css>repeat(2, (a) 1fr (b))</span> is equivalent to <span class=css>(a) 1fr (b a) 1fr (b)</span>.</p>

<p class=note role=note>Note: It is expected that a future level of this specification will define a value to be inserted between the repetitions,
	similar to the argument of the <code>Array#join</code> method in JavaScript.</p>

<h4 class="heading settled" data-level=5.1.3 id=fr-unit><span class=secno>5.1.3. </span><span class=content>
Flexible Lengths: the <span class=css>fr</span> unit</span><a class=self-link href=#fr-unit></a></h4>

<p>A <dfn data-dfn-type=dfn data-export="" id=flexible-length>flexible length<a class=self-link href=#flexible-length></a></dfn> or <dfn class=css data-dfn-type=type data-export="" id=typedef-flex><a class="production css" data-link-type=type href=#typedef-flex>&lt;flex&gt;</a><a class=self-link href=#typedef-flex></a></dfn> is a dimension with the <span class=css>fr</span> unit,
	which represents a fraction of the <a data-link-type=dfn href=#free-space>free space</a> in the <a data-link-type=dfn href=#grid-container>grid container</a>.</p>

<p>The distribution of <a data-link-type=dfn href=#free-space>free space</a> occurs after all non-flexible <a data-link-type=dfn href=#track-sizing-function>track sizing functions</a> have reached their maximum.
	The total size of such rows or columns is subtracted from the available space, yielding the <a data-link-type=dfn href=#free-space>free space</a>,
	which is then divided among the flex-sized rows and columns in proportion to their <a data-link-type=dfn>flex factor</a>.</p>

<p class=note role=note>Note: Flexible lengths in a <a data-link-type=dfn href=#track-list>track list</a> work similarly to flexible lengths with a zero base size in <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3-flexbox title=CSS3-FLEXBOX>[CSS3-FLEXBOX]</a>.</p>

<p>Each column or row’s share of the <a data-link-type=dfn href=#free-space>free space</a> can be computed as the column or row’s
	<code>&lt;flex&gt; * &lt;free space&gt; / &lt;sum of all <a data-link-type=dfn>flex factors</a></code>.
	For the purpose of this calculation,
	a flexible length in the <var>min</var> position of a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-minmax>minmax()</a> function is treated as <span class=css>0</span> (an inflexible length).</p>

<p>When the available space is infinite
	(which happens when the <a data-link-type=dfn href=#grid-container>grid container</a>’s width or height is <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#indefinite>indefinite</a>),
	flex-sized <a data-link-type=dfn href=#grid-track>grid tracks</a> are sized to their contents while retaining their respective proportions.
	The used size of each flex-sized <a data-link-type=dfn href=#grid-track>grid track</a> is computed by
	determining the <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> size of each flex-sized <a data-link-type=dfn href=#grid-track>grid track</a>
	and dividing that size by the respective <a data-link-type=dfn>flex factor</a>
	to determine a “hypothetical <span class=css>1fr</span> size”.
	The maximum of those is used as the resolved <span class=css>1fr</span> length (the <dfn data-dfn-type=dfn data-noexport="" id=flex-fraction>flex fraction<a class=self-link href=#flex-fraction></a></dfn>),
	which is then multiplied by each <a data-link-type=dfn href=#grid-track>grid track</a>’s <a data-link-type=dfn>flex factor</a> to determine its final size.</p>


<h4 class="heading settled" data-level=5.1.4 id=subgrids><span class=secno>5.1.4. </span><span class=content>
Subgrids: the <a class=css data-link-for=grid-template-rows data-link-type=maybe href=#valdef-grid-template-rows-grid-template-columns-subgrid>subgrid</a> keyword</span><a class=self-link href=#subgrids></a></h4>

<p>A <a data-link-type=dfn href=#grid-item>grid item</a> can itself be a <a data-link-type=dfn href=#grid-container>grid container</a> by giving it <a class=css data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display: grid</a>;
	in this case the layout of its contents will be independent of the layout of the grid it participates in.</p>

<p>In some cases it might be necessary for the contents of multiple <a data-link-type=dfn href=#grid-item>grid items</a> to align to each other.
	A <a data-link-type=dfn href=#grid-container>grid container</a> that is itself a <a data-link-type=dfn href=#grid-item>grid item</a>
	can defer the definition of its rows or columns to its parent <a data-link-type=dfn href=#grid-container>grid container</a>
	by using the <a class=css data-link-for=grid-template-rows data-link-type=maybe href=#valdef-grid-template-rows-grid-template-columns-subgrid>subgrid</a> keyword in <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> and/or <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a>,
	making it a <dfn data-dfn-type=dfn data-export="" id=subgrid>subgrid<a class=self-link href=#subgrid></a></dfn> in that dimension.
	In this case, the <a data-link-type=dfn href=#grid-item>grid items</a> of the <a data-link-type=dfn href=#subgrid>subgrid</a>
	participate in sizing the <a data-link-type=dfn href=#grid>grid</a> of the parent <a data-link-type=dfn href=#grid-container>grid container</a>,
	allowing the contents of both grids to align.</p>

	<div class=example>
			For example, suppose we have a form consisting of a list of inputs with labels:
		<pre>&lt;ul&gt;
  &lt;li&gt;&lt;label&gt;Name:&lt;/label&gt; &lt;input name=fn&gt;
  &lt;li&gt;&lt;label&gt;Address:&lt;/label&gt; &lt;input name=address&gt;
  &lt;li&gt;&lt;label&gt;Phone:&lt;/label&gt; &lt;input name=phone&gt;
&lt;/ul&gt;
</pre>

<p>We want the labels and inputs to align, and we want to style each list item with a border.
		This can be accomplished with subgrid layout:</p>

		<pre>ul {
  display: grid;
  grid-auto-flow: row;
  grid-template-columns: auto 1fr;
}
li {
  display: grid;
  grid: subgrid;
  margin: 0.5em;
  border: solid;
  padding: 0.5em;
}
label {
  grid-column: 1;
}
input {
  grid-column: 2;
}
</pre>
	</div>

<p>A <a data-link-type=dfn href=#subgrid>subgrid</a> behaves just like a normal <a data-link-type=dfn href=#grid-container>grid container</a> except that:</p>

	<ul style="list-style-type: lower-alpha">
		<li>
			The number of explicit tracks is given by its <a data-link-type=dfn href=#grid-span>grid span</a>,
			rather than by <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a>.
			If the grid has an <a data-link-type=dfn href=#automatic-grid-span>automatic grid span</a>,
			the number of tracks is determined by the size of the <a data-link-type=dfn href=#subgrid>subgrid</a>’s <a data-link-type=dfn href=#implicit-grid>implicit grid</a>.

		<li>
			The <a data-link-type=dfn href=#grid-placement-property>grid-placement properties</a> of the <a data-link-type=dfn href=#subgrid>subgrid</a>’s <a data-link-type=dfn href=#grid-item>grid items</a>
			are scoped to the lines covered by the subgrid.
			E.g., numeric indices count starting from the first line of the subgrid
			rather than the first line of the parent grid.

		<li>
			The <a data-link-type=dfn href=#subgrid>subgrid</a>’s own grid items participate in the sizing of its parent grid and are aligned to it.
			In this process, the sum of the item’s margin, padding, and borders are applied as an extra layer of margin to the items at those edges.

			<div class=example>
				For example, if we have a 3×3 grid with the following tracks:

<pre>#parent-grid { grid-template-columns: 300px auto 300px; }</pre>

<p>If a subgrid covers the last two tracks, its first two columns correspond to the parent grid’s last two columns,
				and any items positioned into those tracks participate in sizing the parent grid.
				Specifically, an item positioned in the first track of the subgrid
				influences the auto-sizing of the parent grid’s middle track.</p>

				<pre>#subgrid { grid-column: 2 / span 2; } /* cover parent’s 2nd and 3rd tracks */
#subgrid :first-child { grid-column: 1; } /* subgrid’s 1st track, parent grid’s 2nd track */
</pre>

<p>If the subgrid has margins/borders/padding,
				the the size of those margins/borders/padding also influence sizing.
				For example, if the subgrid has 100px padding:</p>

<pre>#subgrid { padding: 100px; }</pre>

<p>Then when the parent grid auto-sizes its second track,
				it will be at least 100px wider than any items in the subgrid’s first track,
				and any items in the subgrid’s second track will be sized to fit a slot 200px wide (instead of 300px wide).</p>
			</div>

<p>However, any overflow tracks
			(i.e. those outside the <a data-link-type=dfn href=#explicit-grid>explicit grid</a> when the <a data-link-type=dfn href=#subgrid>subgrid</a> has a <a data-link-type=dfn href=#definite-grid-span>definite grid span</a>)
			do not correspond to any tracks in the parent grid;
			they effectively extend in a third dimension.</p>

			<div class=example>
				For example, if a parent grid has adjacent tracks <var>A</var>, <var>B</var>, and <var>C</var>,
				and a <span class=css>span 1</span> subgrid with an extra <a data-link-type=dfn href=#implicit-grid-track>implicit grid track</a> is placed in track <var>B</var>,
				the items in that <a data-link-type=dfn href=#implicit-grid-track>implicit grid track</a> are not considered part of track <var>B</var>.
			</div>

		<li>
			The <a data-link-type=dfn href=#subgrid>subgrid</a> is always stretched;
			the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-self>align-self</a>/<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-self>justify-self</a> properties on it are ignored.
			Any specified width/height constraints are also ignored.

		<li>
			Layoutwise, the <a data-link-type=dfn href=#subgrid>subgrid</a>’s <a data-link-type=dfn href=#explicit-grid>explicit grid</a> is always aligned with the corresponding section of the parent <a data-link-type=dfn href=#grid>grid</a>;
			the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-content>align-content</a>/<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-content>justify-content</a> properties on it are ignored.
			However, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-overflow-3/#overflow0>overflow</a> does apply,
			so the contents of the subgrid can be scrolled aside.
			(Note: the act of scrolling does not affect layout.)

		<li>
			Explicit named lines can also be specified together with the <a class=css data-link-for=grid-template-rows data-link-type=maybe href=#valdef-grid-template-rows-grid-template-columns-subgrid>subgrid</a> keyword;
			these names apply (within the <a data-link-type=dfn href=#subgrid>subgrid</a>) to the corresponding lines of the parent <a data-link-type=dfn href=#grid>grid</a>.
			If the <a data-link-type=dfn href=#subgrid>subgrid</a> has an explicit <a data-link-type=dfn href=#grid-span>grid span</a>,
			any names specified for lines beyond the span are ignored.

			<div class=example>
				For example, if the subgrid above were specified with 5 names:

<pre>#subgrid { grid-template-columns: subgrid (first) (second) (third) (fourth) (fifth); }</pre>

<p>Items within the subgrid could be positioned using the first four line names;
				the last name would be ignored (as if it didn’t exist),
				since the subgrid only covers four lines.</p>
			</div>

<p>If the <a data-link-type=dfn href=#subgrid>subgrid</a> has an explicit <a data-link-type=dfn href=#grid-position>grid position</a> as well as an explicit <a data-link-type=dfn href=#grid-span>grid span</a>,
			it also automatically receives the line names specified for its parent <a data-link-type=dfn href=#grid>grid</a>.
			(In such cases the author can rely on the names specified in the parent grid,
			and does not need to duplicate those names in each subgrid declaration.)</p>
	</ul>

<h4 class="heading settled" data-level=5.1.5 id=resolved-track-list><span class=secno>5.1.5. </span><span class=content>
Resolved Values</span><a class=self-link href=#resolved-track-list></a></h4>

<p>When an element’s <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display>display</a> is <a class=css data-link-type=maybe href=#valdef-display-grid>grid</a> or <a class=css data-link-type=maybe href=#valdef-display-inline-grid>inline-grid</a> and it generates a box,
	the <a href=http://www.w3.org/TR/cssom/#resolved-values>resolved value</a>
	of the <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> properties is the used value,
	serialized as follows:</p>

	<ul>
		<li>
			Every track listed,
			whether implicitly or explicitly created.

		<li>
			Every track size given as a length in pixels,
			regardless of sizing function.

		<li>
			A contiguous run of two or more tracks that have the same size and associated line names
			may be serialized with the <a class=css data-link-type=maybe href=#funcdef-repeat>repeat()</a> notation.
	</ul>

<p>Otherwise, (e.g. when the element has <a class=css data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display: none</a> or is not a grid)
	the resolved value is simply the computed value.</p>

	<div class=example>
		<pre>&lt;style&gt;
  #grid {
  width: 500px;
  grid-template-columns:
    (a)     auto
    (b)     minmax(min-content, 1fr)
    (b c d) repeat(2, (e) 40px)
        repeat(5, auto);
  }
&lt;/style&gt;
&lt;div id="grid"&gt;
  &lt;div style="grid-column-start:1; width:50px"&gt;&lt;/div&gt;
  &lt;div style="grid-column-start:9; width:50px"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script&gt;
  var gridElement = document.getElementById("grid");
  getComputedStyle(gridElement).gridDefinitionColumns;
  // (a) 50px (b) 320px (b c d) repeat(2, (e) 40px) repeat(4, 0px) 50px
&lt;/script&gt;
</pre>
	</div>

<p class=note role=note>Note: In general, resolved values are the computed values,
	except for a small list of legacy 2.1 properties.
	However, compatibility with early implementations of this module
	requires us to define <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> as returning used values.
	Authors are recommended to use the
	<a href=http://dev.w3.org/csswg/cssom/#the-getstyleutils-interface><code>.rawComputedStyle</code> and <code>.usedStyle</code> attributes</a>
	instead of <code>getComputedStyle()</code>.</p>


<h3 class="heading settled" data-level=5.2 id=grid-template-areas-property><span class=secno>5.2. </span><span class=content>
Named Areas: the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> property</span><a class=self-link href=#grid-template-areas-property></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-grid-template-areas>grid-template-areas<a class=self-link href=#propdef-grid-template-areas></a></dfn><tr><th>Value:<td class=prod>none <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a> <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a><a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus>+</a><tr><th>Initial:<td>none<tr><th>Applies to:<td><a data-link-type=dfn href=#grid-container>grid containers</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>n/a<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value<tr><th>Animatable:<td>no</table>

<p>This property specifies <dfn data-dfn-type=dfn data-export="" id=named-grid-area title="named grid area">named grid areas<a class=self-link href=#named-grid-area></a></dfn>,
	which are not associated with any particular <a data-link-type=dfn href=#grid-item>grid item</a>,
	but can be referenced from the <a data-link-type=dfn href=#grid-placement-property>grid-placement properties</a>.
	The syntax of the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> property also provides a visualization
	of the structure of the <a data-link-type=dfn href=#grid>grid</a>,
	making the overall layout of the <a data-link-type=dfn href=#grid-container>grid container</a> easier to understand.</p>

<p>Values have the following meanings:</p>

	<dl data-dfn-for=grid-template-areas data-dfn-type=value>
		<dt><dfn class=css data-dfn-for=grid-template-areas data-dfn-type=value data-export="" id=valdef-grid-template-areas-none>none<a class=self-link href=#valdef-grid-template-areas-none></a></dfn>
		<dd>
			The <a data-link-type=dfn href=#grid-container>grid container</a> doesn’t define any <a data-link-type=dfn href=#named-grid-area>named grid areas</a>.

		<dt><dfn class=css data-dfn-for=grid-template-areas data-dfn-type=value data-export="" id=valdef-grid-template-areas-string><a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a>+<a class=self-link href=#valdef-grid-template-areas-string></a></dfn>
		<dd>
			A row is created for every separate string listed for the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> property,
			and a column is created for each cell in the string,
			when parsed as follows:

<p>Tokenize the string into a list of the following tokens,
			using longest-match semantics:</p>

			<ul data-dfn-type=dfn>
				<li>
					A sequence of <a data-link-type=dfn href=http://dev.w3.org/csswg/css-syntax-3/#name-code-point>name code points</a>,
					representing a <dfn data-dfn-type=dfn data-noexport="" id=named-cell-token>named cell token<a class=self-link href=#named-cell-token></a></dfn>
					with a name consisting of its code points.
				<li>
					A "." (U+002E FULL STOP),
					representing a <dfn data-dfn-type=dfn data-noexport="" id=null-cell-token>null cell token<a class=self-link href=#null-cell-token></a></dfn>.

				<li>
					A sequence of <a data-link-type=dfn href=http://dev.w3.org/csswg/css-syntax-3/#whitespace>whitespace</a>,
					representing nothing
					(do not produce a token).

				<li>
					A sequence of any other characters,
					representing a <dfn data-dfn-type=dfn data-noexport="" id=trash-token>trash token<a class=self-link href=#trash-token></a></dfn>.
			</ul>

<p class=note role=note>Note: These rules can produce cell names that do not match the <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/mediaqueries-4/#typedef-ident>&lt;ident&gt;</a> syntax,
			such as "1st 2nd 3rd",
			which requires escaping when referencing those areas by name in other properties,
			like <a class=css data-link-type=propdesc href=#propdef-grid-row title=grid-row>grid-row: \31st;</a> to reference the area named <span class=css>1st</span>.</p>

			<ul>
				<li>
					A <a data-link-type=dfn href=#null-cell-token>null cell token</a> represents an unnamed area in the <a data-link-type=dfn href=#grid-container>grid container</a>.

				<li>
					A <a data-link-type=dfn href=#named-cell-token>named cell token</a> creates a <a data-link-type=dfn href=#named-grid-area>named grid area</a> with the same name.
					Multiple <a data-link-type=dfn href=#named-cell-token>named cell tokens</a> within and between rows
					create a single <a data-link-type=dfn href=#named-grid-area>named grid area</a> that spans the corresponding <a data-link-type=dfn href=#grid-cell>grid cells</a>.

				<li>
					A <a data-link-type=dfn href=#trash-token>trash token</a> is a syntax error,
					and makes the declaration invalid.
			</ul>

<p>All strings must have the same number of columns,
			or else the declaration is invalid.
			If a <a data-link-type=dfn href=#named-grid-area>named grid area</a> spans multiple <a data-link-type=dfn href=#grid-cell>grid cells</a>,
			but those cells do not form a single filled-in rectangle,
			the declaration is invalid.</p>

<p class=note role=note>Note: Non-rectangular or disconnected regions may be permitted in a future version of this module.</p>
	</dl>


	<div class=example>
		In this example, the <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> property is used to create a page layout
		where areas are defined for header content (<code>head</code>),
		navigational content (<code>nav</code>),
		footer content (<code>foot</code>),
		and main content (<code>main</code>).
		Accordingly, the template creates three rows and two columns,
		with four <a data-link-type=dfn href=#named-grid-area>named grid areas</a>.
		The <code>head</code> area spans both columns and the first row of the grid.

		<pre>&lt;style type="text/css"&gt;
  #grid {
  display: grid;
  grid-template-areas: "head head"
             "nav  main"
             "foot .   "
  }
  #grid &gt; header { grid-area: head; }
  #grid &gt; nav    { grid-area: nav; }
  #grid &gt; main   { grid-area: main; }
  #grid &gt; footer { grid-area: foot; }
&lt;/style&gt;
</pre>
	</div>

<h4 class="heading settled" data-level=5.2.1 id=implicit-named-lines><span class=secno>5.2.1. </span><span class=content>
Implicit Named Lines</span><a class=self-link href=#implicit-named-lines></a></h4>

<p>The <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> property creates <dfn data-dfn-type=dfn data-export="" id=implicit-named-line title="implicit named line">implicit named lines<a class=self-link href=#implicit-named-line></a></dfn> from the <a data-link-type=dfn href=#named-grid-area>named grid areas</a> in the template.
	For each <a data-link-type=dfn href=#named-grid-area>named grid area</a> <var>foo</var>, four <a data-link-type=dfn href=#implicit-named-line>implicit named lines</a> are created:
	two named <span class=css>foo-start</span>, naming the row-start and column-start lines of the <a data-link-type=dfn href=#named-grid-area>named grid area</a>,
	and two named <span class=css>foo-end</span>, naming the row-end and column-end lines of the <a data-link-type=dfn href=#named-grid-area>named grid area</a>.</p>

<p>These named lines behave just like any other named line,
	except that they do not appear in the value of <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a>/<a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a>.
	Even if an explicit line of the same name is defined,
	the implicit named lines are just more lines with the same name.</p>

<h4 class="heading settled" data-level=5.2.2 id=implicit-named-areas><span class=secno>5.2.2. </span><span class=content>
Implicit Named Areas</span><a class=self-link href=#implicit-named-areas></a></h4>

<p>Since a <a data-link-type=dfn href=#named-grid-area>named grid area</a> is referenced by the <a data-link-type=dfn href=#implicit-named-line>implicit named lines</a> it produces,
	explicitly adding named lines of the same form (<span class=css>foo-start</span>/<span class=css>foo-end</span>)
	effectively creates a <a data-link-type=dfn href=#named-grid-area>named grid area</a>.
	Such <dfn data-dfn-type=dfn data-export="" id=implicit-named-area title="implicit named area">implicit named areas<a class=self-link href=#implicit-named-area></a></dfn> do not appear in the value of <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a>,
	but can still be referenced by the <a data-link-type=dfn href=#grid-placement-property>grid-placement properties</a>.</p>

<h3 class="heading settled" data-level=5.3 id=explicit-grid-shorthand><span class=secno>5.3. </span><span class=content>
Explicit Grid Shorthand: the <a class=property data-link-type=propdesc href=#propdef-grid-template>grid-template</a> property</span><a class=self-link href=#explicit-grid-shorthand></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-grid-template>grid-template<a class=self-link href=#propdef-grid-template></a></dfn><tr><th>Value:<td class=prod>none <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a> subgrid <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a> <a class=production data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>&lt;‘grid-template-columns’&gt;</a> / <a class=production data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>&lt;‘grid-template-rows’&gt;</a> <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a><br> [ <a class="production css" data-link-type=type href=#typedef-track-list>&lt;track-list&gt;</a> / ]<a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a> [ <a class="production css" data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a><a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a> <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a> <a class="production css" data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a><a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a> <a class="production css" data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a><a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a> ]<a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus>+</a><tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a data-link-type=dfn href=#grid-container>grid containers</a><tr><th>Inherited:<td>see individual properties<tr><th>Percentages:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties<tr><th>Animatable:<td>no</table>

<p>The <a class=property data-link-type=propdesc href=#propdef-grid-template>grid-template</a> property is a shorthand for setting
	<a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a>, <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> in a single declaration.
	It has several distinct syntax forms:</p>

	<dl data-dfn-for=grid-template data-dfn-type=value>
		<dt><dfn class=css data-dfn-for=grid-template data-dfn-type=value data-export="" id=valdef-grid-template-none>none<a class=self-link href=#valdef-grid-template-none></a></dfn>
		<dd>
			Sets all three properties to their initial values (<a class=css data-link-for=grid-template-rows data-link-type=value href=#valdef-grid-template-rows-grid-template-columns-none>none</a>).

		<dt><dfn class=css data-dfn-for=grid-template data-dfn-type=value data-export="" id=valdef-grid-template-subgrid>subgrid<a class=self-link href=#valdef-grid-template-subgrid></a></dfn>
		<dd>
			Sets <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> to <a class=css data-link-for=grid-template-rows data-link-type=maybe href=#valdef-grid-template-rows-grid-template-columns-subgrid>subgrid</a>,
			and <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> to its initial value.

		<dt><dfn class=css data-dfn-for=grid-template data-dfn-type=value data-export="" id=grid-template-rowcol><a class=production data-link-type=propdesc href=#propdef-grid-template-columns title=grid-template-columns>&lt;‘grid-template-columns’&gt;</a> / <a class=production data-link-type=propdesc href=#propdef-grid-template-rows title=grid-template-rows>&lt;‘grid-template-rows’&gt;</a><a class=self-link href=#grid-template-rowcol></a></dfn>
		<dd>
			Sets <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> and <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> to the specified values, respectively,
			and sets <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> to <a class=css data-link-for=grid-template-areas data-link-type=value href=#valdef-grid-template-areas-none>none</a>.

			<div class=example>
<pre>grid-template: auto 1fr auto / auto 1fr;</pre>

<p>is equivalent to</p>

				<pre>grid-template-columns: auto 1fr auto;
grid-template-rows: auto 1fr;
grid-template-areas: none;
</pre>
			</div>

		<dt><dfn class=css data-dfn-for=grid-template data-dfn-type=value data-export="" id=grid-template-ascii>[ <a class="production css" data-link-type=type href=#typedef-track-list>&lt;track-list&gt;</a> / ]? [ <a class="production css" data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>? <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value>&lt;string&gt;</a> <a class="production css" data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a>? <a class="production css" data-link-type=type href=#typedef-line-names>&lt;line-names&gt;</a>? ]+<a class=self-link href=#grid-template-ascii></a></dfn>
		<dd>
			<ul>
				<li>
					Sets <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a> to the track listing specified before the slash
					(or <a class=css data-link-for=grid-template-columns data-link-type=value href=#valdef-grid-template-rows-grid-template-columns-none>none</a>, if not specified).

				<li>
					Sets <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a> to the strings listed after the slash.

				<li>
					Sets <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> to the <a class="production css" data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a>s following each string
					(filling in <a class=css data-link-for=grid-template-rows data-link-type=value href=#valdef-grid-template-columns-grid-template-rows-auto>auto</a> for any missing sizes),
					and splicing in the named lines defined before/after each size.
			</ul>

<p>This syntax allows the author to align track names and sizes inline with their respective grid areas.</p>

			<div class=example>
				<pre>grid-template: auto 1fr auto /
  (header-top) "a   a   a"     (header-bottom)
  (main-top) "b   b   b" 1fr (main-bottom);
</pre>

<p>is equivalent to</p>

				<pre>grid-template-columns: auto 1fr auto;
grid-template-rows: (header-top) auto (header-bottom main-top) 1fr (main-bottom);
grid-template-areas: "a a a"
           "b b b";
</pre>
			</div>
	</dl>

<p class=note role=note>Note: The <a class=property data-link-type=propdesc href=#propdef-grid>grid</a> shorthand accepts the same syntax,
	but also resets the implicit grid properties to their initial values.
	Unless authors want those to cascade in separately,
	it is therefore recommended to use <a class=property data-link-type=propdesc href=#propdef-grid>grid</a> instead of <a class=property data-link-type=propdesc href=#propdef-grid-template>grid-template</a>.</p>

<h2 class="heading settled" data-level=6 id=implicit-grids><span class=secno>6. </span><span class=content>
The Implicit Grid</span><a class=self-link href=#implicit-grids></a></h2>

<p>While <a class=property data-link-type=propdesc href=#propdef-grid-template>grid-template</a> and its longhand properties define the <a data-link-type=dfn href=#explicit-grid>explicit grid</a>,
	<a data-link-type=dfn href=#grid-item>grid items</a> can be positioned outside of these bounds.
	This causes the <a data-link-type=dfn href=#grid-container>grid container</a> to generate <a data-link-type=dfn href=#implicit-grid-track>implicit grid tracks</a>,
	forming the <dfn data-dfn-type=dfn data-export="" id=implicit-grid>implicit grid<a class=self-link href=#implicit-grid></a></dfn>.
	The <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows>grid-auto-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns>grid-auto-columns</a> properties size these <a data-link-type=dfn href=#implicit-grid-track>implicit grid tracks</a>.</p>

<p>The <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow>grid-auto-flow</a> property controls auto-placement of <a data-link-type=dfn href=#grid-item>grid items</a>
	without an explicit position.
	Once the <a data-link-type=dfn href=#explicit-grid>explicit grid</a> is filled
	(or if there is no <a data-link-type=dfn href=#explicit-grid>explicit grid</a>)
	auto-placement will also cause the generation of <a data-link-type=dfn href=#implicit-grid-track>implicit grid tracks</a>.</p>

<p>Implementations may limit the possible size of the <a data-link-type=dfn href=#implicit-grid>implicit grid</a>.
	If they do,
	attempting to position (or auto-position) an item past the maximum size
	must instead position the item with its corresponding edge at the maximum index,
	possibly overlapping other items.
	Attempting to size an item to a span past the maximum size
	must instead size it with a span equal to the maximum size.
	It is recommended that the maximum size of the <a data-link-type=dfn href=#implicit-grid>implicit grid</a>
	not be smaller than 1 million tracks in each axis.</p>

<h3 class="heading settled" data-level=6.1 id=auto-tracks><span class=secno>6.1. </span><span class=content>
Sizing Auto-generated Rows and Columns: the <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows>grid-auto-rows</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns>grid-auto-columns</a> properties</span><a class=self-link href=#auto-tracks></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-grid-auto-columns>grid-auto-columns<a class=self-link href=#propdef-grid-auto-columns></a></dfn>, <dfn class=css data-dfn-type=property data-export="" id=propdef-grid-auto-rows>grid-auto-rows<a class=self-link href=#propdef-grid-auto-rows></a></dfn><tr><th>Value:<td class=prod><a class="production css" data-link-type=type href=#typedef-track-size>&lt;track-size&gt;</a><tr><th>Initial:<td>auto<tr><th>Applies to:<td><a data-link-type=dfn href=#grid-container>grid containers</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>see <a href=#track-sizing>Track Sizing</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>see <a href=#track-sizing>Track Sizing</a><tr><th>Animatable:<td>no</table>

<p>If a grid item is positioned into a row or column that is not explicitly sized
	by <a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a> or <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a>,
	<dfn data-dfn-type=dfn data-export="" id=implicit-grid-track title="implicit grid track|implicit grid row|implicit grid column">implicit grid tracks<a class=self-link href=#implicit-grid-track></a></dfn> are created to hold it.
	This can happen either by explicitly positioning into a row or column that is out of range,
	or by the <a data-link-type=dfn href=#grid-item-placement-algorithm>auto-placement algorithm</a> creating additional rows or columns.
	The <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns>grid-auto-columns</a> and <a class=property data-link-type=propdesc href=#propdef-grid-auto-rows>grid-auto-rows</a> properties specify the size of such implicitly-created tracks.</p>

	<div class=example>
		This example illustrates the sizing of <a data-link-type=dfn href=#implicit-grid-track>implicit grid tracks</a>.
		Note that <a data-link-type=dfn href=#grid-item>grid item</a> B is positioned on <a data-link-type=dfn href=#grid-line>grid line</a> 5,
		which automatically creates <strong>four</strong> <a data-link-type=dfn href=#implicit-grid-track>implicit grid columns</a>.
		However, only two of them
		(the first and the last)
		are occupied by any <a data-link-type=dfn href=#grid-item>grid items</a>,
		so the two empty <a data-link-type=dfn href=#grid-track>grid tracks</a>
		collapse to zero width.

		<figure class=figure>
				<img alt="" src=images/implicit-columns-and-rows.png>

			<figcaption>A Grid with an implicit row and four implicit columns, two of which are zero-sized.</figcaption>
		</figure>

		<pre>&lt;style type="text/css"&gt;
  #grid {
    display: grid;
    grid-template-columns: 20px;
    grid-template-rows: 20px }
  #A { grid-column: 1;          grid-row: 1; }
  #B { grid-column: 5;          grid-row: 1 / span 2; }
  #C { grid-column: 1 / span 2; grid-row: 2; }
&lt;/style&gt;

&lt;div id="grid"&gt;
  &lt;div id="A"&gt;A&lt;/div&gt;
  &lt;div id="B"&gt;B&lt;/div&gt;
  &lt;div id="C"&gt;C&lt;/div&gt;
&lt;/div&gt;
</pre>
	</div>

<h3 class="heading settled" data-level=6.2 id=grid-auto-flow-property><span class=secno>6.2. </span><span class=content>
<dfn data-dfn-type=dfn data-noexport="" id=auto-placement title="auto-placement|automatic placement">Automatic Placement<a class=self-link href=#auto-placement></a></dfn>: the <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow>grid-auto-flow</a> property</span><a class=self-link href=#grid-auto-flow-property></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-grid-auto-flow>grid-auto-flow<a class=self-link href=#propdef-grid-auto-flow></a></dfn><tr><th>Value:<td class=prod><a class="production css" data-link-type=type href=#typedef-auto-flow-direction>&lt;auto-flow-direction&gt;</a> <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-any>||</a> <a class="production css" data-link-type=type href=#typedef-auto-flow-algorithm>&lt;auto-flow-algorithm&gt;</a><tr><th>Initial:<td>row<tr><th>Applies to:<td><a data-link-type=dfn href=#grid-container>grid containers</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>n/a<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value<tr><th>Animatable:<td>no</table>

	<pre class=prod><dfn data-dfn-type=type data-export="" id=typedef-auto-flow-direction>&lt;auto-flow-direction&gt;<a class=self-link href=#typedef-auto-flow-direction></a></dfn> = row <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a> column
<dfn data-dfn-type=type data-export="" id=typedef-auto-flow-algorithm>&lt;auto-flow-algorithm&gt;<a class=self-link href=#typedef-auto-flow-algorithm></a></dfn> = dense <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a> stack
</pre>

<p><a data-link-type=dfn href=#grid-item>Grid items</a> that aren’t explicitly placed are automatically placed
	into an unoccupied space in the <a data-link-type=dfn href=#grid-container>grid container</a>
	by the <a data-link-type=dfn href=#grid-item-placement-algorithm>auto-placement algorithm</a>.
	<a class=property data-link-type=propdesc href=#propdef-grid-auto-flow>grid-auto-flow</a> controls how the <a data-link-type=dfn href=#grid-item-placement-algorithm>auto-placement algorithm</a> works,
	specifying exactly how auto-placed items get flowed into the grid.
	See <a data-section="" href=#auto-placement-algo>§8.5 
Grid Item Placement Algorithm</a> for details on precisely how the auto-placement algorithm works.</p>

<p>The <a class="production css" data-link-type=type href=#typedef-auto-flow-direction>&lt;auto-flow-direction&gt;</a> determines what direction the search for unoccupied space takes place,
	and whether rows or columns are added as needed to accommodate the content.
	If this is omitted, it means the same as specifying <a class=css data-link-for=grid-auto-flow data-link-type=maybe href=#valdef-grid-auto-flow-auto-flow-direction-row>row</a>.</p>

	<dl data-dfn-for="grid-auto-flow <auto-flow-direction>" data-dfn-type=value>
		<dt><dfn class=css data-dfn-for="grid-auto-flow <auto-flow-direction>" data-dfn-type=value data-export="" id=valdef-grid-auto-flow-auto-flow-direction-row>row<a class=self-link href=#valdef-grid-auto-flow-auto-flow-direction-row></a></dfn>
		<dd>
			The <a data-link-type=dfn href=#grid-item-placement-algorithm>auto-placement algorithm</a> places items
			by filling each row in turn,
			adding new rows as necessary.

		<dt><dfn class=css data-dfn-for="grid-auto-flow <auto-flow-direction>" data-dfn-type=value data-export="" id=valdef-grid-auto-flow-auto-flow-direction-column>column<a class=self-link href=#valdef-grid-auto-flow-auto-flow-direction-column></a></dfn>
		<dd>
			The <a data-link-type=dfn href=#grid-item-placement-algorithm>auto-placement algorithm</a> places items
			by filling each column in turn,
			adding new columns as necessary.
	</dl>

<p>The <a class="production css" data-link-type=type href=#typedef-auto-flow-algorithm>&lt;auto-flow-algorithm&gt;</a> determines how the search for free space is conducted,
	and where items are placed.
	If omitted, it indicates that a “sparse” algorithm is to be used.</p>

	<dl data-dfn-for="grid-auto-flow <auto-flow-algorithm>" data-dfn-type=value>
		<dt>omitted (“sparse”)
		<dd>
			If the <a class="production css" data-link-type=type href=#typedef-auto-flow-algorithm>&lt;auto-flow-algorithm&gt;</a> is not specified,
			the auto-placement algorithm uses a “sparse” packing algorithm.
			It maintains a “cursor” that gradually moves through the grid,
			looking for sufficiently large unoccupied areas to place each auto-placed <a data-link-type=dfn href=#grid-item>grid item</a> in turn.
			It never returns to already-searched areas of the grid,
			even if a large <a data-link-type=dfn href=#grid-item>grid item</a> causes the “cursor” to skip over areas
			that would be large enough to fit smaller subsequent <a data-link-type=dfn href=#grid-item>grid items</a>.

<p class=note role=note>Note: While this algorithm can possibly leave large “holes” in a grid,
			it ensures that all of the auto-placed items appear “in order”,
			regardless of the shape of the items and the grid.</p>

		<dt><dfn class=css data-dfn-for="grid-auto-flow <auto-flow-algorithm>" data-dfn-type=value data-export="" id=valdef-grid-auto-flow-auto-flow-algorithm-dense>dense<a class=self-link href=#valdef-grid-auto-flow-auto-flow-algorithm-dense></a></dfn>
		<dd>
			If specified, the auto-placement algorithm uses a “dense” packing algorithm,
			which attempts to fill in holes in the grid if smaller items come up later.

<p class=note role=note>Note: This may cause items to appear out-of-order.</p>

		<dt><dfn class=css data-dfn-for="grid-auto-flow <auto-flow-algorithm>" data-dfn-type=value data-export="" id=valdef-grid-auto-flow-auto-flow-algorithm-stack>stack<a class=self-link href=#valdef-grid-auto-flow-auto-flow-algorithm-stack></a></dfn>
		<dd>
			The auto-placement algorithm is run with a single hypothetical 1×1 grid item,
			and all of the auto-placed items are placed wherever that hypothetical item ends up.
			(This happens even if the auto-placed item is greater than 1×1,
			even if doing so would cause it to overlap explicitly-placed <a data-link-type=dfn href=#grid-item>grid items</a>.)
	</dl>

<p class=note role=note>Note: A future level of this module is expected to add a value that flows auto-positioned items together into a single “default” cell.</p>

<p>Auto-placement takes <a data-link-type=dfn href=#grid-item>grid items</a> in <a data-link-type=dfn href=http://dev.w3.org/csswg/css-flexbox-1/#order-modified-document-order>order-modified document order</a>.</p>

	<div class=example>
		In the following example, there are three columns, each auto-sized to their contents.
		No rows are explicitly defined.
		The <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow>grid-auto-flow</a> property is <a class=css data-link-for=grid-auto-flow data-link-type=maybe href=#valdef-grid-auto-flow-auto-flow-direction-row>row</a>
		which instructs the grid to search across its three columns starting with the first row,
		then the next,
		adding rows as needed until sufficient space is located to accommodate the position of any auto-placed <a data-link-type=dfn href=#grid-item>grid item</a>.

		<div class=figure>
				<img alt="Image: A form arranged using automatic placement." src=images/auto-placed-form.png>

			<p class=caption>A form arranged using automatic placement.
		</div>

		<pre>&lt;style type="text/css"&gt;
  form {
  display: grid;
  /* Define three columns, all content-sized,
     and name the corresponding lines. */
  grid-template-columns: (labels) auto (controls) auto (oversized) auto;
  grid-auto-flow: row;
  }
  form &gt; label {
  /* Place all labels in the "labels" column and
     automatically find the next available row. */
  grid-column: labels;
  grid-row: auto;
  }
  form &gt; input, form &gt; select {
  /* Place all controls in the "controls" column and
     automatically find the next available row. */
  grid-column: controls;
  grid-row: auto;
  }

  #department {
  /* Auto place this item in the "oversized" column
     in the first row where an area that spans three rows
     won’t overlap other explicitly placed items or areas
     or any items automatically placed prior to this area. */
  grid-column: oversized;
  grid-row: span 3;
  }

  /* Place all the buttons of the form
   in the explicitly defined grid area. */
  #buttons {
  grid-row: auto;

  /* Ensure the button area spans the entire grid element
     in the row axis. */
  grid-column: 1 / -1;
  text-align: end;
  }
&lt;/style&gt;
&lt;form&gt;
  &lt;label for="firstname"&gt;First name:&lt;/label&gt;
  &lt;input type="text" id="firstname" name="firstname" /&gt;
  &lt;label for="lastname"&gt;Last name:&lt;/label&gt;
  &lt;input type="text" id="lastname" name="lastname" /&gt;
  &lt;label for="address"&gt;Address:&lt;/label&gt;
  &lt;input type="text" id="address" name="address" /&gt;
  &lt;label for="address2"&gt;Address 2:&lt;/label&gt;
  &lt;input type="text" id="address2" name="address2" /&gt;
  &lt;label for="city"&gt;City:&lt;/label&gt;
  &lt;input type="text" id="city" name="city" /&gt;
  &lt;label for="state"&gt;State:&lt;/label&gt;
  &lt;select type="text" id="state" name="state"&gt;
  &lt;option value="WA"&gt;Washington&lt;/option&gt;
  &lt;/select&gt;
  &lt;label for="zip"&gt;Zip:&lt;/label&gt;
  &lt;input type="text" id="zip" name="zip" /&gt;

  &lt;div id="department"&gt;
  &lt;label for="department"&gt;Department:&lt;/label&gt;
  &lt;select id="department" name="department" multiple&gt;
    &lt;option value="finance"&gt;Finance&lt;/option&gt;
    &lt;option value="humanresources"&gt;Human Resources&lt;/option&gt;
    &lt;option value="marketing"&gt;Marketing&lt;/option&gt;
  &lt;/select&gt;
  &lt;/div&gt;

  &lt;div id="buttons"&gt;
  &lt;button id="cancel"&gt;Cancel&lt;/button&gt;
  &lt;button id="back"&gt;Back&lt;/button&gt;
  &lt;button id="next"&gt;Next&lt;/button&gt;
  &lt;/div&gt;
&lt;/form&gt;
</pre>
	</div>


<h2 class="heading settled" data-level=7 id=grid-shorthand><span class=secno>7. </span><span class=content>
Grid Definition Shorthand: the <a class=property data-link-type=propdesc href=#propdef-grid>grid</a> property</span><a class=self-link href=#grid-shorthand></a></h2>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-grid>grid<a class=self-link href=#propdef-grid></a></dfn><tr><th>Value:<td class=prod><a class=production data-link-type=propdesc href=#propdef-grid-template title=grid-template>&lt;‘grid-template’&gt;</a> <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one>|</a> [ <a class=production data-link-type=propdesc href=#propdef-grid-auto-flow title=grid-auto-flow>&lt;‘grid-auto-flow’&gt;</a> [ <a class=production data-link-type=propdesc href=#propdef-grid-auto-columns title=grid-auto-columns>&lt;‘grid-auto-columns’&gt;</a> [ / <a class=production data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>&lt;‘grid-auto-rows’&gt;</a> ]<a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a> ]<a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a> ]<tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a data-link-type=dfn href=#grid-container>grid containers</a><tr><th>Inherited:<td>see individual properties<tr><th>Percentages:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties<tr><th>Animatable:<td>no</table>

<p>The <a class=property data-link-type=propdesc href=#propdef-grid>grid</a> property is a shorthand that sets
	all of the explicit grid properties
	(<a class=property data-link-type=propdesc href=#propdef-grid-template-rows>grid-template-rows</a>, <a class=property data-link-type=propdesc href=#propdef-grid-template-columns>grid-template-columns</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a>)
	as well as all the implicit grid properties
	(<a class=property data-link-type=propdesc href=#propdef-grid-auto-rows>grid-auto-rows</a>, <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns>grid-auto-columns</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow>grid-auto-flow</a>)
	in a single declaration.
	If <a class=production data-link-type=propdesc href=#propdef-grid-auto-rows title=grid-auto-rows>&lt;‘grid-auto-rows’&gt;</a> value is omitted,
	it is set to the value specified for <a class=property data-link-type=propdesc href=#propdef-grid-auto-columns>grid-auto-columns</a>.
	Other omitted values are set to their initial values.</p>

<p class=note role=note>Note: Note that you can only specify the explicit <em>or</em> the implicit grid properties in a single <a class=property data-link-type=propdesc href=#propdef-grid>grid</a> declaration.
	The sub-properties you don’t specify are set to their initial value,
	as normal for shorthands.</p>

	<div class=example>
		In addition to accepting the <a class=property data-link-type=propdesc href=#propdef-grid-template>grid-template</a> shorthand syntax for setting up the <a data-link-type=dfn href=#explicit-grid>explicit grid</a>,
		the <a class=property data-link-type=propdesc href=#propdef-grid>grid</a> shorthand can also easily set up parameters for an auto-formatted grid.
		For example, <a class=css data-link-type=propdesc href=#propdef-grid title=grid>grid: row 1fr;</a> is equivalent to

		<pre>grid-template: none;
grid-auto-columns: 1fr;
grid-auto-rows: 1fr;
grid-auto-flow: row;
</pre>

<p>Similarly, <a class=css data-link-type=propdesc href=#propdef-grid title=grid>grid: column 1fr / auto</a> is equivalent to</p>
		<pre>grid-template: none;
grid-auto-columns: 1fr;
grid-auto-rows: auto;
grid-auto-flow: column;
</pre>
	</div>

<h2 class="heading settled" data-level=8 id=placement><span class=secno>8. </span><span class=content>
Placing Grid Items</span><a class=self-link href=#placement></a></h2>

<p>Every <a data-link-type=dfn href=#grid-item>grid item</a> has a <a data-link-type=dfn href=#grid-area>grid area</a>,
	a rectangular set of <a data-link-type=dfn href=#grid-cell>grid cells</a> that the <a data-link-type=dfn href=#grid-item>grid item</a> occupies.
	This <a data-link-type=dfn href=#grid-area>grid area</a> defines the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-display-3/#containing-block>containing block</a> for the <a data-link-type=dfn href=#grid-item>grid item</a>
	within which the alignment properties (<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-self>justify-self</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-self>align-self</a>) determine their actual position.
	The cells that a <a data-link-type=dfn href=#grid-item>grid item</a> occupies also influence the sizing of the grid’s rows and columns,
	defined in <a data-section="" href=#layout-algorithm>§10 
Track Sizing Algorithm</a>.</p>

<p>The location of a <a data-link-type=dfn href=#grid-item>grid item’s</a> <a data-link-type=dfn href=#grid-area>grid area</a> within the <a data-link-type=dfn href=#grid>grid</a>
	is defined by its <dfn data-dfn-type=dfn data-export="" data-local-title=placement id=grid-placement title="grid placement">placement<a class=self-link href=#grid-placement></a></dfn>,
	which consists of a <a data-link-type=dfn href=#grid-position>grid position</a> and a <a data-link-type=dfn href=#grid-span>grid span</a>:</p>

	<dl data-export="">
		<dt><dfn data-dfn-type=dfn data-export="" data-local-title="position|row position|column position" id=grid-position>grid position<a class=self-link href=#grid-position></a></dfn>
		<dd>
			The <a data-link-type=dfn href=#grid-item>grid item</a>’s location in the <a data-link-type=dfn href=#grid>grid</a>.
			A <a data-link-type=dfn href=#grid-position>grid position</a> can be either
			<dfn data-dfn-type=dfn data-export="" id=definite-grid-position title="definite grid position|definite row position|definite column position|definite position">definite<a class=self-link href=#definite-grid-position></a></dfn> (explicitly specified)
			or <dfn data-dfn-type=dfn data-export="" id=automatic-grid-position title="automatic grid position|automatic row position|automatic column position|automatic position">automatic<a class=self-link href=#automatic-grid-position></a></dfn> (determined by <a data-link-type=dfn href=#auto-placement>auto-placement</a>).

		<dt><dfn data-dfn-type=dfn data-export="" data-local-title="span|row span|column span" id=grid-span>grid span<a class=self-link href=#grid-span></a></dfn>
		<dd>
			How many <a data-link-type=dfn href=#grid-track>grid tracks</a> the <a data-link-type=dfn href=#grid-item>grid item</a> occupies.
			A <a data-link-type=dfn href=#subgrid>subgrid</a>’s <a data-link-type=dfn href=#grid-span>grid span</a> can be <dfn data-dfn-type=dfn data-export="" id=automatic-grid-span title="automatic grid span|automatic row span|automatic column span|automatic span">automatic<a class=self-link href=#automatic-grid-span></a></dfn>
			(determined by its <a data-link-type=dfn href=#implicit-grid>implicit grid</a>) if not specified or implied;
			a <a data-link-type=dfn href=#grid-item>grid item</a>’s <a data-link-type=dfn href=#grid-span>grid span</a> is otherwise always <dfn data-dfn-type=dfn data-export="" id=definite-grid-span title="definite grid span|definite row span|definite column span|definite span">definite<a class=self-link href=#definite-grid-span></a></dfn> (defaulting to 1).
	</dl>

<p>The <dfn data-dfn-type=dfn data-export="" id=grid-placement-property title="grid-placement property">grid-placement properties<a class=self-link href=#grid-placement-property></a></dfn>—<wbr>the longhands <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a>, <a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a>, and their shorthands <a class=property data-link-type=propdesc href=#propdef-grid-row>grid-row</a>, <a class=property data-link-type=propdesc href=#propdef-grid-column>grid-column</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-area>grid-area</a>—<wbr>allow the author to specify a <a data-link-type=dfn href=#grid-item>grid item</a>’s <a data-link-type=dfn href=#grid-placement>placement</a>
	by providing any (or none) of the following six pieces of information:</p>

	<table class=data style="width: auto">
		<thead>
			<tr>
				<td>
				<th>Row
				<th>Column
		<tbody>
			<tr>
				<th>Start
				<td>row-start line
				<td>column-start line
			<tr>
				<th>End
				<td>row-end line
				<td>column-end line
			<tr>
				<th>Span
				<td>row span
				<td>column span
	</table>

<p>A definite value for any two of <var>Start</var>, <var>End</var>, and <var>Span</var> in a given dimension implies a definite value for the third.</p>

<p>The following table summarizes the conditions under which a grid position or span is <a title="">definite</a> or <a title="">automatic</a>:</p>

	<table class=data>
		<thead>
			<tr>
				<td>
				<th>Position
				<th>Span
		<tbody>
			<tr>
				<th>Definite
				<td>At least one specified line
				<td>Explicit, implicit, or defaulted span. <br> <span class=note role=note>Note: Non-<a data-link-type=dfn href=#subgrid>subgrids</a> default to 1.</span>
			<tr>
				<th>Automatic
				<td>No lines explicitly specified
				<td><a data-link-type=dfn href=#subgrid>Subgrid</a> without an explicit or implied span
	</table>



<h3 class="heading settled" data-level=8.1 id=common-uses><span class=secno>8.1. </span><span class=content>
Common Patterns for Grid Placement</span><a class=self-link href=#common-uses></a></h3>

<p><em>This section is informative.</em></p>

<p>The <a data-link-type=dfn href=#grid-placement-property>grid-placement property</a> longhands are organized into three shorthands:</p>

	<table class=data id=grid-property-breakdown>
		<tr>
			<td colspan=4><a class=property data-link-type=propdesc href=#propdef-grid-area>grid-area</a>
		<tr>
			<td colspan=2><a class=property data-link-type=propdesc href=#propdef-grid-column>grid-column</a>
			<td colspan=2><a class=property data-link-type=propdesc href=#propdef-grid-row>grid-row</a>
		<tr>
			<td><a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a>
			<td><a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a>
			<td><a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a>
			<td><a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a>
	</table>

	<style scoped>
	#grid-property-breakdown tr:nth-child(3) td {
		width: 25%;
		border-style: solid;
	}
	</style>

<h4 class="heading settled" data-level=8.1.1 id=common-uses-named-areas><span class=secno>8.1.1. </span><span class=content>
Named Areas</span><a class=self-link href=#common-uses-named-areas></a></h4>

<p>An item can be placed into a <a data-link-type=dfn href=#named-grid-area>named grid area</a>
	(such as those produced by the template in <a class=property data-link-type=propdesc href=#propdef-grid-template-areas>grid-template-areas</a>)
	by specifying the area’s name in <a class=property data-link-type=propdesc href=#propdef-grid-area>grid-area</a>:</p>

	<div class=example>
		<pre>article {
  grid-area: main;
  /* Places item into the named area "main". */
}
</pre>
	</div>

<p>An item can also be <em>partially</em> aligned with a <a data-link-type=dfn href=#named-grid-area>named grid area</a>,
	with other edges aligned to some other line:</p>

	<div class=example>
		<pre>.one {
  grid-row-start: main;
  /* Align the row-start edge to the start edge of the "main" named area. */
}
</pre>
	</div>

<h4 class="heading settled" data-level=8.1.2 id=common-uses-numeric><span class=secno>8.1.2. </span><span class=content>
Numeric Indexes and Spans</span><a class=self-link href=#common-uses-numeric></a></h4>

<p>Grid items can be positioned and sized by number,
	which is particularly helpful for script-driven layouts:</p>

	<div class=example>
		<pre>.two {
  grid-row: 2;    /* Place item in the second row. */
  grid-column: 3; /* Place item in the third column. */
  /* Equivalent to grid-area: 2 / 3;
}
</pre>
	</div>

<p>By default, a grid item has a span of 1.
	Different spans can be given explicitly:</p>

	<div class=example>
		<pre>.three {
  grid-row: 2 / span 5;
  /* Starts in the 2nd row,
     spans 5 rows down (ending in the 7th row). */
}

.four {
  grid-row: span 5 / 7;
  /* <em>Ends</em> in the 7th row,
     spans 5 rows up (starting in the 2nd row). */
}
</pre>
	</div>

<p class=note role=note>Note: Note that grid indexes are <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#writing-mode>writing mode</a> relative.
	For example, in a right-to-left language like Arabic,
	the first column is the rightmost column.</p>

<h4 class="heading settled" data-level=8.1.3 id=common-uses-named-lines><span class=secno>8.1.3. </span><span class=content>
Named Lines and Spans</span><a class=self-link href=#common-uses-named-lines></a></h4>

<p>Instead of counting lines by number,
	<a data-link-type=dfn href=#named-line>named lines</a> can be referenced by their name:</p>

	<div class=example>
		<pre>.five {
  grid-column: first / middle;
  /* Span from line "first" to line "middle". */
}
</pre>
	</div>

<p class=note role=note>Note: Note that if a <a data-link-type=dfn href=#named-grid-area>named grid area</a> and a <a data-link-type=dfn href=#named-line>named line</a> have the same name,
	the placement algorithm will prefer to use <a data-link-type=dfn href=#named-grid-area>named grid area</a>’s edge instead.</p>

<p>If there are multiple lines of the same name,
	they effectively establish a named set of grid lines,
	which can be exclusively indexed by filtering the placement by name:</p>

	<div class=example>
		<pre>.six {
  grid-row: text 5 / text 7;
  /* Span between the 5th and 7th lines named "text". */
  grid-row: text 5 / span text 2;
  /* Same as above. */
}
</pre>
	</div>

<h4 class="heading settled" data-level=8.1.4 id=common-uses-auto-placement><span class=secno>8.1.4. </span><span class=content>
Auto Placement</span><a class=self-link href=#common-uses-auto-placement></a></h4>

<p>A <a data-link-type=dfn href=#grid-item>grid item</a> can be automatically placed into the next available empty <a data-link-type=dfn href=#grid-cell>grid cell</a>,
	growing the <a data-link-type=dfn href=#grid>grid</a> if there’s no space left.</p>

	<div class=example>
		<pre>.eight {
  grid-area: auto; /* Initial value */
}
</pre>
	</div>

<p>This can be used, for example, to list a number of sale items on a catalog site
	in a grid pattern.</p>

<p>Auto-placement can be combined with an explicit span,
	if the item should take up more than one cell:</p>

	<div class=example>
		<pre>.nine {
  grid-area: span 2 / span 3;
  /* Auto-placed item, covering two rows and three columns. */
}
</pre>
	</div>

<p>Whether the <a data-link-type=dfn href=#grid-item-placement-algorithm>auto-placement algorithm</a> searchs across and adds rows,
	or searches across and adds columns,
	is controlled by the <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow>grid-auto-flow</a> property.</p>

<p class=note role=note>Note: By default, the <a data-link-type=dfn href=#grid-item-placement-algorithm>auto-placement algorithm</a> looks linearly through the grid without backtracking;
	if it has to skip some empty spaces to place a larger item,
	it will not return to fill those spaces.
	To change this behavior,
	specify the <a class=css data-link-type=maybe href=#valdef-grid-auto-flow-auto-flow-algorithm-dense>dense</a> keyword in <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow>grid-auto-flow</a>.</p>

<h4 class="heading settled" data-level=8.1.5 id=common-uses-auto-sizing><span class=secno>8.1.5. </span><span class=content>
Auto Sizing Subgrids</span><a class=self-link href=#common-uses-auto-sizing></a></h4>

<p>A subgrid without a <a data-link-type=dfn href=#definite-grid-span>definite grid span</a> is sized to its <a data-link-type=dfn href=#implicit-grid>implicit grid</a>,
	i.e. all of its items within it are first placed into its own grid,
	and its span is the resulting size of its grid.</p>

	<div class=example>
		For example, a subgrid spanning two columns can be given an auto-spanning <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#block-size>block size</a>:
		<pre>.adverts {
  grid: subgrid;
  grid-column: span 2;
}
</pre>

<p>If it contains 10 auto-placed items, it will span 5 rows in its parent grid.</p>
	</div>

<p class=note role=note>Note: Since auto-spanning <a data-link-type=dfn href=#subgrid>subgrids</a> determine their span before being positioned,
	they can also be auto-positioned.
	The above example would auto-place the <code>.adverts</code> block,
	if no further rules specified its position.</p>

<h3 class="heading settled" data-level=8.2 id=line-placement><span class=secno>8.2. </span><span class=content>
Line-based Placement: the <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a> properties</span><a class=self-link href=#line-placement></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-grid-row-start>grid-row-start<a class=self-link href=#propdef-grid-row-start></a></dfn>, <dfn class=css data-dfn-type=property data-export="" id=propdef-grid-column-start>grid-column-start<a class=self-link href=#propdef-grid-column-start></a></dfn>, <dfn class=css data-dfn-type=property data-export="" id=propdef-grid-row-end>grid-row-end<a class=self-link href=#propdef-grid-row-end></a></dfn>, <dfn class=css data-dfn-type=property data-export="" id=propdef-grid-column-end>grid-column-end<a class=self-link href=#propdef-grid-column-end></a></dfn><tr><th>Value:<td class=prod><a class="production css" data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a><tr><th>Initial:<td>auto<tr><th>Applies to:<td><a data-link-type=dfn href=#grid-item>grid items</a> and absolutely-positioned boxes whose containing block is a <a data-link-type=dfn href=#grid-container>grid container</a><tr><th>Inherited:<td>no<tr><th>Percentages:<td>n/a<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value<tr><th>Animatable:<td>no</table>

	<pre><dfn data-dfn-for="grid-row-start grid-column-start grid-row-end grid-column-end" data-dfn-type=type data-export="" id=typedef-grid-line><a class=production data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a><a class=self-link href=#typedef-grid-line></a></dfn> =
  auto |
  <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a> |
  [ <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> &amp;&amp; <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>? ] |
  [ span &amp;&amp; [ <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> || <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a> ] ]
</pre>

<p>The <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a>, <a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a> properties
	determine a <a data-link-type=dfn href=#grid-item>grid item</a>’s size and location within the <a data-link-type=dfn href=#grid>grid</a>
	by contributing a line, a span, or nothing (automatic)
	to its <a data-link-type=dfn href=#grid-placement>grid placement</a>,
	thereby specifying the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#inline-start>inline-start</a>, <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#block-start>block-start</a>, <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#inline-end>inline-end</a>, and <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#block-end>block-end</a> edges of its <a data-link-type=dfn href=#grid-area>grid area</a>.</p>

<p>Values have the following meanings:</p>

	<dl data-dfn-for="<grid-line>" data-dfn-type=value>
		<dt><dfn class=css data-dfn-for="<grid-line>" data-dfn-type=value data-export="" id=grid-placement-slot><a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a><a class=self-link href=#grid-placement-slot></a></dfn>
		<dd>
			First attempt to match the <a data-link-type=dfn href=#grid-area>grid area</a>’s edge to a <a data-link-type=dfn href=#named-grid-area>named grid area</a>:
			if there is a <a data-link-type=dfn href=#named-line>named line</a> with the name ''<a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>-start<span class=css> (for <a class=property data-link-type=propdesc>grid-*-start</a>) / </span><a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>-end'' (for <a class=property data-link-type=propdesc>grid-*-end</a>),
			contributes the first such line to the <a data-link-type=dfn href=#grid-item>grid item</a>’s <a data-link-type=dfn href=#grid-placement>placement</a>.

<p class=note role=note>Note: <a data-link-type=dfn href=#named-grid-area>Named grid areas</a> automatically generate <a data-link-type=dfn href=#implicit-named-line>implicit named lines</a> of this form,
			so specifying <a class=css data-link-type=propdesc href=#propdef-grid-row-start title=grid-row-start>grid-row-start: foo</a> will choose the start edge of that <a data-link-type=dfn href=#named-grid-area>named grid area</a>
			(unless another line named <span class=css>foo-start</span> was explicitly specified before it).</p>

<p>Otherwise,
			treat this as if the integer <span class=css>1</span> had been specified along with the <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>.</p>

		<dt><dfn class=css data-dfn-for="<grid-line>" data-dfn-type=value data-export="" id=grid-placement-int><a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> &amp;&amp; <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>?<a class=self-link href=#grid-placement-int></a></dfn>
		<dd>
			Contributes the <var>N</var>th <a data-link-type=dfn href=#grid-line>grid line</a> to the <a data-link-type=dfn href=#grid-item>grid item</a>’s <a data-link-type=dfn href=#grid-placement>placement</a>.
			If a negative integer is given,
			it instead counts in reverse,
			starting from the end edge of the <a data-link-type=dfn href=#explicit-grid>explicit grid</a>.

<p>If a name is given as a <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>,
			only lines with that name are counted.
			If not enough lines with that name exist,
			all lines in the implicit grid are assumed to have that name for the purpose of finding this position.</p>

<p>A <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> value of zero makes the declaration invalid.</p>

		<dt><dfn class=css data-dfn-for="<grid-line>" data-dfn-type=value data-export="" id=grid-placement-span-int>span &amp;&amp; [ <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> || <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a> ]<a class=self-link href=#grid-placement-span-int></a></dfn>
		<dd>
			Contributes a <a data-link-type=dfn href=#grid-span>grid span</a> to the <a data-link-type=dfn href=#grid-item>grid item</a>’s <a data-link-type=dfn href=#grid-placement>placement</a>
			such that the corresponding edge of the <a data-link-type=dfn href=#grid-item>grid item</a>’s <a data-link-type=dfn href=#grid-area>grid area</a> is <var>N</var> lines from its opposite edge.

<p>If a name is given as a <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>,
			only lines with that name are counted.
			If not enough lines with that name exist,
			all lines in the implicit grid are assumed to have that name for the purpose of counting this span.</p>

<p>If the <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-syntax-3/#typedef-integer>&lt;integer&gt;</a> is omitted, it defaults to <span class=css>1</span>.
			Negative integers or zero are invalid.</p>

		<dt><dfn class=css data-dfn-for="<grid-line>" data-dfn-type=value data-export="" id=grid-placement-auto>auto<a class=self-link href=#grid-placement-auto></a></dfn>
		<dd>
			The property contributes nothing to the <a data-link-type=dfn href=#grid-item>grid item</a>’s <a data-link-type=dfn href=#grid-placement>placement</a>,
			indicating <a data-link-type=dfn href=#auto-placement>auto-placement</a>, an <a data-link-type=dfn href=#automatic-grid-span>automatic span</a>, or a default span of one.
			(See <a href=#placement>Placing Grid Items</a>, above.)
	</dl>

	<div class=example>
			Given a single-row, 8-column grid and the following 9 named lines:

		<pre>1  2  3  4  5  6  7  8  9
+--+--+--+--+--+--+--+--+
|  |  |  |  |  |  |  |  |
A  B  C  A  B  C  A  B  C
|  |  |  |  |  |  |  |  |
+--+--+--+--+--+--+--+--+
</pre>

<p>The following declarations place the grid item between the lines indicated by index:</p>

		<pre>grid-column-start: 4; grid-column-end: auto;
/* Line 4 to line 5 */

grid-column-start: auto; grid-column-end: 6;
/* Line 5 to line 6 */

grid-column-start: C; grid-column-end: C -1;
/* Line 3 to line 9 */

grid-column-start: C; grid-column-end: span C;
/* Line 3 to line 6 */

grid-column-start: span C; grid-column-end: C -1;
/* Line 6 to line 9 */

grid-column-start: span C; grid-column-end: span C;
/* Error: The end span is ignored, and an auto-placed
   item can’t span to a named line.
   Equivalent to <a data-link-type=propdesc href=#propdef-grid-column title=grid-column>grid-column: span 1;</a>. */

grid-column-start: 5; grid-column-end: C -1;
/* Line 5 to line 9 */

grid-column-start: 5; grid-column-end: span C;
/* Line 5 to line 6 */

grid-column-start: 8; grid-column-end: 8;
/* Error: line 8 to line 9 */

grid-column-start: B 2; grid-column-end: span 1;
/* Line 5 to line 6 */
</pre>
	</div>

<h4 class="heading settled" data-level=8.2.1 id=grid-placement-errors><span class=secno>8.2.1. </span><span class=content>
Grid Placement Conflict Handling</span><a class=self-link href=#grid-placement-errors></a></h4>

<p>If <a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a> specifies a line at or before that specified by <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a>,
	it instead contributes nothing.</p>

<p>If both <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a> and <a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a>, or <a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a> and <a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a>,
	specify a span,
	the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#end>end</a> span is ignored.</p>

<p>If the <a data-link-type=dfn href=#grid-item>grid item</a> has an automatic position
	and a <a data-link-type=dfn href=#grid-span>grid span</a> for a named line
	in a given dimension,
	instead treat the <a data-link-type=dfn href=#grid-span>grid span</a> as one.</p>

<h3 class="heading settled" data-level=8.3 id=placement-shorthands><span class=secno>8.3. </span><span class=content>
Placement Shorthands: the <a class=property data-link-type=propdesc href=#propdef-grid-column>grid-column</a>, <a class=property data-link-type=propdesc href=#propdef-grid-row>grid-row</a>, and <a class=property data-link-type=propdesc href=#propdef-grid-area>grid-area</a> properties</span><a class=self-link href=#placement-shorthands></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-grid-row>grid-row<a class=self-link href=#propdef-grid-row></a></dfn>, <dfn class=css data-dfn-type=property data-export="" id=propdef-grid-column>grid-column<a class=self-link href=#propdef-grid-column></a></dfn><tr><th>Value:<td class=prod><a class="production css" data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> [ / <a class="production css" data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> ]<a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt>?</a><tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a data-link-type=dfn href=#grid-item>grid items</a> and absolutely-positioned boxes whose containing block is a <a data-link-type=dfn href=#grid-container>grid container</a><tr><th>Inherited:<td>see individual properties<tr><th>Percentages:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties<tr><th>Animatable:<td>no</table>

<p>The <a class=property data-link-type=propdesc href=#propdef-grid-row>grid-row</a> and <a class=property data-link-type=propdesc href=#propdef-grid-column>grid-column</a> properties are shorthands for <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a>/<a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a> and <a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a>, respectively.</p>

<p>If two <a class="production css" data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> values are specified,
	the <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a> longhand is set to the value before the slash,
	and the <a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a> longhand is set to the value after the slash.</p>

<p>When the second value is omitted,
	if the first value is a <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>,
	the <a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a>/<a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a> longhand is also set to that <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>;
	otherwise, it is set to <a class=css data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>.</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-grid-area>grid-area<a class=self-link href=#propdef-grid-area></a></dfn><tr><th>Value:<td class=prod><a class="production css" data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> [ / <a class="production css" data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> ]<a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-num-range title={A,B}>{0,3}</a><tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a data-link-type=dfn href=#grid-item>grid items</a> and absolutely-positioned boxes whose containing block is a <a data-link-type=dfn href=#grid-container>grid container</a><tr><th>Inherited:<td>see individual properties<tr><th>Percentages:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties<tr><th>Animatable:<td>no</table>

<p>If four <a class="production css" data-link-type=type href=#typedef-grid-line>&lt;grid-line&gt;</a> values are specified,
	<a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a> is set to the first value,
	<a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a> is set to the second value,
	<a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a> is set to the third value,
	and <a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a> is set to the fourth value.</p>

<p>When <a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a> is omitted,
	if <a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a> is a <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>,
	<a class=property data-link-type=propdesc href=#propdef-grid-column-end>grid-column-end</a> is set to that <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>;
	otherwise, it is set to <a class=css data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>.</p>

<p>When <a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a> is omitted,
	if <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a> is a <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>,
	<a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a> is set to that <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>;
	otherwise, it is set to <a class=css data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>.</p>

<p>When <a class=property data-link-type=propdesc href=#propdef-grid-column-start>grid-column-start</a> is omitted,
	if <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a> is a <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#identifier-value>&lt;custom-ident&gt;</a>,
	all four longhands are set to that value.
	Otherwise, it is set to <a class=css data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a>.</p>

<p class=note role=note>Note: The resolution order for this shorthand is row-start/column-start/row-end/column-end,
	which goes CCW for LTR pages,
	the opposite direction of the related 4-edge properties using physical directions, like <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin>margin</a>.</p>


<h3 class="heading settled" data-level=8.4 id=abspos-items><span class=secno>8.4. </span><span class=content>
Absolutely-positioned Grid Items</span><a class=self-link href=#abspos-items></a></h3>

<p>If an absolutely positioned element’s <a data-link-type=dfn href=http://dev.w3.org/csswg/css-display-3/#containing-block>containing block</a>
	is generated by a <a data-link-type=dfn href=#grid-container>grid container</a>,
	its containing block edges are the edges of the element’s <a data-link-type=dfn href=#grid-area>grid area</a>
	as given by its <a data-link-type=dfn href=#grid-placement-property>grid-placement properties</a>.
	In this case, an <a class=css data-link-for="<grid-line>" data-link-type=value href=#grid-placement-auto>auto</a> value for a <a data-link-type=dfn href=#grid-placement-property>grid-placement property</a>
	contributes the corresponding padding edge of the <a data-link-type=dfn href=#grid-container>grid container</a> as a line.
	(Thus, by default, the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-display-3/#containing-block>containing block</a> will correspond to the padding edges of the <a data-link-type=dfn href=#grid-container>grid container</a>.)
	The offset properties (<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#propdef-top>top</a>/<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#propdef-right>right</a>/<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#propdef-bottom>bottom</a>/<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#propdef-left>left</a>)
	then indicate offsets inwards from the corresponding edges
	of the resulting <a data-link-type=dfn href=http://dev.w3.org/csswg/css-display-3/#containing-block>containing block</a>, as normal.</p>

<p class=note role=note>Note: Note that, while absolutely-positioning an element to a <a data-link-type=dfn href=#grid-container>grid container</a>
	does allow it to align to that container’s <a data-link-type=dfn href=#grid-line>grid lines</a>,
	such elements
	do not take up space or otherwise participate in the layout of the grid.</p>

	<div class=example>
		<pre>.grid {
  grid: 10rem 10rem 10rem 10rem / 1fr 1fr 1fr 1fr;
  /* 4 columns of <span class=css>10rem</span> each,
     4 equal-height rows filling the <a data-link-type=dfn href=#grid-container>grid container</a> */
  justify-content: center;
  /* center the grid horizontally within the <a data-link-type=dfn href=#grid-container>grid container</a> */
  position: relative;
  /* Establish abspos <a data-link-type=dfn href=http://dev.w3.org/csswg/css-display-3/#containing-block>containing block</a> */
}

.abspos {
  grid-row-start: 1;     /* 1st grid row line = top of grid container */
  grid-row-end: span 2;  /* 3rd grid row line */
  grid-column-start: 3;  /* 3rd grid col line */
  grid-column-end: auto; /* right padding edge */
  /* <a data-link-type=dfn href=http://dev.w3.org/csswg/css-display-3/#containing-block>Containing block</a> covers the top right quadrant of the <a data-link-type=dfn href=#grid-container>grid container</a> */

  position: absolute;
  top: 70px;
  bottom: 40px;
  left: 100px;
  right: 30px;
}
</pre>

		<figure>
			<img alt="" height=402 src=images/abspos-grid.svg width=702>
		</figure>

<p class=note role=note>Note: Note that grids and the <a data-link-type=dfn href=#grid-placement-property>grid-placement properties</a> are <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#flow-relative>flow-relative</a>,
		while abspos offsets are <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#physical>physical</a>,
		so if the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction>direction</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode>writing-mode</a> properties change,
		the grid will transform to match,
		but the offsets won’t.</p>
	</div>

<h3 class="heading settled" data-level=8.5 id=auto-placement-algo><span class=secno>8.5. </span><span class=content>
Grid Item Placement Algorithm</span><a class=self-link href=#auto-placement-algo></a></h3>

<p>The following <dfn data-dfn-type=dfn data-export="" data-local-title="auto-placement algorithm" id=grid-item-placement-algorithm>grid item placement algorithm<a class=self-link href=#grid-item-placement-algorithm></a></dfn>
	resolves <a data-link-type=dfn href=#automatic-grid-position>automatic positions</a> of <a data-link-type=dfn href=#grid-item>grid items</a> into <a data-link-type=dfn href=#definite-grid-position>definite positions</a>,
	ensuring that every <a data-link-type=dfn href=#grid-item>grid item</a> has a well-defined <a data-link-type=dfn href=#grid-area>grid area</a> to lay out into.
	(<a data-link-type=dfn href=#grid-span>Grid spans</a> need no special resolution;
		if they’re not explicitly specified,
		they default to either 1 or,
		for <a data-link-type=dfn href=#subgrid>subgrids</a>,
		the size of their <a data-link-type=dfn href=#explicit-grid>explicit grid</a>.)</p>

<p class=note role=note>Note: This algorithm can result in the creation of new rows or columns in the <a data-link-type=dfn href=#implicit-grid>implicit grid</a>,
	if there is no room in the <a data-link-type=dfn href=#explicit-grid>explicit grid</a> to place an auto-positioned <a data-link-type=dfn href=#grid-item>grid item</a>.</p>

<p>Every <a data-link-type=dfn href=#grid-cell>grid cell</a>
	(in both the <a data-link-type=dfn href=#explicit-grid title="explicit grid">explicit</a> and <a data-link-type=dfn href=#implicit-grid>implicit grids</a>)
	can be <dfn data-dfn-type=dfn data-noexport="" id=occupied>occupied<a class=self-link href=#occupied></a></dfn> or <dfn data-dfn-type=dfn data-noexport="" id=unoccupied>unoccupied<a class=self-link href=#unoccupied></a></dfn>.
	A cell is <a data-link-type=dfn href=#occupied>occupied</a>
	if it’s covered by a <a data-link-type=dfn href=#named-grid-area>named grid area</a>,
	or by the <a data-link-type=dfn href=#grid-area>grid area</a> of a <a data-link-type=dfn href=#grid-item>grid item</a> with a <a data-link-type=dfn href=#definite-grid-position>definite grid position</a>;
	otherwise,
	the cell is <a data-link-type=dfn href=#unoccupied>unoccupied</a>.
	A cell’s <a data-link-type=dfn href=#occupied>occupied</a>/<a data-link-type=dfn href=#unoccupied>unoccupied</a> status can change during this algorithm.</p>

<p>To aid in clarity,
	this algorithm is written with the assumption that <a class=property data-link-type=propdesc href=#propdef-grid-auto-flow>grid-auto-flow</a>
	has an <a class="production css" data-link-type=type href=#typedef-auto-flow-direction>&lt;auto-flow-direction&gt;</a> of <a class=css data-link-for=grid-auto-flow data-link-type=maybe href=#valdef-grid-auto-flow-auto-flow-direction-row>row</a>.
	If it is instead set to <a class=css data-link-for=grid-auto-flow data-link-type=maybe href=#valdef-grid-auto-flow-auto-flow-direction-column>column</a>,
	swap all mentions of rows and columns, inline and block, etc. in this algorithm.</p>

<ol><li data-md=""><p><b>Process the items locked to a given row.</b></p>

<p>For each <a data-link-type=dfn href=#grid-item>grid item</a> with a <a data-link-type=dfn href=#definite-grid-position>definite row position</a>
(that is, the <a class=property data-link-type=propdesc href=#propdef-grid-row-start>grid-row-start</a> and <a class=property data-link-type=propdesc href=#propdef-grid-row-end>grid-row-end</a> properties define a <a data-link-type=dfn href=#definite-grid-position>definite grid position</a>),
in <a data-link-type=dfn href=http://dev.w3.org/csswg/css-flexbox-1/#order-modified-document-order>order-modified document order</a>,
set the row-start line of its <a data-link-type=dfn href=#grid-placement>placement</a>
to the earliest (smallest positive index) line index
that ensures this item’s <a data-link-type=dfn href=#grid-area>grid area</a> will not overlap any <a data-link-type=dfn href=#occupied>occupied</a> grid cells.</p>

<li data-md=""><p><b>Determine the number of columns in the implicit grid.</b></p>

<p>Set the number of columns in the <a data-link-type=dfn href=#implicit-grid>implicit grid</a> to the larger of:</p>

<ul><li data-md=""><p>The number of columns in the <a data-link-type=dfn href=#explicit-grid>explicit grid</a>.</p>
<li data-md=""><p>Among all the items with a <a data-link-type=dfn href=#definite-grid-position>definite column position</a>
(explicitly positioned items, items positioned in the previous step, and items not yet positioned but with a definite column)
the largest positive column-end line index,
minus 1.</p>
<li data-md=""><p>The largest <a data-link-type=dfn href=#grid-span>column span</a> of all items.</p>
</ul>
<div class=example>
	For example, in the following style fragment:

			<pre>#grid {
  display: grid;
  grid-template-columns: repeat(5, 100px);
  grid-auto-flow: row;
}
#grid-item {
  grid-column: 4 / span 3;
}
</pre>

<p>The number of columns needed is 6.
	The <code>#grid-item</code> element’s column-start line is index 4,
	so its span ensures that it’s column-end line will be index 7.
	This requires <code>7 - 1 = 6</code> columns to hold,
	which is larger than the <a data-link-type=dfn href=#explicit-grid>explicit grid</a>’s 5 columns.</p>
</div>

<li data-md=""><p><b>Position the remaining grid items.</b></p>

<p>The <dfn data-dfn-type=dfn data-export="" data-local-title=cursor id=auto-placement-cursor>auto-placement cursor<a class=self-link href=#auto-placement-cursor></a></dfn> defines the current “insertion point” in the grid,
specified as a pair of row and column <a data-link-type=dfn href=#grid-line>grid lines</a>.
Initially the <a data-link-type=dfn href=#auto-placement-cursor>auto-placement cursor</a> at is specified with a row and column position both equal to 1.</p>

<p>The <a class="production css" data-link-type=type href=#typedef-auto-flow-algorithm>&lt;auto-flow-algorithm&gt;</a> in use determines how to position the items:</p>

<dl><dt data-md=""><p>omitted (“sparse”)</p>
<dd data-md=""><p>For each <a data-link-type=dfn href=#grid-item>grid item</a> that hasn’t been positioned by the previous steps,
in <a data-link-type=dfn href=http://dev.w3.org/csswg/css-flexbox-1/#order-modified-document-order>order-modified document order</a>:</p>

<dl><dt data-md=""><p>If the item has a <a data-link-type=dfn href=#definite-grid-position>definite column position</a>:</p>
<dd data-md="">
<ol><li data-md=""><p>Set the column position of the <a data-link-type=dfn href=#auto-placement-cursor>cursor</a> to be equal to the column-start line index of the <a data-link-type=dfn href=#grid-item>grid item</a>.
If this is less than the previous column position of the <a data-link-type=dfn href=#auto-placement-cursor>cursor</a>,
increment the row position by 1.</p>
<li data-md=""><p>Increment the <a data-link-type=dfn href=#auto-placement-cursor>cursor</a>’s row position until a value is found
where the <a data-link-type=dfn href=#grid-item>grid item</a> does not overlap any <a data-link-type=dfn href=#occupied>occupied</a> grid cells
(creating new rows in the <a data-link-type=dfn href=#implicit-grid>implicit grid</a> as necessary).</p>
<li data-md=""><p>Set the item’s row-start line to the <a data-link-type=dfn href=#auto-placement-cursor>cursor’s</a> row position.
(Implicitly setting the item’s row-end line according to its span, as well.)</p>
</ol>
<dt data-md=""><p>If the item has an <a data-link-type=dfn href=#automatic-grid-position>automatic grid position</a> in both axes:</p>
<dd data-md="">
<ol><li data-md=""><p>Increment the column position of the <a data-link-type=dfn href=#auto-placement-cursor>auto-placement cursor</a>
until either this item’s <a data-link-type=dfn href=#grid-area>grid area</a> does not overlap any <a data-link-type=dfn href=#occupied>occupied</a> grid cells,
or the <a data-link-type=dfn href=#auto-placement-cursor>cursor’s</a> column position,
plus the item’s column span,
overflow the number of columns in the implicit grid,
as determined earlier in this algorithm.</p>
<li data-md=""><p>If a non-overlapping position was found in the previous step,
set the item’s row-start and column-start lines to the <a data-link-type=dfn href=#auto-placement-cursor>cursor’s</a> position.
Otherwise,
increment the <a data-link-type=dfn href=#auto-placement-cursor>auto-placement cursor</a>’s row position
(creating new rows in the <a data-link-type=dfn href=#implicit-grid>implicit grid</a> as necessary),
set its column position to 1,
and return to the previous step.</p>
</ol></dl>
<dt data-md=""><p><a class=css data-link-for=grid-auto-flow data-link-type=maybe href=#valdef-grid-auto-flow-auto-flow-algorithm-dense>dense</a></p>
<dd data-md=""><p>For each <a data-link-type=dfn href=#grid-item>grid item</a> that hasn’t been positioned by the previous steps,
in <a data-link-type=dfn href=http://dev.w3.org/csswg/css-flexbox-1/#order-modified-document-order>order-modified document order</a>:</p>

<dl><dt data-md=""><p>If the item has a <a data-link-type=dfn href=#definite-grid-position>definite column position</a>:</p>
<dd data-md="">
<ol><li data-md=""><p>Set the row position of the cursor to 1.
Set the column position of the cursor to be equal to the column-start line index of the <a data-link-type=dfn href=#grid-item>grid item</a>.</p>
<li data-md=""><p>Increment the <a data-link-type=dfn href=#auto-placement-cursor>auto-placement cursor</a>’s row position until a value is found
where the <a data-link-type=dfn href=#grid-item>grid item</a> does not overlap any <a data-link-type=dfn href=#occupied>occupied</a> grid cells
(creating new rows in the <a data-link-type=dfn href=#implicit-grid>implicit grid</a> as necessary).</p>
<li data-md=""><p>Set the item’s row-start line index to the <a data-link-type=dfn href=#auto-placement-cursor>cursor’s</a> row position.
(Implicitly setting the item’s row-end line according to its span, as well.)</p>
</ol>
<dt data-md=""><p>If the item has an <a data-link-type=dfn href=#automatic-grid-position>automatic grid position</a> in both axes:</p>
<dd data-md="">
<ol><li data-md=""><p>Set the cursor’s row and column positions both to 1.</p>
<li data-md=""><p>Increment the column position of the <a data-link-type=dfn href=#auto-placement-cursor>auto-placement cursor</a>
until either this item’s <a data-link-type=dfn href=#grid-area>grid area</a> does not overlap any <a data-link-type=dfn href=#occupied>occupied</a> grid cells,
or the <a data-link-type=dfn href=#auto-placement-cursor>cursor’s</a> column position,
plus the item’s column span,
overflow the number of columns in the implicit grid,
as determined earlier in this algorithm.</p>
<li data-md=""><p>If a non-overlapping position was found in the previous step,
set the item’s row-start and column-start lines to the <a data-link-type=dfn href=#auto-placement-cursor>cursor’s</a> position.
Otherwise,
increment the <a data-link-type=dfn href=#auto-placement-cursor>auto-placement cursor</a>’s row position
(creating new rows in the <a data-link-type=dfn href=#implicit-grid>implicit grid</a> as necessary),
set its column position to 1,
and return to the previous step.</p>
</ol></dl>
<dt data-md=""><p><a class=css data-link-for=grid-auto-flow data-link-type=maybe href=#valdef-grid-auto-flow-auto-flow-algorithm-stack>stack</a></p>
<dd data-md=""><p>Find the first unoccupied <a data-link-type=dfn href=#grid-cell>grid cell</a> in the first row that contains an unoccupied <a data-link-type=dfn href=#grid-cell>grid cell</a>.
This is the <dfn data-dfn-type=dfn data-noexport="" id=default-stacking-cell>default stacking cell<a class=self-link href=#default-stacking-cell></a></dfn>.
It is also the <dfn data-dfn-type=dfn data-noexport="" id=default-stacking-cell-for-the-column>default stacking cell for the column<a class=self-link href=#default-stacking-cell-for-the-column></a></dfn> that it is in.</p>

<p>For each <a data-link-type=dfn href=#grid-item>grid item</a> that hasn’t been positioned by the previous steps,
in <a data-link-type=dfn href=http://dev.w3.org/csswg/css-flexbox-1/#order-modified-document-order>order-modified document order</a>:</p>

<dl><dt data-md=""><p>If the item has a <a data-link-type=dfn href=#definite-grid-position>definite column position</a>:</p>
<dd data-md=""><p>If the column corresponding to the item’s start-most column position
does not yet have a <a data-link-type=dfn href=#default-stacking-cell-for-the-column>default stacking cell for the column</a>,
find the first row with an unoccupied cell in that column.
That cell is now the <a data-link-type=dfn href=#default-stacking-cell-for-the-column>default stacking cell for the column</a>.</p>

<p>Set the item’s row-start and column-start line indexes
to the column and row position of the <a data-link-type=dfn href=#default-stacking-cell-for-the-column title="default stacking cell for the column">default stacking cell for the start-most column of the item’s position</a>.</p>

<dt data-md=""><p>If the item has an <a data-link-type=dfn href=#automatic-grid-position>automatic grid position</a> in both axes:</p>
<dd data-md=""><p>Set the item’s row-start and column-start line indexes
to the column and row position of the <a data-link-type=dfn href=#default-stacking-cell>default stacking cell</a>.</p>
</dl></dl>
</ol>
<h2 class="heading settled" data-level=9 id=alignment><span class=secno>9. </span><span class=content>
Alignment</span><a class=self-link href=#alignment></a></h2>

<p>After a <a data-link-type=dfn href=#grid-container>grid container</a>’s <a data-link-type=dfn href=#grid-track>grid tracks</a> have been sized,
	and the dimensions of all <a data-link-type=dfn href=#grid-item>grid items</a> are finalized,
	<a data-link-type=dfn href=#grid-item>grid items</a> can be aligned within their <a data-link-type=dfn href=#grid-area>grid areas</a>.</p>

<p>The <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin>margin</a> properties can be used to align items in a manner similar to,
	but more powerful than,
	what margins can do in block layout.
	<a data-link-type=dfn href=#grid-item>Grid items</a> also respect the alignment properties from the Box Alignment spec,
	which allow easy keyword-based alignment of items in both the <a data-link-type=dfn href=#row-axis>row axis</a> and <a data-link-type=dfn href=#column-axis>column axis</a>.</p>

<p>By default,
	<a data-link-type=dfn href=#grid-item>grid items</a> stretch to fill their <a data-link-type=dfn href=#grid-area>grid area</a>.
	However, if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-self>justify-self</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-self>align-self</a> compute to a value other than <span class=css>stretch</span>
	or margins are <a class=css data-link-for=margin data-link-type=value>auto</a>,
	<a data-link-type=dfn href=#grid-item>grid items</a> will auto-size to fit their contents.</p>


<h3 class="heading settled" data-level=9.1 id=auto-margins><span class=secno>9.1. </span><span class=content>
Aligning with <a class=css data-link-for=margin data-link-type=value>auto</a> margins</span><a class=self-link href=#auto-margins></a></h3>

<p><em>This section is non-normative.
		The normative definition of how margins affect grid items is in <a data-section="" href=#layout-algorithm>§10 
Track Sizing Algorithm</a>.</em></p>

<p>Auto margins on <a data-link-type=dfn href=#grid-item>grid items</a> have an effect very similar to auto margins in block flow:</p>

	<ul>
		<li>
			During calculations of <a data-link-type=dfn href=#grid-track>grid track</a> sizes, auto margins are treated as <span class=css>0</span>.

		<li>
			Auto margins absorb positive free space
			prior to alignment via the alignment properties
			(defined in the next sections).

		<li>
			Overflowing elements ignore their auto margins and overflow in the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-writing-modes-3/#end>end</a> directions.
	</ul>

<p class=note role=note>Note: Note that, if free space is distributed to auto margins,
	the alignment properties will have no effect in that dimension
	because the margins will have stolen all the free space
	left over after sizing.</p>

	<div class=example>
		<p class=issue id=issue-1383de0a><a class=self-link href=#issue-1383de0a></a>
			TODO: EXAMPLE HERE
	</div>


<h3 class="heading settled" data-level=9.2 id=row-align><span class=secno>9.2. </span><span class=content>
Row-axis Alignment: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-self>justify-self</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-items>justify-items</a> properties</span><a class=self-link href=#row-align></a></h3>

<p><a data-link-type=dfn href=#grid-item>Grid items</a> can be aligned in the inline dimension
	by using the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-self>justify-self</a> property on the <a data-link-type=dfn href=#grid-item>grid item</a>
	or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-items>justify-items</a> property on the <a data-link-type=dfn href=#grid-container>grid container</a>,
	as defined in <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3-align title=CSS3-ALIGN>[CSS3-ALIGN]</a>.</p>

	<div class=example>
		For example,
		for an English document,
		the inline axis is horizontal,
		and so the <a class=property data-link-type=propdesc>justify-*</a> properties align the <a data-link-type=dfn href=#grid-item>grid items</a> horizontally.

		<p class=issue id=issue-3a8dda12><a class=self-link href=#issue-3a8dda12></a>
			TODO: provide example
	</div>


<h3 class="heading settled" data-level=9.3 id=column-align><span class=secno>9.3. </span><span class=content>
Column-axis Alignment: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-self>align-self</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-items>align-items</a> properties</span><a class=self-link href=#column-align></a></h3>

<p><a data-link-type=dfn href=#grid-item>Grid items</a> can also be aligned in the block dimension
	(perpendicular to the inline dimension)
	by using the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-self>align-self</a> property on the <a data-link-type=dfn href=#grid-item>grid item</a>
	or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-items>align-items</a> property on the <a data-link-type=dfn href=#grid-container>grid container</a>,
	as defined in <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3-align title=CSS3-ALIGN>[CSS3-ALIGN]</a>.</p>

<h3 class="heading settled" data-level=9.4 id=grid-align><span class=secno>9.4. </span><span class=content>
Aligning the Grid: the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-content>justify-content</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-content>align-content</a> properties</span><a class=self-link href=#grid-align></a></h3>

<p>If the <a data-link-type=dfn href=#grid>grid</a>’s outer edges do not correspond to the <a data-link-type=dfn href=#grid-container>grid container</a>’s content edges
	(for example, if no columns are flex-sized),
	the <a data-link-type=dfn href=#grid>grid</a> is aligned within the content box according to the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-content>justify-content</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-content>align-content</a> properties on the <a data-link-type=dfn href=#grid-container>grid container</a>.</p>

	<div class=example>
		For example, the following grid is centered vertically,
		and aligned to the right edge of its <a data-link-type=dfn href=#grid-container>grid container</a>:

		<pre>.grid {
  display: grid;
  grid: 12rem 12rem 12rem 12rem / 10rem 10rem 10rem 10rem;
  justify-content: end;
  align-content: center;
}
</pre>

		<figure>
			<img alt="" height=252 src=images/align-justify-content.svg width=352>
		</figure>
	</div>

<h3 class="heading settled" data-level=9.5 id=grid-baselines><span class=secno>9.5. </span><span class=content>
Grid Baselines</span><a class=self-link href=#grid-baselines></a></h3>

<p>The baselines of a <a data-link-type=dfn href=#grid-container>grid container</a> are determined as follows:</p>

	<ol>
		<li>
			If any of the <a data-link-type=dfn href=#grid-item>grid items</a> whose areas intersect the <a data-link-type=dfn href=#grid-container>grid container</a>’s first row/column
			<a href=#baseline-participation>participate in baseline alignment</a>,
			the grid container’s baseline is the baseline of those <a data-link-type=dfn href=#grid-item>grid items</a>.

		<li>
			Otherwise, if the grid container has at least one <a data-link-type=dfn href=#grid-item>grid item</a> whose area intersects the first row/column,
			and the first such <a data-link-type=dfn href=#grid-item>grid item</a> (in <a data-link-type=dfn href=#order-modified-grid-order>order-modified grid order</a>) has a baseline
			parallel to the relevant axis,
			the grid container’s baseline is that baseline.

		<li>
			Otherwise, the grid container’s baseline is <a href=http://www.w3.org/TR/css3-writing-modes/#inline-alignment>synthesized</a>
			from the first item’s (in <a data-link-type=dfn href=#order-modified-grid-order>order-modified grid order</a>) content box,
			or, failing that, from the grid container’s content box.
	</ol>

<p>A <a data-link-type=dfn href=#grid-item>grid item</a> <dfn data-dfn-type=dfn data-export="" id=baseline-participation>participates in baseline alignment<a class=self-link href=#baseline-participation></a></dfn> in a particular dimension
	if its value for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-align-self>align-self</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-align-3/#propdef-justify-self>justify-self</a>, as appropriate, is <span class=css>baseline</span>
	and its inline axis is parallel to that dimension.</p>

<p><dfn data-dfn-type=dfn data-export="" id=order-modified-grid-order><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-flexbox-1/#propdef-order>order</a>-modified grid order<a class=self-link href=#order-modified-grid-order></a></dfn> is the order in which
	<a data-link-type=dfn href=#grid-item>grid items</a> are encountered when traversing the grid’s <a data-link-type=dfn href=#grid-cell>grid cells</a>,
	in row-major order if calculating the inline-axis baseline,
	or in column-major order if calculating the block-axis baseline.
	If two items are encountered at the same time,
	they are taken in <a data-link-type=dfn href=http://dev.w3.org/csswg/css-flexbox-1/#order-modified-document-order>order-modified document order</a>.</p>

<p>When calculating the baseline according to the above rules,
	if the box contributing a baseline has an <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-overflow-3/#overflow0>overflow</a> value that allows scrolling,
	the box must be treated as being in its initial scroll position
	for the purpose of determining its baseline.</p>

<p>When <a href=http://www.w3.org/TR/CSS21/tables.html#height-layout>determining the baseline of a table cell</a>,
	a grid container provides a baseline just as a line box or table-row does. <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a></p>



<h2 class="heading settled" data-level=10 id=layout-algorithm><span class=secno>10. </span><span class=content>
Track Sizing Algorithm</span><a class=self-link href=#layout-algorithm></a></h2>

<h3 class="heading settled" data-level=10.1 id=algo-terms><span class=secno>10.1. </span><span class=content>
Definition of Terms for use in Calculating Grid Track Sizes</span><a class=self-link href=#algo-terms></a></h3>

	<dl>
		<dt><dfn data-dfn-type=dfn data-noexport="" id=min-track-sizing-function>min track sizing function<a class=self-link href=#min-track-sizing-function></a></dfn>
		<dd>
			If the track was sized with a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-minmax>minmax()</a> function,
			this is the first argument to that function.
			Otherwise, it’s the track’s sizing function.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=max-track-sizing-function>max track sizing function<a class=self-link href=#max-track-sizing-function></a></dfn>
		<dd>
			If the track was sized with a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-minmax>minmax()</a> function,
			this is the second argument to that function.
			Otherwise, it’s the track’s sizing function.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=available-space>available space<a class=self-link href=#available-space></a></dfn>
		<dd>
			The <a data-link-type=dfn href=#grid-container>grid container</a>’s content box size in the applicable dimension.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=free-space>free space<a class=self-link href=#free-space></a></dfn>
		<dd>
			Equal to the <a data-link-type=dfn href=#available-space>available space</a> minus the sum of the <a data-link-type=dfn href=#base-size>base sizes</a> of all the grid tracks,
			clamped to a minimum of zero.
			This value can change over the course of the algorithm,
			as <a data-link-type=dfn href=#base-size>base sizes</a> are adjusted.

<p>If <a data-link-type=dfn href=#available-space>available space</a> is <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#indefinite>indefinite</a>,
			the <a data-link-type=dfn href=#free-space>free space</a> is <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#indefinite>indefinite</a> as well.</p>

		<dt><dfn data-dfn-type=dfn data-noexport="" id=span-count>span count<a class=self-link href=#span-count></a></dfn>
		<dd>
			The number of <a data-link-type=dfn href=#grid-track>grid tracks</a> crossed by a <a data-link-type=dfn href=#grid-item>grid item</a> in the applicable dimension.
	</dl>

<h3 class="heading settled" data-level=10.2 id=algo-overview><span class=secno>10.2. </span><span class=content>
Overall Sizing Algorithm</span><a class=self-link href=#algo-overview></a></h3>

<p>Each track has specified <a data-link-type=dfn href=#min-track-sizing-function title="min track sizing function">minimum</a> and
	<a data-link-type=dfn href=#max-track-sizing-function title="max track sizing function">maximum</a> <a data-link-type=dfn href=#track-sizing-function>sizing functions</a>
	(which may be the same).
	Each <a data-link-type=dfn href=#track-sizing-function>sizing function</a> is either:</p>

	<ul>
		<li>A <dfn data-dfn-type=dfn data-noexport="" id=fixed-sizing-function>fixed sizing function<a class=self-link href=#fixed-sizing-function></a></dfn> (<a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#length-value>&lt;length&gt;</a> or resolveable <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#percentage-value>&lt;percentage&gt;</a>).
		<li>An <dfn data-dfn-type=dfn data-noexport="" id=intrinsic-sizing-function>intrinsic sizing function<a class=self-link href=#intrinsic-sizing-function></a></dfn> (<a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> or <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a>).
		<li>A <dfn data-dfn-type=dfn data-noexport="" id=flexible-sizing-function>flexible sizing function<a class=self-link href=#flexible-sizing-function></a></dfn> (<a class="production css" data-link-type=type href=#typedef-flex>&lt;flex&gt;</a>).
	</ul>

<p>The grid layout algorithm defines how to resolve these sizing constraints into used track sizes.</p>

	<ol>
		<li>
			First, the <a data-link-type=dfn href=#track-sizing-algorithm>track sizing algorithm</a> is used to resolve the sizes of the grid columns.

		<li>
			Next, the <a data-link-type=dfn href=#track-sizing-algorithm>track sizing algorithm</a> resolves the sizes of the grid rows.

		<li>
			Then, if the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-contribution>min-content contribution</a> of any grid items have changed
			based on the row sizes calculated in step 2,
			steps 1 and 2 are repeated with the new <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-contribution>min-content contribution</a> (once only).

			<p class=issue id=issue-6778f1ae><a class=self-link href=#issue-6778f1ae></a>
				What is this solving and is this the right solution?
	</ol>

<p>Once the size of each <a data-link-type=dfn href=#grid-area>grid area</a> is thus established,
	the <a data-link-type=dfn href=#grid-item>grid items</a> are laid out into their respective containing blocks.</p>

<p>The remainder of this section is the <dfn data-dfn-type=dfn data-noexport="" id=track-sizing-algorithm>track sizing algorithm<a class=self-link href=#track-sizing-algorithm></a></dfn>,
	which calculates from the <a data-link-type=dfn href=#min-track-sizing-function title="min track sizing function">min</a> and <a data-link-type=dfn href=#max-track-sizing-function>max track sizing functions</a>
	the used track size.
	Each track has a <dfn data-dfn-type=dfn data-noexport="" id=base-size>base size<a class=self-link href=#base-size></a></dfn>,
	a <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#length-value>&lt;length&gt;</a> which grows throughout the algorithm
	and which will eventually be the track’s final size,
	and a <dfn data-dfn-type=dfn data-noexport="" id=growth-limit>growth limit<a class=self-link href=#growth-limit></a></dfn>,
	a <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#length-value>&lt;length&gt;</a> which provides a desired maximum size for the <a data-link-type=dfn href=#base-size>base size</a>.
	(The <a data-link-type=dfn href=#base-size>base size</a> might end up being larger than the <a data-link-type=dfn href=#growth-limit>growth limit</a>,
	but the algorithm attempts to avoid this situation.)
	There are 4 steps:</p>

	<ol>
		<li><a href=#algo-init>Initialize Track Sizes</a>
		<li><a href=#algo-content>Resolve Content-Based Track Sizing Functions</a>
		<li><a href=#algo-grow-tracks>Grow All Tracks To Their Max</a>
		<li><a href=#algo-flex-tracks>Process Flexible Tracks</a>
	</ol>

	<p class=issue id=issue-81045c64><a class=self-link href=#issue-81045c64></a>Make sure orthogonal flows are correctly addressed.
	(<a href=http://lists.w3.org/Archives/Public/www-style/2014Feb/0389.html>discussion</a>)

<h3 class="heading settled" data-level=10.3 id=algo-init><span class=secno>10.3. </span><span class=content>
Initialize Track Sizes</span><a class=self-link href=#algo-init></a></h3>

<p><strong>Initialize each track’s base size and growth limit.</strong>
	For each track,
	if the track’s <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a> is:</p>

	<dl class=switch>
		<dt>A <a data-link-type=dfn href=#fixed-sizing-function>fixed sizing function</a>
		<dd>
			Resolve to an absolute length and use that size as the track’s initial <a data-link-type=dfn href=#base-size>base size</a>.

<p class=note role=note>Note: <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#indefinite>Indefinite</a> lengths cannot occur,
			as they’re treated as <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-auto>auto</a>.</p>

		<dt>An <a data-link-type=dfn href=#intrinsic-sizing-function>intrinsic sizing function</a>
		<dt>A <a data-link-type=dfn href=#flexible-sizing-function>flexible sizing function</a>
		<dd>
			Use an initial <a data-link-type=dfn href=#base-size>base size</a> of zero.
	</dl>

<p>For each track,
	if the track’s <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a> is:</p>

	<dl class=switch>
		<dt>A <a data-link-type=dfn href=#fixed-sizing-function>fixed sizing function</a>
		<dd>
			Resolve to an absolute length and use that size as the track’s initial <a data-link-type=dfn href=#growth-limit>growth limit</a>.

		<dt>An <a data-link-type=dfn href=#intrinsic-sizing-function>intrinsic sizing function</a>
		<dd>
			Use an initial <a data-link-type=dfn href=#growth-limit>growth limit</a> of infinity.

		<dt>A <a data-link-type=dfn href=#flexible-sizing-function>flexible sizing function</a>
		<dd>
			Use the track’s initial <a data-link-type=dfn href=#base-size>base size</a> as its initial <a data-link-type=dfn href=#growth-limit>growth limit</a>.
	</dl>

<h3 class="heading settled" data-level=10.4 id=algo-content><span class=secno>10.4. </span><span class=content>
Resolve Content-Based Track Sizing Functions</span><a class=self-link href=#algo-content></a></h3>

<p>This step resolves intrinsic track <a data-link-type=dfn href=#track-sizing-function>sizing functions</a> to absolute lengths.
	First it resolves those sizes based on items that are contained wholly within a single track.
	Then it gradually adds in the space requirements of items that span multiple tracks,
	evenly distributing the extra space across those tracks
	insofar as possible.</p>

<p>When the <a data-link-type=dfn href=#grid-container>grid container</a> is being sized under a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-constraint>min-content constraint</a>,
	a track with a flexible <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a>
	is treated as if its <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a> was <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a>
	for the purposes of this step.
	<span class=issue id=issue-b256823c><a class=self-link href=#issue-b256823c></a>This seems correct, but should be checked because it wasn’t in the original algorithm.</span></p>

<p class=note role=note>Note: There is no single way to satisfy these constraints
	when items span across multiple tracks.
	This algorithm embodies a number of heuristics
	which have been seen to deliver good results on real-world use-cases,
	such as the "game" examples earlier in this specification.
	This algorithm may be updated in the future
	to take into account more advanced heuristics as they are identified.</p>

	<ol>
		<li>
			<strong>Size tracks to fit non-spanning items:</strong>
			For each track with an intrinsic <a data-link-type=dfn href=#track-sizing-function>track sizing function</a>,
			consider the items in it with a span of 1:
			<ul>
				<li>
					<strong>For min-content minimums:</strong>
					If the track has a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a>,
					set its <a data-link-type=dfn href=#base-size>base size</a>
					to the maximum of the items’ <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-contribution>min-content contributions</a>.
				<li>
					<strong>For max-content minimums:</strong>
					If the track has a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a>,
					set its <a data-link-type=dfn href=#base-size>base size</a>
					to the maximum of the items’ <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-content-contribution>max-content contributions</a>.
				<li>
					<strong>For min-content maximums:</strong>
					If the track has a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>,
					set its <a data-link-type=dfn href=#growth-limit>growth limit</a>
					to the maximum of the items’ <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-contribution>min-content contributions</a>.
				<li>
					<strong>For max-content maximums:</strong>
					If the track has a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>,
					set its <a data-link-type=dfn href=#growth-limit>growth limit</a>
					to the maximum of the items’ <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-content-contribution>max-content contributions</a>.
			</ul>
		<li>
			<strong>Increase sizes to accommodate spanning items:</strong>
			Next, consider the items with a span of 2
			that do not span a track with a <a data-link-type=dfn href=#flexible-sizing-function>flexible sizing function</a>:
			<ol>
				<li>
					<strong>For intrinsic minimums:</strong>
					First increase the <a data-link-type=dfn href=#base-size>base size</a> of tracks with
					a <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a> of <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> or <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a>
					by <a href=#extra-space>distributing extra space</a> as needed
					to account for these items' <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-contribution>min-content contributions</a>.
				<li>
					<strong>For max-content minimums:</strong>
					Next continue to increase the <a data-link-type=dfn href=#base-size>base size</a> of tracks with
					a <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a> of <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a>
					by <a href=#extra-space>distributing extra space</a> as needed
					to account for these items' <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-content-contribution>max-content contributions</a>.
				<li>
					<strong>For intrinsic maximums:</strong>
					Third increase the <a data-link-type=dfn href=#growth-limit>growth limit</a> of tracks with
					a <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a> of <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> or <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a>
					by <a href=#extra-space>distributing extra space</a> as needed
					to account for these items' <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-contribution>min-content contributions</a>.
					Mark any tracks whose <a data-link-type=dfn href=#growth-limit>growth limit</a> changed
					from infinite to finite in this step
					as <dfn data-dfn-type=dfn data-noexport="" id=infinitely-growable>infinitely growable<a class=self-link href=#infinitely-growable></a></dfn> for the next step.
					
				<li>
					<strong>For max-content maximums:</strong>
					Lastly continue to increase the <a data-link-type=dfn href=#growth-limit>growth limit</a> of tracks with
					a <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a> of <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a>
					by <a href=#extra-space>distributing extra space</a> as needed
					to account for these items' <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-content-contribution>max-content contributions</a>.
			</ol>

<p>Repeat incrementally for items with greater spans until all items have been considered.</p>

		<li>
			If any track still has an infinite <a data-link-type=dfn href=#growth-limit>growth limit</a>
			(because, for example, it had no items placed in it),
			set its <a data-link-type=dfn href=#growth-limit>growth limit</a> to its <a data-link-type=dfn href=#base-size>base size</a>.
	</ol>

	<p id=extra-space>
		To <dfn data-dfn-type=dfn data-noexport="" id=distribute-extra-space>distribute extra space<a class=self-link href=#distribute-extra-space></a></dfn>
		by increasing the affected sizes of a set of tracks
		as required by a set of intrinsic size contributions,

	<ol>
		<li>
			Maintain separately for each affected <a data-link-type=dfn href=#base-size>base size</a> or <a data-link-type=dfn href=#growth-limit>growth limit</a>
			an amount of planned increase.
			(This prevents the size increases from becoming order-dependent.)

		<li>
			For each considered item,
			<ol>
				<li>
					<strong>Find the space to distribute:</strong>
					Subtract the corresponding size (<a data-link-type=dfn href=#base-size>base size</a> or <a data-link-type=dfn href=#growth-limit>growth limit</a>) of <em>every</em> spanned track
					from the item’s size contribution to find the the item’s remaining size contribution.
					(For infinite <a data-link-type=dfn href=#growth-limit>growth limits</a>, substitute the track’s <a data-link-type=dfn href=#base-size>base size</a>.)
					This is the space to distribute. Floor it at zero.
<pre><var>extra-space</var> = max(0, <var>size-contribution</var> - ∑<var>track-sizes</var>)</pre>

				<li>
					<strong>Distribute space to base sizes up to growth limits:</strong>
					Distribute the space equally to the planned increase of each spanned track with an affected size,
					freezing tracks as their planned size reaches their <a data-link-type=dfn href=#growth-limit>growth limits</a>
					(and continuing to grow the unfrozen tracks as needed).

<p>If a track was marked as <a data-link-type=dfn href=#infinitely-growable>infinitely growable</a> for this phase,
					treat its <a data-link-type=dfn href=#growth-limit>growth limit</a> as infinite for this calculation
					(and then unmark it).</p>

<p class=note role=note>Note: If the affected size was a <a data-link-type=dfn href=#growth-limit>growth limit</a>,
					this step has no effect.</p>

				<li>
					<strong>Distribute space beyond growth limits:</strong>
					If space remains after all tracks are frozen,
					unfreeze and continue to distribute space to…

					<ul>
						<li>
							when handling <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> <a data-link-type=dfn href=#base-size>base sizes</a>:
							any affected track that happens to also have an intrinsic <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>;
							if there are no such tracks, then all affected tracks.
						<li>
							when handling <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#base-size>base sizes</a>:
							any affected track that happens to also have a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>;
							if there are no such tracks, then all affected tracks.
						<li>when handling any intrinsic <a data-link-type=dfn href=#growth-limit>growth limit</a>:
							all affected tracks.
					</ul>
				<li>
					<strong>Update the tracks' affected sizes</strong>
					by folding in the calculated increase
					so that the next round of space distribution will account for the increase.
					(If the affected size is infinite,
					set it to the track’s <a data-link-type=dfn href=#base-size>base size</a> plus the calculated increase.)
			</ol>
	</ol>

<p class=note role=note>Note: When this step is complete,
	all intrinsic <a data-link-type=dfn href=#base-size>base sizes</a> and <a data-link-type=dfn href=#growth-limit>growth limits</a>
	will have been resolved to absolute lengths.</p>


<h3 class="heading settled" data-level=10.5 id=algo-grow-tracks><span class=secno>10.5. </span><span class=content>
Grow All Tracks To Their Max</span><a class=self-link href=#algo-grow-tracks></a></h3>

<p>If the <a data-link-type=dfn href=#free-space>free space</a> is positive, distribute it equally to all tracks,
	freezing tracks as they reach their <a data-link-type=dfn href=#growth-limit>growth limits</a>
	(and continuing to grow the unfrozen tracks as needed).</p>

<p>For the purpose of this step:
	if sizing the <a data-link-type=dfn href=#grid-container>grid container</a> under a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-content-constraint>max-content constraint</a>,
	the <a data-link-type=dfn href=#free-space>free space</a> is infinite;
	if sizing under a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-constraint>min-content constraint</a>,
	the <a data-link-type=dfn href=#free-space>free space</a> is zero.</p>

<h3 class="heading settled" data-level=10.6 id=algo-flex-tracks><span class=secno>10.6. </span><span class=content>
Process Flexible Tracks</span><a class=self-link href=#algo-flex-tracks></a></h3>

<p>This step sizes flexible tracks
	using the largest value it can assign to an <span class=css>fr</span>
	without exceeding the <a data-link-type=dfn href=#available-space>available space</a>.</p>

<p>First, find the used <a data-link-type=dfn href=#flex-fraction>flex fraction</a>:</p>
	<dl>
		<dt>If the <a data-link-type=dfn href=#free-space>free space</a> is zero:
		<dd>
			The used <a data-link-type=dfn href=#flex-fraction>flex fraction</a> is zero.

		<dt>If the <a data-link-type=dfn href=#free-space>free space</a> is a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#definite>definite</a> length:
		<dd>
			The used <a data-link-type=dfn href=#flex-fraction>flex fraction</a> is the result of
			<a href=#algo-find-fr-size>finding the size of an fr</a>
			using all of the <a data-link-type=dfn href=#grid-track>grid tracks</a>
			and a <a data-link-type=dfn href=#space-to-fill>space to fill</a> of the <a data-link-type=dfn href=#available-space>available space</a>.

		<dt>If the <a data-link-type=dfn href=#free-space>free space</a> is an <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#indefinite>indefinite</a> length:
		<dd>
			The used <a data-link-type=dfn href=#flex-fraction>flex fraction</a> is the maximum of:

			<ul>
				<li>
					Each flexible track’s <a data-link-type=dfn href=#base-size>base size</a> divided by its <a data-link-type=dfn>flex factor</a>.

				<li>The result of
					<a href=#algo-find-fr-size>finding the size of an fr</a>
					for each <a data-link-type=dfn href=#grid-item>grid item</a> that crosses a flexible track,
					using all the grid tracks that the item crosses
					and a <a data-link-type=dfn href=#space-to-fill>space to fill</a> of the item’s <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-content-contribution>max-content contribution</a>.
			</ul>
	</dl>

<p>For each flexible track,
	if the product of the <var>used flex fraction</var> and the track’s <a data-link-type=dfn>flex factor</a>
	is greater than the track’s <a data-link-type=dfn href=#base-size>base size</a>,
	set its <a data-link-type=dfn href=#base-size>base size</a> to that product.</p>

<p></p>


<h4 class="heading settled" data-level=10.6.1 id=algo-find-fr-size><span class=secno>10.6.1. </span><span class=content>
Find the Size of an <span class=css>fr</span></span><a class=self-link href=#algo-find-fr-size></a></h4>

<p>This algorithm finds the largest size that an <span class=css>fr</span> unit can be
	without exceeding the target size.
	It must be called with a set of <a data-link-type=dfn href=#grid-track>grid tracks</a>
	and some quantity of <dfn data-dfn-type=dfn data-noexport="" id=space-to-fill>space to fill<a class=self-link href=#space-to-fill></a></dfn>.</p>

	<ol>
		<li>
			Let <dfn data-dfn-type=dfn data-noexport="" id=leftover-space>leftover space<a class=self-link href=#leftover-space></a></dfn> be the <a data-link-type=dfn href=#space-to-fill>space to fill</a>
			minus the <a data-link-type=dfn href=#base-size>base sizes</a> of the non-flexible <a data-link-type=dfn href=#grid-track>grid tracks</a>.

		<li>
			Let <dfn data-dfn-type=dfn data-noexport="" id=flex-factor-sum>flex factor sum<a class=self-link href=#flex-factor-sum></a></dfn> be the sum of the <a data-link-type=dfn>flex factors</a> of the flexible tracks.
			If this value is less than 1,
			set it to 1 instead.

		<li>
			Let the <dfn data-dfn-type=dfn data-noexport="" id=hypothetical-fr-size>hypothetical fr size<a class=self-link href=#hypothetical-fr-size></a></dfn>
			be the <a data-link-type=dfn href=#leftover-space>leftover space</a>
			divided by the <a data-link-type=dfn href=#flex-factor-sum>flex factor sum</a>.

		<li>
			If the product of the <a data-link-type=dfn href=#hypothetical-fr-size>hypothetical fr size</a> and a flexible track’s <a data-link-type=dfn>flex factor</a>
			is less than the track’s base size,
			restart this algorithm
			treating all such tracks as inflexible.

		<li>
			Return the <a data-link-type=dfn href=#hypothetical-fr-size>hypothetical fr size</a>.
	</ol>

<h2 class="heading settled" data-level=11 id=pagination><span class=secno>11. </span><span class=content>
Fragmenting Grid Layout</span><a class=self-link href=#pagination></a></h2>

<p>Grid containers break across fragment containers (fragmentainers) <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3-break title=CSS3-BREAK>[CSS3-BREAK]</a> between
	grid rows. The break-* properties do not apply to grid areas. When fragmentating grid containers
	the goal is to minimize the number of grid areas that get fragmented due to their grid row
	being fragmented.</p>

<h3 class="heading settled" data-level=11.1 id=fragmentation-alg><span class=secno>11.1. </span><span class=content>
Sample Fragmentation Algorithm</span><a class=self-link href=#fragmentation-alg></a></h3>

	<ol>
		<li>
			Layout the grid following the <a data-section="" href=#layout-algorithm>§10 
Track Sizing Algorithm</a> by using the
			fragmentainer box width and assume unlimited height. During this step all <a class=property data-link-type=propdesc href=#propdef-grid-row>grid-row</a>
			<a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-auto>auto</a> and <span class=css>fr</span> values must be resolved.

		<li>
			Layout the grid container using the values resolved in the previous step.

		<li>
			If a grid row extends past the current fragment and it is not the first grid row in
			this fragment; push it to the next fragment. Do this even if the grid row has no items.

		<li>
			If a grid area dimensions change due to fragmentation (do not include items that
			span rows in this decision), increase the grid row as necessary for rows that either:
			<ul>
				<li>
					have a content min track sizing function.

				<li>
					are in a grid that does not have an explicit height and the grid row is flexible.
			</ul>

		<li>
			If the grid height is <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-auto>auto</a>, the height of the grid should be the sum of the final
			row sizes.

		<li>
			If a grid area overflows the grid container due to margins being collapsed during
			fragmentation, extend the grid container to contain this grid area (this step is
			necessary in order to avoid circular layout dependencies due to fragmentation).
	</ol>

	<p class=note role=note>
		If the grid’s height is specified, steps three and four may cause the grid rows to
		overflow the grid.
	</p>

<h2 class="no-num heading settled" id=acks><span class=content>
Acknowledgements</span><a class=self-link href=#acks></a></h2>

<p>This specification is made possible by input from
	Erik Anderson,
	Rossen Atanassov,
	Arron Eicholz,
	Sylvain Galineau,
	Markus Mielke,
	John Jansen,
	Chris Jones,
	Kathy Kam,
	Veljko Miljanic,
	Peter Salas,
	Christian Stockwell,
	Eugene Veselov,
	and the CSS Working Group members.
	Thanks to Eliot Graff for editorial input.</p>

<h2 class="no-num heading settled" id=changes><span class=content>
Changes</span><a class=self-link href=#changes></a></h2>

<p>The following significant changes were made since the
	<a href=http://www.w3.org/TR/2014/WD-css3-grid-layout-20140513/>13 May 2014 Working Draft</a>.</p>

	<ul>
		<li>
	</ul>

<h2 class="no-num heading settled" id=translated-algo><span class=content>
Appendix A: Translated Layout Algorithm</span><a class=self-link href=#translated-algo></a></h2>

<p class=note role=note>Note: The following is a more direct translation of the
	<a href=http://www.w3.org/TR/2014/WD-css-grid-1-20140123/#track-sizing-algorithm>original Microsoft editors' track sizing algorithm</a>,
	from which the current algorithm is derived.
	It follows the original algorithm structure
	without being as programmatic in its language.
	It is preserved here to aid in review of the current specification
	(and will be removed in the next revision).</p>

<p>This algorithm is run multiple times,
	once for each set of <a data-link-type=dfn href=#grid-item>grid items</a> with a particular <a data-link-type=dfn href=#span-count>span count</a>,
	and each time it moves through four phases,
	each one addressing one combination of <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> or <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a>
	as a <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a> or <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>.</p>

<p>Starting from the set of all <a data-link-type=dfn href=#grid-item>grid items</a> in the grid,
	remove any with a <a data-link-type=dfn href=#span-count>span count</a> greater than one
	which span a track with a <a class="production css" data-link-type=type href=#typedef-flex>&lt;flex&gt;</a> <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>.
	Of the remaining,
	sort them into groups according to their <a data-link-type=dfn href=#span-count>span count</a>,
	and order the groups in ascending order of <a data-link-type=dfn href=#span-count>span count</a>.
	For each group, in order,
	perform the following steps four times:</p>

	<ol>
		<li>
			<b>Initialize variables</b>.

<p>Let each item’s <dfn data-dfn-type=dfn data-noexport="" id=needed-space>needed space<a class=self-link href=#needed-space></a></dfn> be:</p>

			<dl class=phase>
				<dt>In phase 1
				<dd>
					The min-content size of the item,
					minus the sum of the <a data-link-type=dfn href=#base-size>base sizes</a> of the grid tracks it spans.
				<dt>In phase 2
				<dd>
					The max-content size of the item,
					minus the sum of the <a data-link-type=dfn href=#base-size>base sizes</a> of the grid tracks it spans.
				<dt>In phase 3
				<dd>
					The min-content size of the item,
					minus the sum of the <a data-link-type=dfn href=#growth-limit>growth limits</a> of the grid tracks it spans
					(or, if the <a data-link-type=dfn href=#growth-limit>growth limit</a> is infinite, the <a data-link-type=dfn href=#base-size>base size</a>).
				<dt>In phase 4
				<dd>
					The max-content size of the item,
					minus the sum of the <a data-link-type=dfn href=#growth-limit>growth limits</a> of the grid tracks it spans
					(or, if the <a data-link-type=dfn href=#growth-limit>growth limit</a> is infinite, the <a data-link-type=dfn href=#base-size>base size</a>).
			</dl>

<p>Let each item’s <dfn data-dfn-type=dfn data-noexport="" id=growable-tracks>growable tracks<a class=self-link href=#growable-tracks></a></dfn> be:</p>

			<dl class=phase>
				<dt>In phase 1
				<dd>
					The grid tracks it spans with a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> or <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a>.
				<dt>In phase 2
				<dd>
					The grid tracks it spans with a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#min-track-sizing-function>min track sizing function</a>.
				<dt>In phase 3
				<dd>
					The grid tracks it spans with a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> or <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>.
				<dt>In phase 4
				<dd>
					The grid tracks it spans with a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>.
			</dl>

<p>Let each item’s <dfn data-dfn-type=dfn data-noexport="" id=overgrowable-tracks>overgrowable tracks<a class=self-link href=#overgrowable-tracks></a></dfn> be:</p>

			<dl class=phase>
				<dt>In phase 1
				<dd>
					The item’s <a data-link-type=dfn href=#growable-tracks>growable tracks</a> that also have a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-min-content>min-content</a> or <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>.
					If there are no such tracks,
					then it’s all the <a data-link-type=dfn href=#growable-tracks>growable tracks</a>.
				<dt>In phase 2
				<dd>
					The item’s <a data-link-type=dfn href=#growable-tracks>growable tracks</a> that also have a <a class=css data-link-type=maybe href=#valdef-grid-template-columns-grid-template-rows-max-content>max-content</a> <a data-link-type=dfn href=#max-track-sizing-function>max track sizing function</a>.
					If there ar eno such tracks,
					then it’s all the <a data-link-type=dfn href=#growable-tracks>growable tracks</a>.
				<dt>In phase 3
				<dt>In phase 4
				<dd>
					The item’s <a data-link-type=dfn href=#growable-tracks>growable tracks</a>.
			</dl>

<p>Let each track’s <dfn data-dfn-type=dfn data-noexport="" id=growth-delta>growth delta<a class=self-link href=#growth-delta></a></dfn> initially be zero.</p>

		<li>
			<b>Calculate growth deltas.</b>

<p>For each grid item in the group:</p>

			<ol>
				<li>
					<dl class=phase>
						<dt>In phase 1
						<dt>In phase 2
						<dd>
							Let each track’s <dfn data-dfn-type=dfn data-noexport="" id=hypothetical-size>hypothetical size<a class=self-link href=#hypothetical-size></a></dfn>
							be the track’s <a data-link-type=dfn href=#base-size>base size</a>.
						<dt>In phase 3
						<dt>In phase 4
						<dd>
							Let each track’s <a data-link-type=dfn href=#hypothetical-size>hypothetical size</a>
							be the track’s <a data-link-type=dfn href=#growth-limit>growth limit</a> if it’s finite,
							or else the track’s <a data-link-type=dfn href=#base-size>base size</a> otherwise.
					</dl>

				<li>
					Distribute the item’s <a data-link-type=dfn href=#needed-space>needed space</a>
					as evenly as possible among the <a data-link-type=dfn href=#hypothetical-size>hypothetical sizes</a> of the item’s <a data-link-type=dfn href=#growable-tracks>growable tracks</a>,
					maxing each out as its <a data-link-type=dfn href=#hypothetical-size>hypothetical size</a> reaches its <a data-link-type=dfn href=#growth-limit>growth limit</a>.

					<dl class=phase>
						<dt>In phase 4
						<dd>
							If the track’s <a data-link-type=dfn href=#growth-limit>growth limit</a> was changed from infinite to a finite value
							in phase 3,
							treat its <a data-link-type=dfn href=#growth-limit>growth limit</a> as infinite for the purposes of this step.
					</dl>

				<li>
					If all <a data-link-type=dfn href=#growable-tracks>growable tracks</a> reached their <a data-link-type=dfn href=#growth-limit>growth limit</a> in the previous step
					and there is still <a data-link-type=dfn href=#needed-space>needed space</a> to distribute,
					distribute the leftover space evenly among the <a data-link-type=dfn href=#hypothetical-size>hypothetical sizes</a> of the item’s <a data-link-type=dfn href=#overgrowable-tracks>overgrowable tracks</a>.

				<li>
					<dl class=phase>
						<dt>In phase 1
						<dt>In phase 2
						<dd>
							For each track,
							if the difference between its <a data-link-type=dfn href=#hypothetical-size>hypothetical size</a> and its <a data-link-type=dfn href=#base-size>base size</a>
							is greater than its <a data-link-type=dfn href=#growth-delta>growth delta</a>,
							set its <a data-link-type=dfn href=#growth-delta>growth delta</a> to that difference.
						<dt>In phase 3
						<dt>In phase 4
						<dd>
							For each track,
							if its <a data-link-type=dfn href=#growth-limit>growth limit</a> is finite,
							and the difference between its <a data-link-type=dfn href=#hypothetical-size>hypothetical size</a> and its <a data-link-type=dfn href=#growth-limit>growth limit</a>
							is greater than its <a data-link-type=dfn href=#growth-delta>growth delta</a>,
							set its <a data-link-type=dfn href=#growth-delta>growth delta</a> to that difference.
							Otherwise, if its <a data-link-type=dfn href=#growth-limit>growth limit</a> is infinite,
							and the difference between its <a data-link-type=dfn href=#hypothetical-size>hypothetical size</a> and its <a data-link-type=dfn href=#base-size>base size</a>
							is greater than its <a data-link-type=dfn href=#growth-delta>growth delta</a>,
							set its <a data-link-type=dfn href=#growth-delta>growth delta</a> to that difference.
					</dl>
			</ol>

		<li>
			<b>Adjust each track’s affected size.</b>

			<dl class=phase>
				<dt>In phase 1
				<dt>In phase 2
				<dd>
					For each track,
					increase its <a data-link-type=dfn href=#base-size>base size</a> by its <a data-link-type=dfn href=#growth-delta>growth delta</a>.
				<dt>In phase 3
				<dt>In phase 4
				<dd>
					For each track,
					if its <a data-link-type=dfn href=#growth-limit>growth limit</a> is finite,
					increase its <a data-link-type=dfn href=#growth-limit>growth limit</a> by its <a data-link-type=dfn href=#growth-delta>growth delta</a>.
					Otherwise, if its <a data-link-type=dfn href=#growth-limit>growth limit</a> is infinite,
					set its <a data-link-type=dfn href=#growth-limit>growth limit</a>
					to the sum of its <a data-link-type=dfn href=#base-size>base size</a> and its <a data-link-type=dfn href=#growth-delta>growth delta</a>.
			</dl>
	</ol>

</main>
<h2 class="no-ref no-num heading settled" id=conformance><span class=content>
Conformance</span><a class=self-link href=#conformance></a></h2>

<h3 class="no-ref heading settled" id=conventions><span class=content>
Document conventions</span><a class=self-link href=#conventions></a></h3>

    <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-biblio-type=normative data-link-type=biblio href=#biblio-rfc2119 title=RFC2119>[RFC2119]</a></p>

    <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    <div class=example>
        <p>This is an example of an informative example.</p>
    </div>

    <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    <p class=note role=note>Note, this is an informative note.</p>

    <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"&gt;</code>, like
    this:

    <strong class=advisement>
        UAs MUST provide an accessible alternative.
    </strong>

<h3 class="no-ref heading settled" id=conformance-classes><span class=content>
Conformance classes</span><a class=self-link href=#conformance-classes></a></h3>

    <p>Conformance to this specification
    is defined for three conformance classes:
    <dl>
        <dt>style sheet
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#style-sheet>CSS
            style sheet</a>.
        <dt>renderer
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        <dt>authoring tool
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that writes a style sheet.
    </dl>

    <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

<h3 class="no-ref heading settled" id=partial><span class=content>
Partial implementations</span><a class=self-link href=#partial></a></h3>

    <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href=http://www.w3.org/TR/CSS21/conform.html#ignore>ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>

<h3 class="no-ref heading settled" id=experimental><span class=content>
Experimental implementations</span><a class=self-link href=#experimental></a></h3>

    <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href=http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords>prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>

<h3 class="no-ref heading settled" id=testing><span class=content>
Non-experimental implementations</span><a class=self-link href=#testing></a></h3>

    <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href=http://www.w3.org/Style/CSS/Test/>http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href=http://lists.w3.org/Archives/Public/public-css-testsuite>public-css-testsuite@w3.org</a>
    mailing list.



<h2 class="no-num heading settled" id=references><span class=content>References</span><a class=self-link href=#references></a></h2><h3 class="no-num heading settled" id=normative><span class=content>Normative References</span><a class=self-link href=#normative></a></h3><dl><dt id=biblio-css21 title=CSS21><a class=self-link href=#biblio-css21></a>[CSS21]<dd>Bert Bos; et al. <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>http://www.w3.org/TR/2011/REC-CSS2-20110607</a><dt id=biblio-css3-writing-modes title=CSS3-WRITING-MODES><a class=self-link href=#biblio-css3-writing-modes></a>[CSS3-WRITING-MODES]<dd>Elika J. Etemad; Koji Ishii. <a href=http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/>CSS Writing Modes Module Level 3</a>. 15 November 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/>http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/</a><dt id=biblio-css3val title=CSS3VAL><a class=self-link href=#biblio-css3val></a>[CSS3VAL]<dd>Håkon Wium Lie; Tab Atkins; Elika J. Etemad. <a href=http://www.w3.org/TR/2013/CR-css3-values-20130730/>CSS Values and Units Module Level 3</a>. 30 July 2013. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/CR-css3-values-20130730/>http://www.w3.org/TR/2013/CR-css3-values-20130730/</a><dt id=biblio-css3-align title=css3-align><a class=self-link href=#biblio-css3-align></a>[css3-align]<dd>Elika Etemad; Tab Atkins Jr.. <a href=http://www.w3.org/TR/css3-align/>CSS Box Alignment Module Level 3</a>. 14 May 2013. WD. URL: <a href=http://www.w3.org/TR/css3-align/>http://www.w3.org/TR/css3-align/</a><dt id=biblio-css3-break title=css3-break><a class=self-link href=#biblio-css3-break></a>[css3-break]<dd>Rossen Atanassov; Elika Etemad. <a href=http://www.w3.org/TR/css3-break/>CSS Fragmentation Module Level 3</a>. 16 January 2014. WD. URL: <a href=http://www.w3.org/TR/css3-break/>http://www.w3.org/TR/css3-break/</a><dt id=biblio-css3-sizing title=css3-sizing><a class=self-link href=#biblio-css3-sizing></a>[css3-sizing]<dd>Tab Atkins Jr.; Elika Etemad. <a href=http://www.w3.org/TR/css3-sizing/>CSS Intrinsic &amp; Extrinsic Sizing Module Level 3</a>. 27 September 2012. WD. URL: <a href=http://www.w3.org/TR/css3-sizing/>http://www.w3.org/TR/css3-sizing/</a><dt id=biblio-rfc2119 title=rfc2119><a class=self-link href=#biblio-rfc2119></a>[rfc2119]<dd>S. Bradner. <a href=https://tools.ietf.org/html/rfc2119>Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href=https://tools.ietf.org/html/rfc2119>https://tools.ietf.org/html/rfc2119</a></dl><h3 class="no-num heading settled" id=informative><span class=content>Informative References</span><a class=self-link href=#informative></a></h3><dl><dt id=biblio-css3-flexbox title=CSS3-FLEXBOX><a class=self-link href=#biblio-css3-flexbox></a>[CSS3-FLEXBOX]<dd>Tab Atkins Jr.; Elika J. Etemad; Alex Mogilevsky. <a href=http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/>CSS Flexible Box Layout Module</a>. 18 September 2012. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/>http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/</a></dl><h2 class="no-num heading settled" id=index><span class=content>Index</span><a class=self-link href=#index></a></h2><ul class=indexlist><li>auto<ul><li>value for grid-template-columns, grid-template-rows, <a href=#valdef-grid-template-columns-grid-template-rows-auto title="section 5.1">5.1</a><li>value for &lt;grid-line&gt;, <a href=#grid-placement-auto title="section 8.2">8.2</a></ul><li>&lt;auto-flow-algorithm&gt;, <a href=#typedef-auto-flow-algorithm title="section 6.2">6.2</a><li>&lt;auto-flow-direction&gt;, <a href=#typedef-auto-flow-direction title="section 6.2">6.2</a><li>automatic column position, <a href=#automatic-grid-position title="section 8">8</a><li>automatic column span, <a href=#automatic-grid-span title="section 8">8</a><li>automatic grid position, <a href=#automatic-grid-position title="section 8">8</a><li>automatic grid span, <a href=#automatic-grid-span title="section 8">8</a><li>automatic placement, <a href=#auto-placement title="section 6.2">6.2</a><li>automatic position, <a href=#automatic-grid-position title="section 8">8</a><li>automatic row position, <a href=#automatic-grid-position title="section 8">8</a><li>automatic row span, <a href=#automatic-grid-span title="section 8">8</a><li>automatic span, <a href=#automatic-grid-span title="section 8">8</a><li>auto-placement, <a href=#auto-placement title="section 6.2">6.2</a><li>auto-placement algorithm, <a href=#grid-item-placement-algorithm title="section 8.5">8.5</a><li>auto-placement cursor, <a href=#auto-placement-cursor title="section 8.5">8.5</a><li>available space, <a href=#available-space title="section 10.1">10.1</a><li>base size, <a href=#base-size title="section 10.2">10.2</a><li>column<ul><li>definition of, <a href=#grid-column title="section 2">2</a><li>value for grid-auto-flow, &lt;auto-flow-direction&gt;, <a href=#valdef-grid-auto-flow-auto-flow-direction-column title="section 6.2">6.2</a></ul><li>column axis, <a href=#column-axis title="section 2">2</a><li>column position, <a href=#grid-position title="section 8">8</a><li>column span, <a href=#grid-span title="section 8">8</a><li>cursor, <a href=#auto-placement-cursor title="section 8.5">8.5</a><li>&lt;custom-ident&gt;, <a href=#grid-placement-slot title="section 8.2">8.2</a><li>default stacking cell, <a href=#default-stacking-cell title="section 8.5">8.5</a><li>default stacking cell for the column, <a href=#default-stacking-cell-for-the-column title="section 8.5">8.5</a><li>definite column position, <a href=#definite-grid-position title="section 8">8</a><li>definite column span, <a href=#definite-grid-span title="section 8">8</a><li>definite grid position, <a href=#definite-grid-position title="section 8">8</a><li>definite grid span, <a href=#definite-grid-span title="section 8">8</a><li>definite position, <a href=#definite-grid-position title="section 8">8</a><li>definite row position, <a href=#definite-grid-position title="section 8">8</a><li>definite row span, <a href=#definite-grid-span title="section 8">8</a><li>definite span, <a href=#definite-grid-span title="section 8">8</a><li>dense, <a href=#valdef-grid-auto-flow-auto-flow-algorithm-dense title="section 6.2">6.2</a><li>distribute extra space, <a href=#distribute-extra-space title="section 10.4">10.4</a><li>explicit grid, <a href=#explicit-grid title="section 5">5</a><li>fixed sizing function, <a href=#fixed-sizing-function title="section 10.2">10.2</a><li>&lt;flex&gt;<ul><li>value for grid-template-columns, grid-template-rows, <a href=#valdef-grid-template-columns-grid-template-rows-flex title="section 5.1">5.1</a><li>(type), <a href=#typedef-flex title="section 5.1.3">5.1.3</a></ul><li>flex factor, <a href=#valdef-grid-template-columns-grid-template-rows-flex-factor title="section 5.1">5.1</a><li>flex factor sum, <a href=#flex-factor-sum title="section 10.6.1">10.6.1</a><li>flex fraction, <a href=#flex-fraction title="section 5.1.3">5.1.3</a><li>flexible length, <a href=#flexible-length title="section 5.1.3">5.1.3</a><li>flexible sizing function, <a href=#flexible-sizing-function title="section 10.2">10.2</a><li>free space, <a href=#free-space title="section 10.1">10.1</a><li>grid<ul><li>definition of, <a href=#grid title="section 2">2</a><li>value for display, <a href=#valdef-display-grid title="section 3.1">3.1</a><li>(property), <a href=#propdef-grid title="section 7">7</a></ul><li>grid-area, <a href=#propdef-grid-area title="section 8.3">8.3</a><li>grid area, <a href=#grid-area title="section 2.3">2.3</a><li>grid-auto-columns, <a href=#propdef-grid-auto-columns title="section 6.1">6.1</a><li>grid-auto-flow, <a href=#propdef-grid-auto-flow title="section 6.2">6.2</a><li>grid-auto-rows, <a href=#propdef-grid-auto-rows title="section 6.1">6.1</a><li>grid cell, <a href=#grid-cell title="section 2.1">2.1</a><li>grid column, <a href=#grid-column title="section 2">2</a><li>grid-column, <a href=#propdef-grid-column title="section 8.3">8.3</a><li>grid-column-end, <a href=#propdef-grid-column-end title="section 8.2">8.2</a><li>grid column line, <a href=#grid-line title="section 2.2">2.2</a><li>grid-column-start, <a href=#propdef-grid-column-start title="section 8.2">8.2</a><li>grid container, <a href=#grid-container title="section 3.1">3.1</a><li>grid formatting context, <a href=#grid-formatting-context title="section 3.1">3.1</a><li>grid item, <a href=#grid-item title="section 4">4</a><li>grid item placement algorithm, <a href=#grid-item-placement-algorithm title="section 8.5">8.5</a><li>grid layout, <a href=#grid-layout title="section 2">2</a><li>grid line, <a href=#grid-line title="section 2.2">2.2</a><li>&lt;grid-line&gt;, <a href=#typedef-grid-line title="section 8.2">8.2</a><li>grid placement, <a href=#grid-placement title="section 8">8</a><li>grid-placement property, <a href=#grid-placement-property title="section 8">8</a><li>grid position, <a href=#grid-position title="section 8">8</a><li>grid row, <a href=#grid-row title="section 2">2</a><li>grid-row, <a href=#propdef-grid-row title="section 8.3">8.3</a><li>grid-row-end, <a href=#propdef-grid-row-end title="section 8.2">8.2</a><li>grid row line, <a href=#grid-line title="section 2.2">2.2</a><li>grid-row-start, <a href=#propdef-grid-row-start title="section 8.2">8.2</a><li>grid span, <a href=#grid-span title="section 8">8</a><li>grid-template, <a href=#propdef-grid-template title="section 5.3">5.3</a><li>grid-template-areas, <a href=#propdef-grid-template-areas title="section 5.2">5.2</a><li>grid-template-columns, <a href=#propdef-grid-template-columns title="section 5.1">5.1</a><li>&lt;‘grid-template-columns’&gt; / &lt;‘grid-template-rows’&gt;, <a href=#grid-template-rowcol title="section 5.3">5.3</a><li>grid-template-rows, <a href=#propdef-grid-template-rows title="section 5.1">5.1</a><li>Grid track, <a href=#grid-track title="section 2.1">2.1</a><li>growable tracks, <a href=#growable-tracks title="section Unnumbered section">Unnumbered section</a><li>growth delta, <a href=#growth-delta title="section Unnumbered section">Unnumbered section</a><li>growth limit, <a href=#growth-limit title="section 10.2">10.2</a><li>hypothetical fr size, <a href=#hypothetical-fr-size title="section 10.6.1">10.6.1</a><li>hypothetical size, <a href=#hypothetical-size title="section Unnumbered section">Unnumbered section</a><li>implicit grid, <a href=#implicit-grid title="section 6">6</a><li>implicit grid column, <a href=#implicit-grid-track title="section 6.1">6.1</a><li>implicit grid row, <a href=#implicit-grid-track title="section 6.1">6.1</a><li>implicit grid track, <a href=#implicit-grid-track title="section 6.1">6.1</a><li>implicit named area, <a href=#implicit-named-area title="section 5.2.2">5.2.2</a><li>implicit named line, <a href=#implicit-named-line title="section 5.2.1">5.2.1</a><li>infinitely growable, <a href=#infinitely-growable title="section 10.4">10.4</a><li>inline-grid, <a href=#valdef-display-inline-grid title="section 3.1">3.1</a><li>&lt;integer&gt; &amp;&amp; &lt;custom-ident&gt;?, <a href=#grid-placement-int title="section 8.2">8.2</a><li>intrinsic sizing function, <a href=#intrinsic-sizing-function title="section 10.2">10.2</a><li>leftover space, <a href=#leftover-space title="section 10.6.1">10.6.1</a><li>&lt;length&gt;, <a href=#valdef-grid-template-columns-grid-template-rows-length title="section 5.1">5.1</a><li>&lt;line-name-list&gt;, <a href=#typedef-line-name-list title="section 5.1">5.1</a><li>&lt;line-names&gt;, <a href=#typedef-line-names title="section 5.1">5.1</a><li>max-content, <a href=#valdef-grid-template-columns-grid-template-rows-max-content title="section 5.1">5.1</a><li>max track sizing function, <a href=#max-track-sizing-function title="section 10.1">10.1</a><li>min-content, <a href=#valdef-grid-template-columns-grid-template-rows-min-content title="section 5.1">5.1</a><li>minmax(), <a href=#valdef-grid-template-columns-grid-template-rows-minmax title="section 5.1">5.1</a><li>min track sizing function, <a href=#min-track-sizing-function title="section 10.1">10.1</a><li>named cell token, <a href=#named-cell-token title="section 5.2">5.2</a><li>named grid area, <a href=#named-grid-area title="section 5.2">5.2</a><li>named line, <a href=#named-line title="section 5.1.1">5.1.1</a><li>needed space, <a href=#needed-space title="section Unnumbered section">Unnumbered section</a><li>none<ul><li>value for grid-template-rows, grid-template-columns, <a href=#valdef-grid-template-rows-grid-template-columns-none title="section 5.1">5.1</a><li>value for grid-template-areas, <a href=#valdef-grid-template-areas-none title="section 5.2">5.2</a><li>value for grid-template, <a href=#valdef-grid-template-none title="section 5.3">5.3</a></ul><li>null cell token, <a href=#null-cell-token title="section 5.2">5.2</a><li>occupied, <a href=#occupied title="section 8.5">8.5</a><li>order-modified grid order, <a href=#order-modified-grid-order title="section 9.5">9.5</a><li>overgrowable tracks, <a href=#overgrowable-tracks title="section Unnumbered section">Unnumbered section</a><li>participates in baseline alignment, <a href=#baseline-participation title="section 9.5">9.5</a><li>&lt;percentage&gt;, <a href=#valdef-grid-template-columns-grid-template-rows-percentage title="section 5.1">5.1</a><li>placement, <a href=#grid-placement title="section 8">8</a><li>position, <a href=#grid-position title="section 8">8</a><li>repeat(), <a href=#funcdef-repeat title="section 5.1.2">5.1.2</a><li>row<ul><li>definition of, <a href=#grid-row title="section 2">2</a><li>value for grid-auto-flow, &lt;auto-flow-direction&gt;, <a href=#valdef-grid-auto-flow-auto-flow-direction-row title="section 6.2">6.2</a></ul><li>row axis, <a href=#row-axis title="section 2">2</a><li>row position, <a href=#grid-position title="section 8">8</a><li>row span, <a href=#grid-span title="section 8">8</a><li>sizing function, <a href=#track-sizing-function title="section 5.1">5.1</a><li>space to fill, <a href=#space-to-fill title="section 10.6.1">10.6.1</a><li>span, <a href=#grid-span title="section 8">8</a><li>span count, <a href=#span-count title="section 10.1">10.1</a><li>span &amp;&amp; [ &lt;integer&gt; || &lt;custom-ident&gt; ], <a href=#grid-placement-span-int title="section 8.2">8.2</a><li>stack, <a href=#valdef-grid-auto-flow-auto-flow-algorithm-stack title="section 6.2">6.2</a><li>&lt;string&gt;+, <a href=#valdef-grid-template-areas-string title="section 5.2">5.2</a><li>subgrid<ul><li>value for grid-template-rows, grid-template-columns, <a href=#valdef-grid-template-rows-grid-template-columns-subgrid title="section 5.1">5.1</a><li>definition of, <a href=#subgrid title="section 5.1.4">5.1.4</a><li>value for grid-template, <a href=#valdef-grid-template-subgrid title="section 5.3">5.3</a></ul><li>&lt;track-breadth&gt;, <a href=#typedef-track-breadth title="section 5.1">5.1</a><li>&lt;track-list&gt;, <a href=#typedef-track-list title="section 5.1">5.1</a><li>track list, <a href=#track-list title="section 5.1">5.1</a><li>[ &lt;track-list&gt; / ]? [ &lt;line-names&gt;? &lt;string&gt; &lt;track-size&gt;? &lt;line-names&gt;? ]+, <a href=#grid-template-ascii title="section 5.3">5.3</a><li>&lt;track-size&gt;, <a href=#typedef-track-size title="section 5.1">5.1</a><li>track sizing algorithm, <a href=#track-sizing-algorithm title="section 10.2">10.2</a><li>track sizing function, <a href=#track-sizing-function title="section 5.1">5.1</a><li>trash token, <a href=#trash-token title="section 5.2">5.2</a><li>unoccupied, <a href=#unoccupied title="section 8.5">8.5</a></ul><h2 class="no-num heading settled" id=property-index><span class=content>Property Index</span><a class=self-link href=#property-index></a></h2><table class="proptable data"><thead><tr><th scope=col>Name<th scope=col>Value<th scope=col>Initial<th scope=col>Applies to<th scope=col>Inh.<th scope=col>%ages<th scope=col>Media<th scope=col>Animatable<th scope=col>Computed value<tbody><tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-template-columns>grid-template-columns</a><td>none | &lt;track-list&gt; | subgrid &lt;line-name-list&gt;?<td>none<td>grid containers<td>no<td>refer to corresponding dimension of the content area<td>visual<td>no<td>As specified, except for auto (see prose), with lengths made absolute<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-template-rows>grid-template-rows</a><td>none | &lt;track-list&gt; | subgrid &lt;line-name-list&gt;?<td>none<td>grid containers<td>no<td>refer to corresponding dimension of the content area<td>visual<td>no<td>As specified, except for auto (see prose), with lengths made absolute<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-template-areas>grid-template-areas</a><td>none | &lt;string&gt;+<td>none<td>grid containers<td>no<td>n/a<td>visual<td>no<td>specified value<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-template>grid-template</a><td>none | subgrid | &lt;‘grid-template-columns’&gt; / &lt;‘grid-template-rows’&gt; | [ &lt;track-list&gt; / ]? [ &lt;line-names&gt;? &lt;string&gt; &lt;track-size&gt;? &lt;line-names&gt;? ]+<td>see individual properties<td>grid containers<td>see individual properties<td>see individual properties<td>visual<td>no<td>see individual properties<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-auto-columns>grid-auto-columns</a><td>&lt;track-size&gt;<td>auto<td>grid containers<td>no<td>see Track Sizing<td>visual<td>no<td>see Track Sizing<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-auto-rows>grid-auto-rows</a><td>&lt;track-size&gt;<td>auto<td>grid containers<td>no<td>see Track Sizing<td>visual<td>no<td>see Track Sizing<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-auto-flow>grid-auto-flow</a><td>&lt;auto-flow-direction&gt; || &lt;auto-flow-algorithm&gt;<td>row<td>grid containers<td>no<td>n/a<td>visual<td>no<td>specified value<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid>grid</a><td>&lt;‘grid-template’&gt; | [ &lt;‘grid-auto-flow’&gt; [ &lt;‘grid-auto-columns’&gt; [ / &lt;‘grid-auto-rows’&gt; ]? ]? ]<td>see individual properties<td>grid containers<td>see individual properties<td>see individual properties<td>visual<td>no<td>see individual properties<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-row-start>grid-row-start</a><td>&lt;grid-line&gt;<td>auto<td>grid items and absolutely-positioned boxes whose containing block is a grid container<td>no<td>n/a<td>visual<td>no<td>specified value<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-column-start>grid-column-start</a><td>&lt;grid-line&gt;<td>auto<td>grid items and absolutely-positioned boxes whose containing block is a grid container<td>no<td>n/a<td>visual<td>no<td>specified value<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-row-end>grid-row-end</a><td>&lt;grid-line&gt;<td>auto<td>grid items and absolutely-positioned boxes whose containing block is a grid container<td>no<td>n/a<td>visual<td>no<td>specified value<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-column-end>grid-column-end</a><td>&lt;grid-line&gt;<td>auto<td>grid items and absolutely-positioned boxes whose containing block is a grid container<td>no<td>n/a<td>visual<td>no<td>specified value<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-row>grid-row</a><td>&lt;grid-line&gt; [ / &lt;grid-line&gt; ]?<td>see individual properties<td>grid items and absolutely-positioned boxes whose containing block is a grid container<td>see individual properties<td>see individual properties<td>visual<td>no<td>see individual properties<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-column>grid-column</a><td>&lt;grid-line&gt; [ / &lt;grid-line&gt; ]?<td>see individual properties<td>grid items and absolutely-positioned boxes whose containing block is a grid container<td>see individual properties<td>see individual properties<td>visual<td>no<td>see individual properties<tr><th scope=row><a class=css data-link-type=property href=#propdef-grid-area>grid-area</a><td>&lt;grid-line&gt; [ / &lt;grid-line&gt; ]{0,3}<td>see individual properties<td>grid items and absolutely-positioned boxes whose containing block is a grid container<td>see individual properties<td>see individual properties<td>visual<td>no<td>see individual properties</table><h2 class="no-num heading settled" id=issues-index><span class=content>Issues Index</span><a class=self-link href=#issues-index></a></h2><div style=counter-reset:issue><div class=issue>The block layout spec should define this?<a href=#issue-839d056f> ↵ </a></div><div class=issue>
		We want the ability to collapse grid tracks
		(similar to <a href=http://www.w3.org/TR/css3-flexbox/#visibility-collapse>collapsing flex items</a>
		 or <a href=http://www.w3.org/TR/CSS21/tables.html#dynamic-effects>table rows/columns</a>),
		but we’re not sure exactly how to do it.
		Ideas welcome, please <a href="mailto:www-style@w3.org?Subject=%5Bcss-grid%5D%20Collapsing%20Grid%20Tracks">post them to www-style@w3.org</a>.

<a href=#issue-8f83c1bc> ↵ </a></div><div class=issue>
			TODO: EXAMPLE HERE
	<a href=#issue-1383de0a> ↵ </a></div><div class=issue>
			TODO: provide example
	<a href=#issue-3a8dda12> ↵ </a></div><div class=issue>
				What is this solving and is this the right solution?
	<a href=#issue-6778f1ae> ↵ </a></div><div class=issue>Make sure orthogonal flows are correctly addressed.
	(<a href=http://lists.w3.org/Archives/Public/www-style/2014Feb/0389.html>discussion</a>)

<a href=#issue-81045c64> ↵ </a></div><div class=issue>This seems correct, but should be checked because it wasn’t in the original algorithm.<a href=#issue-b256823c> ↵ </a></div></div>