<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang=en>
 <head profile="http://dublincore.org/documents/2008/08/04/dc-html/ ">
  <title>CSS Generated Content for Paged Media Module</title>

  <link href="http://purl.org/dc/terms/" rel=schema.dcterms>
  <link href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
   rel=dcterms.rights>
  <meta content="CSS Generated Content for Paged Media Module"
   name=dcterms.title>
  <meta content=text name=dcterms.type>
  <meta content=2013-09-10 name=dcterms.date>
  <meta content="Håkon Wium Lie" name=dcterms.creator>
  <meta content=W3C name=dcterms.publisher>
  <meta content="http://dev.w3.org/csswg/css3-gcpm/" name=dcterms.identifier>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
   type="text/css">
  <style type="text/css">
.example img { display: block }
.example { background: #ddd }
body { line-height: 1.3 }
.remove, .unimplemented { display: none }

table.string-set-example { font-family: monospace; border-collapse: collapse }
table.string-set-example div.pre { 
  width: 12em; white-space: pre;
}
table.string-set-example td { 
  padding: 0.3em;
  border: thin solid black
}
</style>

 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1>CSS Generated Content for Paged Media Module</h1>

   <h2 class="no-num no-toc" id=w3c-working>Editor's Draft 10 September 2013</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://dev.w3.org/csswg/css3-gcpm/">http://www.w3.org/TR/2013/ED-css3-gcpm-20130910/</a>

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-gcpm/">http://www.w3.org/TR/css3-gcpm/</a>

    <dt>Previous version:

    <dd><a href="http://www.w3.org/TR/2010/WD-css3-gcpm-20100608/">
     http://www.w3.org/TR/2010/WD-css3-gcpm-20100608/</a>

    <dt>Feedback:

    <dd><a
     href="mailto:www-style@w3.org?subject=%5Bcss-gcpm%5D%20feedback">www-style@w3.org</a>
     with subject line “<kbd>[css-gcpm] <var>… message topic
     …</var></kbd>” (<a
     href="http://lists.w3.org/Archives/Public/www-style/"
     rel=discussion>archives</a>)

    <dt>Editor:

    <dd>Håkon Wium Lie, Opera Software, howcome@opera.com
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> © 2013 <a href="http://www.w3.org/"><abbr
    title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
    href="http://www.csail.mit.edu/"><abbr
    title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
    href="http://www.ercim.eu/"><abbr
    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>, <a
    href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p>This module describes features often used in printed publications. Most
   of the specified functionality involves some sort of generated content
   where content from the document is adorned, replicated, or moved in the
   final presentation of the document. Along with two other CSS3 modules –
   multi-column layout and paged media – this module offers advanced
   functionality for presenting structured documents on paged media. Paged
   media can be printed, or presented on screens.

  <h2 class="no-num no-toc" id=status-of-this-document>Status of this
   document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a
   href="mailto:www-style@w3.org?Subject=%5Bcss3-gcpm%5D%20PUT%20SUBJECT%20HERE">
   www-style@w3.org</a> (see <a
   href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
   discussion of this specification. When sending e-mail, please put the text
   “css3-gcpm” in the subject, preferably like this:
   “[<!---->css3-gcpm<!---->] <em>…summary of comment…</em>”

  <p>This document was produced by the <a
   href="http://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of
   the <a href="http://www.w3.org/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February
   2004 W3C Patent Policy</a>. W3C maintains a <a
   href="http://www.w3.org/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
   6 of the W3C Patent Policy</a>.</p>
  <!--end-status-->

  <p>This WD contains functionality that the CSS WG finds interesting and
   useful. In general, the earlier a feature appears in this draft, the more
   stable it is. Significant changes in functionality and syntax must be
   expected from <a href="#paged-presentations">paged presentations</a> and
   onwards. Also, functionality described in this module may be moved to
   other modules. Since the <a
   href="http://www.w3.org/TR/2011/WD-css3-gcpm-20111129/">previous WD</a>,
   this specification has been alinged with existing implemenatation. Some
   functionality has been removed (e.g., env(), target-pull()), or moved to
   other modules (the styling of blank pages). Some functionality are used in
   this draft with the expectation that it will appear in other modules (<a
   href="http://dev.w3.org/csswg/css-backgrounds-4/#border-clip">border-clip</a>).
   The definition of some properties has changed (e.g., the ‘<code
   class=property>start</code>’ keyword) or been further clarified based on
   feedback on www-style.

  <h2 class="no-num no-toc" id=table-of-contents><a name=contents>Table of
   contents</a></h2>
  <!--begin-toc-->

  <ul class=toc>
   <li class=no-num><a href="#introduction">Introduction</a>

   <li><a href="#running-headers-and-footers"><span class=secno>1.
    </span>Running headers and footers</a>
    <ul class=toc>
     <li><a href="#named-strings"><span class=secno>1.1. </span>Named
      strings</a>
      <ul class=toc>
       <li><a href="#setting-named-strings-the-string-set-pro"><span
        class=secno>1.1.1. </span>Setting named strings: the ‘<code
        class=property>string-set</code>’ property</a>

       <li><a href="#using-named-strings"><span class=secno>1.1.2.
        </span>Using named strings</a>
      </ul>

     <li><a href="#running-elements"><span class=secno>1.2. </span>Running
      elements</a>
    </ul>

   <li><a href="#leaders"><span class=secno>2. </span>Leaders</a>

   <li><a href="#cross-references"><span class=secno>3.
    </span>Cross-references</a>
    <ul class=toc>
     <li><a href="#the-target-counter-and-target-counters-v"><span
      class=secno>3.1. </span>The ‘<code class=css>target-counter</code>’
      and ‘<code class=css>target-counters</code>’ values</a>

     <li><a href="#the-target-text-value"><span class=secno>3.2. </span>The
      ‘<code class=css>target-text</code>’ value</a>
    </ul>

   <li><a href="#footnotes"><span class=secno>4. </span>Footnotes</a>
    <ul class=toc>
     <li><a href="#turning-elements-into-footnotes"><span class=secno>4.1.
      </span>Turning elements into footnotes</a>

     <li><a href="#the-footnote-area"><span class=secno>4.2. </span>The
      footnote area</a>

     <li><a href="#footnote-calls"><span class=secno>4.3. </span>Footnote
      calls</a>

     <li><a href="#footnote-markers"><span class=secno>4.4. </span>Footnote
      markers</a>

     <li><a href="#counting-footnotes"><span class=secno>4.5. </span>Counting
      footnotes</a>

     <li><a href="#laying-out-footnotes"><span class=secno>4.6. </span>Laying
      out footnotes</a>
    </ul>

   <li><a href="#sidenotes"><span class=secno>5. </span>Sidenotes</a>

   <li><a href="#page-marks-and-bleed-area"><span class=secno>6. </span>Page
    marks and bleed area</a>

   <li><a href="#bookmarks"><span class=secno>7. </span>Bookmarks</a>
    <ul class=toc>
     <li><a href="#bookmark-level"><span class=secno>7.1. </span>‘<code
      class=property>bookmark-level</code>’</a>

     <li><a href="#bookmark-label"><span class=secno>7.2. </span>‘<code
      class=property>bookmark-label</code>’</a>

     <li><a href="#bookmark-state"><span class=secno>7.3. </span>‘<code
      class=property>bookmark-state</code>’</a>
    </ul>

   <li><a href="#cmyk-colors"><span class=secno>8. </span>CMYK colors</a>

   <li><a href="#styling-blank-pages"><span class=secno>9. </span>Styling
    blank pages</a>

   <li><a href="#paged-presentations"><span class=secno>10. </span>Paged
    presentations</a>

   <li><a href="#spatial-layout-of-pages-atlayout"><span class=secno>11.
    </span>Spatial layout of pages; @layout</a>
    <ul class=toc>
     <li><a href="#page-shift-effects"><span class=secno>11.1. </span>Page
      shift effects</a>
    </ul>

   <li><a href="#page-floats"><span class=secno>12. </span>Page floats</a>
    <ul class=toc>
     <li><a href="#floating-to-the-topbottom-top-bottom-sna"><span
      class=secno>12.1. </span>Floating to the top/bottom: top, bottom,
      snap</a>

     <li><a href="#spanning-columns"><span class=secno>12.2. </span>Spanning
      columns</a>

     <li><a href="#deferring-floats-float-defer-column-floa"><span
      class=secno>12.3. </span>Deferring floats: float-defer-column,
      float-defer-page</a>
      <ul class=toc>
       <li><a href="#float-defer-column"><span class=secno>12.3.1.
        </span>‘<code class=property>float-defer-column</code>’</a>

       <li><a href="#float-defer-page"><span class=secno>12.3.2.
        </span>‘<code class=property>float-defer-page</code>’</a>
      </ul>

     <li><a href="#clearing-page-floats"><span class=secno>12.4.
      </span>Clearing page floats</a>

     <li><a href="#overconstrained-page-floats"><span class=secno>12.5.
      </span>Overconstrained page floats</a>

     <li><a href="#floating-inside-and-outside-pages"><span class=secno>12.6.
      </span>Floating inside and outside pages</a>

     <li><a href="#wrapping-around-page-floats"><span class=secno>12.7.
      </span>Wrapping around page floats</a>

     <li><a href="#the-float-offset-property"><span class=secno>12.8.
      </span>The ‘<code class=property>float-offset</code>’ property</a>
    </ul>

   <li><a href="#exclusions"><span class=secno>13. </span>Exclusions</a>
    <ul class=toc>
     <li><a href="#the-clear-side-property"><span class=secno>13.1.
      </span>The ‘<code class=property>clear-side</code>’ property</a>

     <li><a href="#exclusions-based-on-images"><span class=secno>13.2.
      </span>Exclusions based on images</a>

     <li><a href="#exclusions-based-on-rendered-content"><span
      class=secno>13.3. </span>Exclusions based on rendered content</a>

     <li><a href="#exclusions-based-on-shapes"><span class=secno>13.4.
      </span>Exclusions based on shapes</a>
    </ul>

   <li><a href="#regions"><span class=secno>14. </span>Regions</a>

   <li><a href="#regions-and-exclusions-examples"><span class=secno>15.
    </span>Regions and Exclusions examples</a>

   <li><a href="#selecting-pages"><span class=secno>16. </span>Selecting
    pages</a>
    <ul class=toc>
     <li><a href="#page-groups-"><span class=secno>16.1. </span>Page groups
      </a>
    </ul>

   <li><a href="#selecting-lines"><span class=secno>17. </span>Selecting
    lines</a>

   <li><a href="#conditional-text"><span class=secno>18. </span>Conditional
    text</a>

   <li><a href="#conformance"><span class=secno>19. </span>Conformance</a>

   <li><a href="#appendix-a-default-style-sheet"><span class=secno>20.
    </span>Appendix A: Default style sheet</a>

   <li class=no-num><a href="#acknowledgments">Acknowledgments</a>

   <li class=no-num><a href="#references">References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#index">Index</a>

   <li class=no-num><a href="#property-index">Property index</a>
  </ul>
  <!--end-toc-->

  <h2 class=no-num id=introduction>Introduction</h2>

  <p>(This section is not normative.)

  <p>This specification describes features often used in printed
   publications. Some of the proposed functionality (e.g., the new list style
   types, and border segments) may also used with other media types. However,
   this specification is monstly concerned with paged media.

  <h2 id=running-headers-and-footers><span class=secno>1. </span>Running
   headers and footers</h2>

  <p>To aid navigation in printed material, headers and footers are often
   printed in the page margins. <a href="#CSS3PAGE"
   rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a> describes how to place
   headers and footers on a page, but not how to fetch headers and footers
   from elements in the document. This specification offers two ways to
   achieve this. The first mechanism is <dfn id=named-strings0>named
   strings</dfn> which <em>copies</em> the text (without style, structure, or
   replaced content) from one element for later reuse in margin boxes. The
   second mechanism is <dfn id=running-elements0>running elements</dfn> which
   <em>moves</em> elements (with style, structure, and replaced content) into
   a margin box.

  <h3 id=named-strings><span class=secno>1.1. </span>Named strings</h3>
  <!--
<p>Named strings are discussed both in the CSS3 Generated and Replaced
Content (section 9) and in CSS3 Paged Media (several places). For a
proposed definition of the property, one has to go back to the <a href="http://www.w3.org/1999/06/WD-css3-page-19990623">CSS3 draft from 1999</a>
1999:
-->

  <p>Named strings can be thought of as variables that can hold one string of
   text each. Named strings are created with the ‘<a
   href="#string-set"><code class=property>string-set</code></a>’ property
   which copies a string of text into the named string. Only text is copied;
   not style, structure, or replaced content.

  <div class=example>
   <p>Consider this code:

   <pre>
h1 { string-set: title content(text) }
</pre>

   <p>Whenever an <code>h1</code> element is encountered, its textual content
    is copied into a named string called <em>title</em>. Its content can be
    retrieved in the ‘<code class=property>content</code>’ property:

   <pre>
@page :right { @top-right { content: string(title) }}
</pre>
  </div>

  <h4 id=setting-named-strings-the-string-set-pro><span class=secno>1.1.1.
   </span>Setting named strings: the ‘<a href="#string-set"><code
   class=property>string-set</code></a>’ property</h4>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=string-set>string-set</dfn>

    <tr>
     <td><em>Value:</em>

     <td>[[ &lt;identifier> &lt;content-list>] [, &lt;identifier>
      &lt;content-list>]* ] | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed value:</em>

     <td>as specified value
  </table>

  <p>The ‘<a href="#string-set"><code
   class=property>string-set</code></a>’ property accepts a comma-separated
   list of named strings. Each named string is followed by a content list
   that specifies which text to copy into the named string. Whenever an
   element with value of ‘<a href="#string-set"><code
   class=property>string-set</code></a>’ different from ‘<code
   class=css>none</code>’ is encountered, the named strings are assigned
   their respective value.

  <p>&lt;content-list> expands to one or more of these values, in any order:

  <dl>
   <dt>&lt;string&gt;

   <dd>a string, e.g. "foo"

   <dt>&lt;counter&gt;

   <dd>the counter() or counters() function, as per <a
    href="http://www.w3.org/TR/CSS21/syndata.html#counter">CSS 2.1 section
    4.3.5</a>

   <dt class=remove>contents()

   <dd class=remove>The textual content of the element, including the content
    of its ::before and ::after pseudo-element. The content of the element's
    descendants, including their respective ::before and ::after
    pseudo-elements, are included in the returned content.

   <dt><!--content-element-->content(text)

   <dd>The textual content of the element, not including the content of its
    ::before and ::after pseudo-element. The content of the element's
    descendants, including their respective ::before and ::after
    pseudo-elements, are included in the returned content. This is the
    default value, so ‘<code class=css>content()</code>’ is equivalent to
    ‘<code class=css>content(text)</code>’.

   <dt><!--content-before-->content(before)

   <dd>The textual content of the ::before pseudo-element the content of the
    element.

   <dt><!--content-after-->content(after)

   <dd>The textual content of the ::after pseudo-element the content of the
    element.

   <dt><!--content-first-letter-->content(first-letter)

   <dd>The first letter of the content of the element. The definition of a
    letter is the same as for :first-letter pseudo-elements.
    <!--<p class="note">The expected use for ''first-letter'' is to create one-letter headers, e.g., in dictionaries.</p>-->
  </dl>

  <dl class=remove>
   <dt>env()

   <dd>This function returns data from the local environment of the user at
    the time of formatting. The function accepts one of these keywords:
    <ul>
     <li>env(url): returns the URL of the document

     <li>env(date): returns the date on the user's system at the time of
      formatting

     <li>env(time): returns the time on the user's system at the time of
      formatting

     <li>env(date-time): returns the date and time on the user's system at
      the time of formatting
    </ul>

    <p>Information about date and time is formatted according to the locale
     of the user's system.

    <p class=issue>Or, should there be a way to specify the locale? Or should
     we simply format all in ISO format (e.g., 2010-03-30)?

    <p class=note>On many systems, preformatted strings in the user's locale
     can be found through the <a
     href="http://www.opengroup.org/onlinepubs/009695399/functions/strftime.html">strftime</a>
     function. The date, time and date-time strings can be found by using the
     "%x", "%X" and "%c" conversion strings, respectively.

    <div class=example>
     <pre>
@page {
  @top-right { content: env(url) }
  @bottom-right { content: env(date-time) }
}
</pre>
    </div>
  </dl>

  <p>Named strings can only hold the result of one assignment; whenever a new
   assignment is made to a named string, its old value is replaced.

  <p class=note>User agents, however, must be able to remember the result of
   more than one assignment as the ‘<code class=css>string()</code>’
   functional value (described below) can refer to different assignments.

  <p>The scope of a named string is the page of the element to which the
   ‘<a href="#string-set"><code class=property>string-set</code></a>’
   property is attached and subsequent pages. <!--
<p>The name space of named strings is different from other sets of
names in CSS.
-->

  <p>The textual content is processed as if ‘<code class=css>white-space:
   normal</code>’ had been set.

  <div class=example>
   <pre>
h2 {
  string-set: header "Chapter " counter(header) ": " content();
  counter-increment: header;
}

&lt;h2>Europa&lt;/h2>
</pre>
   <!--  string-set: header "Chapter " counter(header) ": " contents;-->
   <p>Note that the string called "header" is different from the counter with
    the same name. The above code may result in the string called "header" is
    set to "Chapter 2: Europa".
  </div>

  <div class=example>
   <p>This example results in the same value being assigned to
    <em>header</em> as in the previous example.

   <pre>
h2:before { content: "Chapter " counter(header) }
h2 {
  string-set: header content(before) content(text);
  counter-increment: header }
</pre>
  </div>

  <div class=example>
   <pre>
dt { string-set: index first-letter }
</pre>
  </div>

  <div class=example>
   <p>The content is copied regardless of other settings on the element. In
    HTML, TITLE elements are normally not displayed, but in this example the
    content is copied into a named string:

   <pre>
title {
  display: none;
  string-set: tittel content();
}
</pre>
  </div>

  <h4 id=using-named-strings><span class=secno>1.1.2. </span>Using named
   strings</h4>

  <p>The content of named strings can be recalled by using the ‘<code
   class=css>string()</code>’ value on the ‘<code
   class=property>content</code>’ property. The ‘<code
   class=css>string()</code>’ value has one required argument, namely the
   name of the string.

  <div class=example>
   <pre>
@page { @top-center { content: string(header) }}
@page { @right-middle { content: string(index) }}
@page { @top-left { content: string(entry) }}
h1 { string-set: header "Chapter " counter(chapter) content() }
dt { string-set: index first-letter, entry content() }
</pre>
   <!--h1 { string-set: header "Chapter " counter(chapter) contents }
dt { string-set: index content-first-letter, entry contents }--></div>

  <p>If the value of the named string is changed by an element on a certain
   page, the named string may have several values on that page. In order to
   specify which of these values should be used, an optional argument is
   accepted on the ‘<code class=css>string()</code>’ value. This argument
   can have one of four keywords:

  <ul>
   <li>‘<code class=css>first</code>’: the value of the first assignment
    on the page is used. If there is no assignment on the page, the named
    string's entry value is used. The entry value is the value held by the
    string at the end of the previous page. ‘<code
    class=css>first</code>’ is the default value.

   <li>‘<code class=css>start</code>’: the value of the first assignment
    on the page is used if the element begins the page or the named string
    has not been assigned a value. Otherwise, the named string's entry value
    is used.

   <li>‘<code class=css>last</code>’: the named string's exit value is
    used

   <li>‘<code class=css>first-except</code>’: similar to ‘<code
    class=css>first</code>’, except on the page where the value was
    assigned. On that page, the empty string is used.
  </ul>

  <p>The assignment is considered to take place on the first page where a
   content box representing the element occurs. If the element does not have
   any content boxes (e.g., if ‘<code class=css>display: none</code>’ is
   set), the assignment is considered to take place on the page where the
   first content box would have occured if the element had been in the normal
   flow.

  <div class=example>
   <p>In this example, the first term on the page will be shown in the top
    left corner and the last term on the page will be shown in the top right
    corner. In top center of the page, the first letter of first term will be
    shown.

   <pre>
@page { @top-left { content: string(term, first) }}
@page { @top-right { content: string(term, last) }}
@page { @top-center { content: string(index, first) }}
dt { string-set: index content(first-letter), term content(text) }
</pre>
  </div>

  <div class=example>
   <p>Given this CSS code:

   <pre>
h2 { string-set: header content() }
</pre>

   <p>The value of the "header" string

   <table class=string-set-example>
    <tbody>
     <tr>
      <td>page#

      <td>HTML code

      <td>first

      <td>start

      <td>last

      <td>first-except

     <tr>
      <td>1

      <td>
       <pre>&lt;h1>Continents&lt;/h1>
...
&lt;h2>Africa&lt;/h2>
...
...
</pre>

      <td>Africa

      <td>Africa

      <td>Africa

      <td>

     <tr>
      <td>2

      <td>
       <pre>...
&lt;h2>Americas&lt;/h2>
...
&lt;h2>Asia&lt;/h2>
...
</pre>

      <td>Americas

      <td>Africa

      <td>Asia

      <td>

     <tr>
      <td>3

      <td>
       <pre>...
...
...
...
</pre>

      <td>Asia

      <td>Asia

      <td>Asia

      <td>Asia

     <tr>
      <td>4

      <td>
       <pre>&lt;h2>Europe&lt;/h2>
...
&lt;h2>Oceania&lt;/h2>
..

</pre>

      <td>Europe

      <td>Europe

      <td>Oceania

      <td>
   </table>
  </div>

  <div class=example>
   <p>In this example, the term that is being described at the start of the
    page is shown in the top left header.

   <pre>
@page { @top-left { content: string(term, start) }}
dt { string-set: term content() }
</pre>
  </div>

  <div class=example>
   <pre>
@page { @top-left { content: string(term, first) }}
@page { @top-right { content: string(term, last) }}
@page { @top-center { content: string(index, first) }}
dt { string-set: index content(first-letter), term content(text) }
</pre>
  </div>

  <div class=example>
   <p>In this example, the header in the top center will be blank on pages
    where ‘<code class=css>h1</code>’ elements appear. On other pages,
    the string of the previous ‘<code class=css>h1</code>’ element will
    be shown.

   <pre>
@page { @top-center { content: string(chapter, first-except) }}
h1 { string-set: chapter content() }
</pre>
  </div>

  <p>If the named string referred to in a ‘<code
   class=css>string()</code>’ value has not been assigned a value, the
   empty string is used.

  <h3 id=running-elements><span class=secno>1.2. </span>Running elements</h3>

  <p>Named strings, as described above, can only hold textual content; any
   style, structure or replaced content associated with the element is
   ignored. To overcome this limitation, a way of moving elements into
   running headers and footers is introduced.

  <p>Elements that are moved into headers and footers are repeated on several
   pages; they are said to be <a href="#running-elements0"><em>running
   elements</em></a>. To support running elements, a new value – running()
   – is introduced on the ‘<code class=property>position</code>’
   property. It has one required argument: the name by which the running
   element can be referred to. A running element is not shown in its natural
   place; there it is treated as if ‘<code class=css>display:
   none</code>’ had been set. Instead, the running element may be displayed
   in a margin box.

  <p>Like counters and named strings, the name of a running element is chosen
   by the style sheet author, and the names have a separate name space. A
   running element can hold one element, including its pseudo-elements and
   its descendants. Whenever a new element is assigned to a running element,
   the old element is lost.

  <p class=note>User agents, however, must be able to remember the result of
   more than one assignment as the ‘<code class=css>element()</code>’
   value (described below) can refer to different assignments.

  <p>Running elements inherit through their normal place in the structure of
   the document.

  <div class=example>
   <pre>
title { position: running(header) }
@page { @top-center {
  content: element(header) }
}
</pre>
  </div>
  <!--
<div class="example remove">
<p>In this example, the element is copied into the running header but it also keeps its normal place.

<pre>
title { position: running(header), normal }
@page { @top-center {
  content: element(header) }
}
</pre>
</div>
-->

  <p>Like the ‘<code class=css>string()</code>’ value, the ‘<code
   class=css>element()</code>’ value accepts an optional second argument:

  <dl>
   <dt>‘<code class=css>start</code>’

   <dt>‘<code class=css>first</code>’

   <dt>‘<code class=css>last</code>’

   <dt>‘<code class=css>first-except</code>’
  </dl>

  <p>The keywords have the same meaning as for the ‘<code
   class=css>string()</code>’ value, and the place of the assignments are
   the same.

  <p>The ‘<code class=css>element()</code>’ value cannot be combined with
   any other values.

  <div class=example>
   <p>In this example, the header is hidden from view in all media types
    except print. On printed pages, the header is displayed top center on all
    pages, except where h1 elements appear.

   <pre>
&lt;style>
  div.header { display: none }
  @media print {
  div.header {
    display: block;
    position: running(header);
  }
  @page { @top-center { content: element(header, first-except) }}
&lt;/style>
...
&lt;div class="header">Introduction&lt;/div>
&lt;h1 class="chapter">An introduction&lt;/div>

</pre>
  </div>

  <div class=example>
   <p>This code illustrates how to change the running header on one page in
    the middle of a run of pages:

   <pre>
...
&lt;style>
@page { @top-center {
  content: element(header, first) }}
.header { position: running(header) }
.once { font-weight: bold }
&lt;/style>
...
&lt;div class="header">Not now&lt;/div>
&lt;p>Da di ha di da di ...
  &lt;span class="header once">NOW!&lt;/span>
  &lt;span class="header">Not now&lt;/span>
  ... da di ha di hum.&lt;/p>
...
</pre>
   The header is "Not now" from the outset, due to the "div" element. The
   first "span" element changes it to "<b>NOW!</b>" on the page where the
   "span" element would have appeared. The second "span" element, which would
   have appeared on the same page as the first is not used because the
   ‘<code class=css>first</code>’ keyword has been specified. However,
   the second "span" element still sets the exit value for "header" and this
   value is used on subsequent pages.</div>

  <h2 id=leaders><span class=secno>2. </span>Leaders</h2>

  <p>A leader is a visual pattern that guides the eye. Typically, leaders are
   used to visually connect an entry in a list with a corresponding code. For
   example, there are often leaders between titles and page numbers in a
   table of contents (TOC). Another example is the phone book where there are
   leaders between a name and a telephone number.

  <p>In CSS3, a leader is composed of series of glyphs through the ‘<code
   class=css>leader()</code>’ value on the ‘<code
   class=property>content</code>’ property. The functional notation accepts
   two values. The first describes the glyph pattern that makes up the
   leader. These values are allowed:

  <ul>
   <li>leader(dotted)

   <li>leader(solid)

   <li>leader(space)

   <li>leader(&lt;string&gt;)
  </ul>

  <p>Using the keyword values is equivalent to setting a string value. The
   table below shows the equivalents:

  <table class=border>
   <tbody>
    <tr>
     <th>Keyword

     <th>String

     <th>Unicode characters

    <tr>
     <td>leader(dotted)

     <td>leader(‘<code class=css>. </code>’)

     <td>\002E \0020

    <tr>
     <td>leader(solid)

     <td>leader(‘<code class=css>_</code>’)

     <td>\005F

    <tr>
     <td>leader(space)

     <td>leader(‘<code class=css> </code>’)

     <td>\0020
  </table>

  <p>User Agents should attempt to align corresponding glyphs from the leader
   pattern between consecutive lines.

  <p>The string inside the parenthesis is called the <em>leader string</em>.

  <p>In its simplest form, the ‘<code class=property>content</code>’
   property only takes one ‘<code class=css>leader()</code>’ value:

  <div class=example>
   <pre>
heading::after { content: leader(dotted) }
</pre>
  </div>

  <p>The leader string must be shown in full at least once and this
   establishes the minimum length of the leader. To fill the available space,
   the leader string is repeated as many times as possible in the writing
   direction. At the end of the leader, a partial string pattern may be
   shown. White space in the leader string is collapsed according to the
   values on white-space properties.
   <!-- <span class="issue">Or, partial strings be avoided?</span> -->
   <!--<p class="issue">Should other properties influence the appearance of leaders?-->

  <p>These properties influence the appearance of leaders: all font
   properties, text properties, ‘<code
   class=property>letter-spacing</code>’, white-space properties,
   background properties, and ‘<code class=property>color</code>’.

  <div class=remove>
   <p>The second value describes the alignment of the leader. These values
    are allowed:

   <dl>
    <dt>align

    <dd>attempt to align corresponding glyphs from the leader pattern between
     consecutive lines. This is the default value.

    <dt>start

    <dd>align leader string with the start

    <dt>end

    <dd>align leader string with the end

    <dt>center

    <dd>center leader string

    <dt>string-space

    <dd>add space between strings to take up all available space

    <dt>letter-space

    <dd>add space between letters (both inside the string, and at the
     start/end of the string) to take up all available space
   </dl>

   <div class=example>
    <pre>
heading::after { content: leader(dotted, align) }
heading::after { content: leader(dotted, start) }
heading::after { content: leader(dotted, end) }
heading::after { content: leader(dotted, center) }
heading::after { content: leader(dotted, string-space) }
heading::after { content: leader(dotted, letter-space) }
</pre>
   </div>
  </div>

  <p>In a more complex example, the ‘<code class=property>leader</code>’
   value is combined with other values on the ‘<code
   class=property>content</code>’ property:

  <div class=example>
   <pre>
ul.toc a::after {
  content: leader(". . . ") target-counter(attr(href url), page);
}
</pre>
  </div>

  <p>If the content connected by a leader end up on different lines, the
   leader will be present on all lines. Each leader fragment honors the
   minimum length of the leader.

  <div class=example>
   <p>Consider this code:

   <pre>
&lt;style>
.name::after { content: leader(dotted) }
&lt;/style>
&lt;div class="entry">
&lt;span class="name">John Doe&lt;/span>
&lt;span class="number">123456789&lt;/span>
&lt;/div>
</pre>

   <p>If the name and number end up on different lines (e.g., in a narrow
    column), it may be formatted like this:

   <pre>
John Doe....
...123456789
</pre>
  </div>

  <p>To determine the length of the leaders, user agents must do the
   following for each line:

  <ol>
   <li>Lay out the content with leaders of minimum lengths

   <li>Determine the empty space left on the line.

   <li>Distribute the empty space between the leaders on the line. Glyphs
    must not be shown partially. All leaders on the line should, to the
    extent possible, have the same length. This may not always be possible as
    the minimum leader length must be honored.

   <li>Fill the empty space with the specified leader pattern.
  </ol>

  <div class=example>
   <p>Consider this code:

   <pre>
&lt;style>
cite::before { content: leader('  ') }
&lt;/style>
&lt;blockquote>
  For a moment, nothing happend. 
  Then, after a second or so, 
  nothing continued to happen.
    &lt;cite>Douglas Adams&lt;/cite>
&lt;/blockquote>
</pre>

   <p>Depending on the width of the containing block, this may be rendered
    as:

   <pre>
 |For a moment, nothing happend.  |
 |Then, after a second or so,     |
 |nothing continued to happen.    |
 |                   Douglas Adams|


</pre>
   <!--
<p>To indicate that <q>John Johnson</q> should be kept on one line,
this rule can be added to the style sheet:

<pre>
cite { text-wrap: suppress }
</pre>

<p>Until 'text-wrap' is widely supported, this rule can also be used:

<pre>
cite { white-space: nowrap }
</pre>
-->

   <p>If the containing block is wider, this may be the resultant
    presentation:

   <pre>
 |For a moment, nothing happend. Then,    |
 |after a second or so, nothing continued |
 |to happen.                 Douglas Adams|
</pre>
  </div>

  <h2 id=cross-references><span class=secno>3. </span>Cross-references</h2>

  <p>It is common to refer to other parts of a document by way of a section
   number (e.g., "See section 3.4.1"), a page number (e.g., "See discussion
   on page 72"), or a string (e.g., "See the chapter on Europe"). Being able
   to resolve these cross-references automatically saves time and reduces the
   number of errors.

  <h3 id=the-target-counter-and-target-counters-v><span class=secno>3.1.
   </span>The ‘<code class=css>target-counter</code>’ and ‘<code
   class=css>target-counters</code>’ values</h3>

  <p>Numerical cross-references are generated by ‘<code
   class=css>target-counter()</code>’ and ‘<code
   class=css>target-counters()</code>’ values that fetch the value of a
   counter at the target end of the link. These functions are similar to the
   ‘<code class=css>counter()</code>’ and ‘<code
   class=css>counters()</code>’ functions, except that they fetch counter
   values from remote elements. ‘<code class=css>target-counter()</code>’
   has two required arguments: the url of the link, and the name of a
   counter. ‘<code class=css>target-counters()</code>’ has three required
   arguments: the url of the link, the name of a counter, and a separator
   string. Both functions accepts an optional argument at the end that
   describes which list style type to use when presenting the resulting
   number; ‘<code class=css>decimal</code>’ being the default.

  <div class=example>
   <p>This style sheet specifies that a string like " (see page 72)" is added
    after a link:

   <pre>
a::after { content: "(see page " target-counter(attr(href url), page, decimal) ")" }
</pre>
  </div>

  <div class=example>
   <p>This style sheet specifies that a string like " (see section 1.3.5)" is
    added after a link:

   <pre>
a::after { content: "(see section " target-counters(attr(href url), section, ".", decimal) ")" }
</pre>
  </div>

  <h3 id=the-target-text-value><span class=secno>3.2. </span>The ‘<code
   class=css>target-text</code>’ value</h3>

  <p>Textual cross-references are generated by ‘<code
   class=css>target-text()</code>’ which fetches the textual content from
   the target end of the link. Only text is copied; not style, structure, or
   replaced content. ‘<code class=css>target-text()</code>’ has one
   required argument: the url of the link. An optional second argument
   specifies exactly which content is fetched. There are four possible
   values: <!--''contents'',--> ‘<code class=css>content</code>’,
   ‘<code class=css>before</code>’, ‘<code class=css>after</code>’,
   ‘<code class=css>first-letter</code>’; these keywords are defined
   above.

  <div class=example>
   <p>To generate this text:

   <blockquote>
    <p>See Chapter 3 ("A better way") on page 31 for an in-depth evaluation.
   </blockquote>
   from this markup:
   <pre>
&lt;p>See &lt;a href="#chx">this chapter&lt;/a> for an in-depth evaluation.
...
&lt;h2 id="chx">A better way&lt;/h2>
</pre>
   this CSS code can be used:
   <pre>
h2 { counter-increment: chapter }
a { content: "Chapter " target-counter(attr(href url), chapter)
   ' ("'  target-text(attr(href url), content) '") on page '
   target-counter(attr(href url), page);
</pre>
  </div>

  <h2 id=footnotes><span class=secno>4. </span>Footnotes</h2>

  <p>When an element is turned into a footnote, certain things happen: the
   element is moved to the footnote area, a footnote call is left behind in
   its place, a footnote marker is displayed before the element, and the
   footnote counter is incremented.

  <p>A footnote is a note typically placed at the bottom of a page that
   comments on, or cites, a reference. References to footnotes are marked
   with a <em>footnote call</em> in the main text which corresponds to a
   <em>footnote marker</em> in the <em>footnote area</em>. The rendering of
   footnotes is complex. As far as possible, footnotes try to reuse other
   parts of CSS. However, due to the typographic traditions of footnotes,
   some new functionality is required to support footnotes in CSS:

  <ul>
   <li>one new value on the ‘<code class=property>float</code>’ property:
    ‘<code class=css>footnote</code>’

   <li>one new page area: ‘<code class=css>@footnote</code>’

   <li>two new pseudo-elements: ‘<code class=css>::footnote-call</code>’
    and ‘<code class=css>::footnote-marker</code>’

   <li>one predefined counter: ‘<code class=css>footnote</code>’

   <li class=remove>one new value on the ‘<code
    class=property>content</code>’ property: ‘<code
    class=css>target-pull()</code>’

   <li>border segments (see <a
    href="http://dev.w3.org/csswg/css-backgrounds-4/#border-clip">border-clip</a>)

   <li><a
    href="http://www.w3.org/TR/2011/WD-css3-lists-20110524/#super-decimal">super-decimal</a>
    <!--<li>two new 'list-style-type' values: ''super-decimal'', and symbol(...)-->
  </ul>

  <div class=example>
   <p>In its simplest form, making a footnote is simple.

   <pre>
&lt;style>
.footnote { float: footnote }
&lt;/style>

&lt;p>A sentence consists of words. &lt;span class="footnote">Most often.&lt;/span>.
</pre>

   <p>In this example, the text <q>Most often.</q> will be placed in a
    footnote. A note-call will be left behind in the main text and a
    corresponding marker will be shown next to the footnote. Here is one
    possible rendering:

   <pre>
A sentence consists of words. ¹

¹ Most often.
</pre>
  </div>

  <div class="example remove">
   <p>To support legacy browsers, it is often better to make a link to the
    note rather than including the text inline. This example shows how to
    fetch the content of a note and place it in a footnote.

   <pre>
&lt;style>
@media print {
  .footnote {
    float: footnote;
    content: target-pull(attr(href url)) }
  .call { display: none }
}
&lt;/style>
...
&lt;p>A sentence consists of words&lt;a class="footnote" href="#words"> [3]&lt;/a>.
...
&lt;p id=words>&lt;span class="call">[3]&lt;/span> Most often.
</pre>

   <p class=issue>define ‘<code class=css>target-pull</code>’

   <p>When shown in a legacy browser, the content of the element will be
    shown as a clickable link to an endnote. When printed according to this
    specification, there will be a footnote:

   <pre>
A sentence consists of words¹.

¹ Most often.
</pre>
  </div>

  <div class=example> Consider this markup:
   <pre>
&lt;p>Sorry, &lt;span title="This is, of course, a lie.">we're closing for lunch&lt;/span>.
</pre>

   <p>The content of the "title" attribute can be turned into a footnote with
    this code:

   <pre>
span[title]::after {
  content: attr(title);
  float: footnote;
}
</pre>
  </div>

  <h3 id=turning-elements-into-footnotes><span class=secno>4.1.
   </span>Turning elements into footnotes</h3>

  <p>An element with ‘<code class=css>float: footnote</code>’ (called a
   <em>footnote element</em>) is moved to the <em>footnote area</em> and a
   <em>footnote-call</em> pseudo-element is put in its original place.

  <div class=example>
   <pre>
span.footnote {
  float: footnote;
}
</pre>
  </div>

  <p>Footnote elements are presented inside the <em>footnote area</em>, but
   they inherit through their normal place in the structure of the document.

  <div class=remove>
   <p>The ‘<code class=property>display</code>’ property on footnote
    elements is ignored. Instead, the value of the ‘<code
    class=property>display</code>’ property in the @footnote context
    determines if footnotes are block or inline elements.

   <div class=example>
    <p>In this example, the footnotes are displayed inline:

    <pre>
@footnote {
  display: inline;
}
span.footnote {
  float: footnote;
}
</pre>

    <p>Here is one possible presentation of inline footnotes:

    <pre>
¹ The first footnote. º The second footnote.
</pre>
   </div>
  </div>
  <!--
<p class=issue>Another way to achieve this would be to introduce different keywords for inline and block footnotes (e.g., float: footnote-inline, float: footnote-block).
-->

  <p>For each new footnote element, the ‘<code class=css>footnote</code>’
   counter is automatically incremented.

  <h3 id=the-footnote-area><span class=secno>4.2. </span>The footnote area</h3>

  <p>All elements with ‘<code class=css>float: footnote</code>’ are moved
   to the <em>footnote area</em>. The footnote area is described by an
   @footnote-rule inside the @page-rule. By default, the footnote area
   appears at the bottom of the page, but it can be positioned in other
   places.

  <p class=issue>Should the footnote are be positioned using page floats or
   (fixed?) absolute positioning? Or both?

  <p class=issue>

  <div class=example>
   <p>These rules place the footnote area at the bottom of the page, spanning
    all columns:

   <pre>
@page {
  @footnote {
    float: bottom;
    column-span: all;
    width: 100%;
  }
}
</pre>
  </div>

  <div class=example>
   <p>These rules place the footnote area at the bottom of the first column:

   <pre>
@page {
  @footnote {
    float: bottom;
    width: 100%;
  }
}
</pre>
  </div>

  <div class="example issue">
   <p>This code places the footnote area at the bottom of the right column:

   <pre>
@page {
  @footnote {
    float: bottom-corner;
    width: 100%;
  }
}
</pre>
  </div>
  <!--
<p class=issue>How should one indicate that the footnote area should
span columns? Typically, footnotes are put inside columns rather than
spanning the full width, but there could be exceptions.
-->

  <p>The content of the footnote area is considered to come before other
   content which may compete for the same space on the same page.

  <div class=example>
   <pre>
@page { @footnote { float: bottom page}}
div.figure { float: bottom page }
</pre>

   <p>If figures and footnotes are on the same page, the footnotes will
    appear below the figures as they are floated to the bottom before the
    figures.
  </div>

  <p>Potentially, every page has a footnote area. If there are no footnotes
   on the page, the footnote area will not take up any space. If there are
   footnotes on a page, the layout of the footnote area will be determined by
   the properties/values set on it, and by the footnote elements elements
   inside it.

  <p>These properties apply to the footnote area: ‘<code
   class=property>content</code>’, ‘<code
   class=property>border</code>’, ‘<code
   class=property>padding</code>’, ‘<code
   class=property>margin</code>’, ‘<code class=property>height</code>’,
   ‘<code class=property>width</code>’, ‘<code
   class=property>max-height</code>’, ‘<code
   class=property>max-width</code>’, ‘<code
   class=property>min-height</code>’, ‘<code
   class=property>min-width</code>’, the background properties. <!--
<p class="note">In published books, it is customary for the footnote
area to be limited to less than half the height of the page area. Long
footnotes may need more space, and the customary solution is for
footnotes to span several pages. To achieve this, the 'max-height'
property should be used. However, footnotes spanning several pages is
an advanced feature which is not a conformance requirement for this
specification.
-->

  <div class=example>
   <p>This example uses some of the applicable properties on @footnote:

   <pre>
@footnote {
  margin-top: 0.5em;
  border-top: thin solid black;
  border-clip: 4em;
  padding-top: 0.5em;
}
</pre>

   <p>The result of this code is a footnote area separated from other content
    above it by margin, border and padding. Only 4em of the border is visible
    due to the ‘<code class=property>border-clip</code>’ property, which
    is defined in <a href="http://dev.w3.org/csswg/css4-background/">CSS
    Backgrounds and Borders Module Level 4</a>. <!--[[!CSS4BACKGROUND]]-->.
  </div>
  <!--
<p class="issue">Footnotes in tables and floats may be problematic. In
some cases, the author may want the footnote to go at the end of the
table or float instead of the bottom of the page.
-->

  <h3 id=footnote-calls><span class=secno>4.3. </span>Footnote calls</h3>

  <p>When an element is moved to the footnote area, a <em>footnote-call</em>
   is left behind. By default, User Agents must behave as if this code is
   part of the default style sheet:

  <pre>
::footnote-call {
  content: counter(footnote, super-decimal);
}
</pre>

  <p>The resulting note call is a super-script decimal number.

  <h3 id=footnote-markers><span class=secno>4.4. </span>Footnote markers</h3>

  <p>A ::footnote-marker pseudo-element is added to each footnote element, in
   the same place, and replacing, the ::before pseudo-element. User agents
   must, by default, show the "footnote" counter in the footnote-marker.

  <div class=example>
   <p>User Agents may display footnote-calls and footnote-markers this way by
    default:

   <pre>
::footnote-call {
  content: counter(footnote, super-decimal);
}
::footnote-marker {
  content: counter(footnote, super-decimal);
}
</pre>
  </div>

  <p>Marker elements are discussed in more detail in the CSS Lists module <a
   href="#CSS3LIST" rel=biblioentry>[CSS3LIST]<!--{{!CSS3LIST}}--></a>. One
   suggested change to that module is to honor the value of ‘<code
   class=property>list-style-position</code>’ on the ::footnote-marker
   pseudo-element itself rather than the corresponding list-item element.
   Further, one clarification to the horizontal placement of the marker is
   suggested: the <em>margin</em> box of the marker box is horizontally
   aligned with the start of the line box.

  <h3 id=counting-footnotes><span class=secno>4.5. </span>Counting footnotes</h3>

  <p>The "footnote" counter is automatically incremented each time a footnote
   is generated. That is, the "footnote" counter is incremented by one each
   time an element with ‘<code class=css>float: footnote</code>’ appears.

  <p>The footnote counter can be reset with the ‘<code
   class=property>counter-reset</code>’ property.

  <div class=example> This code resets the "footnote" counter on a per-page
   page basis:
   <pre>
@page { counter-reset: footnote }
</pre>
  </div>

  <p class=issue>Should one also be able to manually increment the "footnote"
   counter? <!--
<p>The 'counter-increment' property can be set in the @footnote rule.
Each time an element with 'float: footnote' is found, the corresponding
counter is incremented.

<div class="example">
<p>This rule is part of the default style sheet:

<pre>
@page {
  @footnote {
    counter-increment: footnote;
  }
}
</pre>

As a result, the "footnote" counter is incremented each time a footnote is generated.
</div>
-->

  <h3 id=laying-out-footnotes><span class=secno>4.6. </span>Laying out
   footnotes</h3>

  <p>Footnotes must appear as early as possible under the following
   constraints:

  <ol>
   <li>A footnote marker may not appear on an earlier page than the footnote
    call.

   <li>Footnotes may not appear out of document order.
    <!--<span class="issue">(What order is that: the document order or the visual order?
    Probably the document order, the same order as the footnote counter
    values, although the visual order of the footnote calls may be
    different, due to their occurrence in positioned and floating
    elements.)</span>-->

   <li>The footnote area is limited in size by ‘<code
    class=property>max-height</code>’, unless the page contains only
    footnotes. (E.g., if at the end of the document there are still footnotes
    unprinted, the User Agent can use the whole page to display footnotes.)

   <li>If there is a footnote call on a page, the footnote area may not be
    empty, unless its ‘<code class=property>max-height</code>’ is too
    small.
  </ol>
  <!--
<h3>Footnote magic</h3>

<p>When an element is turned into a footnote, certain magical things
happen. The element is moved to the footnote area, a footnote call is
left behind in its place, a footnote marker is displayed before the
element, and the footnote counter is incremented.

<p>When rendering footnotes, User Agents may apply certain heuristics
to improve the presentation. For example, the space between a
footnote-call and surrounding text may be adjusted. Another example is
the height of the footnote area; it may be heuristically constrained
to limit the area that is used for footnotes.
-->

  <h2 id=sidenotes><span class=secno>5. </span>Sidenotes</h2>

  <p>Sidenotes are supported the same way as footnotes; only the name and the
   settings in the default style sheet differentiates the two.

  <div class=example>
   <p>This example moves images to the outside margin of pages:

   <pre>
@page :left {
  margin-left: 10em;
  @sidenote { position: fixed; left: -8em; width: 6em }
}
@page :right {
  margin-right: 10em;
  @sidenote { position: fixed; right: -8em; width: 6em }
}
img { float: sidenote }
</pre>

   <p>It is important to note that it is the sidenote area that is descibed
    by @sidenote, and not the elements that are floated into the sidenote
    area.
  </div>

  <p class=issue>Should there be a mechanism to create new areas like
   footnote/sidenote, or are two predefinded areas enough? <!--
<h2>Hyphenation</h2>
-->
   <!--
<table class=hyphenate>
<tr><th>CSS<th>XSL<th>DSSSL
<tr><th>hyphens<th>hyphenate<th>hyphenate

<tr><td>none<td>false
<tr><td>manual<td>
<tr><td>auto<td>true

<tr><th>hyphenate-resource<th>country, language, script<th>?
<tr><td>auto
<tr><td>&lt;uri>

<tr><th>hyphenate-before<th>hyphenation-remain-character-count<th>hyphenation-remain-char-count
<tr><td>auto<td>
<tr><td>&lt;integer><td>&lt;integer>

<tr><th>hyphenate-after<th>hyphenation-push-character-count<th>hyphenation-push-char-count
<tr><td>auto<td>
<tr><td>&lt;integer><td>&lt;integer>

<tr><th>hyphenate-lines<th>hyphenation-ladder-count<th>hyphenation-ladder-count
<tr><td>no-limit<td>no-limit
<tr><td>&lt;integer>

<tr><th>hyphenate-character<th>hyphenation-character<th>hyphenation-char
<tr><td>&lt;string><td>&lt;character>
<tr><td>auto

<tr><th><th>hyphenation-keep<th>hyphenation-keep
<tr><td><td>auto
<tr><td><td>column
<tr><td><td>page
<tr><th><th><th>hyphenation-exceptions
<tr><td><td><td>The value is a list of strings. Each string is a word which may contain hyphen characters, #\-, indicating where hyphenation may occur. If a word to be hyphenated occurs in the list, it may only be hyphenated in the specified places. The initial value is the empty list.


</table>

-->
   <!--
<p>Hyphenation means splitting words to improve the layout of
paragraphs. This specifications does not define the exact rules for
hyphenation, but describes six properties that influence hyphenation.

<h3>The 'hyphens' property</h3>

<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>hyphens</dfn>
    <tr>
      <td><em>Value:</em>
      <td>none | manual | auto | all
    <tr>
      <td><em>Initial:</em>
      <td>manual
    <tr>
      <td><em>Applies to:</em>
      <td>all elements
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>specified value
</table>

<p>Values are:

<dl>
<dt>none

<dd>Words are not broken at line breaks, even if characters inside the word suggest line break points.

<dt>manual

<dd>Words are only broken at line breaks where there are characters inside the word that suggest line break opportunities. Characters can be explicit or conditional.

<div class="example">
<p>In Unicode, U+00AD is a conditional "soft hyphen" and U+2010 is an explicit hyphen. Unicode Standard Annex #14 describes the <a href="http://unicode.org/reports/tr14/#SoftHyphen">role of soft hyphens in the</a> Unicode Line breaking algorithm.
</div>

<div class="example">
<p>In HTML, &amp;shy; represents the soft hyphen character which suggests a line break opportunity.
<pre>
ex&amp;shy;ample.
</pre>
</div>


<dt>auto
<dd>Words can be broken at appropriate hyphenation points, as determined by characters inside the word, resources listed in 'hyphenate-resource', or other UA-dependent resources. Characters inside the word take priority over hyphenation points determined by other resources.

<dt>all

<dd>All possible hyphenation points, as determined by characters inside the word, resources listed in 'hyphenate-resource', or other UA-dependent resources, are marked. The visual appearance of the mark is UA-dependent.


</dl>

<h3>The 'hyphenate-resource' property</h3>

<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>hyphenate-resource</dfn>
    <tr>
      <td><em>Value:</em>
      <td>none | &lt;uri&gt; [, &lt;uri&gt; ]*
    <tr>
      <td><em>Initial:</em>
      <td>none
    <tr>
      <td><em>Applies to:</em>
      <td>all elements
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>specified value
</table>

<p>This property specifies a comma-separated list of external resources that can help the UA determine hyphenation points. If more than one resource is specified, the UA should consult each resource – in turn, from the beginning – until it finds one that is able to determine hyphenation points in a word. The 'none' value indicates that no external resources are available. In any case, the UA can also use local resources not listed on this property.

<div class="example">

<p>Often, finding the right hyphenate resource is based on knowing the
language of the text. The <code>lang</code> attribute is recommended
for encoding the language, and the corresponding selector is used in
this example:

<pre>
:lang(dk) { hyphenate-resource: url("hyph_da_DK.dic"), url("hyph_da_NO.dic") }
</pre>

</div>

<h3>The 'hyphenate-before' and 'hyphenate-after' properties</h3>

<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>hyphenate-before</dfn>
    <tr>
      <td><em>Value:</em>
      <td>&lt;integer> | auto
    <tr>
      <td><em>Initial:</em>
      <td>auto
    <tr>
      <td><em>Applies to:</em>
      <td>all elements
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>specified value
</table>

<p>This property specifies the minimum number of characters in a
hyphenated word before the hyphenation character. The ''auto'' value
means that the UA chooses a value that adapts to the current layout.

<p class="note">Unless the UA is able to calculate a better value, it
is suggested that ''auto'' means 2.


<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>hyphenate-after</dfn>
    <tr>
      <td><em>Value:</em>
      <td>&lt;integer> | auto
    <tr>
      <td><em>Initial:</em>
      <td>auto
    <tr>
      <td><em>Applies to:</em>
      <td>all elements
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>specified value
</table>

<p>This property specifies the minimum number of characters in a hyphenated word after the hyphenation character. The ''auto'' value means that the UA chooses a value that adapts to the current layout.

<p class="note">Unless the UA is able to calculate a better value, it is suggested that ''auto'' means 2.


<h3>The 'hyphenate-lines' property</h3>

<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>hyphenate-lines</dfn>
    <tr>
      <td><em>Value:</em>
      <td>no-limit | &lt;integer>
    <tr>
      <td><em>Initial:</em>
      <td>no-limit
    <tr>
      <td><em>Applies to:</em>
      <td>all elements
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>specified value
</table>

<p>This property indicates the maximum number of successive hyphenated
lines in an element. In some cases, user agents may not be able to
honor the specified value. The ''no-limit'' value means that there is
no limit.

<h3>The 'hyphenate-character' property</h3>

<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>hyphenate-character</dfn>
    <tr>
      <td><em>Value:</em>
      <td>auto | &lt;string>
    <tr>
      <td><em>Initial:</em>
      <td>auto
    <tr>
      <td><em>Applies to:</em>
      <td>all elements
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>specified value
</table>

<p>This property specifies strings that are shown between parts of
hyphenated words. The 'auto' value means that the user agent should
find an appropriate value.

<div class="example">
<p>In Latin scripts, the hyphen character (U+2010) is often used to
indicate that a word has been split. Normally, it will not be
necessary to set it explicitly. However, this can easily be done:

<pre>
article { hyphenate-character: "\2010" }
</pre>
</div>


<h3>The 'hyphenate-last-line-avoid' property</h3>

<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>hyphenate-last-line-avoid</dfn>
    <tr>
      <td><em>Value:</em>
      <td>auto | always | column | page | spread
    <tr>
      <td><em>Initial:</em>
      <td>auto
    <tr>
      <td><em>Applies to:</em>
      <td>block-level elements
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>specified value
</table>

<p>This property indicates hyphenation behavior at the end of elements, column, pages and spreads. A spread is a set of two pages that are visible to the reader at the same time. Values are:

<dl>
<dt>auto

<dd>no restrictions imposed

<dt>always

<dd>the last full line of the element, or the last line before any column, page, or spread break inside the element should not be hyphenated.

<dt>column

<dd>the last line before any column, page, or spread break inside the element should not be hyphenated

<dt>page

<dd>the last line before page or spread break inside the element should not be hyphenated

<dt>spread

<dd>the last line before any spread break inside the element should not be hyphenated.

</dl>

<div class=example>
<pre>
p { hyphenate-last-line-avoid: always }
div.chapter {  hyphenate-last-line-avoid: spread }
</div>
<div>

<div class=example>
<p>A paragraph may be formatted like this when 'hyphenate: auto' is set:

<pre>
   This is just a
   simple example
   to show Antar-
   ctica.
</pre>

<p>With 'hyphenate-last-line-avoid: always' one would get:

<pre>
   This is just a
   simple example
   to        show
   Antarctica.
<pre>
</div>
-->
   <!--
<h2>New counter styles</h2>


<h3>The ''super-decimal'' list-style-type</h3>

<p class=issue>This section will be moved to css3-lists (<a href="http://lists.w3.org/Archives/Public/www-style/2009Jun/0186.html">minutes</a>)

<p>A new list-style-type, ''super-decimal'', is introduced to better support
footnotes. Small, super-script footnote calls are common; the first
three numbers have code points in Latin-1 and some font families have
even more super-script glyphs. The ''super-decimal'' keyword allow
these font resources to be used and replaces the use of 'font-size'
and 'vertical-align' (which prohibit the use of special-purpose
glyphs).

<div class="example">
This example specifies that footnote markers should consist of
super-script decimal numbers.

<pre>
::footnote-marker { content: counter(footnote, super-decimal) }
</pre>
</div>

<p>Using super-script glyphs is optional; UAs may also scale and position
other glyphs for use in footnote calls.

-->
   <!--
<h3>Named counter styles</h3>

<p>CSS defines a number of predefined list style types for the
'list-style-type' property and other places where a list-style-type
value is accepted. Some styles repeat the same glyph (e.g., ''disc''
and ''circle'') while others have lists of glyphs (e.g., ''decimal'',
and ''lower-roman''). To increase the range of lists that can be
achieved through CSS without adding many new keywords,
@counter-style rules are introduced. By using @counter-style, a style
sheet can name new counter styles.

<p>An @counter-style rule consists of the keyword ''@counter-style'',
followed by the name of the symbol counter style, followed by a
space-separated list of strings.

<div class="example">

<pre>
@counter-style daggers "*" "\2020" "\2021" "\A7" "#";
ol { list-style-type: daggers }
</pre>

</div>

<div class="example">

<pre>
@counter-style ordinal "1st" "2nd" "3rd" "4th";
h1:before { content: counter(chapter, ordinal) " chapter" }
</pre>

</div>

<p>The first string in the list represents number one, the second
string represents number two, etc. Outside the range of specified values, the rendering
will be as if the ''decimal'' list style type had been specified.

<div class="example">
<p>Consider this example:

<pre>
@counter-style ordinal "1st" "2nd" "3rd" "4th";
ordered-list { counter-reset: items -1 }
list-item { counter-increment: items 2 }
</pre>

<p>For a series of <tt>list-item</tt> elements inside an
<tt>ordered-list</tt> element, the value of the <tt>items</tt> counter
will be -1, 1, 3, 5, 7 etc. Given that the <tt>ordinal</tt> counter
style only defines a counter style for 1, 2, 3, and 4, the list will
be numbered "-1", "1st", "3rd", "5", "7" etc.

</div>

<p>Named counter styles can be imported through @import statements.

<div class="example">
<pre>
@import url(http://www.example.com/armenian-counters.css); /* defines 'armenian' */
ol { list-style-type: armenian }
</pre>
</div>
-->
   <!--
<div class="issue">Should we allow images in addition to strings?
<pre>
  @counter-style graphic url("1.gif") url("2.gif") url("3.gif")
</pre>
</div>
-->
   <!--
<h3>The ''symbols()'' list-style-type</h3>

<p>A new list-style-type with a functional notation is introduced to
avoid the indirection of having to name counter styles. The
''symbols()'' value takes a comma-separated list of strings as
arguments.


<div class="example">
<pre>
::footnote-call {
    content: counter(footnote, symbols('*', '+', '!'))
}
</pre>
</div>

<p>Outside the range of specified values, the rendering will be as if
the ''decimal'' list style type had been specified.

<div class="example">

This code:

<pre>
ol { list-style: symbols("*", "\2020", "\2021", "\A7", "#") }
</pre>

will result in these list-items markers: * † ‡ § # 6 7 8 ...

</div>
-->
   <!--
<p class="issue">Should there be a way to indicate the behavior if there are more items than strings? Proposals include: "alphabetic", "enumerate", "numeric", "cycle", "ideographic".
-->
   <!--
<h2>Page counters</h2>

<p>Printed publications often show page numbers to indicate the
sequence of papes. Also, it is common to show the total number of
pages in the document. For example, "page 3 of 5" may be shown at the
bottom of a page.

<p>This specifiction describes two counters that can be used to
indicate page numbers: ''page'' and ''pages''.

<h3>The ''page'' counter</h3>

<p>The ''page'' counter is predefined to start with a value of zero,
and to be automatically incremented by one before every page. That is,
UAs must behave as if this code fragment is part of the default style
sheet:

<pre>
@page {
  counter-increment: page 1;
}
</pre>

<p>The ''page'' counter can be reset and incremented in style sheets
just like other counters. On pages where the counter is incremented by
the style sheet in the page context, the automatic incrementation does
not take place.

<div class="example">

<pre>
@page {
  @bottom-center {
     content: counter(page);
  }
}

@page introduction {
  counter-reset: page;
}

@page :right {
  counter-increment: page 2;
}
</pre>
</div>


<h3>The ''pages'' counter</h3>

<p>The ''pages'' counter is predefined to have the total number of
pages in the document. In order to find the value of this counter, the
UA will have to paginate the document. This counter is a constant and
it cannot be set or incremented by a style sheet.

<div class=example>
<pre>
@page {
  @bottom-center {
     content: "Page " counter(page) " of " counter(pages) " pages in total";
  }
}
</pre>
</div>

<p>UAs that are not able to paginate the document should display a
question mark or another symbol that indicates uncertainty.

<div class=example>

<p>This code has no effect on the ''pages'' counter which cannot be
changed by the style sheet. However, the the ''page'' counter reset normally.

<pre>
@page :right {
  counter-reset: pages page;
}
</pre>
</div>

-->
   <!--

<h2>Image resolution</h2>

<p>Image resolution, as the term is used in this document, means
pixels per physical length, e.g., pixels per inch. Some image formats
can record information about the resolution of images. This
information can be helpful when determining the actual size of the
image in the formatting process. However, the information can also be
wrong, in which case it should be ignored. The 'image-resolution' and
'background-image-resolution' properties are introduced to determine
the correct resolution of images.

<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>image-resolution</dfn>
    <tr>
      <td><em>Value:</em>
    <td>normal | [ from-image || &lt;dpi> ]
    <tr>
      <td><em>Initial:</em>
      <td>normal
    <tr>
      <td><em>Applies to:</em>
      <td>replaced elements <span class=issue>and background images?</span>
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>as specified value <span class=issue>(or, should it be only one value?)</span>
</table>

<p>The values are:

<dl>
<dt>normal

<dd>The resolution of the image is unknown, and UAs should not use the
resolution found in the image. Instead, the image resolution will be
found by converting the dimension of the image into CSS pixels.

<dt>from-image

<dd>The UA must look for the resolution in the image itself. If the image does not have a resolution, the specified &lt;dpi> value is used. If no &lt;dpi> value is specified, the behavior is as if ''normal'' had been specified.

<dt>&lt;dpi>

<dd>The value consists of a number with a 'dpi' unit identifier. The &lt;dpi> value sets the resolution of the image. In combination with ''from-image'', the specified dpi is only used if the image does not have a resolution.

</dl>

<div class="example">
<p>This rule specifies that the UA should use the image resolution found in the image itself.
<pre>
img { image-resolution: from-image }
</pre>
</div>


<div class="example">
<p>Using this rule, the image resolution is set to 300dpi and the resolution in the image, if any, is ignored.
<pre>
img { image-resolution: 300dpi }
</pre>
</div>


<div class="example">
<p>These rules both specify that the UA should use the image resolution found in the image itself. If the image has no resolution, the resolution is set to 300dpi.
<pre>
img { image-resolution: from-image 300dpi }
img { image-resolution: 300dpi from-image }
</pre>
</div>


-->
   <!--

<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>image-resolution</dfn>
    <tr>
      <td><em>Value:</em>
    <td>normal | auto | &lt;dpi> [ , normal | &lt;dpi> ]?
    <tr>
      <td><em>Initial:</em>
      <td>normal
    <tr>
      <td><em>Applies to:</em>
      <td>replaced elements
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>as specified value <span class=issue>(or, should it be only one value?)</span>
</table>

<p>This property accepts either a single value, or a comma-separated
list of two values. The values are:

<dl>
<dt>normal

<dd>The resolution of the image is unknown, and UAs should not use the
resolution found in the image. Instead, the image resolution will be
found by making image pixels equivalent to CSS pixels.

<dt>auto

<dd>The UA must look for the resolution in the image itself. If the image has no image resolution, the next value in the comma-separated list is evaluated.

<dt>&lt;dpi>

<dd>The value consists of a number with a 'dpi' unit identifier. The
UA should use the specified resolution.

</dl>

<p>If, after evaluating the specified values, no image resolution has been determined, the UA should behave as if ''normal'' had been specified.

<div class="example">
<p>This rule specifies that the UA should use the image resolution found in the image itself.
<pre>
img { image-resolution: auto }
</pre>
</div>

<div class="example">
<p>This rule specifies that the UA should use the image resolution found in the image itself. If the image has no resolution, the resolution is set to 300dpi.
<pre>
img { image-resolution: auto, 300dpi }
</pre>
</div>

<div class="example">
<p>Using this rule, the image resolution is set to 300dpi and the resolution in the image, if any, is ignored.
<pre>
img { image-resolution: 300dpi }
</pre>
</div>


-->
   <!--

<div class="issue">
<p>Should there be a way of setting width, height, resolution on images that are referenced by a URL in the style sheet? E.g.,
<pre>
background-image: url(image.png, width, height, resolution);
background-image: image-url(image.png, width, height, resolution);
background-image: image(url(image.png), width, height, resolution);
</pre>
</div>
-->
   <!--
<table class=propdef>
    <tr>
      <td><em>Name:</em>
      <td><dfn>background-image-resolution</dfn>
    <tr>
      <td><em>Value:</em>
    <td>normal | auto | &lt;dpi> [ , normal | &lt;dpi> ]?
    <tr>
      <td><em>Initial:</em>
      <td>normal
    <tr>
      <td><em>Applies to:</em>
      <td>replaced elements
    <tr>
      <td><em>Inherited:</em>
      <td>yes
    <tr>
      <td><em>Percentages:</em>
      <td>N/A
    <tr>
      <td><em>Media:</em>
      <td>visual
    <tr>
      <td><em>Computed value:</em>
      <td>as specified value <span class=issue>(or, should it be only one value?)</span>
</table>

<p class=issue>Introducing one new property in all places where an image can be loaded may not be a scalable solution. Therefore this property is at risk.

<p>As 'image-resolution', except that it describes the resolution of the element's background image.

-->

  <h2 id=page-marks-and-bleed-area><span class=secno>6. </span>Page marks and
   bleed area</h2>

  <p>The ‘<a href="#marks"><code class=property>marks</code></a>’
   property from <a href="#CSS2" rel=biblioentry>[CSS2]<!--{{CSS2}}--></a> is
   part of this specification. <!--
http://www.w3.org/TR/2008/REC-CSS2-20080411/page.html#propdef-marks
-->

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=marks>marks</dfn>

    <tr>
     <td><em>Value:</em>

     <td>[ crop || cross ] | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>page context

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual, paged

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <p>This property adds crop and/or cross marks to the document. Crop marks
   indicate where the page should be cut. Cross marks are used to align
   sheets.

  <p>Crop marks and cross marks are printed outside the page box. To have
   room to show crop and cross marks, the final pages will have to be
   somewhat bigger than the page box.

  <div class=example>
   <p>To set crop and cross marks on a document, this code can be used:

   <pre>
@page { marks: crop cross }
</pre>
  </div>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=bleed>bleed</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&lt;length&gt;

    <tr>
     <td><em>Initial:</em>

     <td>6pt

    <tr>
     <td><em>Applies to:</em>

     <td>page context

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>refer to width of page box

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed value:</em>

     <td>as specified value
  </table>

  <p>This property specifies the extent of the page bleed area outside the
   page box. This property only has effect if crop marks are enabled.

  <h2 id=bookmarks><span class=secno>7. </span>Bookmarks</h2>

  <p>Some document formats have the capability to represent bookmarks into
   the document. These bookmarks can e.g. be used to show an outline or an
   index of the document. Bookmarks are typically shown outside the document
   itself, often in a tree-structured and clickable table of contents. To
   generate bookmarks, these properties are defined: ‘<a
   href="#bookmark-level0"><code class=property>bookmark-level</code></a>’,
   ‘<a href="#bookmark-label0"><code
   class=property>bookmark-label</code></a>’, and ‘<a
   href="#bookmark-state0"><code class=property>bookmark-state</code></a>’.

  <h3 id=bookmark-level><span class=secno>7.1. </span>‘<a
   href="#bookmark-level0"><code class=property>bookmark-level</code></a>’</h3>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=bookmark-level0>bookmark-level</dfn>

    <tr>
     <td><em>Value:</em>

     <td>none | &lt;integer>

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <p>This property describes what level a certain bookmark has in a
   hierarchical bookmark structure. The values are:

  <dl>
   <dt>none

   <dd>no bookmark is generated

   <dt>&lt;integer>

   <dd>Indicates the level of the bookmark; the highest level is ‘<code
    class=css>1</code>’, then ‘<code class=css>2</code>’, ‘<code
    class=css>3</code>’ etc. Zero and negative values are not allowed.
  </dl>

  <h3 id=bookmark-label><span class=secno>7.2. </span>‘<a
   href="#bookmark-label0"><code class=property>bookmark-label</code></a>’</h3>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=bookmark-label0>bookmark-label</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&lt;content-list> | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <p>This property specifies the label of the bookmark, i.e., the text that
   will represent the bookmark in the bookmark structure. This properly will
   only be consulted if ‘<a href="#bookmark-level0"><code
   class=property>bookmark-level</code></a>’ is different from ‘<code
   class=property>none</code>’. The values are:

  <dl>
   <dt>&lt;content-list>

   <dd>as defined on the ‘<a href="#string-set"><code
    class=property>string-set</code></a>’ property

   <dt>none

   <dd>no bookmark is generated
  </dl>

  <div class=example>
   <p>This code would generate a simple hierachical outline of a document
    that uses three heading levels:

   <pre>
h1 { bookmark-level: 1 }
h2 { bookmark-level: 2 }
h3 { bookmark-level: 3 }
h1, h2, h3 { bookmark-label: content() }
</pre>
  </div>

  <div class=example>
   <p>This code will make bookmarks from links.

   <pre>
a[href] { bookmark-label: attr(href); bookmark-level: 1 }
a[title] { bookmark-label: attr(title); bookmark-level: 1 }
</pre>

   <p>If a <code>title</code> attribute exisits, its value will be used as
    the bookmark label. Otherwisee, the URL is used.
  </div>

  <div class=example>
   <p>This code specififies a string to be used as the bookmark label:

   <pre>
#frog { bookmark-label: "The green frog"; bookmark-level: 1 }
</pre>
  </div>

  <div class=example>
   <p>Consider this code:

   <pre>
h1 { bookmark-label: content(before) ": " content(); bookmark-level: 1 }
h1:before { content: "Chapter" }

&lt;h1>Africa&lt;/h1>
</pre>

   <p>The resulting bookmark would be: "Chapter: Africa".
  </div>

  <div class=remove>
   <table class=propdef>
    <tbody>
     <tr>
      <td><em>Name:</em>

      <td><dfn id=bookmark-target>bookmark-target</dfn>

     <tr>
      <td><em>Value:</em>

      <td>none | &lt;uri>

     <tr>
      <td><em>Initial:</em>

      <td>none

     <tr>
      <td><em>Applies to:</em>

      <td>all elements

     <tr>
      <td><em>Inherited:</em>

      <td>no

     <tr>
      <td><em>Percentages:</em>

      <td>N/A

     <tr>
      <td><em>Media:</em>

      <td>all

     <tr>
      <td><em>Computed value:</em>

      <td>For URI values, the absolute URI; for ‘<code
       class=property>none</code>’, as specified.
   </table>

   <p>This property specifies the target of the bookmark link.

   <div class=example>
    <pre>
.bookmark {
   bookmark-label: attr(title);
   bookmark-target: attr(href url);
}
...
&lt;a class="bookmark" title="The green pear" href="#pears"/>
</pre>
   </div>

   <div class=example> .example { bookmark-target:
    url(http://www.example.com) }</div>
  </div>

  <h3 id=bookmark-state><span class=secno>7.3. </span>‘<a
   href="#bookmark-state0"><code class=property>bookmark-state</code></a>’</h3>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=bookmark-state0>bookmark-state</dfn>

    <tr>
     <td><em>Value:</em>

     <td>open | closed

    <tr>
     <td><em>Initial:</em>

     <td>open

    <tr>
     <td><em>Applies to:</em>

     <td>block-level elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <p>A hierarchy of bookmarks may be shown in an open or closed state. The
   user will typically be able to toggle the state to navigate in the
   bookmarks. This property describes the initial state of a bookmark.

  <div>
   <p>In this example, h1 and h2 elements are set to have an open initial
    bookmark stat, all other elements will be closed initially:

   <pre>
* { bookmark-state: closed }
h1, h2 { bookmark-state: open }
</pre>
  </div>

  <h2 id=cmyk-colors><span class=secno>8. </span>CMYK colors</h2>

  <p>Printers do not use RGB colors, they (often) use CMYK: cyan, magenta,
   yellow and black. The ‘<code class=css>device-cmyk()</code>’
   functional value allows style sheets to express device-dependent CMYK
   colors.

  <div class=example>
   <pre>
h3 { color: device-cmyk(0.8, 0.5, 0.0, 0.3) }
</pre>
  </div>

  <p>The values representing the colors are between ‘<code
   class=css>0</code>’ and ‘<code class=css>1</code>’. Values outside
   this range are clipped.

  <p>It is not expected that screen-centric user agents support CMYK colors
   and it is therefore important that existing CSS color values can be
   combined with CMYK colors.

  <div class=example>
   <pre>
h3 {
  color: red;
  color: device-cmyk(0.5, 0.1, 0.0, 0.2);
}
</pre>

   <p>User Agents that do not understand the <code>device-cmyk()</code>
    value, will use the first color (red). User agents that understand
    <code>device-cmyk()</code> will use the second color (which is bluish).
  </div>

  <h2 id=styling-blank-pages><span class=secno>9. </span>Styling blank pages</h2>

  <div class=note>
   <p> This section has been moved to <a href="#CSS3PAGE"
    rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a>.
  </div>

  <h2 id=paged-presentations><span class=secno>10. </span>Paged presentations</h2>

  <p>Printed publications are paged, while screen-based presentations of web
   pages are most often presented in a continous manner with a scrollbar on
   the side. There are reasons to believe that screen-based presentations
   also could benefit from using paged presentations. There is nothing in web
   specifications that prevent browsers from adding a page-based mode today.
   However, most web content is authored and styled with a continous
   presentation in mind. This could change if it becomes possible to describe
   paged presentations in style sheets. This section is an attempt to do so.

  <p>To support paged presentations, four new values are added to the
   ‘<code class=property>overflow-style</code>’ property:

  <dl>
   <dt>paged-x

   <dd>overflow content is paged, and the pages are laid out along the x
    axis, in the x axis component of the writing direction

   <dt>paged-y

   <dd>overflow content is paged, and the pages are laid out along the y
    axis, in the the y axis component of the writing direction

   <dt>paged-x-controls

   <dd>as ‘<code class=property>paged-x</code>’, but with added
    UA-specific controls to change pages

   <dt>paged-y-controls

   <dd>as ‘<code class=property>paged-y</code>’, but with added
    UA-specific controls to change pages
  </dl>
  <!--
<p class=issue>Is "paginated" a better word?
<p class=issue>Should controls be specified on a separate property, or on an attribute (like HTML's video element)?
<p class=issue>Should the axis (x/y) be specified on a separate property?
-->

  <div class=example>
   <p>In this example, the root element is constrained to have the same
    height as the initial containing block. Overflow content will be laid out
    on subsequent pages along the x axis. In LTR languages, this means right;
    in RTL languages this means left; in vertical-rl this means right.

   <pre>
  html {
    overflow-style: paged-x;
    height: 100%;
  }
</pre>
  </div>

  <div class=example>
   <p>In this example, one element within the document is paged, and controls
    are added so that users can navigate from one page to the next. As such,
    the controls have the same effect as scrollbars in continous
    presentations.

   <pre>
  #content {
    overflow-style: paged-x-controls;
    height: 400px;
  }
</pre>
  </div>

  <p>A paged container cannot be split over multiple columns.

  <h2 id=spatial-layout-of-pages-atlayout><span class=secno>11.
   </span>Spatial layout of pages; @layout</h2>

  <p>In commonly used apps, pages are often laid out spatially so that users
   can nagivate from one page to another by moving up, down, right or left.
   To support this feature for web content, a new @-rule is proposed:
   @layout. The purpose of @layout is to describe how pages are laid out
   spatially relative to the current document.

  <p>Four new properties are allowed inside @layout: nav-up, nav-right,
   nav-bottom, nav-right.

  <p class=note>The name of the properties inside @navigation are borrowed
   from <a href="http://www.w3.org/TR/2004/CR-css3-ui-20040511/#nav-dir">CSS3
   Basic User Interface Module</a>.

  <p>The properties accept these values:

  <dl>
   <dt>go()

   <dd>the function takes one argument, which refers to the <tt>rel</tt>
    attribute of the <tt>link</tt> element
    <div class=example>
     <pre>
&lt;link rel=index href="../index.html">
&lt;link rel=previous href=g3.html>
&lt;link rel=next href=g1.html>
...

@layout {
  nav-up: go(index); 
  nav-left: go(previous); 
  nav-right: go(next); 
}
</pre>
    </div>

    <p class=issue>This functionality relies on semantics in HTML and CSS.
     Other languages may have other other ways to describe such semantics.
     One possible solution for other languages is "link[rel=index] { nav-up:
     attr(href) }"

   <dt>‘<code class=css>back</code>’

   <dd>The keyword takes the user one step back in the history of browsed
    pages.
    <div class=example>
     <pre>
@navigation {
  nav-left: back;
}
</pre>
    </div>

   <dt>url()

   <dd>The funcation takes one argument: a URL. Relative URLs are relative to
    the style sheet.
    <div class=example>
     <pre>
@layout {
  nav-up: url(..);
  nav-down: url(a1.html);
}
</pre>
    </div>

   <dt>url-doc()

   <dd>The function is identical to url(), except that relative URLs are
    relative to the document, not to the style sheet.
    <div class=example>
     <pre>
@layout {
  nav-up: url-doc(..);
  nav-down: url-doc(a1.html);
}
</pre>
    </div>
  </dl>

  <div class=example>
   <p>Combined with the <a
    href="http://www.w3.org/TR/2011/WD-css3-conditional-20110901/#at-document">@document-rule</a>,
    navigation maps can be described:

   <pre>
@document url("http://example.com/foo") {
  @layout {
    nav-right: link-rel(next);
  }
}

@document url("http://example.com/bar") {
  @layout {
    nav-up: link-rel(next);
  }
}
</pre>
  </div>

  <h3 id=page-shift-effects><span class=secno>11.1. </span>Page shift effects</h3>

  <p>To describe page shift effects, four new properties inside @navigation
   are proposed: nav-up-shift, nav-right-shift, nav-down-shift,
   nav-left-shift. These properties take one of several keyword values:

  <dl>
   <dt>pan

   <dd>pans to the new page; this is the initial value

   <dt>turn

   <dd>turns the page, like soft book pages do

   <dt>flip

   <dd>flips the page, like stiff cardbord

   <dt>fold

   <dd>the old page folds, like an accordion
  </dl>

  <p class=issue>The proposed keyword values are loosely described. Are there
   better ways to describe transitions?

  <div class=example>
   <pre>
@navigation {
   nav-up-shift: pan;
   nav-down-shift: flip;
}
</pre>
  </div>

  <h2 id=page-floats><span class=secno>12. </span>Page floats</h2>

  <p>In page-based layouts, images and figures are often displayed at the top
   or bottom of pages. This specificaton adds new keywords on the ‘<code
   class=property>float</code>’ property to create <em>page floats</em>. A
   page float can float inside its natural column/page, or its placement can
   be deferred to a following column/page with the <em>float-defer</em>
   properties. Page floats can be set to span several columns, thereby
   supporting commonly used newspaper layouts. New values on the ‘<code
   class=property>clear</code>’ property adds further ways of refining
   layouts with page floats.

  <p class=note>Not all multicol elements are constrained by the page box.
   Therefore, a more accurate term for page floats may be <em>column
   floats</em> as all of them are constrained by the column box. However, in
   most cases, page floats seems like a better term.

  <h3 id=floating-to-the-topbottom-top-bottom-sna><span class=secno>12.1.
   </span>Floating to the top/bottom: top, bottom, snap</h3>

  <p>These new keywords on ‘<code class=property>float</code>’ have been
   added:

  <dl>
   <dt>top

   <dd>The float is floated to the top of the column

   <dt>bottom

   <dd>The float is floated to the bottom of the column <!--
<dt>top-corner
<dd>the box is floated to the top of the last column (in the inline direction) that fits inside the multicol element on the same page.

<dt>bottom-corner
<dd>similar to 'top-corner', exept the box is floated to the bottom
-->

   <dt>snap(&lt;length> &lt;length>? [, top | bottom | near ]?)

   <dd>
    <p>Makes the element float to the top or bottom if it naturally appears
     within a certain distance from the top or bottom. The length value(s)
     specifies the maxium distance from the top/bottom that an element must
     be within in order to be floated; one length value specifies the
     distance from both the top and the bottom, two length values specify the
     distance from the top and bottom, respectively.

    <p>The optional keyword value specifies where the element is floated:
     top, bottom, or the nearest of the two. The initial value is ‘<code
     class=property>near</code>’. If ‘<code class=property>near</code>’
     is in effect and the element is within the specified distance both from
     the top and the bottom, bottom wins.

    <p>An element is considered to be a float if it has a snap() value, even
     if the element does not appear within the specified distance. This way,
     it can be determined whether an element is float or not without laying
     out the document.

   <dt>snap

   <dd>same as <tt>snap(2em, near)</tt>
  </dl>

  <p>These new keywords only apply in paged media; in continous media
   declarations with these keywords are ignored.

  <p>Elements with any of these new keywords are called ‘<code
   class=css>page floats</code>’. Each page float has a <em>natural
   column</em>, which is the column where the element would have started to
   appears it it was not a float. Also, each page float has a <em>natural
   page</em>, which is the page where the element would have started if the
   was not a float. Unless other constrained by lack of space or other
   float-* properties, page floats should appear in their natural column on
   the natural page.

  <div class=example>
   <p>Float figure to top of natural column:

   <pre>
.figure { float: top }
</pre>
   <img alt="sample rendering" src=7.png></div>

  <div class=example>
   <pre>
.figure { float: top; width: 50% }
</pre>
   <img alt="sample rendering" src=7b.png></div>

  <div class=example>
   <p>In this example, a figure naturally appears close to a column break.
    There is not enough space for the figure in the first column, and it is
    therefore placed in the second column, leaving white space at the bottom
    of the first column.</p>
   <img alt="sample rendering" src=23.png>
   <p>To avoid the white space, the image can be floated to the nearest edge
    (in the block direction):

   <pre>
.figure { float: snap }
</pre>

   <p>In this example, the figure is already at the nearest edge, so it does
    not move. However, page floats allow subsequent content to be displayed
    before the page float and the white space can therefore be filled:</p>
   <img alt="sample rendering" src=7.png></div>

  <div class=example>
   <p>In this example, two figures naturally appear in the text flow:</p>
   <img alt="sample rendering" src=20.png>
   <p>A typographer would typically try to avoid single lines of text
    above/below figures, which can be achieved with:

   <pre>
div.figure { float: snap(1.5em) }
</pre>

   <p>The length value specifies the reach of the snap function; in this
    example the second figure is affected, but not the first.
  </div>

  <div class=example>
   <p>In this example, two figures naturally appear in the text flow:</p>
   <img alt="sample rendering" src=20.png>
   <p>To make the figures snap to the nearest edges, this code can be
    applied:

   <pre>
div.figure { float: snap(2.5em) }
</pre>

   <p>The resultant rendering is:</p>
   <img alt="sample rendering" src=22.png></div>

  <div class=example>
   <p>Float figure to top of the natural column, spanning all columns:

   <pre>
.figure { float: top; column-span: all }
</pre>
   <img alt="sample redering" src=15.png></div>

  <div class=example>
   <p>In this example, tables will snap to the top/bottom if the top/bottom
    of the border box is closer than ‘<code class=css>3em</code>’ from
    the top/bottom of the page/column.

   <pre>
table { float: snap }
table { float: snap(3em) }
table { float: snap(3em, bottom) }
table { float: snap(3em 2em, bottom) }
</pre>
  </div>

  <p class=issue>Do numeric values, to represent line numbers, make sense,
   like for orphans/widows?

  <h3 id=spanning-columns><span class=secno>12.2. </span>Spanning columns</h3>

  <p>The ‘<code class=property>column-span</code>’ property is extended
   with integer values so that elements can span several columns. If the
   specified integer value is equal to, or larger than the number of columns
   in the multicol element, the number of columns spanned will be the same as
   if ‘<code class=css>column-span: all</code>’ had been specified.

  <div class=example>
   <p>In this example, a commonly used newspaper layout is easily described:

   <pre>
body { columns: 3 }
img.A { column-span: 2; width: 100% }  /* image spans two columns */
.one { column-span: 2 }                /* lead paragraph spans two columns */
</pre>
   <img alt="sample rendering" src=regions.png></div>

  <p>Further, the ‘<code class=property>page</code>’ value is added to
   ‘<code class=property>column-span</code>’ so that the page (and not
   the column or element) becomes the reference.

  <div class=example>
   <p>In this example, the footer is floated to the bottom of the last page
    (and not the bottom of the article element):

   <pre>
footer { float: bottom; column-span: page }

&lt;article>
  ...
  &lt;footer>...&lt;.footer>
&lt;/article>
</pre>
  </div>

  <p class=issue>An alternative way to express this would be to add a
   separate propertye, e.g., <code>float-reference: column | multicol |
   page</code>

  <h3 id=deferring-floats-float-defer-column-floa><span class=secno>12.3.
   </span>Deferring floats: float-defer-column, float-defer-page</h3>

  <p>A page float can be deferred to a following column/page with these new
   properties:

  <h4 id=float-defer-column><span class=secno>12.3.1. </span>‘<a
   href="#float-defer-column0"><code
   class=property>float-defer-column</code></a>’</h4>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=float-defer-column0>float-defer-column</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&ltinteger> | last | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>page floats

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <h4 id=float-defer-page><span class=secno>12.3.2. </span>‘<a
   href="#float-defer-page0"><code
   class=property>float-defer-page</code></a>’</h4>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=float-defer-page0>float-defer-page</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&ltinteger> | last | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>page floats

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <p>These properties specify whether page floats should appear in their
   natural column/page, or in a following column/page. Values are:

  <dl>
   <dt>none

   <dd>the page float appears in the natural column/page

   <dt>&lt;integer>

   <dd>A positive integer value indicates that the page float should be
    displayed in a following column/page. A negative integer value indicates
    that the page float should be displayed in a following column/page,
    counted from the last column/page. When counting columns, the starting
    point is the last column of the multicol element on the natural page.
    When counting pages, the starting point is the last page of the multicol
    element.
  </dl>

  <div class=example>
   <p>Float figure to the top of the column that follows the natural column:

   <pre>
.figure { float: top }
.figure { float-defer-column: 1 }
</pre>
  </div>

  <div class=example>
   <p>Float figure to the top of the next-to-last column:

   <pre>
.figure { float: top; float-defer-column: -1 }
</pre>
   <img alt="sample rendering" src=7.png></div>

  <div class=example>
   <p>Float figure to top of the last column of the multicol element on the
    current page:

   <pre>
.figure { float: top; float-defer-column: last }
</pre>
   <img alt="sample rendering" src=6.png></div>

  <div class=example>
   <p>In combination with ‘<code class=property>column-span</code>’, the
    figure is floated to the top corner of the multicol element on that page:

   <pre>
.figure { float: top; column-span: 2; float-defer-column: last; width: 100% }
</pre>
   <img alt="sample rendering" src=8.png></div>

  <div class=example>
   <p>Float figure to the top of the second column, spanning two columns:

   <pre>
.figure { 
  float: top; column-span: 2;
  float-defer-column: 1;
}
</pre>
   <img alt="sample rendering" src=18.png></div>

  <div class=example>
   <p>Float figure to the top right, leaving one full column:

   <pre>
.figure { 
  float: top; column-span: 2;
  float-defer-column: -1;
}
</pre>
   <img alt="sample rendering" src=18.png>
   <p>Given that there are four columnn, the same layout would be achived
    with this code:

   <pre>
.figure { 
  float: top; column-span: 2;
  float-defer-column: 1;
}
</pre>
  </div>

  <div class=example>
   <p>Float figure to the top of the first column on the next-to-last page:

   <pre>
.figure { float: top }
.figure { float-defer-page: -1 }
</pre>
  </div>

  <div class=example>
   <p>Float figure to the top of the next-to-last column on the next-to-last
    page:

   <pre>
.figure { float: top }
.figure { float-defer-column: -1 }
.figure { float-defer-page: -1 }
</pre>
  </div>

  <dl>
   <dt>last

   <dd>The page float should be displayed in the last colum, or on the last
    page.
    <div class=example>
     <p>Float figure to the top of the last column on the natural page:

     <pre>
.figure { float: top }
.figure { float-defer-column: last }
</pre>
     <img alt="sample rendering" src=6.png></div>

    <div class=example>
     <p>Float figure to the last column on the last page:

     <pre>
.figure { float: top }
.figure { float-defer-column: last }
.figure { float-defer-page: last }
</pre>
    </div>

   <dt>none

   <dd>The page floats should appear in their natural column/page, if
    possible.
  </dl>

  <p>Zero is not a legal value.

  <h3 id=clearing-page-floats><span class=secno>12.4. </span>Clearing page
   floats</h3>

  <p>Page floats may request to not be stacked, or to be the only page float
   on a page/column through new values on the ‘<code
   class=property>clear</code>’ property:

  <dl>
   <dt>top/bottom

   <dd>The page float requests to be the only page float at the top/bottom of
    the column. If there is already a page float at the requested position,
    the page float is moved to the next column which does not have a page
    float in the requested position.

   <dt>column

   <dd>The page float requests to be the only page float in the column. If
    there is already another page float on the page, the page float is moved
    to the next page which does not have a page float.

   <dt>page

   <dd>The page float requests to be the only page float on the page. If
    there is already another page float on the page, the page float is moved
    to the next page which does not have a page float.
  </dl>

  <div class=example>
   <p>In this example, the two figures may appear in the same column:

   <pre>
.figure { float: bottom; clear: none }

&ltdiv class=figure>&lt;/div>
&ltdiv class=figure>&lt;/div>
</pre>
   <img src=16.png></div>

  <div class=example>
   <p>In this example, the two figures will appear in different columns:

   <pre>
.figure { float: bottom; clear: column }

&ltdiv class=figure>&lt;/div>
&ltdiv class=figure>&lt;/div>
</pre>
   <img src=17.png></div>

  <div class=example>
   <p>In this example, the two figures may appear at the bottom of the same
    column due to clearing only at the top:

   <pre>
.figure { float: bottom; clear: top }

&ltdiv class=figure>&lt;/div>
&ltdiv class=figure>&lt;/div>
</pre>
   <img src=16.png></div>

  <div class=example>
   <p>In this example, the two figures will appear in different columns due
    to clearing at the bottom:

   <pre>
.figure { float: bottom; clear: bottom }

&ltdiv class=figure>&lt;/div>
&ltdiv class=figure>&lt;/div>
</pre>
   <img src=17.png></div>

  <div class=example>
   <p>In this example, the two figures end up the top corner of two different
    pages:

   <pre>
.figure { float: top; float-defer-column: last; clear: page }

&ltdiv class=figure>&lt;/div>
&ltdiv class=figure>&lt;/div>
</pre>
  </div>

  <div class=example>
   <p>In this example, the two figures request different positions, and they
    may therefore end up in the same column:

   <pre>
.figure.one { float: top; clear: top }
.figure.two { float: bottom; clear: bottom }

&ltdiv class="figure one">&lt;/div>
&ltdiv class="figure two">&lt;/div>
</pre>
  </div>

  <h3 id=overconstrained-page-floats><span class=secno>12.5.
   </span>Overconstrained page floats</h3>

  <p>In many cases, the specified values on these properties cannot be
   honored.

  <div class=example>The number of columns is limited, and high values
   therefore cannot be honored:
   <pre>
.figure { float: top; float-defer-column: 1000 }
</pre>
  </div>

  <div class=example>A narrow screen may only have room for one column, in
   which case this request cannot be honored:
   <pre>
.figure { float: top; float-defer-column: -5 }
</pre>
  </div>

  <div class=example>In long documents, all content cannot fit on the last
   page, and this rule therefore cannot be honored:
   <pre>
p { float: top; float-defer-page: last }
</pre>
  </div>

  <p>Page floats are processed in the order they appear in the source.
   However, the visual order of page floats may not ne the same as the source
   order.

  <div class=example>Consider this code:
   <pre>
.one { float: top; float-defer-page: last; column-span: all }
.two { float: top; clear: column }

&lt;div class=one>&lt;/div>
&lt;div class=two>&lt;/div>
</pre>

   <p>In this example, the first element requests to appear on the last page,
    while the second element requests to appear in the natural column. If the
    natural column of the second element appears on a page before the last
    page, the second element will appear visually before the first.
  </div>

  <div class=example>Consider this code:
   <pre>
.one { float: top; float-defer-page: last; column-span: all }
.two { float: top; clear: column }

&lt;div class=one>&lt;/div>
&lt;div class=two>&lt;/div>
</pre>

   <p>If all content can fit on one page, the first page will also be the
    last page. The first element is processed first and is placed on top of
    the first page. Then the second element is processed. It reqests a clear
    top, somthing which is not possible on the first page. Therefore, a
    second page is created and the first element is moved there. Even if the
    first element requests to be on the last page, it will not appear there.
  </div>

  <p>When resolving over-constrained layouts, the order of importance for
   defined goals are:

  <ol>
   <li>honor basic multi-column layout (‘<code
    class=property>columns</code>’, ‘<code class=css>column-span:
    all</code>’, ‘<code class=property>column-gap</code>’ etc)

   <li>honor ‘<code class=css>column-span: &lt;integer></code>’

   <li>honor ‘<code class=css>clear: top/bottom/pcolumn/page</code>’

   <li>honor ‘<a href="#float-defer-page0"><code
    class=property>float-defer-page</code></a>’

   <li>honor ‘<a href="#float-defer-column0"><code
    class=property>float-defer-column</code></a>’

   <li>honor ‘<code class=css>float: top/bottom</code>’

   <li>display all content (as described by other CSS properties)

   <li>keep the number of pages to a minimum
  </ol>

  <h3 id=floating-inside-and-outside-pages><span class=secno>12.6.
   </span>Floating inside and outside pages</h3>

  <p>Two allow content to flow to the inside and outside of a page, these
   keywords are added to the ‘<code class=property>float</code>’
   property:

  <dl>
   <dt>inside

   <dd>On a right page, this value is synonymous with ‘<code
    class=property>left</code>’. On a left page, this value is synonymous
    with ‘<code class=property>right</code>’.

   <dt>outside

   <dd>On a left page, this value is synonymous with ‘<code
    class=property>left</code>’, On a right page, this value is synonymous
    with ‘<code class=property>right</code>’.
  </dl>

  <p>These new values do not create page floats, the are simply aliases for
   ‘<code class=property>left</code>’ and ‘<code
   class=property>right</code>’.

  <div class=example>
   <pre>
.figure { float: outside }
</pre>
  </div>

  <p class=issue>Should there be a way to combine float: top/bottom with
   left/right?

  <p class=issue>Should there be a way to delete page floats that end up
   lonesome on pages?

  <h3 id=wrapping-around-page-floats><span class=secno>12.7. </span>Wrapping
   around page floats</h3>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=float-wrap>float-wrap</dfn>

    <tr>
     <td><em>Value:</em>

     <td>none | wrap

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>page floats

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <p>This property indicates whether other content may wrap around a page
   float:

  <dl>
   <dt>none

   <dd>other content may not wrap around the page float

   <dt>wrap

   <dd>other content may wrap around the page float
  </dl>

  <p>The ‘<code class=property>intrude</code>’ value only works in
   combination with one of these keywords: ‘<code
   class=property>left</code>’/‘<code
   class=property>right</code>’/‘<code
   class=property>top</code>’/‘<code
   class=property>bottom</code>’/‘<code
   class=property>top-corner</code>’/‘<code
   class=property>bottom-corner</code>’.

  <div class=example>
   <pre class=css>
img { float: top; column-span: 2; float-wrap: wrap; width: 120%;  }
</pre>

   <p>In this example, the image is wider than the column and will therefore
    intrude into the neighboring column. At the bottom of the middle column
    is a long word that is clipped in the middle of the column gap. <img
    alt="sample rendering" src=1.png>
  </div>

  <h3 id=the-float-offset-property><span class=secno>12.8. </span>The ‘<a
   href="#float-offset"><code class=property>float-offset</code></a>’
   property</h3>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=float-offset>float-offset</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&lt;length> &lt;length> ?

    <tr>
     <td><em>Initial:</em>

     <td>0 0

    <tr>
     <td><em>Applies to:</em>

     <td>floated elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>see prose

    <tr>
     <td><em>Media:</em>

     <td>visual, paged

    <tr>
     <td><em>Computed value:</em>

     <td>one or two absolute lengths
  </table>

  <p>This property pushes a float in opposite direction of the where it has
   been floated with ‘<code class=property>float</code>’. If one value is
   specified, it is the horizontal offset. If two values are specified, the
   first is the horizontal and the second is the vertical offset. If no
   vertical value has been specified, the vertical offset is set to zero.

  <p>This property can only influence a float along an axis it has been
   floated.

  <div class=example>
   <pre>
img {
  float: left;
  float-offset: 2em 3em;
}
</pre>

   <p>In this example, the image is floated to the left. Therefore, ‘<a
    href="#float-offset"><code class=property>float-offset</code></a>’ may
    only push the element in the horizontal direction, and the vertical value
    is ignored.
  </div>

  <p>Negative values are allowed; a negative values will push the float in
   the same direction as it has been floated with ‘<code
   class=property>float</code>’

  <p>This property may move floats into other column than where they
   naturally appear.

  <div class=example>
   <pre>img {
  float: right;
  float-offset: 5px;
}
</pre>
   <img alt="sample rendering" src=14.png></div>

  <p>Percentage values are computed according to this formula:

  <pre>
  (containing-block-width - float-width) * percentage
  (containing-block-height - float-height) * percentage
</pre>

  <div class=example> Pull quotes are often centered in a column. In this
   example, the pull quote is floated to the right, and then pushed back into
   the center. <img src="exclusion_wrap_side_left.png" width=213>
   <pre>
.pullquote {
  float: right;
  float-offset: 50%; /* 50% centers the box */
}
</pre>
  </div>

  <p>When negative values are set on this property, the column gap is also
   part of the calculation:

  <pre>
  ((containing-block-width + 2 * column-gap) - float-width) * percentage
</pre>

  <div class=example>
   <pre>img {
  float: top right;
  float-offset: -50% 3em;  /* 50% centers the box */
  width: 120%;
}
</pre>
   <img alt="sample rendering" src=11.png></div>

  <div class=example>
   <pre>
img {
  float: top right;
  float-offset: -80% 2em;
  width: 100%;
}
</pre>
   <img alt="sample rendering" src=12.png></div>
  <!--
<h2>Page and column floats, alternative syntax</h2>

<p>This section describes an alternative syntax for page and column floats.

<p>Four new keywords on 'float' have been added:

<dl>

<dt>left, right, top, bottom
<dd>relative to physical viewport

<dt>line-left, line-right
<dd>relative to inline axis

<dt>before, after
<dd>relative to block direction

<dt>inside, outside
<dd>as described in the previous section

<dt>footnote
<dd>as described above

<dt>columns(n)
<dd>makes the float span n columns, and sets the float context to be the multicol element

<dt>page
<dd>sets the float context to be the page

</dl>



<div class=example>
<p>Float figure to the top right corner of the multicol element, spanning two columns:

<pre>
.figure { float: top rigth columns(2); width: 100% }
</pre>

<img alt="sample rendering" src=8.png>
</div>

<div class=example>
<p>Float figure to top of the last column of the multicol element on the current page:
<pre>
.figure { float: top right columns(1) }
</pre>

<img alt="sample rendering" src=6.png>
</div>

<div class=example>
<p>Float figure to the top right of the current element, allowing other content on its side:

<pre>
.figure { float: top right; width: 60% }
</pre>
<img alt="sample rendering" src=13.png>
</div>


<div class=example>
<p>Escape the multicol element and float to the top right of the page area:

<pre>
.figure { float: top right page }
</pre>
</div>

-->

  <h2 id=exclusions><span class=secno>13. </span>Exclusions</h2>

  <h3 id=the-clear-side-property><span class=secno>13.1. </span>The ‘<a
   href="#clear-side"><code class=property>clear-side</code></a>’ property</h3>

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=clear-side>clear-side</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto <!-- | left | right--> | both

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>floated elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual, paged

    <tr>
     <td><em>Computed value:</em>

     <td>as specified
  </table>

  <p>This property declares if the side of a float should be cleared of
   content. Values have the following meaning:

  <dl>
   <dt>auto

   <dd>if the float is left-floated, there should be no content to the left;
    if the float is right-floated, there should be no content to the right
    !_-

   <dt>left

   <dd>there should be no content to the left of the float

   <dt>right

   <dd>there should be no content to the left of the float -->

   <dt>none

   <dd>there may be content on either side of the float
  </dl>
  <!--
<h3>Pull-quotes</h3>

<div class=example>
<img width=213 src="exclusion_wrap_side_left.png">

<pre>
.pullquote {
  float: right;
  float-offset: 5em;
}
</pre>

<pre>
.pullquote {
  float: right;
  float-offset: 50%;
}
</pre>


</div>

<div class=example>
<p><img width=213 src="exclusion_wrap_side_right.png">

<pre>
.pullquote {
  float: left;
  float-offset: 5em;
}
</pre>

<pre>
.pullquote {
  float: left;
  float-offset: 50%;
}
</pre>

<pre>
.pullquote {
  float: center;
  clear-side: left;
}
</pre>

</div>

<pre>
.pullquote {
  float: left;
  float-offset: 50%; /* center */
}
</pre>

-->

  <div class=example> <img src="exclusion_wrap_side_both.png" width=213> <!--
<pre>
.pullquote {
  float: center;
  clear-side: none;
}
</pre>
-->

   <pre>
.pullquote {
  float: left;
  float-offset: 50%;
  clear-side: none;
}
</pre>
   <!--
<pre>
.pullquote {
  float: positioned;
  left: 5em;
  clear-side: none;
}
</pre>

<pre>
.pullquote {
  float: center;
}
</pre>
--></div>

  <h3 id=exclusions-based-on-images><span class=secno>13.2. </span>Exclusions
   based on images</h3>

  <p>Exclusions are often based on shapes found in images. In this
   specification, background image can carry the shape, around which text is
   wrapped. The new property ‘<code
   class=property>background-exclude-level</code>’ indicates a level in the
   alpha channel of the background image(s) that defines the shape.

  <div class=example>
   <p>Here is an example that uses the background of the multicol element as
    a template for exclusions. <img src=car1.jpg>

   <pre>
article {
  padding: 4em;
  columns: 15em;
  background: url(nicecar.jpg);
  background-exclude-level: 0.5;
}
article h1 { column-span: all } /* Bonneville Speedway */
</pre>
  </div>

  <div class=example>
   <p>This example is the same as the above, just with changed column widths.
    <img src=car2.jpg>

   <pre>
article {
  padding: 4em;
  columns: 6em;
  background: url(nicecar.jpg);
  background-exclude-level: 0.5;
}
article h1 { column-span: all } /* Bonneville Speedway */
</pre>
  </div>

  <p>Background images can be repeated. Therefore exclusions based on images
   can be repeated.

  <div class=example> <img src="exclusions_repeating.jpg">
   <pre>
article {
  background: repeat-y url(zigzag.png);
  background-exclude-level: 0.5;
}
article h1 {
  column-span: all;
}
</pre>
  </div>

  <h3 id=exclusions-based-on-rendered-content><span class=secno>13.3.
   </span>Exclusions based on rendered content</h3>

  <p>A new property. ‘<code class=property>exclude-level</code>’, is
   introduced to allow wraps around the rendered content of the element.

  <div class=example> <img src=exclusions-dropcap.png>
   <pre>
#dropcaps {
  font-size: 3em;
  float: left;
  exclude-level: 0.5;
  margin-top: -0.2em;
}
&lt;p>&lt;span id="dropcaps">Many&lt;/span> instances ...&lt;/p>
    &lt;p>The text ....&lt;/p>
</pre>
  </div>

  <p class=issue>Define behavior if both ‘<code
   class=property>exclude-level</code>’ and ‘<code
   class=property>background-exclude-level</code>’ is set.

  <p class=issue>Some kind of spacing behavior must be defined; ‘<code
   class=property>exclude-margin</code>’ may be an option.

  <p class=issue>Define behavior if both ‘<code
   class=property>exclude-level</code>’ and ‘<code
   class=property>background-exclude-level</code>’ is set.

  <h3 id=exclusions-based-on-shapes><span class=secno>13.4. </span>Exclusions
   based on shapes</h3>

  <p class=issue>I suggest not having exclusions based in shapes in the first
   generation of exclusions; we may want to definde shapes for CSS in general
   (e.g., for borders), so we may want to wait until we have a holistic
   approach.

  <div class=example> <img src=heart1.png>
   <pre>
article::column(1) {
  content-inside: circle(50%, 50%, 30%);
}

article::column(2) {
  content-outside: polygon(x1, y1, x2, y2, x3, y3, ... xn, yn);
  color: red;
}
</pre>
  </div>

  <div class=example> <img src=heart2.png>
   <pre>
article::column(1) {
  content-outside: circle(x, y, z);
}
article::column(2) {
  content-inside: polygon(x1, y1, x2, y2, x3, y3, ... xn, yn);
}
</pre>
  </div>
  <!--
<h2>Aligning baselines in multi-column layouts</h2>

<p>In multi-column layouts, baselines are typically aligned between
adjacent columns. This gives the presentation a visual rythm, and text
in the end of the columns will be alignend. To support this, a new
value on the <span class=property>'line-box-contain'</span> property is
defined: ''line-grid'' (or, perhaps, ''gap'', ''crack'', ''snap'', ''snap-gap'', ''void'', ''grid'', ''snap-to-grid'').

<p>The value means that the height of the line in which the element
occurs should be rounded up to the smallest multiple of the used
'line-height' value on the containing block.

<div class=example>
<p>In this example, the stacking height of div.figure would be 30px (2 * 15px)

<pre>
div.multicol { line-height: 15px }
div.figure { height: 20px; line-box-contain: block inline replaced line-grid }
</pre>
</div>

<p class=note>The <a href="http://dev.w3.org/csswg/css3-linebox/#LineStacking">line-box-contain</a> property is defined in <a href="http://dev.w3.org/csswg/css3-linebox">CSS3 module: line</a>.
-->
  <!--
http://www.w3.org/Style/Group/css3-src/css3-linebox/Overview.html#LineStacking
-->
  <!--
<p class=note>A similar idea — 'line-stacking-strategy: grid-height' — was proposed in a <a href="http://www.w3.org/TR/css3-linebox/#line-stacking-strategy">previous version of the CSS3 line module</a>. The 'line-stacking-strategy' property is <a href="http://www.w3.org/TR/xsl/#line-stacking-strategy">used in XSL</a>.
-->

  <h2 id=regions><span class=secno>14. </span>Regions</h2>

  <p>Regions are series of stylable boxes into which content can be poured.
   Columns are regions that are automatically generated to contain all the
   content of the the multicol element. By adding selectors for columns,
   columns can be styled and positioned and thereby escape the rigid patterns
   that columns naturally live in.

  <div class=example>
   <pre>
div.chapter::column(3)       /* the 3rd column of the element */
div.chapter::column(2n)      /* all even columns of the element */
div.chapter::column(3+)      /* all columns but the 1st and 2nd */
div.chapter::column(2,2)     /* second column on second page */
div.chapter::column(*,2)     /* all columns on the second page */
div.chapter::column(1,*)     /* the first column on all pages */
</pre>
  </div>

  <p>To underline the fact that columns are regions, the "region" keyword can
   be used as a substitute for "column".

  <div class=example>
   <pre>
div.chapter::region(3)       /* the 3rd region of the element */
div.chapter::region(2n)      /* all even regions of the element */
div.chapter::region(3+)      /* all regions but the 1st and 2nd */
div.chapter::region(2,2)     /* second region on second page */
div.chapter::region(*,2)     /* all regions on the second page */
div.chapter::region(1,*)     /* the first column on all pages */
</pre>
  </div>

  <div class=example> <img alt="sample rendering" src=regions.png>
   <p>In this example, the multicol layout is changed so that the image
    (which appears first in the markup) spans two columns and is floated to
    the top, thereby escaping its natural column. The first column, which
    holds the start of the textual content is also floated to the top,
    spanning two columns, and therefore ends up just under the image. When
    the first column/region is floated away, the second column will move into
    its space.

   <pre>
article { columns: 3 }
img { column-span: 2; width: 100%; float: top }
article::region(1) {    /* selects column 1 */
  column-span: 2;
  float: top;
  height: 3em;          /* sets preferred height of region */
}

&lt;article>
  &lt;img ...>
  &lt;p>...  &lt;p>...  &lt;p>...
&lt;/article>
</pre>
  </div>

  <div class=example>
   <pre>
div.chapter::region(1) {
  transform: rotate(6.5deg);
}
div.chapter::region(2) {
  transform: rotate(-5.5deg) translate(0, 40px);
}
</pre>
   <img src="regions_rotated_columns.jpg"></div>
  <!--
<div class=example>
Consider this markup:

<pre>
&lt;div class=text>
&lt;div lang=en>
Some words in English ...
&lt;/div>
&lt;div lang=fr>
Quelques mots en Francaise...
&lt;/div>
&lt;/div>
</pre>

<p>Here is the CSS code to lay these out into two columns with
different background colors:

<pre>
div.text {
  columns: 32em;
}

div:lang(en) {
  display: table-cell;
  color: black; background: white;
}

div:lang(fr) {
  display: table-cell;
  color: white; background: black;
}
</pre>

<p>This example shows that use cases that first seem to require regions may be achieved with other methods.

</div>
-->
  <!--
<div class=example>
<pre>
  article { columns: 14em; }
  article::column(1) {
     position: absolute;
     font-size: 1.2em;
     visibility: collapse; /* makes space available others to use */
     ...
  }
</pre>
</div>
-->

  <h2 id=regions-and-exclusions-examples><span class=secno>15. </span>Regions
   and Exclusions examples</h2>

  <div class=example> <img src="exclusion_ordering.png">
   <pre>
article {
  columns: 15em;
}
article::region(1-3) {
  width: 15em;
  height: 15em;
}
article::region(2-3) {
  margin: 4em 0 0 -4em;
}
</pre>
  </div>

  <div class=example> <img src="exclusion_ordering_z_order.png">
   <pre>
article {
  columns: 15em;
}
acticle::region(1-3) {
  height: 15em;
}
acticle::region(2-3) {
  margin: 4em 0 0 -4em;
}
acticle::region(2) {
  z-index: 1;
}
</pre>
  </div>

  <h2 id=selecting-pages><span class=secno>16. </span>Selecting pages</h2>

  <p>In CSS2, <a
   href="http://www.w3.org/TR/CSS2/page.html#page-selectors">first, left and
   right pages</a> can be selected. This specification adds support for
   selecting the nth page. <!--
<p>The 'first-page' pseudo-element is similar to the 'first-letter'
and 'first-line' elements; it is used to apply styling to the part of
an element that ends up on the starting page for that element. If the
whole element appears on the starting page, 'first-page' applies to
the whole element. The following properties apply to :first-page
pseudo-elements: column properties, background properties, margin
properties, border properties, and padding properties. UAs may apply
other properties as well.
-->

  <div class=example>
   <p>In this example, the first page of an article will have a pink
    background, and the second will be lime:

   <pre>
@page funky:nth(1) { background: pink }
@page funky:nth(2) { background: lime }
article { page: funky }
</pre>
  </div>

  <p>The grammar of allowed arguments to nth() is the same as the <a
   href="http://www.w3.org/TR/css3-selectors/#nth-child-pseudo">nth-child()
   pseudo-class</a>.

  <div class=example>
   <p>In this example, pages in a document will alternate between pink and
    lime backgrounds:

   <pre>
@page :nth(odd) { background: pink }
@page :nth(even)) { background: lime }
</pre>
  </div>

  <h3 id=page-groups-><span class=secno>16.1. </span>Page groups</h3>

  <p>Named pages can appear in sequence, stemming from different elements. A
   sequnce of named pages is called a <em>page group</em>. The ‘<a
   href="#page-group"><code class=property>page-group</code></a>’ property
   expresses whether an element starts a new page group or not.

  <table class=propdef>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=page-group>page-group</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | start

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>elements with ‘<code class=property>page</code>’ value other
      than auto

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>paged

    <tr>
     <td><em>Computed value:</em>

     <td>as specified
  </table>

  <p>This property determines whether the element starts a new page group or
   not.

  <dl>
   <dt>auto

   <dd>The element only starts a new page group if ‘<code
    class=property>page</code>’ has a named page different from the the
    previous element.

   <dt>start

   <dd>The element starts a new page group.
  </dl>

  <div class=example>
   <p>In this example, each article starts a new page group so that the first
    page of each article has a pink background.

   <pre>
@page funky:first-page {
  background: pink;
}
article {
  page: funky;
  page-group: start;
}
</pre>

   <p>Without the ‘<code class=css>page-group: start</code>’ declaration,
    only the first page of the first article would be pink.
  </div>

  <h2 id=selecting-lines><span class=secno>17. </span>Selecting lines</h2>

  <p>The ‘<code class=property>first-line</code>’ pseudo-element selects
   the first formatted line of an element. The ‘<code
   class=css>first-lines(n)</code>’ pseudo-element selects the first n
   formatted lines of an element.

  <div class=example> <img alt="sample rendering" src=regions.png>
   <pre>
  article { columns: 3 }
  img, p.lead:first-lines(3) {
    column-span: 2;
  }

  &lt;article>
    &lt;img>
    &lt;p class=lead>
    &lt;p>...    &lt;p>...    &lt;p>...    &lt;p>...    &lt;p>...
  &lt;/article>
</pre>
  </div>

  <h2 id=conditional-text><span class=secno>18. </span>Conditional text</h2>

  <div class=example>
   <pre>
  a:target-layout(attr(href url), same-page) { content: " on this page" }
  a:target-layout(attr(href url), next-page) { content: " on the next page" }
  a:target-layout(attr(href url), previous-page) { content: " on the previous page" }
</pre>
  </div>

  <h2 id=conformance><span class=secno>19. </span>Conformance</h2>

  <p>TBD

  <h2 id=appendix-a-default-style-sheet><span class=secno>20. </span>Appendix
   A: Default style sheet</h2>

  <pre>
@page {
  counter-reset: footnote;
  @footnote {
    counter-increment: footnote;
    float: page bottom;
    width: 100%;
    height: auto;
  }
}

::footnote-call {
  counter-increment: footnote;
  content: counter(footnote, super-decimal);
}
::footnote-marker {
  content: counter(footnote, super-decimal);
}


h1 { bookmark-level: 1 }
h2 { bookmark-level: 2 }
h3 { bookmark-level: 3 }
h4 { bookmark-level: 4 }
h5 { bookmark-level: 5 }
h6 { bookmark-level: 6 }
</pre>

  <p class=issue>Add grammar for functions defined in this spec.

  <h2 class=no-num id=acknowledgments>Acknowledgments</h2>

  <p>This document has been improved by Bert Bos, Michael Day, Melinda Grant,
   David Baron, Markus Mielke, Steve Zilles, Ian Hickson, Elika Etemad,
   Laurens Holst, Mike Bremford, Allan Sandfeld Jensen, Kelly Miller, Werner
   Donné, Tarquin (Mark) Wilton-Jones, Michel Fortin, Christian Roth, Brady
   Duga, Del Merritt, Ladd Van Tol, Tab Atkins Jr., Jacob Grundtvig Refstrup,
   James Elmore, Ian Tindale, Murakami Shinyu, Paul E. Merrell, Philip
   Taylor, Brad Kemper, Peter Linss, Daniel Glazman, Tantek Çelik, Florian
   Rivoal, Alex Mogilevsky, Simon Sapin, Cameron McCormack, Liam R E Quin,
   Peter Moulder, Morten Stenshorne, Rune Lillesveen, Lars Erik Bolstad,
   Anton Prowse, Michel Onoff

  <h2 class=no-num id=references>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dd style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS3LIST>[CSS3LIST]

   <dd>Tab Atkins Jr. <a
    href="http://www.w3.org/TR/2011/WD-css3-lists-20110524"><cite>CSS Lists
    and Counters Module Level 3.</cite></a> 24 May 2011. W3C Working Draft.
    (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2011/WD-css3-lists-20110524">http://www.w3.org/TR/2011/WD-css3-lists-20110524</a>
   </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dd style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS2>[CSS2]

   <dd>Ian Jacobs; et al. <a
    href="http://www.w3.org/TR/2008/REC-CSS2-20080411"><cite>Cascading Style
    Sheets, level 2 (CSS2) Specification.</cite></a> 11 April 2008. W3C
    Recommendation. URL: <a
    href="http://www.w3.org/TR/2008/REC-CSS2-20080411">http://www.w3.org/TR/2008/REC-CSS2-20080411</a>
   </dd>
   <!---->

   <dt id=CSS3PAGE>[CSS3PAGE]

   <dd>Melinda Grant; et al. <a
    href="http://www.w3.org/TR/2013/WD-css3-page-20130314/"><cite>CSS Paged
    Media Module Level 3.</cite></a> 14 March 2013. W3C Working Draft. (Work
    in progress.) URL: <a
    href="http://www.w3.org/TR/2013/WD-css3-page-20130314/">http://www.w3.org/TR/2013/WD-css3-page-20130314/</a>
   </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>bleed, <a href="#bleed" title="section 6."><strong>6.</strong></a>

   <li>bookmark-label, <a href="#bookmark-label0"
    title="section 7.2."><strong>7.2.</strong></a>

   <li>bookmark-level, <a href="#bookmark-level0"
    title="section 7.1."><strong>7.1.</strong></a>

   <li>bookmark-state, <a href="#bookmark-state0"
    title="section 7.3."><strong>7.3.</strong></a>

   <li>bookmark-target, <a href="#bookmark-target"
    title="section 7.2."><strong>7.2.</strong></a>

   <li>clear-side, <a href="#clear-side"
    title="section 13.1."><strong>13.1.</strong></a>

   <li>float-defer-column, <a href="#float-defer-column0"
    title="section 12.3.1."><strong>12.3.1.</strong></a>

   <li>float-defer-page, <a href="#float-defer-page0"
    title="section 12.3.2."><strong>12.3.2.</strong></a>

   <li>float-offset, <a href="#float-offset"
    title="section 12.8."><strong>12.8.</strong></a>

   <li>float-wrap, <a href="#float-wrap"
    title="section 12.7."><strong>12.7.</strong></a>

   <li>marks, <a href="#marks" title="section 6."><strong>6.</strong></a>

   <li>named strings, <a href="#named-strings0"
    title="section 1."><strong>1.</strong></a>

   <li>page-group, <a href="#page-group"
    title="section 16.1."><strong>16.1.</strong></a>

   <li>running elements, <a href="#running-elements0"
    title="section 1."><strong>1.</strong></a>

   <li>string-set, <a href="#string-set"
    title="section 1.1.1."><strong>1.1.1.</strong></a>
  </ul>
  <!--end-index-->

  <h2 class=no-num id=property-index>Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><a class=property href="#bleed">bleed</a>

     <td>&lt;length&gt;

     <td>6pt

     <td>page context

     <td>no

     <td>refer to width of page box

     <td>visual

    <tr>
     <th><a class=property href="#bookmark-label0">bookmark-label</a>

     <td>&lt;content-list> | none

     <td>none

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr>
     <th><a class=property href="#bookmark-level0">bookmark-level</a>

     <td>none | &lt;integer>

     <td>none

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr>
     <th><a class=property href="#bookmark-state0">bookmark-state</a>

     <td>open | closed

     <td>open

     <td>block-level elements

     <td>no

     <td>N/A

     <td>all

    <tr>
     <th><a class=property href="#bookmark-target">bookmark-target</a>

     <td>none | &lt;uri>

     <td>none

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr>
     <th><a class=property href="#clear-side">clear-side</a>

     <td>auto | both

     <td>auto

     <td>floated elements

     <td>no

     <td>N/A

     <td>visual, paged

    <tr>
     <th><a class=property href="#float-defer-column0">float-defer-column</a>

     <td>&ltinteger> | last | none

     <td>none

     <td>page floats

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#float-defer-page0">float-defer-page</a>

     <td>&ltinteger> | last | none

     <td>none

     <td>page floats

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#float-offset">float-offset</a>

     <td>&lt;length> &lt;length> ?

     <td>0 0

     <td>floated elements

     <td>no

     <td>see prose

     <td>visual, paged

    <tr>
     <th><a class=property href="#float-wrap">float-wrap</a>

     <td>none | wrap

     <td>none

     <td>page floats

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#marks">marks</a>

     <td>[ crop || cross ] | none

     <td>none

     <td>page context

     <td>no

     <td>N/A

     <td>visual, paged

    <tr>
     <th><a class=property href="#page-group">page-group</a>

     <td>auto | start

     <td>auto

     <td>elements with ‘page’ value other than auto

     <td>no

     <td>N/A

     <td>paged

    <tr>
     <th><a class=property href="#string-set">string-set</a>

     <td>[[ &lt;identifier> &lt;content-list>] [, &lt;identifier>
      &lt;content-list>]* ] | none

     <td>none

     <td>all elements

     <td>no

     <td>N/A

     <td>all
  </table>
  <!--end-properties-->
