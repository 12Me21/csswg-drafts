<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang=en>
 <head profile="http://www.w3.org/2006/03/hcard"><meta
  content="text/html; charset=utf-8" http-equiv=Content-Type>

  <title>CSS Transforms</title>
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
  type="text/css">

  <style type="text/css">
      .term {
        font-style: italic;
      }
    
     .todo {
         font-weight: bold;
         border-left: 0.5em solid #f44;
         padding-left: 1em;
         margin-top: 0.5em;
         color: #a0a0a0;
     }

     .todo:before {
         content: "TO DO : ";
         color: #f44;
     }
  </style>

 <body>
  <div class=head id=div-head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1>CSS Transforms</h1>

   <h2 class="no-num no-toc" id=longstatus-date>Editor's Draft 12 March 2012</h2>

   <dl>
    <dt>This version:

    <dd> <a
     href="http://www.w3.org/TR/2012/ED-css3-transforms-20120312/">http://dev.w3.org/csswg/css3-transforms/</a>
     <!--http://www.w3.org/TR/2012/WD-css3-transforms-20120312-->

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-transforms">http://www.w3.org/TR/css3-transforms/</a>
     

    <dt>Editor's draft:

    <dd><a
     href="http://dev.w3.org/csswg/css3-transforms/">http://dev.w3.org/csswg/css3-transforms/</a>
     

    <dt>Previous version:

    <dd>None

    <dt id=editors-list>Editors:

    <dd>Simon Fraser (<a href="http://www.apple.com/">Apple Inc</a>)
     &lt;simon.fraser &#64;apple.com&gt;

    <dd>Dean Jackson (<a href="http://www.apple.com/">Apple Inc</a>) &lt;dino
     &#64;apple.com&gt;

    <dd>David Hyatt (<a href="http://www.apple.com/">Apple Inc</a>) &lt;hyatt
     &#64;apple.com&gt;

    <dd>Chris Marrin (<a href="http://www.apple.com/">Apple Inc</a>)
     &lt;cmarrin &#64;apple.com&gt;

    <dd>Edward O'Connor (<a href="http://www.apple.com/">Apple Inc</a>)
     &lt;eoconnor &#64;apple.com&gt;

    <dd>Dirk Schulze (<a href="http://www.adobe.com/">Adobe Systems, Inc</a>)
     &lt;dschulze &#64;adobe.com&gt;

    <dd>Aryeh Gregor (<a href="http://www.mozilla.org/">Mozilla</a>) &lt;ayg
     &#64;aryeh.name&gt;

    <dt>Issues list:

    <dd><a
     href="https://www.w3.org/Bugs/Public/buglist.cgi?query_format=advanced&amp;product=CSS&amp;component=Transforms&amp;resolution=---&amp;cmdtype=doit">in
     Bugzilla</a>

    <dt>Test suite:

    <dd>none yet
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> &copy; 2012 <a
    href="http://www.w3.org/"><acronym
    title="World Wide Web Consortium">W3C</acronym></a><sup>&reg;</sup> (<a
    href="http://www.csail.mit.edu/"><acronym
    title="Massachusetts Institute of Technology">MIT</acronym></a>, <a
    href="http://www.ercim.eu/"><acronym
    title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p>CSS transforms allows elements styled with CSS to be transformed in
   two-dimensional or three-dimensional space. This specification is the
   convergence of the <a href="http://www.w3.org/TR/css3-2d-transforms/">CSS
   2D transforms</a>, <a href="http://www.w3.org/TR/css3-3d-transforms/">CSS
   3D transforms</a> and <a
   href="http://www.w3.org/TR/2009/WD-SVG-Transforms-20090320/">SVG
   transforms</a> specifications.

  <h2 class="no-num no-toc" id=status>Status of this document</h2>

  <p class=note> This specification merges the former CSS 2D Transforms and
   CSS 3D Transforms specifications and will also merge CSS Transforms and
   SVG Transforms. The merge is in progress and the specification is not yet
   ready for review.</p>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a
   href="mailto:www-style@w3.org?Subject=%5Bcss3-transforms%5D%20PUT%20SUBJECT%20HERE">
   www-style@w3.org</a> (see <a
   href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
   discussion of this specification. When sending e-mail, please put the text
   &#8220;css3-transforms&#8221; in the subject, preferably like this:
   &#8220;[<!---->css3-transforms<!---->] <em>&hellip;summary of
   comment&hellip;</em>&#8221;

  <p>This document was produced by the <a href="/Style/CSS/members">CSS
   Working Group</a> (part of the <a href="/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent
   Policy</a>. W3C maintains a <a href="/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the
   W3C Patent Policy</a>.</p>
  <!--end-status-->

  <p> The <a href=ChangeLog>list of changes made to this specification</a> is
   available.

  <h2 class="no-num no-toc" id=contents>Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#introduction"><span class=secno>1. </span>Introduction</a>

   <li><a href="#module-interactions"><span class=secno>2. </span>Module
    Interactions</a>

   <li><a href="#css-values"><span class=secno>3. </span>CSS Values</a>

   <li><a href="#definitions"><span class=secno>4. </span>Definitions</a>

   <li><a href="#transform-rendering"><span class=secno>5. </span>The
    Transform Rendering Model</a>
    <ul class=toc>
     <li><a href="#transform-3d-rendering"><span class=secno>5.1. </span>3D
      Transform Rendering</a>
    </ul>

   <li><a href="#transform-property"><span class=secno>6. </span> The
    &lsquo;<code class=css><code
    class=property>transform</code></code>&rsquo; Property </a>

   <li><a href="#svg-transform"><span class=secno>7. </span> The SVG
    &lsquo;<code class=css><code
    class=property>transform</code></code>&rsquo; Attribute </a>
    <ul class=toc>
     <li><a href="#transform-attribute-specificity"><span class=secno>7.1.
      </span>SVG &lsquo;<code class=css><code
      class=property>transform</code></code>&rsquo; attribute specificity</a>
      

     <li><a href="#svg-syntax"><span class=secno>7.2. </span>Syntax of the
      SVG &lsquo;<code class=css><code
      class=property>transform</code></code>&rsquo; attribute</a>
      <ul class=toc>
       <li><a href="#svg-transform-list"><span class=secno>7.2.1.
        </span>Transform List</a>

       <li><a href="#svg-functional-notation"><span class=secno>7.2.2.
        </span>Functional Notations</a>

       <li><a href="#svg-data-types"><span class=secno>7.2.3. </span>SVG Data
        Types</a>
        <ul class=toc>
         <li><a href="#svg-transform-value"><span class=secno>7.2.3.1.
          </span>The <var>&lt;translation-value&gt;</var> and
          <var>&lt;length&gt;</var> type</a>

         <li><a href="#svg-angle"><span class=secno>7.2.3.2. </span>The
          <var>&lt;angle&gt;</var> type</a>

         <li><a href="#svg-number"><span class=secno>7.2.3.3. </span>The
          <var>&lt;number&gt;</var> type</a>
        </ul>
      </ul>

     <li><a href="#svg-gradient-transform-pattern-transform"><span
      class=secno>7.3. </span>The SVG &lsquo;<code
      class=property>gradientTransform</code>&rsquo; and &lsquo;<code
      class=property>patternTransform</code>&rsquo; attributes</a>

     <li><a href="#svg-transformation-functions"><span class=secno>7.4.
      </span>SVG transformation functions</a>

     <li><a href="#svg-three-dimensional-functions"><span class=secno>7.5.
      </span>SVG and 3D transformation functions</a>

     <li><a href="#svg-object-bounding-box"><span class=secno>7.6.
      </span>Object bounding box units</a>

     <li><a href="#transform-attribute-dom"><span class=secno>7.7. </span>SVG
      DOM interface for the &lsquo;<code class=css><code
      class=property>transform</code></code>&rsquo; attribute</a>

     <li><a href="#svg-animation"><span class=secno>7.8. </span>SVG
      Animation</a>
      <ul class=toc>
       <li><a href="#svg-animate-element"><span class=secno>7.8.1. </span>The
        SVG &lsquo;<code class=property>animate</code>&rsquo; and
        &lsquo;<code class=property>set</code>&rsquo; element</a>

       <li><a href="#svg-attribute-name"><span class=secno>7.8.2. </span>The
        SVG &lsquo;<code class=property>attributeName</code>&rsquo;
        attribute</a>

       <li><a href="#svg-attribute-type"><span class=secno>7.8.3. </span>The
        SVG &lsquo;<code class=property>attributeType</code>&rsquo;
        attribute</a>

       <li><a href="#svg-animateTransform-extension"><span class=secno>7.8.4.
        </span>The SVG &lsquo;<code
        class=property>animateTransform</code>&rsquo; element</a>
      </ul>
    </ul>

   <li><a href="#transform-origin-property"><span class=secno>8. </span> The
    &lsquo;<code class=css><code
    class=property>transform-origin</code></code>&rsquo; Property </a>

   <li><a href="#transform-style-property"><span class=secno>9. </span> The
    &lsquo;<code class=css><code
    class=property>transform-style</code></code>&rsquo; Property </a>

   <li><a href="#perspective-property"><span class=secno>10. </span> The
    &lsquo;<code class=css><code
    class=property>perspective</code></code>&rsquo; Property </a>

   <li><a href="#perspective-origin-property"><span class=secno>11. </span>
    The &lsquo;<code class=css><code
    class=property>perspective-origin</code></code>&rsquo; Property </a>

   <li><a href="#backface-visibility-property"><span class=secno>12. </span>
    The &lsquo;<code class=css><code
    class=property>backface-visibility</code></code>&rsquo; Property </a>

   <li><a href="#transform-functions"><span class=secno>13. </span> The
    Transformation Functions </a>
    <ul class=toc>
     <li><a href="#two-d-transform-functions"><span class=secno>13.1.
      </span>2D Transformation Functions</a>

     <li><a href="#three-d-transform-functions"><span class=secno>13.2.
      </span>3D Transformation Functions</a>
    </ul>

   <li><a href="#transform-values"><span class=secno>14. </span> Transform
    Values and Lists </a>

   <li><a href="#animation"><span class=secno>15. </span> Transitions and
    Animations between Transform Values </a>

   <li><a href="#matrix-decomposition"><span class=secno>16. </span> Matrix
    Decomposition for Animation </a>
    <ul class=toc>
     <li><a href="#unmatrix"><span class=secno>16.1. </span>Unmatrix</a>

     <li><a href="#animating-the-components"><span class=secno>16.2.
      </span>Animating the components</a>

     <li><a href="#recomposing-the-matrix"><span class=secno>16.3.
      </span>Recomposing the matrix</a>
    </ul>

   <li><a href="#mathematical-description"><span class=secno>17. </span>
    Mathematical Description of Transformation Functions </a>

   <li><a href="#references"><span class=secno>18. </span>References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#property-index">Property index</a>

   <li class=no-num><a href="#index">Index</a>
  </ul>
  <!--end-toc-->

  <h2 id=introduction><span class=secno>1. </span>Introduction</h2>

  <p><em>This section is not normative.</em>

  <p> The CSS <a href="http://www.w3.org/TR/REC-CSS2/visuren.html">visual
   formatting model</a> describes a coordinate system within each element is
   positioned. Positions and sizes in this coordinate space can be thought of
   as being expressed in pixels, starting in the origin of point with
   positive values proceeding to the right and down.

  <p> This coordinate space can be modified with the &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; property. Using
   transform, elements can be translated, rotated and scaled in two or three
   dimensional space.

  <p> Additional properties make working with transforms easier, and allow
   the author to control how nested three-dimensional transforms interact.

  <ul>
   <li> The &lsquo;<a href="#transform-origin"><code class=css><code
    class=property>transform-origin</code></code></a>&rsquo; property
    provides a convenient way to control the origin about which transforms on
    an element are applied.

   <li> The &lsquo;<a href="#perspective"><code class=css><code
    class=property>perspective</code></code></a>&rsquo; property allows the
    author to make child elements with three-dimensional transforms appear as
    if they live in a common three-dimensional space. The &lsquo;<a
    href="#perspective-origin"><code class=css><code
    class=property>perspective-origin</code></code></a>&rsquo; property
    provides control over the origin at which perspective is applied,
    effectively changing the location of the "vanishing point".

   <li> The &lsquo;<a href="#transform-style"><code class=css><code
    class=property>transform-style</code></code></a>&rsquo; property allows
    3D-transformed elements and their 3D-transformed descendants to share a
    common three-dimensional space, allowing the construction of hierarchies
    of three-dimensional objects.

   <li> The &lsquo;<a href="#backface-visibility"><code class=css><code
    class=property>backface-visibility</code></code></a>&rsquo; property
    comes into play when an element is flipped around via three-dimensional
    transforms such that its reverse side is visible to the viewer. In some
    situations it is desirable to hide the element in this situation, which
    is possible using the value of &lsquo;<code
    class=property>hidden</code>&rsquo; for this property.
  </ul>

  <p> Note that while some values of the &lsquo;<a href="#effects"><code
   class=css><code class=property>transform</code></code></a>&rsquo; property
   allow an element to be transformed in a three-dimensional coordinate
   system, the elements themselves are not three-dimensional objects.
   Instead, they exist on a two-dimensional plane (a flat surface) and have
   no depth.

  <div class=issue> There are two roles for transformations in layout: (1)
   transformations that adjust the position of the affected content without
   changing the normal layout of that content (much like relative
   positioning) and (2) transformation of the content prior to layout that
   affects the layout of that content. See <a
   href="http://lists.w3.org/Archives/Public/www-style/2007Oct/0209">http://lists.w3.org/Archives/Public/www-style/2007Oct/0209</a>
   for examples of both cases. The "transform" property (as defined in this
   document) is equally useful for both roles. This document is focused on
   satisfying the first role. There is, however, an architectural question
   that arises because there needs to be a way to distinguish which role an
   author of a stylesheet wants. The key question is which is the default
   behavior/role for the "transform" property and how is the other
   behavior/role indicated by a stylesheet author. If you have an opinion on
   this topic, please send feedback.</div>

  <div class=issue> What do fixed backgrounds do in transforms? They should
   probably ignore the transform completely, since - even transformed - the
   object should be acting as "porthole" through which the fixed background
   can be viewed in its original form.</div>
  <!-- ======================================================================================================= -->

  <h2 id=module-interactions><span class=secno>2. </span>Module Interactions</h2>

  <p>Write me

  <h2 id=css-values><span class=secno>3. </span>CSS Values</h2>

  <p>Write me

  <h2 id=definitions><span class=secno>4. </span>Definitions</h2>

  <p> When used in this specification, terms have the meanings assigned in
   this section.

  <dl>
   <dt id=TermBoundingBox><dfn id=bounding-box>bounding box</dfn>

   <dd>
    <p> A bounding box is the object bounding box for all SVG elements
     without an associated CSS layout box and the border box for all other
     elements.</p>

   <dt id=TermTransformableElement><dfn
    id=transformable-element>transformable element</dfn>

   <dd>
    <p> A transformable element in the HTML namespace which is either a <a
     href="http://www.w3.org/TR/CSS2/visuren.html#block-level">block-level</a>
     or <a href="http://www.w3.org/TR/CSS2/visuren.html#x13">atomic
     inline-level element</a>, or an element in the SVG namespace (see <a
     href="#SVG11" rel=biblioentry>[SVG11]<!--{{SVG11}}--></a>) which has the
     attributes &lsquo;<a href="#effects"><code class=css><code
     class=property>transform</code></code></a>&rsquo;, &lsquo;<code
     class=property>patternTransform</code>&rsquo; or &lsquo;<code
     class=property>gradientTransform</code>&rsquo;.</p>

   <dt id=TermPerspectiveMatrix><dfn id=perpsective-matrix>perpsective
    matrix</dfn>

   <dd>
    <p> A matrix computed from the values of the &lsquo;<a
     href="#perspective"><code class=css><code
     class=property>perspective</code></code></a>&rsquo; and &lsquo;<a
     href="#perspective-origin"><code class=css><code
     class=property>perspective-origin</code></code></a>&rsquo; properties as
     described <a href="#perspective-matrix-computation">below</a>.</p>

   <dt id=TermTransformationMatrix><dfn
    id=transformation-matrix>transformation matrix</dfn>

   <dd>
    <p> A matrix computed from the values of the &lsquo;<a
     href="#effects"><code class=css><code
     class=property>transform</code></code></a>&rsquo; and &lsquo;<a
     href="#transform-origin"><code class=css><code
     class=property>transform-origin</code></code></a>&rsquo; properties as
     described <a href="#transformation-matrix-computation">below</a>.</p>

   <dt id=Term3DRenderingContext><dfn id=d-rendering-context>3D rendering
    context</dfn>

   <dd>
    <p> A containing block hierarchy of one or more levels, instantiated by
     elements with a computed value for the &lsquo;<a
     href="#transform-style"><code class=css><code
     class=property>transform-style</code></code></a>&rsquo; property of
     &lsquo;<code class=css><code class=css>preserve-3d</code></code>&rsquo;,
     whose elements share a common three-dimensional coordinate system.</p>
   </dd>
   <!-- Define "three-dimensional transform" ? -->
  </dl>
  <!-- ======================================================================================================= -->

  <h2 id=transform-rendering><span class=secno>5. </span>The Transform
   Rendering Model</h2>
  <!-- This section is normative -->

  <p> Specifying a value other than &lsquo;<code class=css><code
   class=css>none</code></code>&rsquo; for the &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; property establishes a
   new <em>local coordinate system</em> at the element that it is applied to.
   The mapping from where the element would have rendered into that local
   coordinate system is given by the element's <a
   href="#TermTransformationMatrix"><i>transformation matrix</i></a>.
   Transformations are cumulative. That is, elements establish their local
   coordinate system within the coordinate system of their parent. From the
   perspective of the user, an element effectively accumulates all the
   &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; properties of its
   ancestors as well as any local transform applied to it. The accumulation
   of these transforms defines a <em>current transformation matrix (CTM)</em>
   for the element.

  <p> The coordinate space behaves as described in the <a
   href="http://www.w3.org/TR/SVG/coords.html#EstablishingANewUserSpace">coordinate
   system transformations</a> section of the SVG 1.1 specification. This is a
   coordinate system with two axes: the X axis increases horizontally to the
   right; the Y axis increases vertically downwards. Three-dimensional
   transform functions extent this coordinate space into three dimensions,
   adding a Z axis perpendicular to the plane of the screen, that increases
   towards the viewer.

  <p id=transformation-matrix-computation> The <a
   href="#TermTransformationMatrix"><i>transformation matrix</i></a> is
   computed from the &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; and &lsquo;<a
   href="#transform-origin"><code class=css><code
   class=property>transform-origin</code></code></a>&rsquo; properties as
   follows:

  <ol>
   <li>Start with the identity matrix.

   <li>Translate by the computed X, Y and Z values of &lsquo;<a
    href="#transform-origin"><code class=css><code
    class=property>transform-origin</code></code></a>&rsquo;

   <li>Multiply by each of the transform functions in &lsquo;<a
    href="#effects"><code class=css><code
    class=property>transform</code></code></a>&rsquo; property in turn

   <li>Translate by the negated computed X, Y and Z values of &lsquo;<a
    href="#transform-origin"><code class=css><code
    class=property>transform-origin</code></code></a>&rsquo;
  </ol>

  <p> Transforms apply to <a class=term
   href="#transformable-element">transformable elements</a>.

  <div class=example>
   <pre>
div {
    transform: translate(100px, 100px);
}
</pre>

   <p>This transform moves the element by 100 pixels in both the X and Y
    directions.</p>

   <div class=figure> <img alt="The 100px translation in X and Y"
    src=transform1.png></div>
  </div>

  <div class=example>
   <pre>
div {
    height: 100px; width: 100px;
    transform: translate(80px, 80px) scale(1.5, 1.5) rotate(45deg);
}
</pre>

   <p>This transform moves the element by 80 pixels in both the X and Y
    directions, then scales the element by 150%, then rotates it 45&deg;
    clockwise about the Z axis. Note that the scale and rotation operate
    about the center of the element, since the element has the default
    transform-origin of &lsquo;<code class=css><code class=css>50%
    50%</code></code>&rsquo;.</p>

   <div class=figure> <img alt="The transform specified above"
    src="compound_transform.png"></div>

   <p>Note that an identical rendering can be obtained by nesting elements
    with the equivalent transforms:

   <pre>
&lt;div style="transform: translate(80px, 80px)"&gt;
    &lt;div style="transform: scale(1.5, 1.5)"&gt;
        &lt;div style="transform: rotate(45deg)"&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>
  </div>
  <!-- This "in the HTML namespace" is awkward. Is there a better way? -->

  <p> In the HTML namespace, the transform property does not affect the flow
   of the content surrounding the transformed element. However, the extent of
   the overflow area takes into account transformed elements. This behavior
   is similar to what happens when elements are offset via relative
   positioning. Therefore, if the value of the &lsquo;<code class=css><code
   class=property>overflow</code></code>&rsquo; property is &lsquo;<code
   class=css><code class=css>scroll</code></code>&rsquo; or &lsquo;<code
   class=css><code class=css>auto</code></code>&rsquo;, scrollbars will
   appear as needed to see content that is transformed outside the visible
   area.

  <p> In the HTML namespace, any value other than &lsquo;<code
   class=css><code class=css>none</code></code>&rsquo; for the transform
   results in the creation of both a stacking context and a containing block.
   The object acts as a containing block for fixed positioned descendants.

  <p class=issue> Is this affect on position:fixed necessary? If so, need to
   go into more detail here about why fixed positioned objects should do
   this, i.e., that it's much harder to implement otherwise.

  <h3 id=transform-3d-rendering><span class=secno>5.1. </span>3D Transform
   Rendering</h3>
  <!-- Maybe define "tranform container" in the definitions, and use it everywhere
              in place of "containing block"? I'm not sure if "containing block" is exactly right. -->

  <p> Normally, elements render as flat planes, and are rendered into the
   same plane as their containing block. Often this is the plane shared by
   the rest of the page. Two-dimensional transform functions can alter the
   appearance of an element, but that element is still rendered into the same
   plane as its containing block.

  <p> Three-dimensional transforms can result in transformation matrices with
   a non-zero Z component<!-- clarify -->, potentially lifting them off the
   plane of their containing block. Because of this, elements with
   three-dimensional transformations could potentially render in an
   front-to-back order that different from the normal CSS rendering order,
   and intersect with each other. Whether they do so depends on whether the
   element is a member of a <a class=term href="#d-rendering-context">3D
   rendering context</a>, as described below.

  <div class=issue>
   <p class=desc>This description does not exactly match what WebKit
    implements. Perhaps it should be changed to match current
    implementations?</p>
  </div>

  <div class=example>
   <p>This example shows the effect of three-dimensional transform applied to
    an element.</p>

   <pre>
&lt;style&gt;
div {
    height: 150px;
    width: 150px;
}
.container {
    border: 1px solid black;
}
.transformed {
    transform: rotateY(50deg);
}
&lt;/style&gt;

&lt;div class="container"&gt;
    &lt;div class="transformed"&gt;&lt;/div&gt;
&lt;/div&gt;
</pre>

   <div class=figure> <img alt="Div with a rotateY transform." height=190
    src="examples/simple-3d-example.png" width=210></div>

   <p>The transform is a 50&deg; rotation about the vertical, Y axis. Note
    how this makes the blue box appear narrower, but not three-dimensional.</p>
  </div>

  <p> The &lsquo;<a href="#perspective"><code class=css><code
   class=property>perspective</code></code></a>&rsquo; and &lsquo;<a
   href="#perspective-origin"><code class=css><code
   class=property>perspective-origin</code></code></a>&rsquo; properties can
   be used to add a feeling of depth to a scene by making elements higher on
   the Z axis (closer to the viewer) appear larger, and those further away to
   appear smaller.

  <p id=perspective-matrix-computation> The <a
   href="#TermPerspectiveMatrix"><i>perspective matrix</i></a> is computed as
   follows: <!-- Make this more mathy, with matrices? -->

  <ol>
   <li>Start with the identity matrix.

   <li>Translate by the computed X and Y values of &lsquo;<a
    href="#perspective-origin"><code class=css><code
    class=property>perspective-origin</code></code></a>&rsquo;

   <li>Multiply by the matrix that would be obtained from the &lsquo;<code
    class=css><a href="#perspective-function"><code
    class=css>perspective(&lt;length&gt;)</code></a></code>&rsquo; transform
    function, where the length is provided by the value of the &lsquo;<a
    href="#perspective"><code class=css><code
    class=property>perspective</code></code></a>&rsquo; property

   <li>Translate by the negated computed X and Y values of &lsquo;<a
    href="#perspective-origin"><code class=css><code
    class=property>perspective-origin</code></code></a>&rsquo;
  </ol>

  <div class=example>
   <p>This example shows how perspective can be used to cause
    three-dimensional transforms to appear more realistic.</p>

   <pre>
&lt;style&gt;
div {
    height: 150px;
    width: 150px;
}
.container {
    perspective: 500px;
    border: 1px solid black;
}
.transformed {
    transform: rotateY(50deg);
}
&lt;/style&gt;

&lt;div class="container"&gt;
    &lt;div class="transformed"&gt;&lt;/div&gt;
&lt;/div&gt;
</pre>

   <div class=figure> <img
    alt="Div with a rotateY transform,                     and perspective on its container"
    height=190 src="examples/simple-perspective-example.png" width=210></div>

   <p>The inner element has the same transform as in the previous example,
    but its rendering is now influenced by the perspective property on its
    parent element. Perspective causes vertices that have positive Z
    coordinates (closer to the viewer) to be scaled up in X and Y, and those
    further away (negative Z coordinates) to be scaled down, giving an
    appearance of depth.</p>
  </div>

  <p> An element with a three-dimensional transform that is not contained in
   a <a class=term href="#d-rendering-context">3D rendering context</a>
   renders with the appropriate transform applied, but does not intersect
   with any other elements. The three-dimensional transform in this case can
   be considered just as a painting effect, like two-dimensional transforms.
   Similarly, the transform does not affect painting order. For example, a
   transform with a positive Z translation may make an element look larger,
   but does not cause that element to render in front of elements with no
   translation in Z.

  <p> An element with a three-dimensional transform that is contained in a <a
   class=term href="#d-rendering-context">3D rendering context</a> can
   visibly interact with other elements in that same 3D rendering context;
   the set of elements participating in the same <a class=term
   href="#d-rendering-context">3D rendering context</a> may obscure each
   other or intersect, based on their computed transforms. They are rendered
   as if they are all siblings, positioned in a common 3D coordinate space.
   The position of each element in that three-dimensional space is determined
   by accumulating the transformation matrices up from the element that
   establishes the <a class=term href="#d-rendering-context">3D rendering
   context</a> through each element that is a containing block for the given
   element, as described below.
   <!-- More detail required, probably with matrices -->

  <div class=example>
   <pre>
&lt;style&gt;
div {
    height: 150px;
    width: 150px;
}
.container {
    perspective: 500px;
    border: 1px solid black;
}
.transformed {
    transform: rotateY(50deg);
    background-color: blue;
}
.child {
    transform-origin: top left;
    transform: rotateX(40deg);
    background-color: lime;
}
&lt;/style&gt;

&lt;div class="container"&gt;
    &lt;div class="transformed"&gt;
        &lt;div class="child"&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>

   <p>This example shows how nested 3D transforms are rendered in the absence
    of &lsquo;<code class=css><code class=css>transform-style:
    preserve-3d</code></code>&rsquo;. The blue div is transformed as in the
    previous example, with its rendering influenced by the perspective on its
    parent element. The lime element also has a 3D transform, which is a
    rotation about the X axis (anchored at the top, by virtue of the
    transform-origin). However, the lime element is being rendered into the
    plane of its parent because it is not a member of a 3D rendering context;
    the parent is "flattening".</p>

   <div class=figure> <img alt="Nested 3D transforms, with flattening"
    height=200 src="examples/3d-rendering-context-flat.png" width=240></div>
  </div>

  <p>Elements establish and participate in 3D rendering contexts as follows:

  <ul>
   <li> A <a class=term href="#d-rendering-context">3D rendering context</a>
    is established by a a <a class=term
    href="#transformable-element">transformable element</a> whose computed
    value for &lsquo;<a href="#transform-style"><code class=css><code
    class=property>transform-style</code></code></a>&rsquo; is &lsquo;<code
    class=css><code class=css>preserve-3d</code></code>&rsquo;, and which
    itself is not part of a 3D rendering context. Note that such an element
    is always a containing block. An element that establishes a 3D rendering
    context also participates in that context.

   <li> An element whose computed value for &lsquo;<a
    href="#transform-style"><code class=css><code
    class=property>transform-style</code></code></a>&rsquo; is &lsquo;<code
    class=css><code class=css>preserve-3d</code></code>&rsquo;, and which
    itself participates in a <a class=term href="#d-rendering-context">3D
    rendering context</a>, extends that 3D rendering context rather than
    establishing a new one.

   <li> An element participates in a <a class=term
    href="#d-rendering-context">3D rendering context</a> if its containing
    block establishes or extends a <a class=term
    href="#d-rendering-context">3D rendering context</a>.
  </ul>

  <p> The final value of the transform used to render an element in a <a
   class=term href="#d-rendering-context">3D rendering context</a> is
   computed by accumulating a matrix as follows:

  <ol>
   <li>Start with the identity matrix

   <li>For each containing block between the root of the <a class=term
    href="#d-rendering-context">3D rendering context</a> and the element in
    question:
    <ol>
     <li>multiply the accumulated matrix with the <a
      href="#TermPerspectiveMatrix"><i>perspective matrix</i></a> on the
      element's containing block (if any). That contining block is not
      necessarily a member of the 3D rendering context.

     <li>apply to the accumulated matrix a translation equivalent to the
      horizontal and vertical offset of the element relative to its
      containing block as specified by the CSS visual formatting model.
      <!-- (tighten this!) -->

     <li>multiply the accumulated matrix with the <a
      href="#TermTransformationMatrix"><i>transformation matrix</i></a>.
    </ol>
  </ol>

  <div class=example>
   <pre>
&lt;style&gt;
div {
    height: 150px;
    width: 150px;
}
.container {
    perspective: 500px;
    border: 1px solid black;
}
.transformed {
    <b>transform-style: preserve-3d</b>;
    transform: rotateY(50deg);
    background-color: blue;
}
.child {
    transform-origin: top left;
    transform: rotateX(40deg);
    background-color: lime;
}
&lt;/style&gt;
</pre>

   <p>This example is identical to the previous example, with the addition of
    &lsquo;<code class=css><code class=css>transform-style:
    preserve-3d</code></code>&rsquo; on the blue element. The blue element
    now establishes a 3D rendering context, of which the lime element is a
    member. Now both blue and lime elements share a common three-dimensional
    space, so the lime element renders as tilting out from its parent,
    influenced by the perspective on the container.</p>

   <div class=figure> <img alt="Nested 3D transforms, with preserve-3d."
    height=200 src="examples/3d-rendering-context-3d.png" width=240></div>
  </div>

  <p> Elements in the same <a class=term href="#d-rendering-context">3D
   rendering context</a> may intersect with each other. User agents must
   render intersection by subdividing the planes of intersecting elements as
   described by <a
   href="http://en.wikipedia.org/wiki/Newell's_algorithm">Newell's
   algorithm</a>.

  <p> Untransformed elements in a <a class=term
   href="#d-rendering-context">3D rendering context</a> render on the Z=0
   plane, yet may still intersect with transformed elements.

  <p> Within a <a class=term href="#d-rendering-context">3D rendering
   context</a>, the rendering order of non-intersecting elements is based on
   their position on the Z axis after the application of the accumulated
   transform. Elements at the same Z position render in <a
   href="http://www.w3.org/TR/CSS2/zindex.html#painting-order">stacking
   context order</a>.

  <div class=example>
   <pre>
&lt;style&gt;
.container {
    background-color: rgba(0, 0, 0, 0.3);
    transform-style: preserve-3d;
    perspective: 500px;
}
.container > div {
    position: absolute;
    left: 0;
}
.container > :first-child {
    transform: rotateY(45deg);
    background-color: orange;
    top: 10px;
    height: 135px;
}
.container > :last-child {
    transform: translateZ(40px);
    background-color: rgba(0, 0, 255, 0.75);
    top: 50px;
    height: 100px;
}
&lt;/style&gt;

&lt;div class="container"&gt;
    &lt;div&gt;&lt;/div&gt;
    &lt;div&gt;&lt;/div&gt;
&lt;/div&gt;
</pre>

   <p> This example shows show elements in a 3D rendering context can
    intersect. The container element establishes a 3D rendering context for
    itself and its two children. The children intersect with eachother, and
    the orange element also intersects with the container.</p>

   <div class=figure> <img alt="Intersecting sibling elements." height=200
    src="examples/3d-intersection.png" width=200></div>
  </div>

  <p> Using three-dimensional transforms, it's possible to transform an
   element such that its reverse side is towards the viewer. 3D-tranformed
   elements show the same content on both sides, so the reverse side looks
   like a mirror-image of the front side (as if the element were projected
   onto a sheet of glass). Normally, elements whose reverse side is towards
   the viewer remain visible. However, the &lsquo;<a
   href="#backface-visibility"><code class=css><code
   class=property>backface-visibility</code></code></a>&rsquo; property
   allows the author to make an element invisible when its reverse side is
   towards the viewer. This behavior is "live"; if an element with
   &lsquo;<code class=css><code class=css>backface-visibility:
   hidden</code></code>&rsquo; were animating, such that its front and
   reverse sides were alternately visible, then it would only be visible when
   the front side were towards the viewer.</p>
  <!-- ======================================================================================================= -->

  <h2 id=transform-property><span class=secno>6. </span> The &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; Property</h2>

  <p> A transformation is applied to the coordinate system an element renders
   in through the &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; property. This property
   contains a list of <a href="#transform-functions">transform functions</a>.
   The final transformation value for a coordinate system is obtained by
   converting each function in the list to its corresponding matrix like
   defined in <a href="#mathematical-description">Mathematical Description of
   Transformation Functions</a>, then multiplying the matrices.

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=effects>transform</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> none | &lt;transform-function&gt; [ &lt;transform-function&gt; ]*

    <tr>
     <td> <em>Initial:</em>

     <td> none

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> refer to the size of the element's bounding box

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> See below.
  </table>

  <div class=issue>
   <p class=desc>We need to resolve whether the computed value is the same as
    the specified value, or matrix().</p>
  </div>

  <p>The computed value of the transform property is a matrix() or matrix3d()
   value that describes the matrix that results from concatenating the
   individual transform functions. If the resulting matrix can be represented
   as a two-dimensional matrix with no loss of information, then a matrix()
   value is returned, otherwise a matrix3d() value. For elements with no
   transform applied, the computed value is &lsquo;<code
   class=property>none</code>&rsquo;.

  <p>Any value other than &lsquo;<code class=css><code
   class=css>none</code></code>&rsquo; for the transform results in the
   creation of both a stacking context and a containing block. The object
   acts as a containing block for fixed positioned descendants.</p>
  <!-- ======================================================================================================= -->

  <h2 id=svg-transform><span class=secno>7. </span> The SVG &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; Attribute</h2>

  <p> The <a href="http://www.w3.org/TR/2011/REC-SVG11-20110816/">SVG 1.1
   specification</a> did not specify the attributes &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo;, &lsquo;<code
   class=property>gradientTransform</code>&rsquo; or &lsquo;<code
   class=property>patternTransform</code>&rsquo; as <a
   href="http://www.w3.org/TR/2011/REC-SVG11-20110816/styling.html#UsingPresentationAttributes"><em>presentation
   attributes</em></a>. In order to improve the integration of SVG and HTML,
   this specification makes these SVG attributes to &lsquo;<code
   class=css>presentation attributes</code>&rsquo; and makes the &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; property one that
   applies to <a class=term href="#transformable-element">transformable
   elements</a> in the SVG namespace.

  <p> This specification will also introduce the new presentation attributes
   &lsquo;<a href="#transform-origin"><code class=css><code
   class=property>transform-origin</code></code></a>&rsquo;, &lsquo;<a
   href="#perspective"><code class=css><code
   class=property>perspective</code></code></a>&rsquo;, &lsquo;<a
   href="#perspective-origin"><code class=css><code
   class=property>perspective-origin</code></code></a>&rsquo;, &lsquo;<a
   href="#transform-style"><code class=css><code
   class=property>transform-style</code></code></a>&rsquo; and &lsquo;<a
   href="#backface-visibility"><code class=css><code
   class=property>backface-visibility</code></code></a>&rsquo; in the SVG
   namespace. All new introduced presentation attributes are animateable.

  <h3 id=transform-attribute-specificity><span class=secno>7.1. </span>SVG
   &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; attribute specificity</h3>

  <p>Since the previously named SVG attributes become presentation
   attributes, their participation to the CSS cascade is determined by the
   specificity of presentation attributes, as <a
   href="http://www.w3.org/TR/2011/REC-SVG11-20110816/styling.html#UsingPresentationAttributes">explained</a>
   in the SVG specification.

  <div class=example>
   <p> This example shows the combination of the &lsquo;<a
    href="#effects"><code class=css><code
    class=property>transform</code></code></a>&rsquo; style property and the
    &lsquo;<a href="#effects"><code class=css><code
    class=property>transform</code></code></a>&rsquo; presentation attribute.
    </p>

   <pre>&lt;svg&gt;
    &lt;style&gt;
    .container {
        transform: translate(100px, 100px);
    }
    &lt;/style&gt;

    &lt;g class="container" transform="translate  (200 200)"&gt;
        &lt;rect width="100" height="100" fill="blue" /&gt;
    &lt;/g&gt;
&lt;/svg&gt;</pre>

   <div class=figure> <img alt="Translated SVG container element." height=200
    src="examples/svg-translate.png" width=200></div>

   <p> Because of the participation to the CSS cascade, the &lsquo;<a
    href="#effects"><code class=css><code
    class=property>transform</code></code></a>&rsquo; style property
    overrides the &lsquo;<a href="#effects"><code class=css><code
    class=property>transform</code></code></a>&rsquo; presentation attribute.
    Therefore the container gets translated by &lsquo;<code class=css><code
    class=css>100px</code></code>&rsquo; in horizontal and vertical
    direction, instead of &lsquo;<code class=css><code
    class=css>200px</code></code>&rsquo;.</p>
  </div>

  <h3 id=svg-syntax><span class=secno>7.2. </span>Syntax of the SVG &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; attribute</h3>

  <p> To provide backward compatibility, the syntax of the &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; presentation attribute
   differs from the syntax of the &lsquo;<a href="#effects"><code
   class=css><code class=property>transform</code></code></a>&rsquo; style
   property like shown in the example above. However, the syntax used for the
   &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; style property can be
   used for a &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; presentation attribute
   value. Authors are advised to follow the rules of <a
   href="http://www.w3.org/TR/css3-values/#functional-notation">CSS Values
   and Units Module</a>. Therefore an author should write &lsquo;<code
   class=css><code class=css>transform="translate(200px,
   200px)"</code></code>&rsquo; instead of &lsquo;<code class=css><code
   class=css>transform="translate (200 200)"</code></code>&rsquo; because the
   second example with the spaces before the &lsquo;<code class=css><code
   class=css>(</code></code>&rsquo;, the missing comma between the arguments
   and the values without the explicit unit notation would be valid for the
   attribute only.

  <h4 id=svg-transform-list><span class=secno>7.2.1. </span>Transform List</h4>

  <p> The value for the &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; attribute consists of a
   transform list with zero or more transform functions in the <a
   href="#svg-functional-notation">functional notation</a>. If the transform
   list consists of more than one transform function, these functions are
   separated by either a comma (‘<code class=css>,</code>’) with optional
   whitespace before and after the comma or one or more whitespaces. The
   transform list can have optional whitespaces before and after the list.

  <h4 id=svg-functional-notation><span class=secno>7.2.2. </span>Functional
   Notations</h4>

  <p> The syntax starts with the name of the function followed by optional
   whitespaces followed by a left parenthesis followed by optional whitespace
   followed by the argument(s) to the notation followed by optional
   whitespace followed by a right parenthesis. If a function takes more than
   one argument, the arguments are either separated by a comma (‘<code
   class=css>,</code>’) with optional whitespace before and after the comma
   or one or more whitespaces.

  <h4 id=svg-data-types><span class=secno>7.2.3. </span>SVG Data Types</h4>

  <p> Arguments of transform functions consists of data types in the sense of
   <a href="http://www.w3.org/TR/css3-values/#functional-notation">CSS Values
   and Units Module</a>. The definitions of data types in CSS Values and
   Units Module gets enhanced as follows:

  <h5 id=svg-transform-value><span class=secno>7.2.3.1. </span>The
   <var>&lt;translation-value&gt;</var> and <var>&lt;length&gt;</var> type</h5>

  <p> A translation-value or length can be a <var>&lt;number&gt;</var>
   without an unit identifier. In this case the <a
   href="#svg-number"><var>number</var></a> gets interpreted as "user unit".
   A user unit in the the <a
   href="http://www.w3.org/TR/2003/REC-SVG11-20030114/coords.html#InitialCoordinateSystem">initial
   coordinate system</a> is equivalenced to the parent environment's notion
   of a pixel unit.

  <h5 id=svg-angle><span class=secno>7.2.3.2. </span>The
   <var>&lt;angle&gt;</var> type</h5>

  <p> An angle can be a <var>&lt;number&gt;</var> without an unit identifier.
   In this case the <a href="#svg-number"><i>number</i></a> gets interpreted
   as a value in degrees.

  <h5 id=svg-number><span class=secno>7.2.3.3. </span>The
   <var>&lt;number&gt;</var> type</h5>

  <p> SVG supports scientific notations for numbers. Therefore a
   <var>number</var> gets parsed like described in SVG <a
   href="http://www.w3.org/TR/SVG/types.html#DataTypeNumber">Basic data
   types</a> for SVG attributes.

  <h3 id=svg-gradient-transform-pattern-transform><span class=secno>7.3.
   </span>The SVG &lsquo;<code class=property>gradientTransform</code>&rsquo;
   and &lsquo;<code class=property>patternTransform</code>&rsquo; attributes</h3>

  <p> SVG specifies the attributes &lsquo;<code
   class=property>gradientTransform</code>&rsquo; and &lsquo;<code
   class=property>patternTransform</code>&rsquo;. This specification makes
   both attributes to presentation attributes. Both attributes use the same
   <a href="#svg-syntax">syntax</a> as the SVG &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; attribute. This
   specification won't introduce corresponding CSS style properties. Instead
   the style can be set by the &lsquo;<a href="#effects"><code
   class=css><code class=property>transform</code></code></a>&rsquo; style
   property.

  <h3 id=svg-transformation-functions><span class=secno>7.4. </span>SVG
   transformation functions</h3>

  <p> For backward compatibility to existing SVG content, this specification
   must support all transform functions defined by <a
   href="http://www.w3.org/TR/SVG/coords.html#TransformAttribute">The
   &lsquo;<code class=css><code class=property>transform</code></code>&rsquo;
   attribute</a> in SVG 1.1. Therefore the two-dimensional transform function
   &lsquo;<code class=css><code
   class=css>rotate(&lt;angle&gt;)</code></code>&rsquo; gets extended as
   follows:

  <dl>
   <dt> <code class=css>rotate(&lt;angle&gt;[, &lt;translation-value&gt;,
    &lt;translation-value&gt;])</code>

   <dd> specifies a <a href="#RotateDefined">2D rotation</a> by the angle
    specified in the parameter about the origin of the element, as defined by
    the &lsquo;<a href="#transform-origin"><code class=css><code
    class=property>transform-origin</code></code></a>&rsquo; property. If the
    optional translation values are specified, the transform origin is
    translated by that amount (using the current transformation matrix) for
    the duration of the rotate operation. For example &lsquo;<code
    class=css><code class=css>rotate(90deg, 100px,
    100px)</code></code>&rsquo; would elements cause to appear rotated
    one-quarter of a turn in the clockwise direction after a translation of
    100 pixel in the vertical and horizontal direction.
  </dl>

  <p> User agents are just required to support the two optional arguments for
   translation on elements in the SVG namespace.

  <h3 id=svg-three-dimensional-functions><span class=secno>7.5. </span>SVG
   and 3D transformation functions</h3>

  <p> This specification explicitly allows to apply three-dimensional
   transform functions to the <a
   href="http://www.w3.org/TR/SVG/intro.html#TermContainerElement"><em>container
   elements</em></a>: &lsquo;<code class=property>a</code>&rsquo;,
   &lsquo;<code class=property>g</code>&rsquo;, &lsquo;<code
   class=property>svg</code>&rsquo;, all <a
   href="http://www.w3.org/TR/SVG/intro.html#TermGraphicsElement"><em>graphics
   elements</em></a>, all <a
   href="http://www.w3.org/TR/SVG/intro.html#TermGraphicsReferencingElement"><em>graphics
   referencing elements</em></a> and the SVG <a
   href="http://www.w3.org/TR/SVG/extend.html#ForeignObjectElement">&lsquo;<code
   class=property>foreignObject</code>&rsquo;</a> element.

  <p> Three-dimensional transform functions and the properties &lsquo;<a
   href="#perspective"><code class=css><code
   class=property>perspective</code></code></a>&rsquo;, &lsquo;<a
   href="#perspective-origin"><code class=css><code
   class=property>perspective-origin</code></code></a>&rsquo;, &lsquo;<a
   href="#transform-style"><code class=css><code
   class=property>transform-style</code></code></a>&rsquo; and &lsquo;<a
   href="#backface-visibility"><code class=css><code
   class=property>backface-visibility</code></code></a>&rsquo; can not be
   used for the elements: &lsquo;<code class=property>clipPath</code>&rsquo;,
   &lsquo;<code class=property>mask</code>&rsquo;, &lsquo;<code
   class=property>linearGradient</code>&rsquo;, &lsquo;<code
   class=property>radialGradient</code>&rsquo; and &lsquo;<code
   class=property>pattern</code>&rsquo;. If a transform list includes a
   three-dimensional transform function, the complete transform list must be
   ignored. The values of every previously named property must be ignored. <a
   class=term href="#transformable-element">Transformable elements</a> that
   are contained by one of these elements can have three-dimensional
   transform functions. Before a &lsquo;<code
   class=property>clipPath</code>&rsquo;, &lsquo;<code
   class=property>mask</code>&rsquo; or &lsquo;<code
   class=property>pattern</code>&rsquo; element can get applied to a target
   element, user agents must take the drawn results as static images in
   analogue of "flattening" the elements and taking the rendered content as a
   two-dimensional canvas.

  <h3 id=svg-object-bounding-box><span class=secno>7.6. </span>Object
   bounding box units</h3>

  <p> Percentage or fractional values in SVG are either relative to the
   elements viewport units or to the elements <a
   href="http://www.w3.org/TR/SVG/coords.html#ObjectBoundingBoxUnits">object
   bounding box units</a> like specified in SVG 1.1. To align with HTML, all
   percentage values for all properties defined in this specification are
   relative to the object bounding box units.

  <p> If an SVG element does not provide an object bounding box (like for the
   &lsquo;<code class=property>pattern</code>&rsquo;, &lsquo;<code
   class=property>mask</code>&rsquo; or &lsquo;<code
   class=property>clipPath</code>&rsquo; elements), the bounding box is the
   same like if the position x, y and the dimensions width and height are
   zero. Percentage values or keywords won't affect the rendering and are
   treated as if zero was specified.

  <div class=example>
   <p> The &lsquo;<a href="#transform-origin"><code class=css><code
    class=property>transform-origin</code></code></a>&rsquo; property on the
    pattern in the following example specifies a &lsquo;<code class=css><code
    class=css>50%</code></code>&rsquo; translation of the origin in the
    horizontal and vertical dimension. The &lsquo;<a href="#effects"><code
    class=css><code class=property>transform</code></code></a>&rsquo;
    property specifies a translation as well, but in absolute lengths.</p>

   <pre>&lt;svg&gt;
    &lt;style&gt;
    pattern {
        transform: translate(50px, 50px) rotate(45deg);
        transform-origin: 50% 50%;
    }
    &lt;/style&gt;
    
    &lt;defs&gt;
    &lt;pattern id="pattern-1"&gt;
        &lt;rect id="rect1" width="100" height="100" fill="blue" /&gt;
    &lt;/pattern&gt;
    &lt;/defs&gt;

    &lt;rect width="100" height="100" fill="url(#pattern-1)" /&gt;
&lt;/svg&gt;</pre>

   <p> A SVG &lsquo;<code class=property>pattern</code>&rsquo; element
    doesn't have an object bounding box. Therefore the relative values of the
    &lsquo;<a href="#transform-origin"><code class=css><code
    class=property>transform-origin</code></code></a>&rsquo; property don't
    affect the rendering and are treated as if zero was specified. The
    translation on the &lsquo;<a href="#effects"><code class=css><code
    class=property>transform</code></code></a>&rsquo; property is in absolute
    coordinates and translate the coordinate system by 50 pixel in each
    direction.</p>
  </div>

  <h3 id=transform-attribute-dom><span class=secno>7.7. </span>SVG DOM
   interface for the &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; attribute</h3>

  <p> The SVG specification defines the &lsquo;<code class=css><a
   href="http://www.w3.org/TR/2011/REC-SVG11-20110816/coords.html#InterfaceSVGAnimatedTransformList"><code
   class=property>SVGAnimatedTransformList</code></a></code>&rsquo; interface
   in SVG DOM to access the animated and the base value of the SVG transform
   attribute. To ensure backwards compatibility, this API must still be
   supported by user agents.

  <p> The &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; property contributes to
   the CSS cascade. According to SVG 1.1 user agents conceptually insert a <a
   href="http://www.w3.org/TR/SVG/styling.html#UsingPresentationAttributes">new
   author style sheet</a> for presentation attributes, which is the first in
   the author style sheet collection. &lsquo;<code class=css><code
   class=property>baseVal</code></code>&rsquo; gives the author the
   possibility to access and modify the values of the SVG &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; attribute. To provide
   the necessary backward compatibility to SVG DOM, &lsquo;<code
   class=css><code class=property>baseVal</code></code>&rsquo; must reflect
   the values of this author style sheet. All modifications to SVG DOM
   objects of &lsquo;<code class=css><code
   class=property>baseVal</code></code>&rsquo; must affect this author style
   sheet immediately.

  <p> &lsquo;<code class=css><code
   class=property>animVal</code></code>&rsquo; represents the computed style
   of the &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; property. Therefore it
   includes all applied <a href="http://www.w3.org/TR/css3-transitions/">CSS3
   Transitions</a>, <a href="http://www.w3.org/TR/css3-animations/">CSS3
   Animations</a> or <a href="#svg-animation">SVG Animations</a> if any of
   those are underway. The computed style and SVG DOM objects of &lsquo;<code
   class=css><code class=property>animVal</code></code>&rsquo; can not be
   modified.

  <p> The attribute &lsquo;<code class=css><a
   href="http://www.w3.org/TR/SVG/coords.html#__svg__SVGTransform__type"><code
   class=property>type</code></a></code>&rsquo; of <a
   href="http://www.w3.org/TR/SVG/coords.html#InterfaceSVGTransform">&lsquo;<code
   class=property>SVGTransform</code>&rsquo;</a> must return &lsquo;<code
   class=css><a
   href="http://www.w3.org/TR/SVG/coords.html#__svg__SVGTransform__SVG_TRANSFORM_UNKNOWN">
   <code class=css>SVG_TRANSFORM_UNKNOWN</code></a></code>&rsquo; for <a
   href="#transformation-functions">Transformation Functions</a> or unit
   types that are not supported by this interface. It might still be possible
   to get the &lsquo;<code class=css><a
   href="http://www.w3.org/TR/SVG/coords.html#InterfaceSVGMatrix"><code
   class=property>SVGMatrix</code></a></code>&rsquo; by the attribute
   &lsquo;<code class=css><a
   href="http://www.w3.org/TR/SVG/coords.html#__svg__SVGTransform__matrix"><code
   class=property>matrix</code></a></code>&rsquo;.

  <h3 id=svg-animation><span class=secno>7.8. </span>SVG Animation</h3>

  <h4 id=svg-animate-element><span class=secno>7.8.1. </span>The SVG
   &lsquo;<code class=property>animate</code>&rsquo; and &lsquo;<code
   class=property>set</code>&rsquo; element</h4>

  <p> The SVG 1.1 specification did not define animations of the &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; attribute for the SVG <a
   href="http://www.w3.org/TR/SVG/animate.html#AnimateElement">&lsquo;<code
   class=property>animate</code>&rsquo;</a> element or the SVG <a
   href="http://www.w3.org/TR/SVG/animate.html#SetElement">&lsquo;<code
   class=property>set</code>&rsquo;</a> element. This specification
   explicitly allows the animation of the presentation attributes &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo;, &lsquo;<code
   class=property>gradientTransform</code>&rsquo; and &lsquo;<code
   class=property>patternTransform</code>&rsquo; for the &lsquo;<code
   class=property>animate</code>&rsquo; and &lsquo;<code
   class=property>set</code>&rsquo; elements. SVG animation must run the same
   animation steps as described in section <a href="#animation">Transitions
   and Animations between Transform Values</a>.

  <h4 id=svg-attribute-name><span class=secno>7.8.2. </span>The SVG
   &lsquo;<code class=property>attributeName</code>&rsquo; attribute</h4>

  <p> <a href="http://www.w3.org/TR/SVG/animate.html">SVG 1.1 Animation</a>
   defines the <a
   href="http://www.w3.org/TR/SVG/animate.html#TargetAttributes">&lsquo;<code
   class=property>attributeName</code>&rsquo;</a> attribute to specify the
   name of the target attribute. For the presentation attributes &lsquo;<code
   class=property>gradientTransform</code>&rsquo; and &lsquo;<code
   class=property>patternTransform</code>&rsquo; it will also be possible to
   use the value &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo;. The same presentation
   attribute style will get animated.

  <div class=example>
   <p> In this example the gradient transformation of the linear gradient
    gets animated.</p>

   <pre>&lt;linearGradient gradientTransform="scale(2)"&gt;
    &lt;animate attributeName="gradientTransform" from="scale(2)" to="scale(4)"
          dur="3s" additive="sum"/&gt;
    &lt;animate attributeName="transform" from="translate(0, 0)" to="translate(100px, 100px)"
          dur="3s" additive="sum"/&gt;
&lt;/linearGradient&gt;</pre>

   <p>The &lsquo;<code class=property>linearGradient</code>&rsquo; element
    specifies the &lsquo;<code class=property>gradientTransform</code>&rsquo;
    presentation attribute. The two &lsquo;<code
    class=property>animate</code>&rsquo; elements address the target
    attribute &lsquo;<code class=property>gradientTransform</code>&rsquo; and
    &lsquo;<a href="#effects"><code class=css><code
    class=property>transform</code></code></a>&rsquo;. Even so all animations
    apply to the same gradient transformation by taking the value of the
    &lsquo;<code class=property>gradientTransform</code>&rsquo; presentation
    attribute, applying the scaling of the first animation and applying the
    translation of the second animation one after the other.</p>
  </div>

  <h4 id=svg-attribute-type><span class=secno>7.8.3. </span>The SVG
   &lsquo;<code class=property>attributeType</code>&rsquo; attribute</h4>

  <p> <a href="http://www.w3.org/TR/SVG/animate.html">SVG 1.1 Animation</a>
   defines the <a
   href="http://www.w3.org/TR/SVG/animate.html#TargetAttributes">&lsquo;<code
   class=property>attributeType</code>&rsquo;</a> attribute to specify the
   namespace in which the target attribute and its associated values are
   defined. The attribute can have the values &lsquo;<code class=css><code
   class=css>CSS</code></code>&rsquo;, &lsquo;<code class=css><code
   class=css>XML</code></code>&rsquo; or &lsquo;<code class=css><code
   class=css>auto</code></code>&rsquo;, where &lsquo;<code class=css><code
   class=css>auto</code></code>&rsquo; is the default value.

  <p> However, in the combination with the &lsquo;<a href="#effects"><code
   class=css><code class=property>transform</code></code></a>&rsquo;,
   &lsquo;<code class=property>patternTransform</code>&rsquo; and
   &lsquo;<code class=property>gradientTransform</code>&rsquo; presentation
   attributes, &lsquo;<code class=property>attributeType</code>&rsquo; can
   just be used to indicate the syntax rules used for the transform attribute
   values. A value of &lsquo;<code class=css><code
   class=css>CSS</code></code>&rsquo; indicates that the transform values
   should be parsed according to the CSS syntax. A value of &lsquo;<code
   class=css><code class=css>XML</code></code>&rsquo; indicates that the
   transform values should be parsed according to the SVG &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; <a
   href="#svg-syntax">syntax</a>.

  <p> User agents are recommended to use the more tolerant SVG &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; <a
   href="#svg-syntax">syntax</a> for a value of &lsquo;<code class=css><code
   class=css>auto</code></code>&rsquo; to parse transform values.

  <h4 id=svg-animateTransform-extension><span class=secno>7.8.4. </span>The
   SVG &lsquo;<code class=property>animateTransform</code>&rsquo; element</h4>

  <p> This specification introduces new transform functions that are not
   supported by <a href="http://www.w3.org/TR/SVG/animate.html">SVG 1.1
   Animation</a>. The SVG &lsquo;<code class=css><a
   href="http://www.w3.org/TR/SVG/animate.html#AnimateTransformElement"><code
   class=property>type</code></a></code>&rsquo; attribute gets extended by
   all transform functions listed in <a href="#two-d-transform-functions">2D
   Transformation Functions</a>, <a href="#three-d-transform-functions">3D
   Transformation Functions</a> and <a
   href="#svg-transformation-functions">SVG Transformation Functions</a>.</p>
  <!-- ======================================================================================================= -->

  <h2 id=transform-origin-property><span class=secno>8. </span> The &lsquo;<a
   href="#transform-origin"><code class=css><code
   class=property>transform-origin</code></code></a>&rsquo; Property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=transform-origin>transform-origin</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> [ &lt;percentage> | &lt;length> | left | center | right | top |
      bottom]<br>
      |<br>
      [<br>
      &nbsp;&nbsp;[ &lt;percentage> | &lt;length&gt; | left | center | right
      ]<br>
      &nbsp;&nbsp;&amp;&amp;<br>
      &nbsp;&nbsp;[ &lt;percentage> | &lt;length&gt; | top | center | bottom
      ]<br>
      ] &lt;length&gt;?<br>

    <tr>
     <td> <em>Initial:</em>

     <td> 0 0 for SVG elements without associated CSS layout box, 50% 50% for
      all other elements

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> refer to the size of the element's bounding box

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> For &lt;length&gt; the absolute value, otherwise a percentage
  </table>

  <p> The values of the &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; and &lsquo;<a
   href="#transform-origin"><code class=css><code
   class=property>transform-origin</code></code></a>&rsquo; properties are
   used to compute the <a href="#TermTransformationMatrix"><i>transformation
   matrix</i></a>, as described above.

  <p>If only one value is specified, the second value is assumed to be
   &lsquo;<code class=property>center</code>&rsquo;. If one or two values are
   specified, the third value is assumed to be &lsquo;<code
   class=css>0px</code>&rsquo;.

  <p>If at least one of the first two values is not a keyword, then the first
   value represents the horizontal position (or offset) and the second
   represents the vertical position (or offset). The third value always
   represents the Z position (or offset).

  <p><var>&lt;percentage&gt;</var> and <var>&lt;length&gt;</var> for the
   first two values represent an offset of the transform origin from the top
   left corner of the element's bounding box.

  <p>For SVG elements without an associated CSS layout box the
   <var>&lt;length&gt;</var> values represent an offset from the point of
   origin of the element's local coordinate space.</p>
  <!-- ======================================================================================================= -->

  <h2 id=transform-style-property><span class=secno>9. </span> The &lsquo;<a
   href="#transform-style"><code class=css><code
   class=property>transform-style</code></code></a>&rsquo; Property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=transform-style>transform-style</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> flat | preserve-3d

    <tr>
     <td> <em>Initial:</em>

     <td> flat

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> N/A

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> Same as specified value.
  </table>

  <p> A value of &lsquo;<code class=css><code
   class=css>preserve-3d</code></code>&rsquo; for &lsquo;<a
   href="#transform-style"><code class=css><code
   class=property>transform-style</code></code></a>&rsquo; establishes a
   stacking context.

  <p> The following CSS property values require the user agent to create a
   flattened representation of the descendant elements before they can be
   applied, and therefore override the behavior of &lsquo;<a
   href="#transform-style"><code class=css><code
   class=property>transform-style</code></code></a>&rsquo;: &lsquo;<code
   class=css><code class=css>preserve-3d</code></code>&rsquo;:

  <ul>
   <li>&lsquo;<code class=css><code
    class=property>overflow</code></code>&rsquo;: any value other than
    &lsquo;<code class=css><code class=property>visible</code></code>&rsquo;.

   <li>&lsquo;<code class=css><code
    class=property>opacity</code></code>&rsquo;: any value other than 1.

   <li>&lsquo;<code class=css><code
    class=property>filter</code></code>&rsquo;: any value other than
    &lsquo;<code class=css><code class=property>none</code></code>&rsquo;.</li>
   <!-- Others? -->
  </ul>

  <div class=issue>
   <p class=desc>Should this affect the computed value of transform-style?</p>
  </div>

  <p> The values of the &lsquo;<a href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; and &lsquo;<a
   href="#transform-origin"><code class=css><code
   class=property>transform-origin</code></code></a>&rsquo; properties are
   used to compute the <a href="#TermTransformationMatrix"><i>transformation
   matrix</i></a>, as described above.</p>
  <!-- ======================================================================================================= -->

  <h2 id=perspective-property><span class=secno>10. </span> The &lsquo;<a
   href="#perspective"><code class=css><code
   class=property>perspective</code></code></a>&rsquo; Property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=perspective>perspective</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> none | &lt;length&gt;

    <tr>
     <td> <em>Initial:</em>

     <td> none

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> N/A

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> Same as specified value.
  </table>

  <p> If the value is &lsquo;<code class=css><code
   class=css>none</code></code>&rsquo;, less than or equal to 0 no
   perspective transform is applied.

  <p> The use of this property with any value other than &lsquo;<code
   class=css><code class=css>none</code></code>&rsquo; establishes a stacking
   context. It also establishes a containing block (somewhat similar to
   &lsquo;<code class=css><code class=css>position:
   relative</code></code>&rsquo;), just like the &lsquo;<a
   href="#effects"><code class=css><code
   class=property>transform</code></code></a>&rsquo; property does.

  <p> The values of the &lsquo;<a href="#perspective"><code class=css><code
   class=property>perspective</code></code></a>&rsquo; and &lsquo;<a
   href="#perspective-origin"><code class=css><code
   class=property>perspective-origin</code></code></a>&rsquo; properties are
   used to compute the <a href="#TermPerspectiveMatrix"><i>perspective
   matrix</i></a>, as described above.</p>
  <!-- ======================================================================================================= -->

  <h2 id=perspective-origin-property><span class=secno>11. </span> The
   &lsquo;<a href="#perspective-origin"><code class=css><code
   class=property>perspective-origin</code></code></a>&rsquo; Property</h2>

  <p> The &lsquo;<a href="#perspective-origin"><code class=css><code
   class=property>perspective-origin</code></code></a>&rsquo; property
   establishes the origin for the <a
   href="#perspective"><em>perspective</em></a> property. It effectively sets
   the X and Y position at which the viewer appears to be looking at the
   children of the element.

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=perspective-origin>perspective-origin</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> [ [ &lt;percentage&gt; | &lt;length&gt; | left | center | right ] [
      &lt;percentage&gt; | &lt;length&gt; | top | center | bottom ]? ] | [ [
      left | center | right ] || [ top | center | bottom ] ]

    <tr>
     <td> <em>Initial:</em>

     <td> 50% 50%

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> refer to the size of the element's bounding box

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> Same as specified value.
  </table>

  <p> The values of the &lsquo;<a href="#perspective"><code class=css><code
   class=property>perspective</code></code></a>&rsquo; and &lsquo;<a
   href="#perspective-origin"><code class=css><code
   class=property>perspective-origin</code></code></a>&rsquo; properties are
   used to compute the <a href="#TermPerspectiveMatrix"><i>perspective
   matrix</i></a>, as described above.</p>
  <!-- ======================================================================================================= -->

  <h2 id=backface-visibility-property><span class=secno>12. </span> The
   &lsquo;<a href="#backface-visibility"><code class=css><code
   class=property>backface-visibility</code></code></a>&rsquo; Property</h2>

  <p> The &lsquo;<a href="#backface-visibility"><code class=css><code
   class=property>backface-visibility</code></code></a>&rsquo; property
   determines whether or not the "back" side of a transformed element is
   visible when facing the viewer. With an identity transform, the front side
   of an element faces the viewer. Applying a rotation about Y of 180 degrees
   (for instance) would cause the back side of the element to face the
   viewer.</p>
  <!-- This should not be in a normative section. -->

  <p> This property is useful when you place two elements back-to-back, as
   you would to create a playing card. Without this property, the front and
   back elements could switch places at times during an animation to flip the
   card. Another example is creating a box out of 6 elements, but where you
   want to see the inside faces of the box. This is useful when creating the
   backdrop for a 3 dimensional stage.

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=backface-visibility>backface-visibility</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> visible | hidden

    <tr>
     <td> <em>Initial:</em>

     <td> visible

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> N/A

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> Same as specified value.
  </table>

  <p> The visibility of an element with &lsquo;<code class=css><code
   class=css>backface-visibility: hidden</code></code>&rsquo; is determined
   as follows:

  <ol>
   <li>Compute a matrix representing the accumulated transform from the
    viewport, taking the translations due to the CSS visual formatting mode,
    the perpsective and transformation matrices into account, in a similar
    manner to the computation of the accumulated transform for an element in
    a 3D rendering context.

   <li> If the component of the matrix in row 3, column 3 is negative, then
    the element should be hidden, otherwise it is visible.
  </ol>

  <div class=issue> Is the relevant matrix here really relative to the
   viewport, or to the root of the 3D rendering context?</div>
  <!-- ======================================================================================================= -->

  <h2 id=transform-functions><span class=secno>13. </span> The Transformation
   Functions</h2>

  <p> The value of the <a href="#effects"><code
   class=property>transform</code></a> property is a list of
   <var>&lt;transform-functions&gt;</var> applied in the order provided. The
   individual transform functions are separated by whitespace. The set of
   allowed transform functions is given below. In this list the type
   <var>&lt;translation-value&gt;</var> is defined as a
   <var>&lt;length&gt;</var> or <var>&lt;percentage&gt;</var> value, and the
   <var>&lt;angle&gt;</var> type is defined by <a
   href="http://www.w3.org/TR/css3-values/">CSS Values and Units Module.</a>
   Wherever <var>&lt;angle&gt;</var> is used in this specification, a
   <var>&lt;number&gt;</var> that is equal to zero is also allowed, which is
   treated the same as an angle of zero degrees.

  <h3 id=two-d-transform-functions><span class=secno>13.1. </span>2D
   Transformation Functions</h3>

  <dl>
   <dt> <code class=css>matrix(&lt;number&gt;, &lt;number&gt;,
    &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;)</code>

   <dd> specifies a 2D transformation in the form of a <a
    href="#MatrixDefined">transformation matrix</a> of the six values a-f.

   <dt> <code class=css>translate(&lt;translation-value&gt;[,
    &lt;translation-value&gt;])</code>

   <dd> specifies a <a href="#TranslateDefined">2D translation</a> by the
    vector [tx, ty], where tx is the first translation-value parameter and ty
    is the optional second translation-value parameter. If
    <em>&lt;ty&gt;</em> is not provided, ty has zero as a value.

   <dt> <code class=css>translateX(&lt;translation-value&gt;)</code>

   <dd> specifies a <a href="#TranslateDefined">translation</a> by the given
    amount in the X direction.

   <dt> <code class=css>translateY(&lt;translation-value&gt;)</code>

   <dd> specifies a <a href="#TranslateDefined">translation</a> by the given
    amount in the Y direction.

   <dt> <code class=css>scale(&lt;number&gt;[, &lt;number&gt;])</code>

   <dd> specifies a <a href="#ScaleDefined">2D scale</a> operation by the
    [sx,sy] scaling vector described by the 2 parameters. If the second
    parameter is not provided, it is takes a value equal to the first. For
    example, scale(1, 1) would leave an element unchanged, while scale(2, 2)
    would cause it to appear twice as long in both the X and Y axes, or four
    times its typical geometric size.

   <dt> <code class=css>scaleX(&lt;number&gt;)</code>

   <dd> specifies a <a href="#ScaleDefined">2D scale</a> operation using the
    [sx,1] scaling vector, where sx is given as the parameter.

   <dt> <code class=css>scaleY(&lt;number&gt;)</code>

   <dd> specifies a <a href="#ScaleDefined">2D scale</a> operation using the
    [1,sy] scaling vector, where sy is given as the parameter.

   <dt> <code class=css>rotate(&lt;angle&gt;)</code>

   <dd> specifies a <a href="#RotateDefined">2D rotation</a> by the angle
    specified in the parameter about the origin of the element, as defined by
    the &lsquo;<a href="#transform-origin"><code class=css><code
    class=property>transform-origin</code></code></a>&rsquo; property. For
    example, &lsquo;<code class=css><code
    class=css>rotate(90deg)</code></code>&rsquo; would cause elements to
    appear rotated one-quarter of a turn in the clockwise direction.

   <dt> <code class=css>skew(&lt;angle&gt;[, &lt;angle&gt;])</code>

   <dd> specifies a <a href="#SkewDefined">2D skew</a> by [ax,ay] for X and
    Y. If the second parameter is not provided, it is has a zero value.

   <dt> <code class=css>skewX(&lt;angle&gt;)</code>

   <dd> specifies a <a href="#SkewDefined">2D skew transformation along the X
    axis</a> by the given angle. The skew vector is [ax,0].

   <dt> <code class=css>skewY(&lt;angle&gt;)</code>

   <dd> specifies a <a href="#SkewDefined">2D skew transformation along the Y
    axis</a> by the given angle. The skew vector is [0,ay].
  </dl>

  <h3 id=three-d-transform-functions><span class=secno>13.2. </span>3D
   Transformation Functions</h3>

  <dl>
   <dt> <code class=css>matrix3d(&lt;number&gt;, &lt;number&gt;,
    &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;,
    &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;,
    &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;,
    &lt;number&gt;, &lt;number&gt;)</code>

   <dd> specifies a 3D transformation as a 4x4 homogeneous matrix of 16
    values in column-major order.

   <dt> <code class=css>translate3d(&lt;translation-value&gt;,
    &lt;translation-value&gt;, &lt;length&gt;)</code>

   <dd> specifies a <a href="#Translate3dDefined">3D translation</a> by the
    vector [tx,ty,tz], with tx, ty and tz being the first, second and third
    translation-value parameters respectively.

   <dt> <code class=css>translateZ(&lt;length&gt;)</code>

   <dd> specifies a <a href="#Translate3dDefined">3D translation</a> by the
    vector [0,0,tz] with the given amount in the Z direction.

   <dt> <code class=css>scale3d(&lt;number&gt;, &lt;number&gt;,
    &lt;number&gt;)</code>

   <dd> specifies a <a href="#Scale3dDefined">3D scale</a> operation by the
    [sx,sy,sz] scaling vector described by the 3 parameters.

   <dt> <code class=css>scaleZ(&lt;number&gt;)</code>

   <dd> specifies a <a href="#Scale3dDefined">3D scale</a> operation using
    the [1,1,sz] scaling vector, where sz is given as the parameter.

   <dt> <code class=css>rotate3d(&lt;number&gt;, &lt;number&gt;,
    &lt;number&gt;, &lt;angle&gt;)</code>
  </dl>

  <div class=todo>Clarify "clockwise". Describe in terms of right-hand rule?</div>

  <dl>
   <dd> specifies a clockwise <a href="#Rotate3dDefined">3D rotation</a> by
    the angle specified in last parameter about the [x,y,z] direction vector
    described by the first 3 parameters. If the direction vector is not of
    unit length, it will be normalized. A direction vector that cannot be
    normalized, such as [0,0,0], will cause the rotation to not be applied.

   <dt> <code class=css>rotateX(&lt;angle&gt;)</code>

   <dd> specifies a clockwise <a href="#RotateXDefined">3D rotation</a> by
    the given angle about the X axis.

   <dt> <code class=css>rotateY(&lt;angle&gt;)</code>

   <dd> specifies a clockwise <a href="#RotateYDefined">3D rotation</a> by
    the given angle about the Y axis.

   <dt> <code class=css>rotateZ(&lt;angle&gt;)</code>

   <dd> specifies a clockwise <a href="#RotateZDefined">3D rotation</a> by
    the given angle about the Z axis. This is a synonym for <code
    class=css>rotate(&lt;angle&gt;)</code>.

   <dt id=perspective-function> <code
    class=css>perspective(&lt;length&gt;)</code>

   <dd> specifies a <a href="#PerspectiveDefined">perspective projection
    matrix</a>. This matrix scales points in X and Y based on their Z value,
    scaling points with positive Z values away from the origin, and those
    with negative Z values towards the origin. Points on the z=0 plane are
    unchanged. The parameter represents the distance of the z=0 plane from
    the viewer. Lower values give a more flattened pyramid and therefore a
    more pronounced perspective effect. For example, a value of 1000px gives
    a moderate amount of foreshortening and a value of 200px gives an extreme
    amount. The value for depth must be greater than zero, otherwise the
    function is invalid.
  </dl>
  <!-- ======================================================================================================= -->

  <h2 id=transform-values><span class=secno>14. </span> Transform Values and
   Lists</h2>

  <p> The &lt;translation-value&gt; values are defined as [&lt;percentage&gt;
   | &lt;length&gt;]. All other value types are described <a
   href="http://www.w3.org/TR/REC-CSS2/syndata.html#values">as CSS types</a>.
   If a list of transforms is provided, then the net effect is as if each
   transform had been specified separately in the order provided. For
   example,

  <pre>
&lt;div style="transform:translate(-10px,-20px) scale(2) rotate(45deg) translate(5px,10px)"/&gt;
</pre>

  <p> is functionally equivalent to:

  <pre>
&lt;div style="transform:translate(-10px,-20px)"&gt;
  &lt;div style="transform:scale(2)"&gt;
    &lt;div style="transform:rotate(45deg)"&gt;
      &lt;div style="transform:translate(5px,10px)"&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>

  <p> That is, in the absence of other styling that affects position and
   dimensions, a nested set of transforms is equivalent to a single list of
   transform functions, applied from the outside in. The resulting transform
   is the matrix multiplication of the list of transforms.</p>
  <!-- ======================================================================================================= -->

  <h2 id=animation><span class=secno>15. </span> Transitions and Animations
   between Transform Values</h2>

  <p> When animating or transitioning the value of a transform property the
   rules described below are applied. The &lsquo;<code
   class=property>from</code>&rsquo; transform is the transform at the start
   of the transition or current keyframe. The &lsquo;<code
   class=property>end</code>&rsquo; transform is the transform at the end of
   the transition or current keyframe.

  <ul>
   <li> If the &lsquo;<code class=property>from</code>&rsquo; and
    &lsquo;<code class=property>to</code>&rsquo; transforms are both single
    functions of the same type:
    <ul>
     <li> For translate, translate3d, translateX, translateY, translateZ,
      scale, scale3d, scaleX, scaleY, scaleZ, rotate, rotateX, rotateY,
      rotateZ, skew, skewX and skewY functions:
      <ul>
       <li> the individual components of the function are interpolated
        numerically.
      </ul>

     <li> For perspective, matrix, matrix3d and rotate3d:
      <ul>
       <li> the values are first converted to a 4x4 matrix, then decomposed
        using <a href="#unmatrix">the method described by unmatrix</a> into
        separate translation, scale, rotation, skew and perspective matrices,
        then each decomposed matrix is interpolated numerically, and finally
        combined in order to produce a resulting 4x4 matrix.
      </ul>
    </ul>

   <li> If both the &lsquo;<code class=property>from</code>&rsquo; and
    &lsquo;<code class=property>to</code>&rsquo; transforms are "none":
    <ul>
     <li> There is no interpolation necessary
    </ul>

   <li> If one of the &lsquo;<code class=property>from</code>&rsquo; or
    &lsquo;<code class=property>to</code>&rsquo; transforms is "none":
    <ul>
     <li> The &lsquo;<code class=property>none</code>&rsquo; is replaced by
      an equivalent identity function list for the corresponding transform
      function list.
      <p> For example, if the &lsquo;<code class=property>from</code>&rsquo;
       transform is "scale(2)" and the &lsquo;<code
       class=property>to</code>&rsquo; transform is "none" then the value
       "scale(1)" will be used as the &lsquo;<code
       class=property>to</code>&rsquo; value, and animation will proceed
       using the rule above. Similarly, if the &lsquo;<code
       class=property>from</code>&rsquo; transform is "none" and the
       &lsquo;<code class=property>to</code>&rsquo; transform is "scale(2)
       rotate(50deg)" then the animation will execute as if the &lsquo;<code
       class=property>from</code>&rsquo; value is "scale(1) rotate(0)".</p>

      <p> The identity functions are translate(0), translate3d(0, 0, 0),
       translateX(0), translateY(0), translateZ(0), scale(1), scale3d(1, 1,
       1), scaleX(1), scaleY(1), scaleZ(1), rotate(0), rotate3d(1, 1, 1, 0),
       rotateX(0), rotateY(0), rotateZ(0), skew(0), skewX(0), skewY(0),
       matrix(1, 0, 0, 1, 0, 0) and matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1,
       0, 0, 0, 0, 1).</p>
    </ul>

   <li> If both the &lsquo;<code class=property>from</code>&rsquo; and
    &lsquo;<code class=property>to</code>&rsquo; transforms have the same
    number of transform functions and corresponding functions in each
    transform list are of the same type:
    <ul>
     <li> Each transform function is animated with its corresponding
      destination function in isolation using the rules described above. The
      individual values are then applied as a list to produce resulting
      transform value.
    </ul>

   <li> Otherwise:
    <ul>
     <li> The transform function lists are each converted into the equivalent
      matrix3d value and animation proceeds using the rule for a single
      function above.
    </ul>
  </ul>

  <p> In some cases, an animation might cause a transformation matrix to be
   singular or non-invertible. For example, an animation in which scale moves
   from 1 to -1. At the time when the matrix is in such a state, the
   transformed element is not rendered.

  <h2 id=matrix-decomposition><span class=secno>16. </span> Matrix
   Decomposition for Animation</h2>

  <p> When interpolating between 2 matrices, each is decomposed into the
   corresponding translation, rotation, scale, skew and perspective values.
   Not all matrices can be accurately described by these values. Those that
   can't are decomposed into the most accurate representation possible, using
   the technique below. This technique is taken from the "unmatrix" method in
   "Graphics Gems II, edited by Jim Arvo". The pseudocode below works on a
   4x4 homogeneous matrix.

  <h3 id=unmatrix><span class=secno>16.1. </span>Unmatrix</h3>

  <pre>
          Input:  matrix      ; a 4x4 matrix
          Output: translation ; a 3 component vector
                  rotation    ; Euler angles, represented as a 3 component vector
                  scale       ; a 3 component vector
                  skew        ; skew factors XY,XZ,YZ represented as a 3 component vector
                  perspective ; a 4 component vector
          Returns false if the matrix cannot be decomposed, true if it can

          Supporting functions (point is a 3 component vector, matrix is a 4x4 matrix):
            double  determinant(matrix)         returns the 4x4 determinant of the matrix
            matrix inverse(matrix)              returns the inverse of the passed matrix
            matrix transpose(matrix)            returns the transpose of the passed matrix
            point  multVecMatrix(point, matrix) multiplies the passed point by the passed matrix 
                                                and returns the transformed point
            double  length(point)               returns the length of the passed vector
            point  normalize(point)             normalizes the length of the passed point to 1
            double  dot(point, point)           returns the dot product of the passed points
            double  cos(double)                 returns the cosine of the passed angle in radians
            double  asin(double)                returns the arcsine in radians of the passed value
            double  atan2(double y, double x)   returns the principal value of the arc tangent of 
                                                y/x, using the signs of both arguments to determine 
                                                the quadrant of the return value

          Decomposition also makes use of the following function:
            point combine(point a, point b, double ascl, double bscl)
                result[0] = (ascl * a[0]) + (bscl * b[0])
                result[1] = (ascl * a[1]) + (bscl * b[1])
                result[2] = (ascl * a[2]) + (bscl * b[2])
                return result

          // Normalize the matrix.
          if (matrix[3][3] == 0)
              return false

          for (i = 0; i < 4; i++)
              for (j = 0; j < 4; j++)
                  matrix[i][j] /= matrix[3][3]

          // perspectiveMatrix is used to solve for perspective, but it also provides
          // an easy way to test for singularity of the upper 3x3 component.
          perspectiveMatrix = matrix

          for (i = 0; i < 3; i++)
              perspectiveMatrix[i][3] = 0

          perspectiveMatrix[3][3] = 1

          if (determinant(perspectiveMatrix) == 0)
              return false

          // First, isolate perspective.
          if (matrix[0][3] != 0 || matrix[1][3] != 0 || matrix[2][3] != 0)
              // rightHandSide is the right hand side of the equation.
              rightHandSide[0] = matrix[0][3];
              rightHandSide[1] = matrix[1][3];
              rightHandSide[2] = matrix[2][3];
              rightHandSide[3] = matrix[3][3];

              // Solve the equation by inverting perspectiveMatrix and multiplying
              // rightHandSide by the inverse.
              inversePerspectiveMatrix = inverse(perspectiveMatrix)
              transposedInversePerspectiveMatrix = transposeMatrix4(inversePerspectiveMatrix)
              perspective = multVecMatrix(rightHandSide, transposedInversePerspectiveMatrix)

               // Clear the perspective partition
              matrix[0][3] = matrix[1][3] = matrix[2][3] = 0
              matrix[3][3] = 1
          else
              // No perspective.
              perspective[0] = perspective[1] = perspective[2] = 0
              perspective[3] = 1

          // Next take care of translation
          translate[0] = matrix[3][0]
          matrix[3][0] = 0
          translate[1] = matrix[3][1]
          matrix[3][1] = 0
          translate[2] = matrix[3][2]
          matrix[3][2] = 0

          // Now get scale and shear. 'row' is a 3 element array of 3 component vectors
          for (i = 0; i < 3; i++)
              row[i][0] = matrix[i][0]
              row[i][1] = matrix[i][1]
              row[i][2] = matrix[i][2]

          // Compute X scale factor and normalize first row.
          scale[0] = length(row[0])
          row[0] = normalize(row[0])

          // Compute XY shear factor and make 2nd row orthogonal to 1st.
          skew[0] = dot(row[0], row[1])
          row[1] = combine(row[1], row[0], 1.0, -skew[0])

          // Now, compute Y scale and normalize 2nd row.
          scale[1] = length(row[1])
          row[1] = normalize(row[1])
          skew[0] /= scale[1];

          // Compute XZ and YZ shears, orthogonalize 3rd row
          skew[1] = dot(row[0], row[2])
          row[2] = combine(row[2], row[0], 1.0, -skew[1])
          skew[2] = dot(row[1], row[2])
          row[2] = combine(row[2], row[1], 1.0, -skew[2])

          // Next, get Z scale and normalize 3rd row.
          scale[2] = length(row[2])
          row[2] = normalize(row[2])
          skew[1] /= scale[2]
          skew[2] /= scale[2]

          // At this point, the matrix (in rows) is orthonormal.
          // Check for a coordinate system flip.  If the determinant
          // is -1, then negate the matrix and the scaling factors.
          pdum3 = cross(row[1], row[2])
          if (dot(row[0], pdum3) < 0)
              for (i = 0; i < 3; i++) {
                  scale[0] *= -1;
                  row[i][0] *= -1
                  row[i][1] *= -1
                  row[i][2] *= -1

          // Now, get the rotations ou
          rotate[1] = asin(-row[0][2]);
          if (cos(rotate[1]) != 0)
             rotate[0] = atan2(row[1][2], row[2][2]);
             rotate[2] = atan2(row[0][1], row[0][0]);
          else
             rotate[0] = atan2(-row[2][0], row[1][1]);
             rotate[2] = 0;

          return true;</pre>

  <h3 id=animating-the-components><span class=secno>16.2. </span>Animating
   the components</h3>

  <p> Once decomposed, each component of each returned value of the source
   matrix is linearly interpolated with the corresponding component of the
   destination matrix. For instance, the translate[0] and translate[1] values
   are interpolated numerically, and the result is used to set the
   translation of the animating element.

  <h3 id=recomposing-the-matrix><span class=secno>16.3. </span>Recomposing
   the matrix</h3>

  <p><em>This section is not normative.</em>

  <p> After interpolation the resulting values are used to position the
   element. One way to use these values is to recompose them into a 4x4
   matrix. This can be done using the transform functions of the &lsquo;<a
   href="#effects"><code class=property>transform</code></a>&rsquo; property.
   This can be done by the following pseudo code. The values passed in are
   the output of the Unmatrix function above:

  <pre>
          matrix3d(1,0,0,0, 0,1,0,0, 0,0,1,0, perspective[0], perspective[1], perspective[2], perspective[3])
          translate3d(translation[0], translation[1], translation[2])
          rotateX(rotation[0]) rotateY(rotation[1]) rotateZ(rotation[2])
          matrix3d(1,0,0,0, 0,1,0,0, 0,skew[2],1,0, 0,0,0,1)
          matrix3d(1,0,0,0, 0,1,0,0, skew[1],0,1,0, 0,0,0,1)
          matrix3d(1,0,0,0, skew[0],1,0,0, 0,0,1,0, 0,0,0,1)
          scale3d(scale[0], scale[1], scale[2])</pre>

  <h2 id=mathematical-description><span class=secno>17. </span> Mathematical
   Description of Transformation Functions</h2>

  <p> Mathematically, all transform functions can be represented as 4x4
   transformation matrices of the following form:

  <p><img
   alt="\begin{bmatrix} m11 & m21 & m31 & m41 \\ m12 & m22 & m32 & m42 \\ m13 & m23 & m33 & m43 \\ m14 & m24 & m34 & m44 \end{bmatrix}"
   height=106 src=4x4matrix.png width=222>

  <ul>
   <li id=MatrixDefined>
    <p> A 2D 3x2 matrix with six parameters <em>a</em>, <em>b</em>,
     <em>c</em>, <em>d</em>, <em>e</em> and <em>f</em> is equivalent to to
     the matrix:</p>
    <img
    alt="\begin{bmatrix} a & c & 0 & e \\ b & d & 0 & f \\ 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1 \end{bmatrix}"
    height=106 src=matrix.png width=108>

   <li id=TranslateDefined>
    <p> A 2D translation with the parameters <em>tx</em> and <em>ty</em> is
     equivalent to a <a href="#Translate3dDefined">3D translation</a> where
     <em>tz</em> has zero as a value.</p>

   <li id=ScaleDefined>
    <p> A 2D scaling with the parameters <em>sx</em> and <em>sy</em> is
     equivalent to a <a href="#Scale3dDefined">3D scale</a> where <em>sz</em>
     has one as a value.</p>

   <li id=RotateDefined>
    <p> A 2D rotation with the parameter <em>alpha</em> is equivalent to a <a
     href="#RotateZDefined">rotation around the Z axis</a>.</p>

   <li id=SkewDefined>
    <p> A 2D skew transformation with the parameters <em>alpha</em> and
     <em>beta</em> is equivalent to the matrix:</p>
    <img
    alt="\begin{bmatrix} 1 & \tan(\alpha) & 0 & 0 \\ \tan(\beta) & 1 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1 \end{bmatrix}"
    height=106 src=skew.png width=205>

   <li id=Translate3dDefined>
    <p> A 3D translation with the parameters <em>tx</em>, <em>ty</em> and
     <em>tz</em> is equivalent to the matrix:</p>
    <img
    alt="\begin{bmatrix} 1 & 0 & 0 & tx \\ 0 & 1 & 0 & ty \\ 0 & 0 & 1 & tz \\ 0 & 0 & 0 & 1 \end{bmatrix}"
    height=106 src=translate3d.png width=114>

   <li id=Scale3dDefined>
    <p> A 3D scaling with the parameters <em>sx</em>, <em>sy</em> and
     <em>sz</em> is equivalent to the matrix:</p>
    <img
    alt="\begin{bmatrix} sx & 0 & 0 & 0 \\ 0 & sy & 0 & 0 \\ 0 & 0 & sz & 0 \\ 0 & 0 & 0 & 1 \end{bmatrix}"
    height=106 src=scale3d.png width=137>

   <li id=Rotate3dDefined>
    <p> A 3D rotation with the vector [x,y,z] and the parameter
     <em>alpha</em> is equivalent to the matrix:</p>
    <img
    alt="\begin{bmatrix} 1 - 2 \cdot (y^2 + z^2) \cdot sq & 2 \cdot (x \cdot y \cdot sq - z \cdot sc) & 2 \cdot (x \cdot z \cdot sq + y \cdot sc) & 0 \\ 2 \cdot (x \cdot y \cdot sq + z \cdot sc) & 1 - 2 \cdot (x^2 + z^2) \cdot sq & 2 \cdot (y \cdot z \cdot sq - x \cdot sc) & 0 \\ 2 \cdot (x \cdot z \cdot sq - y \cdot sc) & 2 \cdot (y \cdot z \cdot sq + x \cdot sc) & 1 - 2 \cdot (x^2 + y^2) \cdot sq & 0 \\ 0 & 0 & 0 & 1 \end{bmatrix}"
    height=106 src=rotate3dmatrix.png width=647>
    <p> where:</p>
    <img
    alt="\newline sc = \sin (\alpha/2) \cdot \cos (\alpha/2) \newline sq = \sin^2 (\alpha/2)"
    height=50 src=rotate3dvariables.png width=221>

   <li id=RotateXDefined>
    <p> A 3D rotation about the X axis with the parameter <em>alpha</em> is
     equivalent to the matrix:</p>
    <img
    alt="\begin{bmatrix} 1 & 0 & 0 & 0 \\ 0 & \cos(\alpha) & -\sin(\alpha) & 0 \\ 0 & \sin(\alpha) & \cos(\alpha) & 0 \\ 0 & 0 & 0 & 1 \end{bmatrix}"
    height=106 src=rotateX.png width=220>

   <li id=RotateYDefined>
    <p> A 3D rotation about the Y axis with the parameter <em>alpha</em> is
     equivalent to the matrix:</p>
    <img
    alt="\begin{bmatrix} \cos(\alpha) & 0 & \sin(\alpha) & 0 \\ 0 & 1 & 0 & 0 \\ -\sin(\alpha) & 0 & \cos(\alpha) & 0 \\ 0 & 0 & 0 & 1 \end{bmatrix}"
    height=106 src=rotateY.png width=220>

   <li id=RotateZDefined>
    <p> A 3D rotation about the Z axis with the parameter <em>alpha</em> is
     equivalent to the matrix:</p>
    <img
    alt="\begin{bmatrix} \cos(\alpha) & -\sin(\alpha) & 0 & 0 \\ \sin(\alpha) & \cos(\alpha) & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1 \end{bmatrix}"
    height=106 src=rotateZ.png width=220>

   <li id=PerspectiveDefined>
    <p> A perspective projection matrix with the parameter <em>d</em> is
     equivalent to the matrix:</p>
    <img
    alt="\begin{bmatrix} 1 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 0 & -1/d & 1 \end{bmatrix}"
    height=106 src=perspective.png width=143>
  </ul>

  <h2 id=references><span class=secno>18. </span>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=SVG11>[SVG11]

   <dd>Erik Dahlstr&#246;m; et al. <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/"><cite>Scalable
    Vector Graphics (SVG) 1.1 (Second Edition).</cite></a> 16 August 2011.
    W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/">http://www.w3.org/TR/2011/REC-SVG11-20110816/</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=property-index>Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies&nbsp;to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><a class=property
      href="#backface-visibility">backface-visibility</a>

     <td>visible | hidden

     <td>visible

     <td>transformable elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#perspective">perspective</a>

     <td>none | &lt;length&gt;

     <td>none

     <td>transformable elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#perspective-origin">perspective-origin</a>

     <td>[ [ &lt;percentage&gt; | &lt;length&gt; | left | center | right ] [
      &lt;percentage&gt; | &lt;length&gt; | top | center | bottom ]? ] | [ [
      left | center | right ] || [ top | center | bottom ] ]

     <td>50% 50%

     <td>transformable elements

     <td>no

     <td>refer to the size of the element's bounding box

     <td>visual

    <tr>
     <th><a class=property href="#effects">transform</a>

     <td>none | &lt;transform-function&gt; [ &lt;transform-function&gt; ]*

     <td>none

     <td>transformable elements

     <td>no

     <td>refer to the size of the element's bounding box

     <td>visual

    <tr>
     <th><a class=property href="#transform-origin">transform-origin</a>

     <td>[ &lt;percentage> | &lt;length> | left | center | right | top |
      bottom] | [ &nbsp;&nbsp;[ &lt;percentage> | &lt;length&gt; | left |
      center | right ] &nbsp;&nbsp;&amp;&amp; &nbsp;&nbsp;[ &lt;percentage> |
      &lt;length&gt; | top | center | bottom ] ] &lt;length&gt;?

     <td>0 0 for SVG elements without associated CSS layout box, 50% 50% for
      all other elements

     <td>transformable elements

     <td>no

     <td>refer to the size of the element's bounding box

     <td>visual

    <tr>
     <th><a class=property href="#transform-style">transform-style</a>

     <td>flat | preserve-3d

     <td>flat

     <td>transformable elements

     <td>no

     <td>N/A

     <td>visual
  </table>
  <!--end-properties-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>3D rendering context, <a href="#d-rendering-context"
    title="3D rendering context"><strong>4.</strong></a>

   <li>backface-visibility, <a href="#backface-visibility"
    title=backface-visibility><strong>12.</strong></a>

   <li>bounding box, <a href="#bounding-box"
    title="bounding box"><strong>4.</strong></a>

   <li>perpsective matrix, <a href="#perpsective-matrix"
    title="perpsective matrix"><strong>4.</strong></a>

   <li>perspective, <a href="#perspective"
    title=perspective><strong>10.</strong></a>

   <li>perspective-origin, <a href="#perspective-origin"
    title=perspective-origin><strong>11.</strong></a>

   <li>transform, <a href="#effects" title=transform><strong>6.</strong></a>

   <li>transformable element, <a href="#transformable-element"
    title="transformable element"><strong>4.</strong></a>

   <li>transformation matrix, <a href="#transformation-matrix"
    title="transformation matrix"><strong>4.</strong></a>

   <li>transform-origin, <a href="#transform-origin"
    title=transform-origin><strong>8.</strong></a>

   <li>transform-style, <a href="#transform-style"
    title=transform-style><strong>9.</strong></a>
  </ul>
  <!--end-index-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
