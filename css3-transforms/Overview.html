<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang=en>
 <head profile="http://www.w3.org/2006/03/hcard"><meta
  content="text/html; charset=utf-8" http-equiv=Content-Type>

  <title>CSS Transforms</title>
  <link href=default.css rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
  type="text/css">
  <link href=alternate-spec-style.css id=st rel=stylesheet
  title="additional spec styles" type="text/css">

  <style type="text/css">
  
  /* Alternate stylesheet fonts are here because in some browsers (Opera 11.5) */
  /* The fonts are not applied if only loaded from the alternate stylesheet    */
  @import url(http://fonts.googleapis.com/css?family=Droid+Serif:700,400,400italic,700italic);
  @import url(http://fonts.googleapis.com/css?family=Droid+Sans+Mono);

    .singleImgExample {
    	display: block;
    	margin: auto;
    }
    
    .example-table {
    	table-layout: fixed; 
    	width: 100%; 
    }
    
    .example-table tr td img {
    	width: 90%;
    }
    
    a.toggle {
        position: fixed;
        top: 0.5em;
        right: 0.5em;
    	font-size: smaller;
    	color: gray;
    	opacity: 0.2;
    }

    a.toggle:hover {
        opacity: 1;
        color: #46A4E9;
    }
    
    .prop-name {
      font-weight: bold;
    }
    
    .prop-value {
      font-family: monospace;
    }
    
    .term {
      font-style: italic;
    }
     
     div.issue-marker {
         position: absolute;
         width: 20ex;
         margin-left: -26ex;
         padding-right: 0.5em;
         font-weight: normal;
         font-size: 11px;
         text-align: right;
         background-color: white;
         font-size: 90%;
         padding-top: 0px;
         padding-bottom: 0px;
     }

     div.issue-marker a {
         color: red;
     }
     
     div.issue-marker .desc {
         font-size: 80%;
         line-height: 1.4em;
     }
     
     div.issue-marker .desc strong {
         font-weight: bold;
         font-size: 120%;
         color: red;
     }
     
     dt, dd { margin-top: 0; margin-bottom: 0 } /* opera 3.50 */
     dt { font-weight: bold }
     
     .todo {
         font-weight: bold;
         border-left: 0.5em solid #f44;
         padding-left: 1em;
         margin-top: 0.5em;
         color: #a0a0a0;
     }

     .todo:before {
         content: "TO DO : ";
         color: #f44;
     }
  </style>

 <body>
  <div class=head id=div-head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1>CSS transforms</h1>

   <h2 class="no-num no-toc" id=longstatus-date>Editor's Draft 26 January
    2012</h2>

   <dl>
    <dt>This version:

    <dd> <a
     href="http://www.w3.org/TR/2012/ED-css3-2d-transforms-20120126/">http://dev.w3.org/csswg/css3-2d-transforms/</a>
     <!--http://www.w3.org/TR/2012/WD-css3-2d-transforms-20120126-->

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-2d-transforms">http://www.w3.org/TR/css3-2d-transforms/</a>
     

    <dt>Previous version:

    <dd><a href="http://www.w3.org/TR/2009/WD-css3-2d-transforms-20090320/">
     http://www.w3.org/TR/2009/WD-css3-2d-transforms-20090320/</a>

    <dt id=editors-list>Editors:

    <dd>Simon Fraser (<a href="http://www.apple.com/">Apple Inc</a>)
     &lt;simon.fraser &#64;apple.com&gt;

    <dd>Dean Jackson (<a href="http://www.apple.com/">Apple Inc</a>) &lt;dino
     &#64;apple.com&gt;

    <dd>David Hyatt (<a href="http://www.apple.com/">Apple Inc</a>) &lt;hyatt
     &#64;apple.com&gt;

    <dd>Chris Marrin (<a href="http://www.apple.com/">Apple Inc</a>)
     &lt;cmarrin &#64;apple.com&gt;

    <dd>Edward O'Connor (<a href="http://www.apple.com/">Apple Inc</a>)
     &lt;eoconnor &#64;apple.com&gt;

    <dd>Vincent Hardy (<a href="http://www.adobe.com/">Adobe Systems,
     Inc</a>) &lt;vhardy &#64;adobe.com&gt;

    <dd>Dirk Schulze (<a href="http://www.adobe.com/">Adobe Systems, Inc</a>)
     &lt;dschulze &#64;adobe.com&gt;
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> &copy; 2012 <a
    href="http://www.w3.org/"><acronym
    title="World Wide Web Consortium">W3C</acronym></a><sup>&reg;</sup> (<a
    href="http://www.csail.mit.edu/"><acronym
    title="Massachusetts Institute of Technology">MIT</acronym></a>, <a
    href="http://www.ercim.eu/"><acronym
    title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p><strong>THIS IS A WORK IN PROGRESS AND NOT READY FOR REVIEW.</strong>

  <p>CSS transforms allows elements styled with CSS to be transformed in
   two-dimensional or three-dimensional space. This specification is the
   convergence of the <a href="http://www.w3.org/TR/css3-2d-transforms/">CSS
   2D transforms</a>, <a href="http://www.w3.org/TR/css3-3d-transforms/">CSS
   3D transforms</a> and <a
   href="http://www.w3.org/TR/2009/WD-SVG-Transforms-20090320/">SVG
   transforms</a> specifications.

  <h2 class="no-num no-toc" id=status>Status of this document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a
   href="mailto:www-style@w3.org?Subject=%5Bcss3-2d-transforms%5D%20PUT%20SUBJECT%20HERE">
   www-style@w3.org</a> (see <a
   href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
   discussion of this specification. When sending e-mail, please put the text
   &#8220;css3-2d-transforms&#8221; in the subject, preferably like this:
   &#8220;[<!---->css3-2d-transforms<!---->] <em>&hellip;summary of
   comment&hellip;</em>&#8221;

  <p>This document was produced by the <a href="/Style/CSS/members">CSS
   Working Group</a> (part of the <a href="/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent
   Policy</a>. W3C maintains a <a href="/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the
   W3C Patent Policy</a>.</p>
  <!--end-status-->

  <p> The <a href=ChangeLog>list of changes made to this specification</a> is
   available.

  <h2 class="no-num no-toc" id=contents>Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#introduction"><span class=secno>1. </span>Introduction</a>

   <li><a href="#module-interactions"><span class=secno>2. </span>Module
    Interactions</a>

   <li><a href="#module-interactions"><span class=secno>3. </span>CSS
    Values</a>

   <li><a href="#definitions"><span class=secno>4. </span>Definitions</a>

   <li><a href="#transform-rendering"><span class=secno>5. </span>The
    Transform Rendering Model</a>
    <ul class=toc>
     <li><a href="#transform-3d-rendering"><span class=secno>5.1. </span>3D
      Transform Rendering</a>
    </ul>

   <li><a href="#transform-property"><span class=secno>6. </span> The <span
    class=prop-name>&lsquo;<code
    class=property>transform</code>&rsquo;</span> Property </a>
    <ul class=toc>
     <li><a href="#svg-transform"><span class=secno>6.1. </span>The SVG
      transform attribute</a>
      <ul class=toc>
       <li><a href="#transform-attribute-specificity"><span
        class=secno>6.1.1. </span>SVG transform attribute specificity</a>

       <li><a href="#transform-attribute-dom"><span class=secno>6.1.2.
        </span>SVG transform attribute DOM</a>
      </ul>
    </ul>

   <li><a href="#transform-origin-property"><span class=secno>7. </span> The
    <span class=prop-name>&lsquo;<code
    class=property>transform-origin</code>&rsquo;</span> Property </a>
    <ul class=toc>
     <li><a href="#svg-transform-origin"><span class=secno>7.1. </span>The
      &lsquo;<code class=property>transform-origin</code>&rsquo; property for
      SVG elements</a>
    </ul>

   <li><a href="#transform-style-property"><span class=secno>8. </span> The
    <span class=prop-name>&lsquo;<code
    class=property>transform-style</code>&rsquo;</span> Property </a>

   <li><a href="#perspective-property"><span class=secno>9. </span> The <span
    class=prop-name>&lsquo;<code
    class=property>perspective</code>&rsquo;</span> Property </a>

   <li><a href="#perspective-origin-property"><span class=secno>10. </span>
    The <span class=prop-name>&lsquo;<code
    class=property>perspective-origin</code>&rsquo;</span> Property </a>

   <li><a href="#backface-visibility-property"><span class=secno>11. </span>
    The <span class=prop-name>&lsquo;<code
    class=property>backface-visibility</code>&rsquo;</span> Property </a>

   <li><a href="#transform-functions"><span class=secno>12. </span> The
    Transformation Functions </a>

   <li><a href="#transform-values"><span class=secno>13. </span> Transform
    Values and Lists </a>

   <li><a href="#animation"><span class=secno>14. </span> Transitions and
    animations between transform values </a>

   <li><a href="#matrix-decomposition"><span class=secno>15. </span> Matrix
    decomposition for animation </a>
    <ul class=toc>
     <li><a href="#unmatrix"><span class=secno>15.1. </span>Unmatrix</a>

     <li><a href="#animating-the-components"><span class=secno>15.2.
      </span>Animating the components</a>

     <li><a href="#recomposing-the-matrix"><span class=secno>15.3.
      </span>Recomposing the matrix</a>
    </ul>

   <li><a href="#dom-interfaces"><span class=secno>16. </span> DOM Interfaces
    </a>
    <ul class=toc>
     <li><a href="#cssmatrix-interface"><span class=secno>16.1. </span>
      CSSMatrix </a>
    </ul>

   <li><a href="#changes"><span class=secno>17. </span>Changes</a>
    <ul class=toc>
     <li><a href="#changes_on_January_26_2012"><span class=secno>17.1.
      </span> Changes by Simon Fraser on January 26 2012 </a>

     <li><a href="#changes_on_January_25_2012"><span class=secno>17.2.
      </span> Changes by Simon Fraser on January 25 2012 </a>

     <li><a href="#changes_from_January_24_2012"><span class=secno>17.3.
      </span> Changes from January 24<sup>th</sup> 2012 version </a>
    </ul>

   <li><a href="#references"><span class=secno>18. </span>References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#property-index">Property index</a>

   <li class=no-num><a href="#index">Index</a>
  </ul>
  <!--end-toc-->

  <h2 id=introduction><span class=secno>1. </span>Introduction</h2>

  <p><em>This section is not normative.</em>

  <p> The CSS <a href="http://www.w3.org/TR/REC-CSS2/visuren.html">visual
   formatting model</a> describes a coordinate system within which each
   element is positioned. Positions and sizes in this coordinate space can be
   thought of as being expressed in pixels, starting in the upper left corner
   of the parent with positive values proceeding to the right and down.

  <p> This coordinate space can be modified with the <span
   class=prop-name>&lsquo;<a href="#effects"><code
   class=property>transform</code></a>&rsquo;</span> property. Using
   transform, elements can be translated, rotated and scaled in two or three
   dimensional space.

  <p> Additional properties make working with transforms easier, and allow
   the author to control how nested three-dimensional transforms interact.

  <ul>
   <li> The <span class=prop-name>&lsquo;<a href="#transform-origin"><code
    class=property>transform-origin</code></a>&rsquo;</span> property
    provides a convenient way to control the origin about which transforms on
    an element are applied.

   <li> The <span class=prop-name>&lsquo;<a href="#perspective"><code
    class=property>perspective</code></a>&rsquo;</span> property allows the
    author to make child elements with three-dimensional transforms appear as
    if they live in a common three-dimensional space. The <span
    class=prop-name>&lsquo;<a href="#perspective-origin"><code
    class=property>perspective-origin</code></a>&rsquo;</span> property
    provides control over the origin at which perspective is applied,
    effectively changing the location of the "vanishing point".

   <li> The <span class=prop-name>&lsquo;<a href="#transform-style"><code
    class=property>transform-style</code></a>&rsquo;</span> property allows
    3D-transformed elements and their 3D-transformed descendants to share a
    common three-dimensional space, allowing the construction of hierarchies
    of three-dimensional objects.

   <li> The <span class=prop-name>&lsquo;<a href="#backface-visibility"><code
    class=property>backface-visibility</code></a>&rsquo;</span> property
    comes into play when an element is flipped around via three-dimensional
    transforms such that its reverse side is visible to the viewer. In some
    situations it is desirable to hide the element in this situation, which
    is possible using the value of &lsquo;<code
    class=property>hidden</code>&rsquo; for this property.
  </ul>

  <p> Note that while some values of the <span class=prop-name>&lsquo;<a
   href="#effects"><code class=property>transform</code></a>&rsquo;</span>
   property allow an element to be transformed in a three-dimensional
   coordinate system, the elements themselves are not three-dimensional
   objects. Instead, they exist on a two-dimensional plane (a flat surface)
   and have no depth.

  <div class=issue> There are two roles for transformations in layout: (1)
   transformations that adjust the position of the affected content without
   changing the normal layout of that content (much like relative
   positioning) and (2) transformation of the content prior to layout that
   affects the layout of that content. See <a
   href="http://lists.w3.org/Archives/Public/www-style/2007Oct/0209">http://lists.w3.org/Archives/Public/www-style/2007Oct/0209</a>
   for examples of both cases. The "transform" property (as defined in this
   document) is equally useful for both roles. This document is focused on
   satisfying the first role. There is, however, an architectural question
   that arises because there needs to be a way to distinguish which role an
   author of a stylesheet wants. The key question is which is the default
   behavior/role for the "transform" property and how is the other
   behavior/role indicated by a stylesheet author. If you have an opinion on
   this topic, please send feedback.</div>

  <div class=issue> What do fixed backgrounds do in transforms? They should
   probably ignore the transform completely, since - even transformed - the
   object should be acting as "porthole" through which the fixed background
   can be viewed in its original form.</div>
  <!-- ======================================================================================================= -->

  <h2 id=module-interactions><span class=secno>2. </span>Module Interactions</h2>

  <p>Write me

  <h2 id=module-interactions><span class=secno>3. </span>CSS Values</h2>

  <p>Write me

  <h2 id=definitions><span class=secno>4. </span>Definitions</h2>

  <p> When used in this specification, terms have the meanings assigned in
   this section.

  <dl>
   <dt id=TermTransformableElement> <span class=termDefine>transformable
    element</span>

   <dd>
    <p> A transformable element in the HTML namespace which is either be a
     block-level or atomic inline-level element, or an element the SVG
     namespace (see <a href="#SVG11"
     rel=biblioentry>[SVG11]<!--{{SVG11}}--></a>) which has the attributes
     &lsquo;<a href="#effects"><code
     class=property>transform</code></a>&rsquo;, &lsquo;<code
     class=property>patternTransform</code>&rsquo; or &lsquo;<code
     class=property>gradientTransform</code>&rsquo;.</p>

   <dt id=Term3DRenderingContext> <span class=termDefine>3D rendering
    context</span>

   <dd>
    <p> All elements in the same <span class=term>3D rendering context</span>
     share a common three-dimensional coordinate system. Elements in the same
     3D rendering context which intersect may be rendered as intersecting by
     the user agent.</p>
   </dd>
   <!-- Define "three-dimensional transform" ? -->
  </dl>
  <!-- ======================================================================================================= -->

  <h2 id=transform-rendering><span class=secno>5. </span>The Transform
   Rendering Model</h2>
  <!-- This section is normative -->

  <p> Specifying a value other than &lsquo;<code
   class=property>none</code>&rsquo; for the <span class=prop-name>&lsquo;<a
   href="#effects"><code class=property>transform</code></a>&rsquo;</span>
   property establishes a new <em>local coordinate system</em> at the element
   that it is applied to. Transformations are cumulative. That is, elements
   establish their local coordinate system within the coordinate system of
   their parent. From the perspective of the user, an element effectively
   accumulates all the <span class=prop-name>&lsquo;<a href="#effects"><code
   class=property>transform</code></a>&rsquo;</span> properties of its
   ancestors as well as any local transform applied to it. The accumulation
   of these transforms defines a <em>current transformation matrix (CTM)</em>
   for the element.

  <p> The coordinate space behaves as described in the <a
   href="http://www.w3.org/TR/SVG/coords.html#EstablishingANewUserSpace">coordinate
   system transformations</a> section of the SVG 1.1 specification. This is a
   coordinate system with two axes: the X axis increases horizontally to the
   right; the Y axis increases vertically downwards. Three-dimensional
   transform functions extent this coordinate space into three dimensions,
   adding a Z axis perpendicular to the plane of the screen, that increases
   towards the viewer.

  <p> Transforms apply to <a href="#TermTransformableElement">transformable
   elements</a>.</p>
  <!-- This "in the HTML namespace" is awkward. Is there a better way? -->

  <p> In the HTML namespace, the transform property does not affect the flow
   of the content surrounding the transformed element. However, the value of
   the overflow area takes into account transformed elements. This behavior
   is similar to what happens when elements are translated via relative
   positioning. Therefore, if the value of the <span
   class=prop-name>&lsquo;<code class=property>overflow</code>&rsquo;</span>
   property is <span class=prop-value>&lsquo;<code
   class=property>scroll</code>&rsquo;</span> or <span
   class=prop-value>&lsquo;<code class=property>auto</code>&rsquo;</span>,
   scrollbars will appear as needed to see content that is transformed
   outside the visible area.

  <p> In the HTML namespace, any value other than &lsquo;<code
   class=property>none</code>&rsquo; for the transform results in the
   creation of both a stacking context and a containing block. The object
   acts as a containing block for fixed positioned descendants.

  <p class=issue> Is this affect on position:fixed necessary? If so, need to
   go into more detail here about why fixed positioned objects should do
   this, i.e., that it's much harder to implement otherwise.

  <h3 id=transform-3d-rendering><span class=secno>5.1. </span>3D Transform
   Rendering</h3>
  <!-- Maybe define "tranform container" in the definitions, and use it everywhere
              in place of "containing block"? I'm not sure if "containing block" is exactly right. -->

  <p> Normally, elements render as flat planes, and are rendered into the
   same plane as their containing block. Often this is the plane shared by
   the rest of the page. Two-dimensional transform functions can alter the
   appearance of an element, but that element is still rendered into the same
   plane as the containing block.

  <p> Three-dimensional transforms can result in transformation matrices with
   a non-zero Z component<!-- clarify -->, potentially lifting them off the
   plane of their containing block. Because of this, elements with
   three-dimensional transformations could potentially render in an
   front-to-back order that different from the normal CSS rendering order,
   and intersect with each other. Whether they do so depends on whether the
   element is a member of a <span class=term>3D rendering context</span> or
   not, as described below.

  <div class="issue issue-marker">
   <p class=desc>This description does not exactly match what WebKit
    implements. Perhaps it should be changed to match current
    implementations?</p>
  </div>

  <p> An element with a three-dimensional transform that is not contained in
   a <span class=term>3D rendering context</span> renders with the
   appropriate transform applied, but does not intersect with any other
   elements. The three-dimensional transform in this case can be considered
   just as a painting effect, like two-dimensional transforms. Similarly, the
   transform does not affect painting order. For example, a transform with a
   positive Z translation may make an element look larger, but does not cause
   that element to render in front of elements with no translation in Z.

  <div class=example>
   <pre>
</pre>

   <p>Insert example of simple 3d transform.</p>

   <div class=figure></div>
  </div>

  <p> An element with a three-dimensional transform that is contained in a
   <span class=term>3D rendering context</span> can visibly interact with
   other elements in that same 3D rendering context; the set of elements
   participating in the same <span class=term>3D rendering context</span> may
   obscure each other or intersect, based on their computed transforms. They
   are rendered as if they are all siblings, positioned in a common 3D
   coordinate space. The position of each element in that three-dimensional
   space is determined by accumulating the transformation matrices up from
   the element that establishes the <span class=term>3D rendering
   context</span> through each element that is a containing block for the
   given element, as described below.
   <!-- More detail required, probably with matrices -->

  <p> A <span class=term>3D rendering context</span> is established via the
   following:

  <ul>
   <li> A transformable element has a value for the <a href="#perspective"
    type=prop-name>perspective</a> property which is not &lsquo;<code
    class=property>none</code>&rsquo; and greater than 0, and which is not
    itself part of a 3D rendering context.</li>
   <!-- Part of is wooly. Need to clarify. -->

   <li> An transformable element whose computed value of <a
    href="#transform-style" type=prop-name>transform-style</a> is <span
    class=prop-value>&lsquo;<code class=css>perserve-3d</code>&rsquo;</span>,
    and which itself is not part of a 3D rendering context.
  </ul>

  <div class="issue issue-marker">
   <p class=desc>Should intersection behavior be normative?</p>
  </div>

  <p> An element whose computed value for <a href="#transform-style"
   type=prop-name>transform-style</a> is <span style=prop-value>&lsquo;<code
   class=css>preserve-3d</code>&rsquo;</span>, and which is itself a member
   of a <span class=term>3D rendering context</span>, extends the 3D
   rendering context of which it is a member to the elements for which it
   acts as a containing block.

  <p> An element participates in a <span class=term>3D rendering
   context</span> if its containing block establishes or extends a <span
   class=term>3D rendering context</span>.</p>
  <!-- Need more exposition here on establishes vs. participates -->

  <p> The final value of the transform used to render an element in a <span
   class=term>3D rendering context</span> is computed as follows:

  <ol><!-- Clarify pre- vs post-multiply? -->

   <li>Start with the identity matrix

   <li>If the root of the <span class=term>3D rendering context</span> has
    perspective, multiply that into the matrix, taking perspective-origin
    into account.

   <li>For each ancestor of the element in question, compute a transformation
    matrix by:
    <ol>
     <li>applying perpsective and perspective-origin, if any

     <li>applying a translation equivalent to the horizontal and vertical
      offset of the element relative to its containing block as specified by
      CSS layout rules <!-- (tighten this!) -->

     <li>applying transform and transform-origin, if any
    </ol>
    The target matrix is then multiplied with the matrix for this ancestor.
  </ol>
  <!-- Discuss whether an element that establishes a 3D rendering context also participates in it; notably,
              does the foreground/background of the element intersect with transformed members of the 3D rendering context? -->
  <!-- Discuss whether non-transformed memebers of the <span class="term">3D rendering context</span> participate in intersection -->

  <div class="issue issue-marker">
   <p class=desc>Does transform-style follow containing block, or parent
    element ancestry?</p>
  </div>

  <div class="issue issue-marker">
   <p class=desc>Does perspective establish a 3D rendering context?</p>
  </div>

  <div class=example>
   <pre>
</pre>

   <p>Example of simple 3D rendering context</p>

   <div class=figure></div>
  </div>

  <div class=example>
   <pre>
</pre>

   <p>Example of deeper 3D rendering context</p>

   <div class=figure></div>
  </div>

  <div class=example>
   <pre>
</pre>

   <p>Example of flattening inside 3D rendering context</p>

   <div class=figure></div>
  </div>
  <!--
                <p>
  	              The <span class="prop-name">'transform-style'</span> property defines
                  how nested elements are rendered in three-dimensional space. If the <span
                  class="prop-name">'transform-style'</span> is <span
                  class="prop-value">'flat'</span>, all children of this element are
                  rendered flattened into the 2D plane of the element. Therefore, rotating
                  the element about the X or Y axes will cause children positioned at
                  positive or negative Z positions to appear on the element's plane, rather
                  than in front of or behind it. If the <span
                  class="prop-name">'transform-style'</span> is <span
                  class="prop-value">'preserve-3d'</span>, this flattening is not performed,
                  so children maintain their position in three-dimensional space.
                </p>
                <p>
                  This flattening takes place at each element, so preserving a hierarchy
                  of elements in three-dimensional space requires that each element in the hierarchy
                  have the value <span class="prop-value">'preserve-3d'</span> for <span
                  class="prop-name">'transform-style'</span>. But since <span
                  class="prop-name">'transform-style'</span> affects only an element's
                  children, the leaf nodes in a hierarchy do not require the 
                  <span class="prop-name">'transform-style: preserve-3d'</span> to be specified.
                </p>
                
                <p>
                  For some effects, the author will have to ensure that an ancestor
                  element to a subtree using <span class="prop-value">'preserve-3d'</span>
                  has a <span class="prop-name">'transform-style'</span> of <span
                  class="prop-value">'flat'</span> (or the default). Otherwise, the
                  elements in the 3D tree may be located behind ancestor elements and,
                  thus, invisible (hidden behind an ancestor's background).
                </p>

                <p>
                  Note that while 'preserve-3d' can be specified on an element, the effect may not
                  be possible. Elements that have <span class="prop-name">'overflow'</span> set to
                  <span class="prop-value">'hidden'</span> are unable to keep their children in 3D.
                  In this case the element will behave as if the property was set to 
                  <span class="prop-value">'flat'</span>.
                </p>
                -->
  <!-- ======================================================================================================= -->

  <h2 id=transform-property><span class=secno>6. </span> The <span
   class=prop-name>&lsquo;<a href="#effects"><code
   class=property>transform</code></a>&rsquo;</span> Property</h2>

  <p> A transformation is applied to the coordinate system an element renders
   in through the <span class=prop-name>&lsquo;<a href="#effects"><code
   class=property>transform</code></a>&rsquo;</span> property. This property
   contains a list of <a href="#transform-functions">transform functions</a>.
   The final transformation value for a coordinate system is obtained by
   converting each function in the list to its corresponding matrix (either
   defined in this specification or by reference to the SVG specification),
   then multiplying the matrices.

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=effects>transform</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> none | &lt;transform-function&gt; [ &lt;transform-function&gt; ]*

    <tr>
     <td> <em>Initial:</em>

     <td> none

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> refer to the size of the element's border box

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> See below.
  </table>

  <div class="issue issue-marker">
   <p class=desc>We need to resolve whether the computed value is the same as
    the specified value, or matrix().</p>
  </div>

  <p>The computed value of the transform property is a matrix() or matrix3d()
   value that describes the matrix that results from concatenating the
   individual transform functions. If the resulting matrix can be represented
   as a two-dimensional matrix with no loss of information, then a matrix()
   value is returned, otherwise a matrix3d() value. For elements with no
   transform applied, the computed value is &lsquo;<code
   class=property>none</code>&rsquo;.</p>
  <!-- ======================================================================================================= -->

  <h3 id=svg-transform><span class=secno>6.1. </span>The SVG transform
   attribute</h3>

  <p>The <a href="http://www.w3.org/TR/2011/REC-SVG11-20110816/">SVG 1.1
   specification</a> did not specify the &lsquo;<a href="#effects"><code
   class=property>transform</code></a>&rsquo; attribute as a <a
   href="http://www.w3.org/TR/2011/REC-SVG11-20110816/styling.html#UsingPresentationAttributes">presentation
   attribute</a>. In order to improve the integration of SVG and HTML, this
   specification makes the SVG &lsquo;<a href="#effects"><code
   class=property>transform</code></a>&rsquo; attribute a &lsquo;<code
   class=css>presentation attribute</code>&rsquo; and makes the &lsquo;<a
   href="#effects"><code class=property>transform</code></a>&rsquo; property
   one that applies to SVG elements.

  <h4 id=transform-attribute-specificity><span class=secno>6.1.1. </span>SVG
   transform attribute specificity</h4>

  <p>Since the SVG attribute becomes a presentation attribute, its
   participation to the CSS cascade is determined by the specificity of
   presentation attributes, as <a
   href="http://www.w3.org/TR/2011/REC-SVG11-20110816/styling.html#UsingPresentationAttributes">explained</a>
   in the SVG specification.

  <h4 id=transform-attribute-dom><span class=secno>6.1.2. </span>SVG
   transform attribute DOM</h4>

  <p>The SVG specification <a
   href="http://www.w3.org/TR/2011/REC-SVG11-20110816/coords.html#InterfaceSVGAnimatedTransformList">defines</a>
   a DOM interface to access the animated and base value of the SVG transform
   attribute. To ensure backwards compatibility, this API should still be
   supported by user agents. The <code>baseVal</code> should be the value of
   the &lsquo;<a href="#effects"><code
   class=property>transform</code></a>&rsquo; attribute, as set on the
   element, and the <code>animVal</code> should be the property's computed
   value which account for CSS animation, if any is underway.

  <div class=issue>
   <ul>
    <li>Should we also make gradientTransform and patternTransform
     presentation attributes? Proposal: they are the &lsquo;<code
     class=css>presentation attributes</code>&rsquo; for &lt;gradient&gt; and
     &gt;pattern&lt; respectively, for the &lsquo;<a href="#effects"><code
     class=property>transform</code></a>&rsquo; property (i.e., there is no
     &lsquo;<code class=property>gradientTransform</code>&rsquo; property.
     Instead, the &lsquo;<code class=property>gradientTransform</code>&rsquo;
     is a presentation attribute that provides a value for the &lsquo;<a
     href="#effects"><code class=property>transform</code></a>&rsquo;
     property that applies to the &lt;gradient&gt; element.)

    <li>Is this proposal working for SMIL animation of the transform
     property?
   </ul>
  </div>
  <!-- ======================================================================================================= -->

  <h2 id=transform-origin-property><span class=secno>7. </span> The <span
   class=prop-name>&lsquo;<a href="#transform-origin"><code
   class=property>transform-origin</code></a>&rsquo;</span> Property</h2>

  <div class="issue issue-marker">
   <p class=desc>Need to add 3D transform-origin variant in a way that is not
    ambiguous with the background-origin syntax (<a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15432">bug
    15432</a>).</p>
  </div>

  <p> The <span class=prop-name>&lsquo;<a href="#transform-origin"><code
   class=property>transform-origin</code></a>&rsquo;</span> property
   establishes the origin of transformation for a coordinate system. This
   property is applied by first translating the element's coordinate system
   by the negated value of the property, then applying the local transform,
   then translating by the property value. This effectively moves the desired
   transformation origin of the element to (0,0) in the local coordinate
   system, then applies the local transform, then moves the element back to
   its original position.

  <p>If only one value is specified, the second value is assumed to be
   &lsquo;<code class=property>center</code>&rsquo;. If two values are given
   and at least one value is not a keyword, then the first value represents
   the horizontal position (or offset) and the second represents the vertical
   position (or offset). <var>&lt;percentage&gt;</var> and
   <var>&lt;length&gt;</var> values here represent an offset of the transform
   origin from the top left corner of the element's border box.

  <p>If three or four values are given, then each
   <var>&lt;percentage&gt;</var> or<var>&lt;length&gt;</var> represents an
   offset and must be preceded by a keyword, which specifies from which edge
   the offset is given. For example, &lsquo;<code class=css>transform-origin:
   bottom 10px right 20px</code>&rsquo; represents a &lsquo;<code
   class=css>10px</code>&rsquo; vertical offset up from the bottom edge and a
   &lsquo;<code class=css>20px</code>&rsquo; horizontal offset leftward from
   the right edge. If three values are given, the missing offset is assumed
   to be zero.

  <p>Positive values represent an offset <em>inward</em> from the edge of the
   border box. Negative values represent an offset <em>outward</em> from the
   edge of the border box.

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=transform-origin>transform-origin</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> [ top | bottom ] |<br>
      [ &lt;percentage> | &lt;length&gt; | left | center | right ] [
      &lt;percentage> | &lt;length&gt; | top | center | bottom ]? |<br>
      [ center | [ left | right ] [ &lt;percentage> | &lt;length&gt; ]? ]
      &amp;&amp; [ center | [ top | bottom ] [ &lt;percentage> |
      &lt;length&gt; ]? ]<br>

    <tr>
     <td> <em>Initial:</em>

     <td> 0 0 for SVG elements, 50% 50% for all other elements

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable element</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> refer to the size of the element's border box

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> For &lt;length&gt; the absolute value, otherwise a percentage
  </table>

  <h3 id=svg-transform-origin><span class=secno>7.1. </span>The &lsquo;<a
   href="#transform-origin"><code
   class=property>transform-origin</code></a>&rsquo; property for SVG
   elements</h3>

  <div class="issue issue-marker">
   <p class=desc>Should we use &lsquo;<code
    class=property>auto</code>&rsquo;, or explicitly say that
    transform-origin is 0 0 for SVG elements, 50% 50% for all other elements
    (<a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15504">bug
    15504</a>)?</p>
  </div>

  <p>To keep the &lsquo;<a href="#effects"><code
   class=property>transform</code></a>&rsquo; property compatible with
   existing SVG content that assumed a top/left coordinate system origin, the
   user agent stylesheet must contain the following:

  <pre class=css>
svg | * {
    transform-origin: top left;
}                  
              </pre>

  <div class=issue>
   <p class=desc>Need to determine how to extend transform-origin to allow it
    ot affect the z-origin with three-dimensional transforms (<a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=14647">Bug
    14647</a>).
  </div>
  <!-- ======================================================================================================= -->

  <h2 id=transform-style-property><span class=secno>8. </span> The <span
   class=prop-name>&lsquo;<a href="#transform-style"><code
   class=property>transform-style</code></a>&rsquo;</span> Property</h2>

  <p> Property summary here.

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=transform-style>transform-style</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> flat | preserve-3d

    <tr>
     <td> <em>Initial:</em>

     <td> flat

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> N/A

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> Same as specified value.
  </table>

  <p> A value of <span class=prop-value>preserve-3d</span> for <a
   class=prop-name href="#transform-style">transform-style</a> establishes a
   stacking context.

  <div class="issue issue-marker">
   <p class=desc>Should this affect the computed value of transform-style?</p>
  </div>

  <p> The following CSS property values require the user agent to create a
   flattened representation of the descendant elements before they can be
   applied, and therefore override the behavior of <a class=prop-name
   href="#transform-style">transform-style</a>: <span
   class=prop-value>preserve-3d</span>:

  <ul>
   <li><span class=prop-name>overflow</span>: any value other than
    &lsquo;<code class=property>visible</code>&rsquo;.

   <li><span class=prop-name>opacity</span>: any value other than 1.

   <li><span class=prop-name>filter</span>: any value other than &lsquo;<code
    class=property>none</code>&rsquo;.</li>
   <!-- Others? -->
  </ul>
  <!-- ======================================================================================================= -->

  <h2 id=perspective-property><span class=secno>9. </span> The <span
   class=prop-name>&lsquo;<a href="#perspective"><code
   class=property>perspective</code></a>&rsquo;</span> Property</h2>

  <p>

  <p> The <span class=prop-name>&lsquo;<a href="#perspective"><code
   class=property>perspective</code></a>&rsquo;</span> property applies the
   same transform as the <span
   class=prop-value>perspective(&lt;length&gt;)</span> transform function,
   except that it applies only to the positioned or transformed children of
   the element, not to the transform on the element itself.

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=perspective>perspective</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> none | &lt;length&gt;

    <tr>
     <td> <em>Initial:</em>

     <td> none

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> N/A

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> Same as specified value.
  </table>

  <p> If the value is <span class=prop-value>&lsquo;<code
   class=property>none</code>&rsquo;</span>, less than or equal to 0 no
   perspective transform is applied.

  <p> The use of this property with any value other than &lsquo;<code
   class=property>none</code>&rsquo; establishes a stacking context. It also
   establishes a containing block (somewhat similar to position:relative),
   just like the &lsquo;<a href="#effects"><code
   class=property>transform</code></a>&rsquo; property does.</p>
  <!-- ======================================================================================================= -->

  <h2 id=perspective-origin-property><span class=secno>10. </span> The <span
   class=prop-name>&lsquo;<a href="#perspective-origin"><code
   class=property>perspective-origin</code></a>&rsquo;</span> Property</h2>

  <p> The <span class=prop-name>&lsquo;<a href="#perspective-origin"><code
   class=property>perspective-origin</code></a>&rsquo;</span> property
   establishes the origin for the <a
   href="#perspective"><em>perspective</em></a> property. It effectively sets
   the X and Y position at which the viewer appears to be looking at the
   children of the element.

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=perspective-origin>perspective-origin</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> [ [ &lt;percentage&gt; | &lt;length&gt; | left | center | right ] [
      &lt;percentage&gt; | &lt;length&gt; | top | center | bottom ]? ] | [ [
      left | center | right ] || [ top | center | bottom ] ]

    <tr>
     <td> <em>Initial:</em>

     <td> 50% 50%

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> <a href="#TermTransformableElement">transformable elements</a>

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> refer to the size of the element's border box

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> Same as specified value.
  </table>
  <!-- ======================================================================================================= -->

  <h2 id=backface-visibility-property><span class=secno>11. </span> The <span
   class=prop-name>&lsquo;<a href="#backface-visibility"><code
   class=property>backface-visibility</code></a>&rsquo;</span> Property</h2>

  <p> The <span class=prop-name>&lsquo;<a href="#backface-visibility"><code
   class=property>backface-visibility</code></a>&rsquo;</span> property
   determines whether or not the "back" side of a transformed element is
   visible when facing the viewer. With an identity transform, the front side
   of an element faces the viewer. Applying a rotation about Y of 180 degrees
   (for instance) would cause the back side of the element to face the
   viewer.</p>
  <!-- This should not be in a normative section. -->

  <p> This property is useful when you place two elements back-to-back, as
   you would to create a playing card. Without this property, the front and
   back elements could switch places at times during an animation to flip the
   card. Another example is creating a box out of 6 elements, but where you
   want to see the inside faces of the box. This is useful when creating the
   backdrop for a 3 dimensional stage.

  <table class=propdef>
   <tbody>
    <tr>
     <td> <em>Name:</em>

     <td> <dfn id=backface-visibility>backface-visibility</dfn>

    <tr>
     <td> <em>Value:</em>

     <td> visible | hidden

    <tr>
     <td> <em>Initial:</em>

     <td> visible

    <tr>
     <td> <em>Applies&nbsp;to:</em>

     <td> block-level and inline-level elements

    <tr>
     <td> <em>Inherited:</em>

     <td> no

    <tr>
     <td> <em>Percentages:</em>

     <td> N/A

    <tr>
     <td> <em>Media:</em>

     <td> visual

    <tr>
     <td> <em>Computed value:</em>

     <td> Same as specified value.
  </table>
  <!-- ======================================================================================================= -->

  <h2 id=transform-functions><span class=secno>12. </span> The Transformation
   Functions</h2>

  <p> The value of the <a class=prop-name href="#effects">transform</a>
   property is a list of &lt;transform-functions&gt; applied in the order
   provided. The individual transform functions are separated by whitespace.
   The set of allowed transform functions is given below. In this list the
   type &lt;translation-value&gt; is defined as a &lt;length&gt; or
   &lt;percentage&gt; value, and the &lt;angle&gt; type is defined by <a
   href="http://www.w3.org/TR/css3-values/">CSS Values and Units.</a>
   Wherever &lt;angle&gt; is used in this specification, a &lt;number&gt;
   that is equal to zero is also allowed, which is treated the same as an
   angle of zero degrees.

  <dl>
   <dt> <span class=prop-value>matrix(&lt;number&gt;, &lt;number&gt;,
    &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;)</span>

   <dd> specifies a 2D transformation in the form of a <a
    href="http://www.w3.org/TR/SVG/coords.html#TransformMatrixDefined">transformation
    matrix</a> of six values. <span
    class=prop-value>matrix(a,b,c,d,e,f)</span> is equivalent to applying the
    transformation matrix <strong>[a b c d e f]</strong>.

   <dt> <span class=prop-value>translate(&lt;translation-value&gt;[,
    &lt;translation-value&gt;])</span>

   <dd> specifies a <a
    href="http://www.w3.org/TR/SVG/coords.html#TranslationDefined">2D
    translation</a> by the vector [tx, ty], where tx is the first
    translation-value parameter and ty is the optional second
    translation-value parameter. If <em>&lt;ty&gt;</em> is not provided, ty
    has zero as a value.

   <dt> <span class=prop-value>translateX(&lt;translation-value&gt;)</span>

   <dd> specifies a <a
    href="http://www.w3.org/TR/SVG/coords.html#TranslationDefined">translation</a>
    by the given amount in the X direction.

   <dt> <span class=prop-value>translateY(&lt;translation-value&gt;)</span>

   <dd> specifies a <a
    href="http://www.w3.org/TR/SVG/coords.html#TranslationDefined">translation</a>
    by the given amount in the Y direction.

   <dt> <span class=prop-value>scale(&lt;number&gt;[, &lt;number&gt;])</span>
    

   <dd> specifies a <a
    href="http://www.w3.org/TR/SVG/coords.html#ScalingDefined">2D scale</a>
    operation by the [sx,sy] scaling vector described by the 2 parameters. If
    the second parameter is not provided, it is takes a value equal to the
    first. For example, scale(1, 1) would leave an element unchanged, while
    scale(2, 2) would cause it to appear twice as long in both the X and Y
    axes, or four times its typical geometric size.

   <dt> <span class=prop-value>scaleX(&lt;number&gt;)</span>

   <dd> specifies a scale operation using the [sx,1] scaling vector, where sx
    is given as the parameter.

   <dt> <span class=prop-value>scaleY(&lt;number&gt;)</span>

   <dd> specifies a scale operation using the [1,sy] scaling vector, where sy
    is given as the parameter.

   <dt> <span class=prop-value>rotate(&lt;angle&gt;)</span>

   <dd> specifies a <a
    href="http://www.w3.org/TR/SVG/coords.html#RotationDefined">2D
    rotation</a> by the angle specified in the parameter about the origin of
    the element, as defined by the <a
    href="#transform-origin"><em>transform-origin</em></a> property. For
    example, rotate(90deg) would cause elements to appear rotated one-quarter
    of a turn in the clockwise direction.

   <dt> <span class=prop-value>skewX(&lt;angle&gt;)</span>

   <dd> specifies a <a
    href="http://www.w3.org/TR/SVG/coords.html#SkewXDefined">skew
    transformation along the X axis</a> by the given angle.

   <dt> <span class=prop-value>skewY(&lt;angle&gt;)</span>

   <dd> specifies a <a
    href="http://www.w3.org/TR/SVG/coords.html#SkewYDefined">skew
    transformation along the Y axis</a> by the given angle.
  </dl>

  <h2 id=transform-values><span class=secno>13. </span> Transform Values and
   Lists</h2>

  <p> The &lt;translation-value&gt; values are defined as [&lt;percentage&gt;
   | &lt;length&gt;]. All other value types are described <a
   href="http://www.w3.org/TR/REC-CSS2/syndata.html#values">as CSS types</a>.
   If a list of transforms is provided, then the net effect is as if each
   transform had been specified separately in the order provided. For
   example,

  <pre>
          &lt;div style="transform:translate(-10px,-20px) scale(2) rotate(45deg) translate(5px,10px)"/&gt;
          </pre>

  <p> is functionally equivalent to:

  <pre>
          &lt;div style="transform:translate(-10px,-20px)"&gt;
            &lt;div style="transform:scale(2)"&gt;
              &lt;div style="transform:rotate(45deg)"&gt;
                &lt;div style="transform:translate(5px,10px)"&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          </pre>

  <p> That is, in the absence of other styling that affects position and
   dimensions, a nested set of transforms is equivalent to a single list of
   transform functions, applied from the outside in. The resulting transform
   is the matrix multiplication of the list of transforms.

  <div class=example>
   <pre>
          div {
              transform: translate(100px, 100px);
          }
          </pre>
   Move the element by 100 pixels in both the X and Y directions.
   <div class=figure> <img alt="The 100px translation in X and Y"
    src=transform1.png></div>
  </div>

  <div class=example>
   <pre>
          div {
              height: 100px; width: 100px;
              transform: translate(80px, 80px) scale(1.5, 1.5) rotate(45deg);
          }
          </pre>
   Move the element by 80 pixels in both the X and Y directions, then scale
   the element by 150%, then rotate it 45 degrees clockwise about the Z axis.
   Note that the scale and rotate operate about the center of the element,
   since the element has the default transform-origin of 50% 50%.
   <div class=figure> <img alt="The transform specified above"
    src="compound_transform.png"></div>
  </div>
  <!-- ======================================================================================================= -->

  <h2 id=animation><span class=secno>14. </span> Transitions and animations
   between transform values</h2>

  <p> When animating or transitioning the value of a transform property the
   rules described below are applied. The &lsquo;<code
   class=property>from</code>&rsquo; transform is the transform at the start
   of the transition or current keyframe. The &lsquo;<code
   class=property>end</code>&rsquo; transform is the transform at the end of
   the transition or current keyframe.

  <ul>
   <li> If the &lsquo;<code class=property>from</code>&rsquo; and
    &lsquo;<code class=property>to</code>&rsquo; transforms are both single
    functions of the same type:
    <ul>
     <li> For translate, translateX, translateY, scale, scaleX, scaleY,
      rotate, skew, skewX and skewY functions:
      <ul>
       <li> the individual components of the function are interpolated
        numerically.
      </ul>

     <li> For matrix:
      <ul>
       <li> the matrix is decomposed using <a
        href="http://tog.acm.org/GraphicsGems/gemsii/unmatrix.c">the method
        described by unmatrix</a> into separate translation, scale, rotation
        and skew matrices, then each decomposed matrix is interpolated
        numerically, and finally combined in order to produce a resulting 3x2
        matrix.
      </ul>
    </ul>

   <li> If both the &lsquo;<code class=property>from</code>&rsquo; and
    &lsquo;<code class=property>to</code>&rsquo; transforms are "none":
    <ul>
     <li> There is no interpolation necessary
    </ul>

   <li> If one of the &lsquo;<code class=property>from</code>&rsquo; or
    &lsquo;<code class=property>to</code>&rsquo; transforms is "none":
    <ul>
     <li> The &lsquo;<code class=property>none</code>&rsquo; is replaced by
      an equivalent identity function list for the corresponding transform
      function list.
      <p> For example, if the &lsquo;<code class=property>from</code>&rsquo;
       transform is "scale(2)" and the &lsquo;<code
       class=property>to</code>&rsquo; transform is "none" then the value
       "scale(1)" will be used as the &lsquo;<code
       class=property>to</code>&rsquo; value, and animation will proceed
       using the rule above. Similarly, if the &lsquo;<code
       class=property>from</code>&rsquo; transform is "none" and the
       &lsquo;<code class=property>to</code>&rsquo; transform is "scale(2)
       rotate(50deg)" then the animation will execute as if the &lsquo;<code
       class=property>from</code>&rsquo; value is "scale(1) rotate(0)".</p>

      <p> The identity functions are translate(0), translateX(0),
       translateY(0), scale(1), scaleX(1), scaleY(1), rotate(0), skewX(0),
       skewY(0) and matrix(1, 0, 0, 1, 0, 0).</p>
    </ul>

   <li> If both the &lsquo;<code class=property>from</code>&rsquo; and
    &lsquo;<code class=property>to</code>&rsquo; transforms have the same
    number of transform functions and corresponding functions in each
    transform list are of the same type:
    <ul>
     <li> Each transform function is animated with its corresponding
      destination function in isolation using the rules described above. The
      individual values are then applied as a list to produce resulting
      transform value.
    </ul>

   <li> Otherwise:
    <ul>
     <li> The transform function lists are each converted into the equivalent
      matrix value and animation proceeds using the rule for a single
      function above.
    </ul>
  </ul>

  <p> In some cases, an animation might cause a transformation matrix to be
   singular or non-invertible. For example, an animation in which scale moves
   from 1 to -1. At the time when the matrix is in such a state, the
   transformed element is not rendered.

  <h2 id=matrix-decomposition><span class=secno>15. </span> Matrix
   decomposition for animation</h2>

  <p> When interpolating between 2 matrices, each is decomposed into the
   corresponding translation, rotation, scale and skew values. Not all
   matrices can be accurately described by these values. Those that can't are
   decomposed into the most accurate representation possible, using the
   technique below. This technique is taken from The "unmatrix" method in
   "Graphics Gems II, edited by Jim Arvo", simplified for the 2D case.

  <h3 id=unmatrix><span class=secno>15.1. </span>Unmatrix</h3>

  <pre>
          Input:  a, b, c, d ; 2x2 matrix (rotate, scale, shear) components
                  tx, ty     ; translation components
          Output: translate  ; a 2 component vector
                  rotate     ; an angle
                  scale      ; a 2 component vector
                  skew       ; skew factor
          Returns false if the matrix cannot be decomposed, true if it can

          Supporting functions (point is a 2 component vector):
            float  length(point)                returns the length of the passed vector
            point  normalize(point)             normalizes the length of the passed point to 1
            float  dot(point, point)            returns the dot product of the passed points
            float  atan2(float y, float x)      returns the principal value of the arc tangent of 
                                                y/x, using the signs of both arguments to determine 
                                                the quadrant of the return value

          Decomposition also makes use of the following function:
            point combine(point a, point b, float ascl, float bscl)
                result[0] = (ascl * a[0]) + (bscl * b[0])
                result[1] = (ascl * a[1]) + (bscl * b[1])
                return result

          // Make sure the matrix is invertible
          if ((a * d - b * c) == 0)
            return false

          // Take care of translation
          translate[0] = tx
          translate[1] = matrix[3][1]

          // Put the components into a 2x2 matrix 'mat'
          mat[0][0] = a
          mat[0][1] = b
          mat[1][0] = c
          mat[1][1] = d

          // Compute X scale factor and normalize first row.
          scale[0] = length(row[0])
          row[0] = normalize(row[0])

          // Compute shear factor and make 2nd row orthogonal to 1st.
          skew = dot(row[0], row[1])
          row[1] = combine(row[1], row[0], 1.0, -skew)

          // Now, compute Y scale and normalize 2nd row.
          scale[1] = length(row[1])
          row[1] = normalize(row[1])
          skew /= scale[1];

          // Now, get the rotation out
          rotate = atan2(mat[0][1], mat[0][0])

          return true;</pre>

  <h3 id=animating-the-components><span class=secno>15.2. </span>Animating
   the components</h3>

  <p> Once decomposed, each component of each returned value of the source
   matrix is linearly interpolated with the corresponding component of the
   destination matrix. For instance, the translate[0] and translate[1] values
   are interpolated numerically, and the result is used to set the
   translation of the animating element.

  <h3 id=recomposing-the-matrix><span class=secno>15.3. </span>Recomposing
   the matrix</h3>

  <p><em>This section is not normative.</em>

  <p> After interpolation the resulting values are used to position the
   element. One way to use these values is to recompose them into a 3x2
   matrix. This can be done using the Transformation Functions of the <a
   href="#effects"><em>transform</em></a> property. The following JavaScript
   example produces a string for this purpose. The values passed in are the
   output of the Unmatrix function above:

  <pre>
        function compose(translate, rotate, scale, skew, elementID)
        {
            var s = " translate(" + translate[0] + ", " + translate[1] + ")";
            s += " rotate(" + rotate + ")";
            s += " skewX(" + skew + ")";
            s += " scale(" + scale[0] + ", " + scale[1] + ")";
            document.getElementById(elementID).style.transform = s;
        }</pre>

  <h2 id=dom-interfaces><span class=secno>16. </span> DOM Interfaces</h2>

  <p> This section describes the interfaces and functionality added to the
   DOM to support runtime access to the functionality described above.

  <h3 id=cssmatrix-interface><span class=secno>16.1. </span> CSSMatrix</h3>

  <div class="issue issue-marker">
   <p class=desc>We actually describe a 3x2 matrix here, similar to <a
    href="http://www.w3.org/TR/SVG/coords.html#InterfaceSVGMatrix">SVGMatrix</a>.</p>
  </div>

  <div class="issue issue-marker">
   <p class=desc>We need to resolve how SVGMatrix and CSSMatrix work together
    (<a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15498">bug
    15498</a>).</p>
  </div>

  <dl>
   <dt> <b>Interface <i><a id=DOM-CSSMatrix
    name=DOM-CSSMatrix>CSSMatrix</a></i></b>

   <dd>
    <p> The <code>CSSMatrix</code> interface represents a 3x2 homogeneous
     matrix.</p>

    <dl>
     <dt> <b>IDL Definition</b>

     <dd>
      <div class=idl-code>
       <pre>
          interface CSSMatrix {
              attribute float a;
              attribute float b;
              attribute float c;
              attribute float d;
              attribute float e;
              attribute float f;

              void        setMatrixValue(in DOMString string) raises(DOMException);
              CSSMatrix   multiply(in CSSMatrix secondMatrix);
              CSSMatrix   inverse() raises(DOMException);
              CSSMatrix   translate(in float x, in float y);
              CSSMatrix   scale(in float scaleX, in float scaleY);
              CSSMatrix   skewX(in float angle);
              CSSMatrix   skewY(in float angle);
              CSSMatrix   rotate(in float angle);
          };</pre>
      </div>
      <br>
     </dd>
     <!-- IDL -->

     <dt> <b>Attributes</b>

     <dd>
      <dl>
       <dt> <code class=attribute-name><a id=DOM-CSSMatrix-matrix
        name=DOM-CSSMatrix-matrix>a-f</a></code> of type <code>float</code>

       <dd> Each of these attributes represents one of the values in the 3x2
        matrix.<br>
      </dl>
     </dd>
     <!-- Attributes -->

     <dt> <b>Methods</b>

     <dd>
      <dl><!-- ===================================================== -->

       <dt> <code class=method-name><a id=DOM-CSSMatrix-setMatrixValue
        name=DOM-CSSMatrix-setMatrixValue>setMatrixValue</a></code>

       <dd>
        <div class=method> The <code>setMatrixValue</code> method replaces
         the existing matrix with one computed from parsing the passed string
         as though it had been assigned to the transform property in a CSS
         style rule.
         <div class=parameters> <b>Parameters</b>
          <div class=paramtable>
           <dl>
            <dt> <code class=parameter-name>string</code> of type
             <code>DOMString</code>

            <dd> The string to parse.<br>
           </dl>
          </div>
         </div>
         <!-- parameters -->
         <div class=return-value> <b>No Return Value</b></div>

         <div> <b>Exceptions</b>
          <div class=returnvalue>
           <dl>
            <dt> <code>DOMException SYNTAX_ERR</code>

            <dd> Thrown when the provided string can not be parsed into a
             CSSMatrix.
           </dl>
          </div>
         </div>
        </div>
       </dd>
       <!-- setMatrixValue -->
       <!-- ===================================================== -->

       <dt> <code class=method-name><a id=DOM-CSSMatrix-multiply
        name=DOM-CSSMatrix-multiply>multiply</a></code>

       <dd>
        <div class=method> The <code>multiply</code> method returns a new
         CSSMatrix which is the result of this matrix multiplied by the
         passed matrix, with the passed matrix to the right. This matrix is
         not modified.
         <div class=parameters> <b>Parameters</b>
          <div class=paramtable>
           <dl>
            <dt> <code class=parameter-name>secondMatrix</code> of type
             <code>CSSMatrix</code>

            <dd> The matrix to multiply.<br>
           </dl>
          </div>
         </div>
         <!-- parameters -->
         <div class=return-value> <b>Return Value</b>
          <div class=returnvalue>
           <dl>
            <dt> <code>CSSMatrix</code>

            <dd> The result matrix.<br>
           </dl>
          </div>
         </div>

         <div> <b>No Exceptions</b></div>
        </div>
       </dd>
       <!-- multiply() -->
       <!-- ===================================================== -->

       <dt> <code class=method-name><a id=DOM-CSSMatrix-inverse
        name=DOM-CSSMatrix-inverse>inverse</a></code>

       <dd>
        <div class=method> The <code>inverse</code> method returns a new
         matrix which is the inverse of this matrix. This matrix is not
         modified.
         <div class=parameters> <b>No Parameters</b></div>
         <!-- parameters -->
         <div class=return-value> <b>Return Value</b>
          <div class=returnvalue>
           <dl>
            <dt> <code>CSSMatrix</code>

            <dd> The inverted matrix.<br>
           </dl>
          </div>
         </div>

         <div> <b>Exceptions</b>
          <div class=returnvalue>
           <dl>
            <dt> <code>DOMException NOT_SUPPORTED_ERR</code>

            <dd> Thrown when the CSSMatrix can not be inverted.
           </dl>
          </div>
         </div>
        </div>
        <!-- ======================================================================================================= -->
        </dd>
       <!-- inverse() -->
       <!-- ===================================================== -->

       <dt> <code class=method-name><a id=DOM-CSSMatrix-translate
        name=DOM-CSSMatrix-translate>translate</a></code>

       <dd>
        <div class=method> The <code>translate</code> method returns a new
         matrix which is this matrix multiplied by a translation matrix
         containing the passed values. This matrix is not modified.
         <div class=parameters> <b>Parameters</b>
          <div class=paramtable>
           <dl>
            <dt> <code class=parameter-name>x</code> of type
             <code>float</code>

            <dd> The X component of the translation value.<br>

            <dt> <code class=parameter-name>y</code> of type
             <code>float</code>

            <dd> The Y component of the translation value.<br>
           </dl>
          </div>
         </div>
         <!-- parameters -->
         <div class=return-value> <b>Return Value</b>
          <div class=returnvalue>
           <dl>
            <dt> <code>CSSMatrix</code>

            <dd> The result matrix.<br>
           </dl>
          </div>
         </div>

         <div> <b>No Exceptions</b></div>
        </div>
        <!-- ======================================================================================================= -->
        </dd>
       <!-- translate() -->
       <!-- ===================================================== -->

       <dt> <code class=method-name><a id=DOM-CSSMatrix-scale
        name=DOM-CSSMatrix-scale>scale</a></code>

       <dd>
        <div class=method> The <code>scale</code> method returns a new matrix
         which is this matrix multiplied by a scale matrix containing the
         passed values. If the y component is undefined, the x component
         value is used in its place. This matrix is not modified.
         <div class=parameters> <b>Parameters</b>
          <div class=paramtable>
           <dl>
            <dt> <code class=parameter-name>scaleX</code> of type
             <code>float</code>

            <dd> The X component of the scale value.<br>

            <dt> <code class=parameter-name>scaleY</code> of type
             <code>float</code>

            <dd> The (optional) Y component of the scale value.<br>
           </dl>
          </div>
         </div>
         <!-- parameters -->
         <div class=return-value> <b>Return Value</b>
          <div class=returnvalue>
           <dl>
            <dt> <code>CSSMatrix</code>

            <dd> The result matrix.<br>
           </dl>
          </div>
         </div>

         <div> <b>No Exceptions</b></div>
        </div>
        <!-- ======================================================================================================= -->
        </dd>
       <!-- scale() -->
       <!-- ===================================================== -->

       <dt> <code class=method-name><a id=DOM-CSSMatrix-rotate
        name=DOM-CSSMatrix-rotate>rotate</a></code>

       <dd>
        <div class=method> The <code>rotate</code> method returns a new
         matrix which is this matrix multiplied by a <a
         href="http://www.w3.org/TR/SVG/coords.html#RotationDefined">rotation
         matrix</a>. The rotation value is in degrees. This matrix is not
         modified.
         <div class=parameters> <b>Parameters</b>
          <div class=paramtable>
           <dl>
            <dt> <code class=parameter-name>angle</code> of type
             <code>float</code>

            <dd> The angle of rotation.<br>
           </dl>
          </div>
         </div>
         <!-- parameters -->
         <div class=return-value> <b>Return Value</b>
          <div class=returnvalue>
           <dl>
            <dt> <code>CSSMatrix</code>

            <dd> The result matrix.<br>
           </dl>
          </div>
         </div>

         <div> <b>No Exceptions</b></div>
        </div>
        <!-- ======================================================================================================= -->
        </dd>
       <!-- rotate() -->
       <!-- ===================================================== -->

       <dt> <code class=method-name><a id=DOM-CSSMatrix-skew-x
        name=DOM-CSSMatrix-skew-x>skewX</a></code>

       <dd>
        <div class=method> The <code>skewX</code> method returns a new matrix
         which is this matrix multiplied by a matrix representing a <a
         href="http://www.w3.org/TR/SVG/coords.html#SkewXDefined">skew along
         the x-axis</a>. The rotation value is in degrees. This matrix is not
         modified.
         <div class=parameters> <b>Parameters</b>
          <div class=paramtable>
           <dl>
            <dt> <code class=parameter-name>angle</code> of type
             <code>float</code>

            <dd> The angle of skew along the X axis.<br>
           </dl>
          </div>
         </div>
         <!-- parameters -->
         <div class=return-value> <b>Return Value</b>
          <div class=returnvalue>
           <dl>
            <dt> <code>CSSMatrix</code>

            <dd> The result matrix.<br>
           </dl>
          </div>
         </div>

         <div> <b>No Exceptions</b></div>
        </div>
        <!-- ======================================================================================================= -->
        </dd>
       <!-- skewX() -->
       <!-- ===================================================== -->

       <dt> <code class=method-name><a id=DOM-CSSMatrix-skew-y
        name=DOM-CSSMatrix-skew-y>skewY</a></code>

       <dd>
        <div class=method> The <code>skewX</code> method returns a new matrix
         which is this matrix multiplied by a matrix representing a <a
         href="http://www.w3.org/TR/SVG/coords.html#SkewYDefined">skew along
         the y-axis</a>. The rotation value is in degrees. This matrix is not
         modified.
         <div class=parameters> <b>Parameters</b>
          <div class=paramtable>
           <dl>
            <dt> <code class=parameter-name>angle</code> of type
             <code>float</code>

            <dd> The angle of skew along the Y axis.<br>
           </dl>
          </div>
         </div>
         <!-- parameters -->
         <div class=return-value> <b>Return Value</b>
          <div class=returnvalue>
           <dl>
            <dt> <code>CSSMatrix</code>

            <dd> The result matrix.<br>
           </dl>
          </div>
         </div>

         <div> <b>No Exceptions</b></div>
        </div>
        <!-- ======================================================================================================= -->
        </dd>
       <!-- skewY() -->
      </dl>
      <!-- methods -->
    </dl>
   </dd>
   <!-- Interface CSSMatrix -->
  </dl>

  <h2 id=changes><span class=secno>17. </span>Changes</h2>

  <h3 id="changes_on_January_26_2012"><span class=secno>17.1. </span> Changes
   by Simon Fraser on January 26 2012</h3>

  <ul>
   <li>Added definitions for the 3D transform-related properties

   <li>Started writing some prose about the 3D rendering model

   <li>Moved some content into normative sections, since we need some
    normative text describing how 3D is rendered
  </ul>

  <h3 id="changes_on_January_25_2012"><span class=secno>17.2. </span> Changes
   by Simon Fraser on January 25 2012</h3>

  <ul>
   <li>Potentially resolved <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15471">bug 15471</a>
    and <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15535">bug
    15535</a> by removing the text about getComputedStyle after CSS matrix,
    and adding a paragraph about the computed value of the &lsquo;<a
    href="#effects"><code class=property>transform</code></a>&rsquo;
    property.

   <li>Fixed <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15598">bug
    15598</a>, adding a note about unitless 0 in angles.
  </ul>

  <h3 id="changes_from_January_24_2012"><span class=secno>17.3. </span>
   Changes from <a
   href="http://www.w3.org/TR/2012/ED-css3-2d-transforms-20110124/">January
   24<sup>th</sup> 2012</a> version</h3>

  <ul>
   <li> Corrected typing errors in introduction.

   <li> Mention three dimensional space in introduction.

   <li> Added TODO for adding perspective transform in introduction.

   <li> Added new section &lsquo;<code
    class=property>Definitions</code>&rsquo; for terms used in this document.
    

   <li> Copied style setting for term descriptions from the &lsquo;<code
    class=css>Filter Effects 1.0</code>&rsquo; specification.

   <li> Introduced new term &lsquo;<code class=css>transformable
    element</code>&rsquo; and added description to the &lsquo;<code
    class=property>Description</code>&rsquo; section.

   <li> Added new section &lsquo;<code class=property>Changes</code>&rsquo;
    for changes to this document.

   <li> Added Vincent Hardy and Dirk Schulze as editors.
  </ul>

  <h2 id=references><span class=secno>18. </span>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=SVG11>[SVG11]

   <dd>Erik Dahlstr&#246;m; et al. <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/"><cite>Scalable
    Vector Graphics (SVG) 1.1 (Second Edition).</cite></a> 16 August 2011.
    W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/">http://www.w3.org/TR/2011/REC-SVG11-20110816/</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=property-index>Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies&nbsp;to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><a class=property
      href="#backface-visibility">backface-visibility</a>

     <td>visible | hidden

     <td>visible

     <td>block-level and inline-level elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#perspective">perspective</a>

     <td>none | &lt;length&gt;

     <td>none

     <td>transformable elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#perspective-origin">perspective-origin</a>

     <td>[ [ &lt;percentage&gt; | &lt;length&gt; | left | center | right ] [
      &lt;percentage&gt; | &lt;length&gt; | top | center | bottom ]? ] | [ [
      left | center | right ] || [ top | center | bottom ] ]

     <td>50% 50%

     <td>transformable elements

     <td>no

     <td>refer to the size of the element's border box

     <td>visual

    <tr>
     <th><a class=property href="#effects">transform</a>

     <td>none | &lt;transform-function&gt; [ &lt;transform-function&gt; ]*

     <td>none

     <td>transformable elements

     <td>no

     <td>refer to the size of the element's border box

     <td>visual

    <tr>
     <th><a class=property href="#transform-origin">transform-origin</a>

     <td>[ top | bottom ] | [ &lt;percentage> | &lt;length&gt; | left |
      center | right ] [ &lt;percentage> | &lt;length&gt; | top | center |
      bottom ]? | [ center | [ left | right ] [ &lt;percentage> |
      &lt;length&gt; ]? ] &amp;&amp; [ center | [ top | bottom ] [
      &lt;percentage> | &lt;length&gt; ]? ]

     <td>0 0 for SVG elements, 50% 50% for all other elements

     <td>transformable element

     <td>no

     <td>refer to the size of the element's border box

     <td>visual

    <tr>
     <th><a class=property href="#transform-style">transform-style</a>

     <td>flat | preserve-3d

     <td>flat

     <td>transformable elements

     <td>no

     <td>N/A

     <td>visual
  </table>
  <!--end-properties-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>backface-visibility, <a href="#backface-visibility"
    title=backface-visibility><strong>11.</strong></a>

   <li>perspective, <a href="#perspective"
    title=perspective><strong>9.</strong></a>

   <li>perspective-origin, <a href="#perspective-origin"
    title=perspective-origin><strong>10.</strong></a>

   <li>transform, <a href="#effects" title=transform><strong>6.</strong></a>

   <li>transform-origin, <a href="#transform-origin"
    title=transform-origin><strong>7.</strong></a>

   <li>transform-style, <a href="#transform-style"
    title=transform-style><strong>8.</strong></a>
  </ul>
  <!--end-index-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
