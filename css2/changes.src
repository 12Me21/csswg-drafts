<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en">
<!-- $Id: changes.src,v 2.26 2002-07-25 19:07:36 bbos Exp $ -->
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>Appendix B: Changes</TITLE>
</HEAD>
<BODY>
<H1 align="center">Changes</H1>
<P><em>This appendix is informative, not normative.</em></P>

<H2>Changes from CSS2</H2>

<P>CSS&nbsp;2.1 is an updated version of CSS2. The changes between the CSS2
specification (see [[CSS2]]) and this specification fall into four
groups: known errors, typographical errors, clarifications, and
changes.</P>

<h3><a name="known-errors">Errors</a></h3>

<h4 id="x1">Shorthand properties</h4>

<p>Shorthand properties take a list of subproperty values <em>or</em>
the value 'inherit'. One cannot mix 'inherit' with other subproperty
values as it would not be possible to specify the subproperty to which
'inherit' applied. The definitions of a number of shorthand properties
did not enforce this rule: 'border-top', 'border-right',
'border-bottom', 'border-left', 'border', 'background', 'font',
'list-style', 'cue', and 'outline'.

<h4 id="x3"><a href="syndata.html#tokenization">Section 4.1.1</a> (and
<a href="grammar.html#q2">G2</a>)</h4>

<ul>
<li>The "nmchar" token also allows the range "A-Z".
<li>In the rule for "any" (in the core syntax), changed "FUNCTION"
to "FUNCTION any* ')'".
</ul>

<p id="underscore">The underscore character
("_") is allowed in identifiers. The definitions of the lexical
macros "nmstart" and "nmchar" now include it.

<h4 id="x4"><a href="syndata.html#q4">4.1.3 Characters and case</a></h4>

<p>In the third bullet, added to point 1:

<blockquote>
<p>1.with a space (or other whitespace character): "\26 B" ("&amp;B") 
</blockquote>

<p>the following text: "In this case, user agents should treat a
"CR/LF" pair (13/10) as a single whitespace character."

<p>The underscore is
allowed in identifiers. Changed "In CSS2, identifiers [...] can contain
only the characters [A-Za-z0-9] and ISO 10646 characters 161 and
higher, plus the hyphen (-)" to:

<blockquote><p>In CSS2, identifiers [...] contain only the characters
[A-Za-z0-9] and ISO 10646 characters 161 and higher, plus the hyphen
(-) and the underscore (_)</p></blockquote>

<h4 id="x5"><a href="syndata.html#values">Section 4.3 (Double sign problem)</a></h4>

<p>Several values described in subsections of this section
incorrectly allowed two "+" or "-" signs at their beginnings. 

<h4 id="s-4-3-2"><a href="syndata.html#length-units">Section 4.3.2
Lengths</a></h4>

<p>The suggested reference
pixel is based on a <ins>96&nbsp;dpi</ins> device, not 90&nbsp;dpi.
The visual angle is thus about <ins>0.0213 degrees</ins> instead of
0.0227, and a pixel at arm's length is about <ins>0.26&nbsp;mm</ins>
instead of 0.28

<h4 id="x6"><a href="syndata.html#color-units">Section 4.3.6</a></h4>

<p>Deleted the comments about range
restriction after the following examples:

<pre>
em { color: rgb(255,0,0) }
em { color: rgb(100%, 0%, 0%) }
</pre>

<h4 id="x7"><a href="selector.html#q2">5.10 Pseudo-elements and pseudo-classes</a></h4>

<p>In the second bullet, the following sentence was incomplete: "The
exception is ':first-child', which can be deduced from the document
tree." The ':lang()' pseudo-class can be deduced
from the document in some cases.

<h4 id="x8"><a href="box.html#mpb-examples">8.2 Example of margins, padding, and borders</a></h4>

<p>The colors in the example HTML did not match the colors in the
image. 

<h4 id="s-8-5-2"><a href="box.html#border-color-properties">Section
8.5.2 Border color: 'border-top-color', 'border-right-color',
'border-bottom-color', 'border-left-color', and
'border-color'</a></h4>

<p>The value 'transparent' is 
also allowed on 'border-top-color', 'border-right-color', etc. Changed
the line "Value: &lt;color&gt; | inherit" to

<blockquote><p>Value: &lt;color&gt; | transparent | inherit</blockquote>

<h4 id="x2"><a href="box.html#padding-properties">Section 8.4 Padding properties</a></h4>

<p>The five properties related to padding ('padding', 'padding-top',
'padding-right', 'padding-bottom', and 'padding-left') now say that
they don't apply to table rows, row groups, header groups, footer
groups, columns, and column groups.

<h4 id="x9"><a href="box.html#border-style-properties">8.5.3 Border
style</a></h4>

<p>Changed the sentence "The color of borders drawn for values of
'groove', 'ridge', 'inset', and 'outset' depends on the element's
'color' property" to

<blockquote><p>The color of borders drawn for values of 'groove',
'ridge', 'inset', and 'outset' should be based on the element's
'border-color' property, but UAs may choose their own algorithm to
calculate the actual colors used. For instance, if the 'border-color'
has the value 'silver', then a UA could use a gradient of colors from
white to dark gray to indicate a sloping border.</blockquote>

<h4 id="s-8-5-4"><a
href="box.html#border-shorthand-properties">Section 8.5.4 Border
shorthand properties: 'border-top', 'border-bottom', 'border-right',
'border-left', and 'border'</a></h4>

<p>Changed &lt;'border-top-width'&gt; to &lt;border-width&gt; as the first
value option for 'border-top', 'border-right', 'border-bottom',
and 'border-left', and changed &lt;'border-style'&gt; to &lt;border-style&gt;.
For 'border', changed &lt;'border-width'&gt;
to &lt;border-width&gt; and
&lt;'border-style'&gt; to &lt;border-style&gt;.

<p>The value 'transparent' is
also allowed on 'border-top', 'border-bottom', 'border-right',
'border-left', and 'border'.

<p>Changed the two lines "Value: [ &lt;'border-top-width'&gt; ||
&lt;'border-style'&gt; || &lt;color&gt; | inherit" to

<blockquote><p>Value: [ &lt;border-top-width&gt; || &lt;border-style&gt;
|| [&lt;color&gt; | transparent] | inherit</blockquote>

<h4 id="x10"><a href="box.html#value-def-border-width">8.5.4 Border shorthand properties: 'border-top', 'border-bottom', 'border-right', 'border-left', and
    'border'</a></h4>

<p>Changed &lt;'border-top-width'&gt; to &lt;border-width&gt; as the first
value option for 'border-top', 'border-right', 'border-bottom',
and 'border-left', and changed &lt;'border-style'&gt; to &lt;border-style&gt;.
For 'border', changed &lt;'border-width'&gt;
to &lt;border-width&gt; and
&lt;'border-style'&gt; to &lt;border-style&gt;.

<h4 id="x11"><a href="visuren.html#choose-position">Section 9.3.1</a></h4>

<p>The definition of the value 'static' now
says that the properties 'top', 'right', 'bottom', and 'left'
do not apply.

<h4 id="x12"><a href="visuren.html#position-props">Section 9.3.2</a></h4>

<p>The properties 'top', 'right', 'bottom', and 'left', incorrectly
referred to offsets with respect to a box's content edge. The proper edge
is the margin edge. Thus, for 'top', the description now reads:
"This property specifies how far a box's top margin edge is offset
below the top edge of the box's containing block."

<h4 id="x13"><a href="visuren.html#relative-positioning">Section 9.4.3</a></h4>

<p>In the first sentence, added to the end of
"Once a box has been laid out according to the normal flow"
the words "or floated,".

<h4 id="s-9-7"><a href="visuren.html#q24">Section 
9.7 Relationships between 'display', 'position', and 'float'</a></h4>

<p>If an element floats, the
'display' property is set to a block-level value, but not necessarily
'block'. In bullet 3, changed "Otherwise, if 'float' has a value other
than 'none', 'display' is set to 'block' and the box is floated" to a
table with the proper computed values.

<h4 id="x14"><a href="visudet.html#q5">Section 10.3.2 
Inline, replaced elements</a> (and 10.3.4, 10.3.6, and 10.3.8)</h4>

<p>Changed:</p>

<blockquote>
<p> A specified value of 'auto' for 'width' gives the element's intrinsic
  width as the computed value.
</blockquote>

<p>to:</p>

<blockquote>
<p> If 'width' has a specified value of 'auto' and 'height' also has a
  specified value of 'auto', the element's intrinsic width is the
  computed value of 'width'.  If 'width' has a specified value of
  'auto' and 'height' has some other specified value, then the computed
  value of 'width' is
    (intrinsic width) * ( (computed height) / (intrinsic height) ).
</blockquote>

<h4 id="x15"><a href="visudet.html#q6">Section 10.3.3</a></h4>

<p>In the last sentence of the paragraph following the equation
("If the value of 'direction' is 'ltr', this happens to 
'margin-left' instead") substituted 'rtl' for 'ltr'.

<h4 id="x16"><a href="visudet.html#q16">Section 10.6.2 
Inline, replaced elements ...</a> (and 10.6.5)</h4>

<p>Changed:</p>

<blockquote>
<p> If 'height' is 'auto', the computed value
    is the intrinsic height. 
</blockquote>

<p>to:</p>

<blockquote>
<p> If 'height' has a specified value of 'auto' and 'width' also has a
  specified value of 'auto', the element's intrinsic height is the
  computed value of 'height'.  If 'height' has a specified value of
  'auto' and 'width' has some other specified value, then the computed
  value of 'height' is
    (intrinsic height) * ( (computed width) / (intrinsic width) ).
</blockquote>

<h4 id="x17"><a href="visudet.html#q17">Section 10.6.3</a></h4>

<p>The height calculation for block-level, non-replaced elements in
normal flow, and floating, non-replaced elements was not quite
correct. It now takes into account the case when margins do not
collapse, due to the presence of a padding or border.

<h4 id="x18"><a href="visufx.html#overflow">Section 11.1.1</a></h4>

<p>The example of a DIV element containing a BLOCKQUOTE containing
another DIV was not rendered correctly. The first style rule applied
to both DIVs, so the second DIV box should have been rendered with a
red border as well. The second DIV has now been changed to a CITE,
which doesn't have a red border.

<h4 id="s-11-2"><a href="visufx.html#propdef-visibility">11.2
Visibility: the 'visibility' property</a></h4>

<p>Changed "initial" and
"inherited" to:

<blockquote><p>
<em>Initial:</em> visible<br>
<em>Inherited:</em> yes
</blockquote>

<p>This has the same effect as the original definition, but removes
the undefined state of the root element (which was a problem for DOM
implementations).

<h4 id="x20"><a href="generate.html#lists">12.6.2 Lists</a></h4>

<p>Under the 'list-style' property, the example:</p>

<pre>
ul > ul { list-style: circle outside } /* Any UL child of a UL */
</pre>

<p>could never match valid HTML markup (since a UL element
cannot be a child of another UL element). An LI has been inserted in
between.

<h4 id="x22"><a href="fonts.html#generic-font-families">Section 15.2.6</a></h4>

<p>'Totum' and 'Kodic' is not a 'serif' but 'sans-serif'. 'pathang' is
not a 'sans-serif' but 'serif'.

<h4 id="x23"><a href="fonts.html#algorithm">Section 15.5</a></h4>

<p>In bullet 2, changed "the UA uses the 'font-family' descriptor"
to "the UA uses the 'font-family' property".

<p>In bullet 6, changed "steps 3, 4 and 5" to
"steps 2, 3, 4 and 5".

<h4 id="s-16-6"><a href="text.html#propdef-white-space">Section 16.6
Whitespace: the 'white-space' property</a></h4>

<p>The 'white-space' property
applies to <em>all</em> elements, not just block-level elements.

<h4 id="x24"><a href="tables.html#q2">Section 17.2 The CSS table
model</a></h4>

<p>In the definition of <strong>table-header-group</strong>, changed
"footer" to "header" in "Print user agents may repeat footer rows on
each page spanned by a table."

<h4 id="x25"><a href="tables.html#anonymous-boxes">17.2.1 Anonymous table objects </a></h4>

<p>Moved the first bullet text to the prose before the list of
generation rules and added missing rules.

<h4 id="x26"><a href="tables.html#q7">17.5 Visual layout of table
					  contents</a></h4>

<p>The following note:</p>

<blockquote>
<p><strong>Note.</strong> Table cells may be relatively and absolutely positioned, but this is not recommended: positioning and floating remove a
    box from the flow, affecting table alignment. 
</p>
</blockquote>

<p>has been amended as follows:</p>

<blockquote>
<p><strong>Note.</strong> Table cells may be 
positioned, but this is not recommended: absolute and fixed
positioning, as well as floating, remove a box from the flow, affecting
table size.
</p>
</blockquote>

<h4 id="x27"><a href="tables.html#q7">17.5 Visual layout of table
					  contents</a></h4>

<p>Changed:

<blockquote>
<p>Like other elements of the document language, internal table
elements generate rectangular boxes with content, padding, and
borders. They do not have margins, however.
</blockquote>

<p>to:

<blockquote>
<p>Like other elements of the document language, internal table
elements generate rectangular boxes with content and
borders. Cells have padding as well.  Internal table elements do not
have margins.
</blockquote>

<h4 id="x28"><a href="tables.html#separated-borders">Section 17.6.1 The
separated borders model</a></h4>

<p>In the image, changed "cell-spacing" to "border-spacing".

<h4 id="underscore2"><a href="grammar.html#q2">Appendix D.2 Lexical
scanner</a></h4>

<p>The underscore character
("_") is be allowed in identifiers. The definitions of the lexical
macros "nmstart" and "nmchar" have been fixed.

<p>Note that the tokenizer is case-insensitive, so uppercase A-Z is
matched as well.

<p>(Same change in section 4.1.1, see <a href="#underscore">above</a>.)

<h3><a name="clarifications">Clarifications</a></h3>

<h4 id="s-2-2"><a
href="http://www.w3.org/TR/REC-CSS2/intro.html#q2">2.2 A brief CSS2
tutorial for XML</a></h4>

<p>The specification for the <a
href="http://www.w3.org/1999/06/REC-xml-stylesheet-19990629/">XML
style sheet PI</a>
was written after CSS2 was finalized. The first line of the full XML
example should not have been be <code>&lt;?XML:stylesheet type="text/css"
href="bach.css"?&gt;</code>, but

<pre>&lt;?xml-stylesheet type="text/css" href="bach.css"?&gt;</pre>

<h4 id="x54"><a href="selector.html#syndata.html#tokenization">Section 4.1.1</a></h4>

<p>DELIM should not have included single or double quote. Refer also
to section 4.1.6 on strings, which must have matching single or
double quotes around them.

<h4 id="x55"><a href="selector.html#descendant-selectors">Section 5.5</a></h4>

<p>Near the end of the section, the text 'Note the whitespace on
either side of the "*"' was misleading. The note was not meant to
imply that whitespace is required on both sides of the "*" (since the
grammar does not require it in this case) but that one may use
whitespace in this case.

<h4 id="x56"><a href="selector.html#id-selectors">Section 5.9 ID selectors</a></h4>

<p>The word "precedence" in the last but one paragraph should have been
"specificity."

<h4 id="s-5-12-1"><a href="selector.html#first-line-pseudo">Section
5.12.1 The :first-line pseudo-element</a></h4>

<p>Added some clarifications at the end of the section about the
fictional tag sequence in the case of nested block-level elements

<h4 id="x57"><a href="cascade.html#value-def-inherit">Section 6.2.1</a></h4>

<p>The 'inherit' value causes the properties value to be
inherited. This applies even to properties for which values
do not otherwise inherit.

<h4 id="x58"><a href="cascade.html#cascade">6.4 The Cascade
</a></h4>

<p>Changed "Rules specified in a given style sheet
    override rules imported from other style sheets." to
"Rules specified in a given style sheet
    override rules of the same weight imported from other style sheets."
</p>

<h4 id="x59"><a href="cascade.html#specificity">Section 6.4.3 Calculating a
selector's specificity</a></h4>

<p>Added a note:

<blockquote><p>The specificity is based only on the form of the selector.
In particular, a selector of the form "<code>[id=p33]</code>" is
counted as an attribute selector (a=0, b=1, c=0), even if the
<code>id</code> attribute is defined as an "ID" in the source
document's DTD.
</blockquote>

<h4 id="x60"><a href="box.html#box-dimensions">Section 8.1</a></h4>

<ul>
<li>From the definition of "padding edge", deleted the sentence "The
padding edge of a box defines the edges of the containing block
established by the box." For information about containing
blocks, consult <a href="visudet.html#containing-block-details">
Section 10.1</a>.

<li>Border backgrounds are not specified by border properties. Changed
the last paragraph of 8.1 to:
<blockquote>
<p>The background style of the content, padding, and border areas of a
box is specified by the <span
class="propinst-background">'background'</span> property of the
generating element. Margin backgrounds are always transparent.
</blockquote>
</ul>

<h4 id="x61"><a href="box.html#collapsing-margins">Section 8.3.1</a></h4>

<p>Added this clarifying note to the first bullet of the explanation
of vertical collapsing of margins:</p>

<blockquote>
<p><strong>Note.</strong> Adjoining boxes may be generated by
elements that are not related as siblings or ancestors.
</blockquote>

<h4 id="x62"><a href="visuren.html#inline-formatting">Section 9.4.2</a></h4>

<p>The statement "When an inline box is split, margins, borders, and
padding have no visual effect where the split occurs." has been
generalized. Margins, borders, and padding have no visual effect
where one or more splits occur.

<h4 id="x63"><a href="visuren.html#relative-positioning">Section 9.4.3</a></h4>

<p>Relatively positioned boxes do not always establish new containing
blocks. Changed the second paragraph accordingly.

<p>Added clarifying text and an example about the 'left',
'right', 'top' and 'bottom' properties for relative positioning.

<h4 id="x64"><a href="visuren.html#direction">Section 9.10</a></h4>

<p>In this sentence of the last paragraph:</p>

<blockquote>
<p>Conforming HTML user agents may therefore ignore the 'direction'
and 'unicode-bidi' properties in author and user style sheets.
</blockquote>

<p>the word "ignore" meant that if a 'unicode-bidi' or 'direction'
value conflicts with the HTML 4.0 "dir" attribute value, then user
agents may choose to use the "dir" value rather than the CSS
properties.

<p>User agents are not required to support the <span
class="propinst-direction">'direction'</span> and <span
class="propinst-unicode-bidi">'unicode-bidi'</span> properties to
conform to CSS2 unless they support bi-directional text rendering
(except for the case of HTML 4.0 as noted above).

<p>The sentence has been rewritten to be clearer.

<h4 id="s-10-3-3"><a href="visudet.html#q6">10.3.3 Block-level,
non-replaced elements in normal flow</a></h4>

<p>Added the following note at
the end of the section:

<blockquote><p>Note that 'width' may not be greater than 'max-width' and
not less than 'min-width'. In particular, it may not be negative. See
the rules in section 10.4 below.</blockquote>

<h4 id="x65"><a href="visudet.html#propdef-line-height">Section 10.8.1</a></h4>

<p>Clarified this paragraph:

<blockquote>
<p>Note that replaced elements have a 'font-size' and a 'line-height'
property, even if they are not used directly to determine the height
of the box. The 'font-size' is, however, used to define the 'em' and
'ex' units, and the 'line-height' has a role in the 'vertical-align'
property.
</blockquote>

<p>as follows:

<blockquote>
<p>Note that replaced elements have a <span
class="propinst-font-size">'font-size'</span> and a <span
class="propinst-line-height">'line-height'</span> property, even if
they are not used directly to determine the height of the box: 'em'
and 'ex' values are relative to values of <span
class="propinst-font-size">'font-size'</span> and percentage values
for <span class="propinst-vertical-align">'vertical-align'</span> are
relative to values of <span
class="propinst-line-height">'line-height'</span>.
</blockquote>

<p>Under 'line-height', after
the sentence "If the property is set on a block-level element whose
content is composed of inline-level elements, it specifies the
<em>minimal</em> height of each generated inline box," added the
following clarification:

<blockquote><p>The minimum height consist of a minimum height above
the block's baseline and a minimum depth below it, exactly as if each
line box starts with a zero-width inline box with the block's font and
line height properties (what T<sub>E</sub>X calls a
"strut").</blockquote>

<h4 id="x66"><a href="visufx.html#overflow-clipping">Section 11.1</a></h4>

<p>Clarifications to the last two bullets on when overflow may
occur:</p>

<ul>
<li>A descendent box is positioned
absolutely partly outside of the box.
<li>A descendent box has negative margins, causing it
to be positioned partly outside the box.
</ul>

<h4 id="x67"><a href="visufx.html#overflow">Section 11.1.1</a></h4>

<p>Removed 'projection' from this sentence under the value 'scroll'

<blockquote>
<p>
When this value is specified and the target medium is 'print' or 'projection', overflowing content should be printed. 
</p>
</blockquote>

<h4 id="x68"><a href="visufx.html#clipping">Section 11.1.2</a></h4>

<p>Values of "rect()" should be separated by commas. Thus, the
definition of &lt;shape&gt; now starts:</p>

<blockquote>
<p>In CSS2, the only valid &lt;shape&gt; value is: rect (&lt;top&gt;, &lt;right&gt;, &lt;bottom&gt;,
&lt;left&gt;) ...
</blockquote>

<p>Due to this ambiguity, user agents may support separation of
offsets in "rect()" with or without commas.

<h4 id="x69"><a href="generate.html#before-after-content">12.1 The
:before and :after pseudo-elements</a></h4>

<p>Clarification to the following lines:</p>

<blockquote>
<p>The :before and :after pseudo-elements elements allow values of the
'display' property as follows:

<ul>
<li>If the subject of the 
selector is a block-level
element, allowed values are 'none', 'inline' and 'block'.
If the value of the pseudo-element's
<span class="propinst-display">'display'</span> property
has any other value, the pseudo-element will behave as if its value
were 'block'. 
<li>If the subject of the 
selector is an inline-level
element, allowed values are 'none' and 'inline'.
If the value of the pseudo-element's
<span class="propinst-display">'display'</span> property
has any other value, the pseudo-element will behave as if its value
were 'inline'.
</ul>
</blockquote>

<h4 id="s-12-4-2">Section 12.4.2 Inserting quotes with the 'content'
property</h4>

<p>Added the following sentence
at the end of the 2nd paragraph:

<blockquote><p>A 'close-quote' that would make the depth negative is
in error and is ignored: the depth stays at 0 and no quote mark is
rendered (although the rest of the 'content' property's value is still
inserted).
</blockquote>

<h4 id="x70"><a href="generate.html#lists">Lists 12.6.2</a></h4>

<p>To clarify Hebrew numbering, added
"(Alef,
Bet, ... Tet Vav, Tet Zayin, ... Yod Tet, Kaf ...)".

<h4 id="x71"><a href="colors.html#q2">14.2 The background</a></h4>

<p>Second sentence: "In terms of the box model, 'background' refers to
the background of the content and the padding areas" now also
mentions the border area. (See also <a href="#x60">errata to section
8.1</a> above.) Thus:

<blockquote>
<p>In terms of the box model, "background" refers to the background of
the content, padding and border areas.
</blockquote>

<p>In the fourth paragraph, added to the end of "User agents should
observe the following precedence rules to fill in the background" 
the following words: "of the canvas".

<h4 id="x72"><a href="colors.html#propdef-background-attachment">14.2.1
Background properties</a></h4>

<p>Added this note after the first paragraph after 'background-attachment':

<blockquote><p>Note that there is only <em>one</em> viewport per
document. I.e., even if an element has a scrolling mechanism (see
'overflow'), a 'fixed' background doesn't move with it.</blockquote>

<p>Under 'background-repeat',
the sentence "All tiling covers the content and padding areas [...]"
has been corrected to

<blockquote><p>"All tiling covers the content, padding <ins>and
border</ins> areas [...]".</blockquote>

<p>Under 'background-attachment',
the sentence "Even if the image is fixed [...] background or padding
area of the element" has been corrected to

<blockquote><p>Even if the image is fixed, it is still only visible
when it is in the background, padding <ins>or border</ins> area of the
element.</blockquote>

<!--
<h4 id="x73"><a href="fonts.html#font-family-prop">Section 15.2.2 Font family</a></h4>

<p>Replaced the sentence that
said: "Although many fonts provide the "missing character" glyph,
typically an open box, as its name implies this should not be
considered a match except for the last font in a font set" by:

<blockquote>
<p>Although many fonts provide the "missing character" glyph,
  typically an open box, as its name implies this should not be
  considered a match.
</blockquote>
-->

<!--
<h4 id="x74"><a href="fonts.html#font-properties">Section 15.2.4</a></h4>

<p>Added to the explanation of 'font-size' the following
clarification: "The font size corresponds to the em square,
a concept used in typography. 
Note that certain glyphs may bleed outside their em squares."</p>
-->

<!--
<h4 id="x75"><a href="fonts.html#algorithm">Section 15.5 Font matching
algorithm</a></h4>

<p>In point 8, replaced the
sentence that says: "If a particular character cannot be displayed
using this font, the UA should indicate that a character is not being
displayed (for example, using the 'missing character' glyph)" by

<blockquote>
<p>If a particular character cannot be displayed using this font,
  then the UA has no suitable font for that character. The UA should
  map each character for which it has no suitable font to a visible
  symbol chosen by the UA, preferably a "missing character" glyph
  from one of the font faces available to the UA.
</blockquote>
-->

<h4 id="x76"><a href="text.html#indentation-prop">Section 16.1</a></h4>

<p>Added to:</p>

<blockquote>
<p>
The value of 'text-indent' may be negative, but there may be
implementation-specific limits.
</p>
</blockquote>

<p>the following clarification: "If the value of 'text-indent'
is negative, the value of 'overflow' will affect whether the
text is visible."

<h4 id="x77"><a href="text.html#alignment-prop">16.2 Alignment: the 'text-align' property</a></h4>

<p>Changed "double justify" to "justify" under "left, right, center,
and justify".

<h4 id="x78"><a href="tables.html#table-layers">Section 17.5.1 Table layers and
transparency</a></h4>

<p>In point 6, changed 'These
"empty" cells are transparent' to:

<blockquote>
<p>These "empty" cells are transparent if the value of their 'empty-cells'
property is 'hide'</blockquote>

<p>At the end of the section
added the following paragraph:

<blockquote><p>Note that if the table has 'border-collapse: separate',
the background of the area given by the 'border-spacing' property is
always the background of the table element. See 17.6.1</blockquote>

<h4 id="table-width"><a href="tables.html#width-layout">Section 17.5.2 Table width algorithms</a></h4>

<p>Added the following paragraph after the initial paragraph of this
section:

<blockquote>
<p>Note that this section overrides the rules that apply to
calculating widths as described in <a
href="visudet.html#Computing_widths_and_margins">section 10.3</a>. In
particular, if the margins of a table are set to '0' and the width to
'auto', the table will not automatically size to fill its containing
block. However, once the calculated value of 'width' for the table is
found (using the algorithms given below or, when appropriate, some
other UA dependant algorithm) then the other parts of section 10.3
do apply. Therefore a table can be centered using left and right
'auto' margins, for instance.
</blockquote>

<p>The WG may introduce ways of automatically making tables fit their
containing blocks in CSS3.

<h4 id="x79"><a href="tables.html#empty-cells">Borders around empty cells: the
'empty-cells' property</a></h4>

<p>The 'empty-cells' property 
not only controls the borders, but also the background.

<h4 id="x80"><a href="tables.html#collapsing-borders">Section 17.6.2 The
collapsing borders model</a></h4>

<p>In the sentence after the question, added "and
padding-left<sub>i</sub> and padding-right<sub>i</sub> refer 
to the left (resp., right) padding of cell i."

<h4 id="x81"><a href="ui.html#system-colors">Section 18.2</a></h4>

<p>For the 'ButtonHighlight' value, changed the description
from "Dark shadow" to "Highlight color".

<h4 id="x82"><a href="aural.html#speaking-props">Section A.3</a></h4>

<p>The parenthetical phrase "somewhat analogous to the 'display' property"
was misleading. The 'speak' property resembles 'visibility' in
some ways and 'display' in others.

<h4 id="x84"><a href="grammar.html#q2">Appendix G.2 Lexical scanner</a></h4>

<p>Removed the following line from the scanner as it
does not appear in the grammar:</p>

<pre>
"@"{ident}              {return ATKEYWORD;}
</pre>

<p>The DIMEN token is in the scanner to ensure that a number followed
by an identifier is read as one token rather than two. This case
is considered an error in CSS2.

<h4 id="refs"><a href="refs.html">Appendix E. References</a></h4>

<p>The entry for "[URI]" referred to a draft that has become an RFC.
The entry has been changed.

<h3><a name="changes">Changes</a></h3>

<h4 id="s-6-4-3"><a href="cascade.html#specificity">Section 6.4.3
Calculating a selector's specificity</a></h4>

<p>The "style" attribute now has a higher specificity than any style
rule.

<h4 id="s-6-4-4"><a href="cascade.html#q12">Section 6.4.4 Precedence
of non-CSS presentational hints</a></h4>

<p>If presentational hints from other sources than CSS are taken into
account by a UA, it must treat them as having the same weight as the
user agent's default style sheet.

<h4 id="visuren"><a href="visuren.html">Chapter 9 Visual formatting
model</a></h4>

<p>The value 'compact' for 'display' does not exist in CSS&nbsp;2.1.
'Inline-block' is added.

<h4 id="s-10-1"><a
href="visudet.html#containing-block-details">Section 10.1 Definition
of "containing block"</a></h4>

<p>A suggestion has been added that UAs take the viewport as the
containing block of the root element.

<p>The containing block for an absolutely positioned element that has
no absolutely or relatively positioned ancestor no longer defaults to
the root element, but is undefined, with as a suggestion that UAs use
the viewport.

<h4 id="s-10-3-7"><a
href="visudet.html#abs-non-replaced-width">Section 10.3.7 Absolutely
positioned, non-replaced elements</a></h4>

<p>Absolutely positioned elements can now "shrink-wrap" their
contents:

<p>When both 'width' and 'right' (or 'width' and 'left') are 'auto',
the element's computed width is the width of the contents (using an
algorithm similar to that for table cells) and then 'right' (or
'left') is solved. CSS2 incorrectly said that 'right' (or 'left') was
set to 0 in that case, and then width was solved.

<h4 id="s-10-6-4"><a
href="visudet.html#abs-non-replaced-height">Section 10.6.4 Absolutely
positioned, non-replaced elements</a></h4>

<p>Like normal-flow block-level elements, absolutely positioned
elements by default take on the height of their contents
("shrink-wrap"). If 'height' and 'bottom' are both 'auto', the
computed value of 'height' is set to the height of the contents and
then 'bottom' is solved. CSS2 incorrectly said the reverse: 'bottom'
was set to 0 and then height was solved.

<h4 id="x88"><a href="visufx.html#clipping">Section 11.1.2</a></h4>

<p>While CSS2 specified that values of "rect()" give offsets from the
respective sides of the box, current implementations interpret values
with respect to the top and left edges for <em>all</em> four values
(top, right, bottom, and left). This is now the correct
interpretation.

<h4 id="s-17-6"><a href="tables.html#borders">Section 17.6
Borders</a></h4>

<p>Several popular browsers assume an initial value for
'border-collapse' of 'separate' rather than 'collapse' or exhibit
behavior that is close to that value, even if they do not actually
implement the CSS table model. 'Separate' is now the initial value.

<h4 id="s-12"><a href="generate.html">Chapter 12 Generated content,
automatic numbering, and lists</a></h4>

<p>Named counters don't exist in CSS&nbsp;2.1, nor does the 'marker'
value for 'display'.

<h4 id="s-12-2"><a href="generate.html#propdef-content">Section 12.2
The 'content' property</a></h4>

<p>The values '&lt;uri&gt;' and &lt;counter&gt; are dropped.

<h4 id="s-15"><a href="fonts.html">Chapter 15 Fonts</a></h4>

<p>The 'font-stretch' and 'font-size-adjust' properties don't exist in
CSS&nbsp;2.1.

<p>Font descriptors and the '@font-face' declaration don't exist in
CSS&nbsp;2.1.

<h4 id="s-18-1"><a href="ui.html#cursor-props">Section 18.1 Cursors:
the 'cursor' property</a></h4>

<p>The value '&lt;uri&gt;' is dropped. The value 'progress' is added.

<h4 id="text"><a href="text.html">Chapter 16 Text</a></h4>

<p>The 'text-shadow' property is not in CSS&nbsp;2.1.

<h4 id="a-a"><a href="aural.html">Appendix A. Aural style
sheets</a></h4>

<p>Chapter 19 on aural style sheets has become appendix A and is not
normative in CSS&nbsp;2.1. Related units (deg, grad, rad, ms, s, Hz,
kHz) are also moved to this appendix, as is the 'speak-header'
property from the "tables" chapter.

<h4 id="page"><a href="page.html">Page breaks</a></h4>

<p>Only the 'page-break-before', 'page-break-after' and
'page-break-inside' properties are in CSS&nbsp;2.1.

<h4 id="other">Other</h4>

<p>The former informative appendix C, "Implementation and
performance notes for fonts," is left out of CSS&nbsp;2.1.




</BODY>
</HTML>

