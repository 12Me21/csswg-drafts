<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en">
<!-- $Id: notes.src,v 1.14 1998-01-08 20:17:07 ijacobs Exp $ -->
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>Appendix C: Implementation and performance notes</TITLE>
<LINK rel="next" href="grammar.html">
<LINK rel="previous" href="changes.html">
<LINK rel="STYLESHEET" href="style/default.css" type="text/css">
</HEAD>
<BODY>
<H1 align="center">Appendix C: Implementation and performance
notes</H1>

<h2>Order of property value calculation</h2>
<P><em>This section is under construction</em>

<P>Due to dependencies among properties, user agents must 
<a href="cascade.html#computed-value">compute</a> some property
values in a specific order.

<ul>
<li><span class="propinst-font-size">'font-size'</span> must be
computed before any property that may take a <a
href="syndata.html#absrel-units">relative length</a> units.

<li><span class="propinst-display">'display'</span>, <span
class="propinst-position">'position'</span>, and <span
class="propinst-float">'float'</span> must be computed before other
<a href="flowobj.html">visual flow</a> properties.

<li><span class="propinst-line-height">'line-height'</span> must be
computed before <span
class="propinst-vertical-align">'vertical-align'</span>.

<li>An element's width and height must be computed before 
<span class="propinst-background-position">'background-position'</span>.
</ul>


<H2>Colors</H2>
<H3><a name="gamma-correction">Gamma Correction</a></H3>

<P><em>The following information is informative, not normative.
See the Gamma Tutorial in the PNG specification <a rel="biblioentry"
href="./refs.html#ref-PNG10" class="normref">[PNG10]</a> 
if you aren't familiar with gamma issues.</em>

<P> In the computation, UAs displaying on a CRT may assume an ideal
CRT and ignore any effects on apparent gamma caused by dithering. That
means the minimal handling they need to do on current platforms is:
  <DL>
    <DT>
      PC using MS-Windows
    <DD>
      none
    <DT>
      Unix using X11
    <DD>
      none
    <DT>
      Mac using QuickDraw
    <DD>
      apply gamma 1.39 <a rel="biblioentry"
href="./refs.html#ref-ICC32" class="normref">[ICC32]</a> (ColorSync-savvy applications
      may simply pass the sRGB ICC profile to ColorSync
      to perform correct color correction)
<!-- ref14 doesn't exist -->
    <DT>
      SGI using X
    <DD>
      apply the gamma value from <TT>/etc/config/system.glGammaVal</TT> (the default
      value being 1.70; applications running on Irix 6.2 or above may simply pass
      the sRGB ICC profile to the color management system)
    <DT>
      NeXT using NeXTStep
    <DD>
      apply gamma 2.22
  </DL>
<P> "Applying gamma" means that each of the three R, G and B must be
converted to R'=R<SUP>gamma</SUP>, G'=G<SUP>gamma</SUP>,
B'=B<SUP>gamma</SUP>, before handing to the OS.

<P> This may rapidly be done by building a 256-element lookup table
once per browser invocation thus:

<PRE>
  for i := 0 to 255 do
    raw := i / 255;
    corr := pow (raw, gamma);
    table[i] := trunc (0.5 + corr * 255.0)
  end
</PRE>

<P> which then avoids any need to do transcendental math per color
attribute, far less per pixel.

<H2>Fonts</H2>

<H3>Glossary of font terms</H3>

<dl>

<DT><a name="definingDocLock"><b>DocLock&trade;</b></a>

<dd>Bitstream's <i>DocLock&trade;</i> technology ensures that TrueDoc
PFRs can only be used with the site they are published for. A TrueDoc
PFR moved to a different site or referenced from another site will not
work.

<dt><a name="definingDSIG"><b>Digital Signature</b></a>

<dd>Part of a trust management technology, used to provide signed
assertions about a resource.  <!-- DSIG for example in OpenType,
http://www.microsoft.com/TRUETYPE/OTSPEC/dsig.htm -->

<dt><a name="definingFontCaching"></A><b>Font Caching</b></dt>

<dd><i>Font caching</i> allows for a temporary copy of fonts on the client
system. They are often stored on disk with other cached items such as
graphics specifically for the UA.</dd>


<DT><a name="definingFontFace"><b>Font Face</b></A>

<DD>A "handle" that refers to a specific face of a font, excluding
the font size (? size may be needed for non-scalable fonts)

<!-- font family -->

<dt><a name="definingFontMatching"></A><b>Font Matching</b></dt>

<dd><i>Font matching</i> is a process of selecting a similar font based
on using one or more attributes of the primary font. Common attribute include
serif, sans serif, weight, cap height, x height, spacing, language, and
posture. Font matching is dependent on the algorithm and the variety of
candidate fonts.</dd>


<dt><a name="definingSubsetting"></A><b>Glyph Representation Sub-setting</b></dt>

<dd><i>Glyph Representation sub-setting</i> is the process by which
unwanted glyph representations, (together with their side bearings and
kerning information) are removed from a primary font to produce a
smaller subset font that covers a particular document or set of
documents. This is a particular win for documents that use ideographic
scripts, where the glyph complement of the base font can be very
large. Glyph representation sub-setting for documents using scripts
that require ligatures, such as Arabic, is difficult without knowing
the ligature formation rules of the final display system.</dd>

<dt><a name="definingIntellifont"><b>Intellifont</b></a>

<dd>Intellifont technology was developed by Agfa and is the native
format for Hewlett-Packard and other printers that use the PCL5
language. It is also the native font format on the Amiga
computers. 

<dt><a name="defininginfinifont"><b>Infinifont</b></a>

<dd>A font synthesis technique which, given a Panose-1 number (and,
optionally, additional font description data) can generate a faux font
without extrapolating from a single master outline or interpolating
between two or more outlines. See <a rel="biblioentry"
href="./refs.html#ref-INFINIFONT" class="informref">[INFINIFONT]</a>.

<dt><a name="definingItalic"><b>Italic</b></a>

<dd>A class of letter forms for Latin scripts, that are more cursive
than roman letter forms but less so than script forms. Often, a pair of
fonts are designed to be used together; one is a serifed roman and one
is italic. Other terms to describe this class of letter forms include
cursive and, for Cyrillic scripts, kursiv. For sans-serif faces, the
companion face is often a slanted or oblique variant rather than a
different class of letter form.<br>

<img src="./images/italic-40.gif" alt="Italic forms">


<dt><a name="definingKern"><b>Kerning</b></a>

<dd>Altering the spacing between selected glyph representations, which
would otherwise appear to be too close or too far apart, to obtain a
more even typographical color.

<p><img src="./images/kern-22.gif" alt="Illustration of kerning"></p>

<dt><a name="definingMultiMaster"></A><b>Multiple Master Font</b></dt>

<dd>A <i>Multiple Master Font</i> contain two primary fonts that are used
with special rendering software to provide an interpolated result. Adobe
Systems provides a mechanism that allows for parameters to be used to control
the output or the interpolated output font. These parameters generally describe
the characteristics of an original font and the multiple master result
is referred to as a "synthesized font."</dd>

<dt><a name="definingOpenType"><b> Open Type</b></a>
            
<dd>Open Type is an extension to the TrueType font format which
contains additional information that extends the capabilities of the
fonts to support high-quality international typography.  Open Type can
associate a single character with multiple glyph representations, and
combinations of characters with a single glyph representation
(ligature formation).  Open Type includes two-dimensional information
to support features for complex positioning and glyph attachment.
TrueType Open contains explicit script and language information, so a
text-processing application can adjust its behavior accordingly. See 
<a rel="biblioentry" href="./refs.html#ref-OPENTYPE" class="informref">[OPENTYPE]</a>. 

<dt><a name="definingServerFont"></A><b>Server Font</b></dt>

<dd>A <i>Server Font</i> is a font resource located on the web server
that is referenced by the WebFont definition. The user agent may use
this resource for rendering the page.</dd>

<!-- script need a definition -->

<dt><a name="definingSpeedo"><b>Speedo</b></a>

<dd><i>Speedo</i> font technology was developed by Bitstream and is
the native font format on the Atari ST and Falcon computers,. It is
also used by computers running X.

<dt><a name="definingTrueDoc"></A><b>TrueDoc</b></dt>

<dd><i>TrueDoc</i> technology was developed by Bitstream for the
creation, transport, and imaging of platform independent scalable
font objects on the web. Creation of font objects is done by the
TrueDoc character shape recorder (CSR) and the rendering of the font
objects is done by TrueDoc's character shape player (CSP). The
technology is intended to be used on the web for viewing and
printing.</dd>

<dt><a name="definingTrueDocPFR"></A><b>TrueDoc Portable Font Resource</b></dt>

<dd>A <i>TrueDoc Portable for resource</i> (or <b>PFR</b>) is a
platform independent scalable font object which is produce by a
character shape player. Input may be either TrueType or Type 1 of any
flavor on either Windows, Mac, or Unix. TrueDoc Portable Font
Resources provide  good compression ratios, are platform
independent, and because they are not in an native font format
(TrueType or Type 1) they can not be easily installed.</dd>

<dt><a name="definingTT"></A><b>TrueType</b></dt>

<dd><i>TrueType </i> is a font format developed by Apple and licensed
to Microsoft. TrueType is the native operating system font format for
Windows and Macintosh. TrueType contains a hierarchical set of tables
and glyph representations.  Characters can be hinted on a per
character and point size basis yielding excellent quality at screen
resolutions. TrueType fonts for Windows and Mac have few differences,
though they can be different enough to prevent cross platform
usage. Font foundries provide TrueType fonts for each platform and
generally include a license preventing electronic manipulation to
achieve cross platform transparency. </dd>

<dt><a name="definingTTC"></A><b>TrueType Collection</b></dt>

<dd>A <i>TrueType Collection</i> (or <b>TTC</b>) is an extension to
the TrueType format that includes tables that allow for multiple
TrueType fonts to be contained within a single TrueType font file.
TrueType collection files are relatively rare at this time. </dd>

<!-- add  CFF font sets -->

<dt><a name="definingTTGX"></A><b>TrueType GX Fonts</b></dt>

<dd><i>TrueType GX Fonts</i> contain extensions to the standard
TrueType format that allow for mutable fonts, similar to Multiple
Master fonts. There may be several mutation axis such as weight,
height, and slant. The axis can be defined to obtain almost any
effect. TrueType GX can also supports alternate glyph representation
substitution for ligatures, contextual forms, fractions, etc. To date,
TrueType GX is available only on the Mac. See <a rel="biblioentry"
href="./refs.html#ref-TRUETYPEGX" class="informref">[TRUETYPEGX]</a>.

<!-- TrueType Open, ME and FE Win only -->

<dt><a name="definingT1"></A><b>Type 1 font</b></dt>

<dd><i>Type 1 fonts</i>, developed by Adobe Systems, were one of first
scalable formats available. Type 1 fonts generally contain 228
characters with the glyph representations described using third degree
bezier curves. Mac, Windows, and X have similar but separate formats;
Adobe provides Adobe Type Manager for all three platforms. Type1c is a
more recent losslessly-compressed storage form for Type 1 glyph
representations.</dd>

<dt><a name="definingURIbound"><b>URI Binding</b></a>

<dd>A process of locking a particular font resource to a given Web
site by embedding an encrypted URI or a digitally signed usage
assertion into the font resource.

</dl>

<h3><a name=coneg>Font retrieval</a></h3>

<p>There are many different font formats in use by many different
platforms. To select a preferred font format, transparent content
negotiation is used (see <a rel="biblioentry"
href="./refs.html#ref-NEGOT" class="informref">[NEGOT]</a>). It is always possible to
tell when a font is being dereferenced, because the URI is inside a
font description. Thus, only the relevant Accept headers need be sent
(not headers related to images, HTML, etc).

</BODY>
</HTML>
