<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Visual formatting model</title>
<link rel="stylesheet" href="style/default.css" type="text/css">
<link rel="stylesheet" href="http://www.w3.org/StyleSheets/TR/W3C-CR.css" type="text/css">
<link rel="prev" href="box.html">
<link rel="next" href="visudet.html">
<link rel="contents" href="cover.html#minitoc">
<link rel="CSS-properties" href="propidx.html" title="properties">
<link rel="index" href="indexlist.html" title="index">
<link rel="first" href="cover.html">
<meta name="editor" lang="tr" content="Tantek &Ccedil;elik">
<style type="text/css">
<ins>.current,.proposed,span.delcurrent</ins> <ins>{</ins> <ins>background:#feb</ins> <ins>}</ins>
<ins>ins.proposed,span.insproposed,li.insproposed</ins> <ins>{</ins> <ins>background:#bfb</ins> <ins>}</ins>
<ins>del.proposed,span.delproposed</ins> <ins>{</ins> <ins>background:#fbb</ins> <ins>}</ins>
<ins>span.insproposed,li.insproposed</ins> <ins>{</ins> <ins>text-decoration:underline</ins> <ins>}</ins>
<ins>span.delproposed,span.delcurrent</ins> <ins>{</ins> <ins>text-decoration:line-through</ins> <ins>}</ins>
<ins>body>del,body>ins</ins> <ins>{display:block}</ins>
</style>
</head>
<body>
<div class="navbar">
<p><a href="box.html">previous</a> &nbsp;
<a href="visudet.html">next</a> &nbsp;
<a href="cover.html#minitoc">contents</a> &nbsp;
<a href="propidx.html">properties</a> &nbsp;
<a href="indexlist.html">index</a> &nbsp;
</div>
<hr class="navbar">

<h1><a name="q0">9 Visual formatting model</a></h1>
<div class="subtoc">
<p><strong>Contents</strong>
  <ul class="toc">
    <li class="tocline2"><a href="visuren.html#visual-model-intro" class="tocxref">9.1 Introduction to the visual formatting model</a>
    <ul class="toc">
      <li class="tocline3"><a href="visuren.html#viewport" class="tocxref">9.1.1 The viewport</a>
      <li class="tocline3"><a href="visuren.html#containing-block" class="tocxref">9.1.2 <span class="index-def" title="containing block"> Containing blocks</span></a>
    </ul>
    <li class="tocline2"><a href="visuren.html#box-gen" class="tocxref">9.2 Controlling box generation</a>
    <ul class="toc">
      <li class="tocline3"><a href="visuren.html#block-boxes" class="tocxref">9.2.1 Block-level elements and block boxes</a>
      <ul class="toc">
        <li class="tocline4"><a href="visuren.html#anonymous-block-level" class="tocxref"><ins>9.2.1.1</ins> Anonymous block boxes</a>
      </ul>
      <li class="tocline3"><a href="visuren.html#inline-boxes" class="tocxref">9.2.2 Inline-level elements and inline boxes</a>
      <ul class="toc">
        <li class="tocline4"><a href="visuren.html#anonymous" class="tocxref"><ins>9.2.2.1</ins> Anonymous inline boxes</a>
      </ul>
      <li class="tocline3"><a href="visuren.html#run-in" class="tocxref">9.2.3  <del>Compact</del> <del>boxes</del> <del>9.2.4</del>Run-in boxes</a>
      <li class="tocline3"><a href="visuren.html#display-prop" class="tocxref"> <del>9.2.5</del><ins>9.2.4</ins> The <span class="propinst-display">'display'</span> property</a>
    </ul>
    <li class="tocline2"><a href="visuren.html#positioning-scheme" class="tocxref">9.3 Positioning schemes</a>
    <ul class="toc">
      <li class="tocline3"><a href="visuren.html#choose-position" class="tocxref">9.3.1 Choosing a positioning scheme: <span class="propinst-position">'position'</span> property</a>
      <li class="tocline3"><a href="visuren.html#position-props" class="tocxref">9.3.2 Box offsets: <span class="propinst-top">'top'</span>, <span class="propinst-right">'right'</span>, <span class="propinst-bottom">'bottom'</span>, <span class="propinst-left">'left'</span></a>
    </ul>
    <li class="tocline2"><a href="visuren.html#normal-flow" class="tocxref">9.4 Normal flow</a>
    <ul class="toc">
      <li class="tocline3"><a href="visuren.html#block-formatting" class="tocxref">9.4.1 Block formatting  <del>context</del><ins>contexts</ins></a>
      <li class="tocline3"><a href="visuren.html#inline-formatting" class="tocxref">9.4.2 Inline formatting context</a>
      <li class="tocline3"><a href="visuren.html#relative-positioning" class="tocxref">9.4.3 Relative positioning</a>
    </ul>
    <li class="tocline2"><a href="visuren.html#floats" class="tocxref">9.5 Floats</a>
    <ul class="toc">
      <li class="tocline3"><a href="visuren.html#float-position" class="tocxref">9.5.1 Positioning the float: the <span class="propinst-float">'float'</span> property</a>
      <li class="tocline3"><a href="visuren.html#flow-control" class="tocxref">9.5.2 Controlling flow next to floats: the <span class="propinst-clear">'clear'</span> property</a>
    </ul>
    <li class="tocline2"><a href="visuren.html#absolute-positioning" class="tocxref">9.6 Absolute positioning</a>
    <ul class="toc">
      <li class="tocline3"><a href="visuren.html#fixed-positioning" class="tocxref">9.6.1 Fixed positioning</a>
    </ul>
    <li class="tocline2"><a href="visuren.html#dis-pos-flo" class="tocxref">9.7 Relationships between 'display', 'position', and 'float'</a>
    <li class="tocline2"><a href="visuren.html#comparison" class="tocxref">9.8 Comparison of normal flow, floats,   and absolute positioning</a>
    <ul class="toc">
      <li class="tocline3"><a href="visuren.html#comp-normal-flow" class="tocxref">9.8.1 Normal flow</a>
      <li class="tocline3"><a href="visuren.html#comp-relpos" class="tocxref">9.8.2 Relative positioning</a>
      <li class="tocline3"><a href="visuren.html#comp-float" class="tocxref">9.8.3 Floating a box</a>
      <li class="tocline3"><a href="visuren.html#comp-abspos" class="tocxref">9.8.4 Absolute positioning</a>
    </ul>
    <li class="tocline2"><a href="visuren.html#layers" class="tocxref">9.9 Layered presentation</a>
    <ul class="toc">
      <li class="tocline3"><a href="visuren.html#z-index" class="tocxref">9.9.1 Specifying the stack level: the <span class="propinst-z-index">'z-index'</span> property</a>
    </ul>
    <li class="tocline2"><a href="visuren.html#direction" class="tocxref">9.10 Text direction: the <span class="propinst-direction">'direction'</span> and <span class="propinst-unicode-bidi">'unicode-bidi'</span> properties</a>
  </ul>
</div>

<h2>9.1 <a name="visual-model-intro">Introduction to the visual formatting model</a></h2>

<p>This chapter and the next describe the <a name="x0"><span class="index-def"
title="visual formatting model">visual formatting model</span></a>: how user
agents process the <a href="conform.html#doctree">document tree</a>
for visual <a href="media.html">media</a>.
</p>

<p>In the visual formatting model, each element in the document tree
generates zero or more boxes according to the <a href="box.html">box
model</a>. The layout of these boxes is governed by:</p>

<ul>
<li><a href="box.html#box-dimensions">box dimensions</a> and <a
href="#box-gen">type</a>.
</li><li><a href="#positioning-scheme">positioning scheme</a>
(normal flow, float, and  <del>absolute).</del><ins>absolute</ins> <ins>positioning).</ins>
</li><li>relationships between elements
in the <a href="conform.html#doctree">document tree.</a>
</li><li>external information (e.g., viewport size, <a
href="conform.html#intrinsic">intrinsic</a> dimensions of images, etc.).
</li></ul>

<p>The properties defined in this chapter and the next apply to both
<a href="media.html#continuous-media-group">continuous media</a> and
<a href="media.html#paged-media-group">paged media</a>. <span class="paged">
However, the
meanings of the <a href="box.html#margin-properties">margin
properties</a> vary when applied to paged media (see the <a
href="page.html#page-margins">page model</a> for details).
</span>
</p>

<p>The visual formatting model does not specify all aspects of
formatting (e.g., it does not specify a letter-spacing algorithm). <a
href="conform.html#conformance">Conforming user agents</a> may behave
differently for those formatting issues not covered by this
specification.
</p>

<h3>9.1.1 <a name="viewport">The viewport</a></h3>

<p>User agents for <a
href="media.html#continuous-media-group">continuous media</a>
generally offer users a <a name="x1"><span class="index-def" title="viewport">
<dfn>viewport</dfn></span></a> (a window or other
viewing area on the screen) through which users consult a
document. User agents may change the document's layout when the
viewport is resized (see the <a
href="visudet.html#containing-block-details">initial containing block</a>).
</p>
<p>
When the viewport is smaller than the  <del>document's</del> <del>initial</del> <del>containing</del> <del>block,</del><ins>area</ins> <ins>of</ins> <ins>the</ins> <ins>canvas</ins> <ins>on</ins> <ins>which</ins>
<ins>the</ins> <ins>document</ins> <ins>is</ins> <ins>rendered,</ins> the user agent should offer a scrolling
mechanism.

There is at most
one viewport per <a href="intro.html#canvas">canvas</a>, but user
agents may render to more than one canvas (i.e., provide different
views of the same document).
</p>

<h3>9.1.2 <span class="index-def" title="containing block">
<a name="containing-block">Containing blocks</a></span>
</h3>

<p>In  <del>CSS2,</del><ins>CSS&nbsp;2.1,</ins> many box positions and sizes are calculated with respect
to the edges
of a rectangular box called a <a name="x3"><span class="index-def"
title="containing block"><dfn>containing block</dfn></span></a>.  In
general, generated boxes act as containing blocks for descendant
boxes; we say that a box "establishes" the containing block for its
descendants. The phrase "a box's containing block" means "the
containing block in which the box lives," not the one it generates.
</p>
<p>Each box is given a position with respect to its containing block,
but it is not confined by this containing block; it may <a
href="visufx.html#overflow">overflow</a>.
</p>

<p>The <a href="visudet.html#containing-block-details"> <del>root</del> <del>of</del> <del>the</del> <del>document</del> <del>tree</del> <del>generates</del> <del>a</del> <del>box</del> <del>that</del> <del>serves</del> <del>as</del> <del>the</del> <del>initial</del> <del>containing</del> <del>block</del> <del>for</del> <del>subsequent</del> <del>layout.</del> <del>The</del> <del>width</del> <del>of</del> <del>the</del> <del>initial</del> <del>containing</del> <del>block</del> <del>may</del> <del>be</del> <del>specified</del> <del>with</del> <del>the</del> <del>'width'</del> <del>property</del> <del>for</del> <del>the</del> <del>root</del> <del>element.</del> <del>If</del> <del>this</del> <del>property</del> <del>has</del> <del>the</del> <del>value</del> <del>'auto',</del> <del>the</del> <del>user</del> <del>agent</del> <del>supplies</del> <del>the</del> <del>initial</del> <del>width</del> <del>(e.g.,</del> <del>the</del> <del>user</del> <del>agent</del> <del>uses</del> <del>the</del> <del>current</del> <del>width</del> <del>of</del> <del>the</del> <del>viewport</del> <del>).</del> <del>The</del> <del>height</del> <del>of</del> <del>the</del> <del>initial</del> <del>containing</del> <del>block</del> <del>may</del> <del>be</del> <del>specified</del> <del>with</del> <del>the</del> <del>'height'</del> <del>property</del> <del>for</del> <del>the</del> <del>root</del> <del>element.</del> <del>If</del> <del>this</del> <del>property</del> <del>has</del> <del>the</del> <del>value</del> <del>'auto',</del> <del>the</del> <del>containing</del> <del>block</del> <del>height</del> <del>will</del> <del>grow</del> <del>to</del> <del>accommodate</del> <del>the</del> <del>document's</del> <del>content.</del> <del>The</del> <del>initial</del> <del>containing</del> <del>block</del> <del>cannot</del> <del>be</del> <del>positioned</del> <del>or</del> <del>floated</del> <del>(i.e.,</del> <del>user</del> <del>agents</del> <del>ignore</del> <del>the</del> <del>'position'</del> <del>and</del> <del>'float'</del> <del>properties</del> <del>for</del> <del>the</del> <del>root</del> <del>element).</del> <del>The</del>details</a> of
how a containing block's dimensions are calculated are described in
the <a href="visudet.html">next chapter</a>.
</p>
<h2>9.2 <a name="box-gen">Controlling box generation</a></h2>

<p>The following sections describe the types of boxes that may be
generated in  <del>CSS2.</del><ins>CSS&nbsp;2.1.</ins> A box's type affects, in part, its behavior in the
visual formatting model. The <a href="visuren.html#propdef-display" class="noxref"><span
class="propinst-display">'display'</span></a> property, described below,
specifies a box's type.
</p>

<h3>9.2.1 <a name="block-boxes">Block-level elements and block boxes</a></h3>

<p><span class="index-def" title="block-level
element"><a name="block-level"><dfn>Block-level elements</dfn></a></span> are those elements of the source document that are formatted visually as
blocks (e.g., paragraphs). Several values of the <a href="visuren.html#propdef-display" class="noxref"><span
class="propinst-display">'display'</span></a> property make an element
block-level: 'block', 'list-item',  <del>'compact'</del>and 'run-in' (part of the
time; see <a href="#run-in"> <del>compact</del> <del>and</del>run-in boxes</a>), and 'table'.
</p>

<p>Block-level elements <ins>(except</ins> <ins>for</ins> <ins>display</ins> <ins>'table'</ins> <ins>elements,</ins> <ins>which</ins> <ins>are</ins> <ins>described</ins> <ins>in</ins> <ins>a</ins> <ins>later</ins> <ins>chapter)</ins> generate a <span class="index-def"
title="principal block box"><a name="principal-box"><dfn>principal
block box</dfn></a></span> that  <del>only</del>contains <ins>either</ins> <ins>only</ins> <span class="index-def"
title="block box"><a name="block-box"><dfn>block
<ins>box</ins></dfn><ins>es</ins></a></span> <ins>or</ins> <ins>only</ins> <span class="index-def"
title="inline box"><a name="x7" href="#inline-box"><ins>inline</ins> boxes</a></span>. The principal block box establishes the <a
href="#containing-block">containing block</a> for descendant boxes and
generated content and is also the box involved in any positioning
scheme.  Principal block boxes participate in a <a
href="#block-formatting">block formatting context</a>.
</p>
<p>Some block-level elements generate additional boxes outside of the
principal box: 'list-item'  <del>elements</del> <del>and</del> <del>those</del> <del>with</del> <del>markers</del> <del>.</del><ins>elements.</ins> These additional boxes are
placed with respect to the principal box.
</p>
<h4><ins>9.2.1.1</ins> <a name="anonymous-block-level">Anonymous block boxes</a></h4>

<p>In a document like this:
</p>
<pre><code class="html">
 <del>&lt;DIV></del><ins>&lt;DIV&gt;</ins>
  Some text
   <del>&lt;P>More</del><ins>&lt;P&gt;More</ins> text
 <del>&lt;/DIV></del><ins>&lt;/DIV&gt;</ins>
</code></pre>
<p>
(and assuming the DIV and the P both have 'display: block'), the
DIV appears to have both inline content and block content. To make it
easier to define the formatting, we assume that there is an <em><a name="x8"><span
class="index-def" title="anonymous">anonymous block box</span></a></em>
around "Some text".
</p>
<div class="figure">
<p><img src="images/anon-block.png" alt="diagram showing the three
boxes for the example above"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-anon-block" href="images/longdesc/anon-block-desc.html" title="Long description for anonymous block box">[D]</A></SPAN> 
</p><p class="caption">Diagram showing the
three boxes, of which one is anonymous, for the example above.
</p></div>

<p>In other words: if a block box (such as that generated for the DIV
above) has another block box <ins>or</ins> <ins>run-in</ins> <ins>box</ins> inside it (such as the P
above), then we force it to have <em>only</em> block boxes <ins>and</ins> <ins>run-in</ins>
<ins>boxes</ins> inside  <del>it,</del> <del>by</del> <del>wrapping</del> <del>any</del><ins>it.</ins>
</p>

<p>
<ins>When</ins> <ins>an</ins> <ins>inline</ins> <ins>box</ins> <ins>contains</ins> <ins>a</ins> <ins>block</ins> <ins>box,</ins> <ins>the</ins> <ins>inline</ins> <ins>box</ins> <ins>(and</ins> <ins>its</ins> inline <ins>ancestors</ins> <ins>within</ins> <ins>the</ins> <ins>same</ins> <ins>line</ins> <ins>box)</ins> <ins>are</ins> <ins>broken</ins> <ins>around</ins> <ins>the</ins> <ins>block.</ins>  <ins>The</ins> <ins>line</ins> boxes <ins>before</ins> <ins>the</ins> <ins>break</ins> <ins>and</ins> <ins>after</ins> <ins>the</ins> <ins>break</ins> <ins>are</ins> <ins>enclosed</ins> in  <del>an</del>anonymous <ins>boxes,</ins> <ins>and</ins> <ins>the</ins> <ins>block</ins> <ins>box</ins> <ins>becomes</ins> <ins>a</ins> <ins>sibling</ins> <ins>of</ins> <ins>those</ins> <ins>anonymous</ins> <ins>boxes.</ins>
<ins>When</ins> <ins>such</ins> <ins>an</ins> <ins>inline</ins> <ins>box</ins> <ins>is</ins> <ins>affected</ins> <ins>by</ins> <ins>relative</ins> <ins>positioning,</ins>
<ins>the</ins> <ins>relative</ins> <ins>positioning</ins> <ins>also</ins> <ins>affects</ins> <ins>the</ins> block box.
</p>

<div class="example"><P style="display:none">Example(s):</P>
<p>This model would apply in the following example if the following
rules:</p>

<pre><code class="css">
 <del>/*</del> <del>Note:</del> <del>HTML</del> <del>UAs</del> <del>may</del> <del>not</del> <del>respect</del> <del>these</del> <del>rules</del> <del>*/</del>body { display: inline }
p    { display: block }
</code></pre>

<p>were used with this HTML document:</p>

<pre class="html-example"><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML  <del>4.0</del> <del>Transitional//EN"&gt;</del><ins>4.01//EN"&gt;</ins>
&lt;HEAD&gt;
&lt;TITLE&gt;Anonymous text interrupted by a block&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
<em>This is anonymous text before the P.</em>
&lt;P&gt;This is the content of  <del>P.&lt;/&gt;</del><ins>P.&lt;/P&gt;</ins>
<em>This is anonymous text after the P.</em>
&lt;/BODY&gt;
</code></pre>

<p>The BODY element contains a chunk (C1) of anonymous text followed
by a block-level element followed by another chunk (C2) of anonymous
text. The resulting boxes would be an anonymous block box  <del>for</del><ins>around</ins> <ins>the</ins> BODY,
containing an anonymous block box around C1, the P block box, and
another anonymous block box around C2.
</p></div>

<p>The properties of anonymous boxes are inherited from the
enclosing non-anonymous box  <del>(in</del><ins>(e.g.</ins> <ins>in</ins> the  <del>example:</del><ins>example</ins> <ins>just</ins> <ins>below</ins> the  <del>one</del><ins>subsection</ins> <ins>heading</ins> <ins>"Anonymous</ins> <ins>block</ins> <ins>boxes",</ins> <ins>the</ins> <ins>one</ins> for DIV). 
Non-inherited properties have their initial value. For example,
the font of the anonymous box is inherited from the DIV, but the
margins will be 0.
</p>
<p>
<ins>Properties</ins> <ins>set</ins> <ins>on</ins> <ins>elements</ins> <ins>that</ins> <ins>cause</ins> <ins>anonymous</ins> <ins>block</ins> <ins>boxes</ins> <ins>to</ins> <ins>be</ins> 
<ins>generated</ins> <ins>still</ins> <ins>apply</ins> <ins>to</ins> <ins>the</ins> <ins>boxes</ins> <ins>and</ins> <ins>content</ins> <ins>of</ins> <ins>that</ins> <ins>element.</ins> <ins>For</ins> 
<ins>example,</ins> <ins>if</ins> <ins>a</ins> <ins>border</ins> <ins>had</ins> <ins>been</ins> <ins>set</ins> <ins>on</ins> <ins>the</ins> <ins>BODY</ins> <ins>element</ins> <ins>in</ins> <ins>the</ins> <ins>above</ins> 
<ins>example,</ins> <ins>the</ins> <ins>border</ins> <ins>would</ins> <ins>be</ins> <ins>drawn</ins> <ins>around</ins> <ins>C1</ins> <ins>(open</ins> <ins>at</ins> <ins>the</ins> <ins>end</ins> <ins>of</ins> <ins>the</ins> 
<ins>line)</ins> <ins>and</ins> <ins>C2</ins> <ins>(open</ins> <ins>at</ins> <ins>the</ins> <ins>start</ins> <ins>of</ins> <ins>the</ins> <ins>line).</ins>
</p>
<p>
<ins>Some</ins> <ins>user</ins> <ins>agents</ins> <ins>have</ins> <ins>implemented</ins> <ins>borders</ins> <ins>on</ins> <ins>inlines</ins> <ins>containing</ins> 
<ins>blocks</ins> <ins>in</ins> <ins>other</ins> <ins>ways,</ins> <ins>e.g.</ins> <ins>by</ins> <ins>wrapping</ins> <ins>such</ins> <ins>nested</ins> <ins>blocks</ins> <ins>inside</ins> 
<ins>"anonymous</ins> <ins>line</ins> <ins>boxes"</ins> <ins>and</ins> <ins>thus</ins> <ins>drawing</ins> <ins>inline</ins> <ins>borders</ins> <ins>around</ins> <ins>such</ins> 
<ins>boxes.</ins> <ins>As</ins> <ins>CSS1</ins> <ins>and</ins> <ins>CSS2</ins> <ins>did</ins> <ins>not</ins> <ins>define</ins> <ins>this</ins> <ins>behavior,</ins> <ins>CSS1-only</ins> <ins>and</ins> 
<ins>CSS2-only</ins> <ins>user</ins> <ins>agents</ins> <ins>may</ins> <ins>implement</ins> <ins>this</ins> <ins>alternative</ins> <ins>model</ins> <ins>and</ins> <ins>still</ins> 
<ins>claim</ins> <ins>conformance</ins> <ins>to</ins> <ins>this</ins> <ins>part</ins> <ins>of</ins> <ins>CSS&nbsp;2.1.</ins> <ins>This</ins> <ins>does</ins> <ins>not</ins> <ins>apply</ins> <ins>to</ins> <ins>UAs</ins> 
<ins>developed</ins> <ins>after</ins> <ins>this</ins> <ins>specification</ins> <ins>was</ins> <ins>released.</ins>
</p>
<h3>9.2.2 <a name="inline-boxes">Inline-level elements and inline boxes</a></h3>

<p><span class="index-def" title="inline-level element">
<a name="inline-level"><dfn>Inline-level
elements</dfn></a></span> are those elements of the source document that
do not form new blocks of content; the content is distributed in lines
 (e.g., emphasized pieces of text
within a paragraph, inline images,
etc.). Several values of the <a href="visuren.html#propdef-display" class="noxref"><span
class="propinst-display">'display'</span></a> property make an element
inline: 'inline', 'inline-table', 
  <del>'compact'</del>and 'run-in' (part of the time; see <a href="#run-in"> <del>compact</del> <del>and</del>run-in boxes</a>). 
Inline-level elements generate <a name="inline-box"><dfn>inline
boxes</dfn></a>.
</p>

<h4> <del>Inline</del> <del>boxes</del> <del>may</del> <del>participate</del> <del>in</del> <del>several</del> <del>formatting</del> <del>contexts:</del> <del>Within</del> <del>a</del> <del>block</del> <del>box,</del> <del>an</del> <del>inline</del> <del>boxes</del> <del>participate</del> <del>in</del> <del>an</del> <del>inline</del> <del>formatting</del> <del>context</del> <del>.</del> <del>A</del> <del>compact</del> <del>inline</del> <del>box</del> <del>is</del> <del>given</del> <del>a</del> <del>position</del> <del>in</del> <del>the</del> <del>margin</del> <del>of</del> <del>a</del> <del>block</del> <del>box.</del> <del>Marker</del> <del>boxes</del> <del>are</del> <del>also</del> <del>given</del> <del>positions</del> <del>outside</del> <del>of</del> <del>a</del> <del>block</del> <del>box.</del><ins>9.2.2.1</ins> <a name="anonymous">Anonymous inline boxes</a></h4>

<p>In a document <ins>with</ins> <ins>HTML</ins> <ins>markup</ins> like this:</p>

<div class="html-example">
<pre><code class="html">
 <del>&lt;P>Some</del> <del>&lt;EM>emphasized&lt;/em></del> <del>text&lt;/P></del><ins>&lt;p&gt;Some</ins> <ins>&lt;em&gt;emphasized&lt;/em&gt;</ins> <ins>text&lt;/p&gt;</ins>
</code></pre>
</div>

<p>The <code> <del>P</del><ins>&lt;p&gt;</ins></code> generates a block box, with several inline boxes inside
it. The box for "emphasized" is an inline box generated by an inline
element  <del>(EM),</del><ins>(</ins><code><ins>&lt;em&gt;</ins></code><ins>),</ins> but the other boxes ("Some" and "text") are inline boxes generated by a block-level element  <del>(P).</del><ins>(</ins><code><ins>&lt;p&gt;</ins></code><ins>).</ins> The latter are called <a name="x10"><span
class="index-def" title="anonymous inline boxes">anonymous inline
boxes</span></a>, because they don't have an associated inline-level element.
</p>
<p>Such anonymous inline boxes inherit inheritable properties from
their block parent box. Non-inherited properties have their initial
value. In the example, the color of the anonymous  <del>initial</del><ins>inline</ins> boxes is
inherited from the P, but the background is transparent.
</p>

<p>
<ins>White</ins> <ins>space</ins> <ins>content</ins> <ins>that</ins> <ins>would</ins> <ins>subsequently</ins> <ins>be</ins> <ins>collapsed</ins> <ins>away</ins> <ins>according</ins> <ins>to</ins> <ins>the</ins> <a href="text.html#propdef-white-space" class="noxref"><span class="propinst-white-space"><ins>'white-space'</ins></span></a> <ins>property</ins> <ins>does</ins> <ins>not</ins> <ins>generate</ins> <ins>any</ins> <ins>anonymous</ins> <ins>inline</ins> <ins>boxes.</ins>
</p>

<p>If it is clear from the context which type of anonymous box is
meant, both anonymous inline boxes and anonymous block boxes are
simply called anonymous boxes in this specification.
</p>
<p>There are more types of anonymous boxes that arise when formatting
<a href="tables.html#anonymous-boxes">tables</a>.
</p>
<h3>9.2.3 <a name="run-in"> <del>Compact</del><ins>Run-in</ins> boxes</a></h3>

<p>A <a name="x11"><span class="index-def" title="run-in box"><dfn> <del>compact</del><ins>run-in</ins>
box</dfn></span></a> behaves as follows:</p>

<ol>
<li>
If <ins>the</ins> <ins>run-in</ins> <ins>box</ins> <ins>contains</ins> <ins>a</ins> <a href="#block-box"><ins>block</ins></a>
<ins>box,</ins> <ins>the</ins> <ins>run-in</ins> <ins>box</ins> <ins>becomes</ins> <ins>a</ins> <ins>block</ins> <ins>box.</ins>
</li>
<li><ins>If</ins> a <ins>sibling</ins> <a href="#block-box">block</a>
box (that does not float and is not
<a href="#absolutely-positioned">absolutely positioned</a>) follows the  <del>compact</del><ins>run-in</ins>
box, the  <del>compact</del><ins>run-in</ins> box  <del>is</del> <del>formatted</del> <del>like</del> <del>a</del> <del>one-line</del> <del>inline</del> <del>box.</del><ins>becomes</ins> the  <del>resulting</del><ins>first</ins> <ins>inline</ins> box  <del>width</del> <del>is</del> <del>compared</del> <del>to</del> <del>one</del> <del>of</del> <del>the</del> <del>side</del> <del>margins</del>of the block box.

 <del>The</del> <del>choice</del> <del>of</del> <del>left</del><ins>A</ins> <ins>run-in</ins> <ins>cannot</ins> <ins>run</ins> <ins>in</ins> <ins>to</ins> <ins>a</ins> <ins>block</ins> <ins>that</ins> <ins>already</ins> <ins>starts</ins> <ins>with</ins> <ins>a</ins>
<ins>run-in</ins> or  <del>right</del> <del>margin</del><ins>that</ins> <ins>itself</ins> is  <del>determined</del> <del>by</del> <del>the</del> <del>'direction'</del> <del>specified</del> <del>for</del> <del>the</del> <del>element</del> <del>producing</del> <del>the</del> <del>containing</del> <del>block</del> <del>for</del><ins>a</ins> <ins>run-in.</ins>
</li>
<li><ins>Otherwise,</ins> the  <del>compact</del> <del>box</del> <del>and</del> <del>following</del> <del>box.</del> <del>If</del> <del>the</del> <del>inline</del> <del>box</del> <del>width</del> <del>is</del> <del>less</del> <del>than</del> <del>or</del> <del>equal</del> <del>to</del> <del>the</del> <del>margin,</del> <del>the</del> <del>inline</del> <del>box</del> <del>is</del> <del>given</del> <del>a</del> <del>position</del> <del>in</del> <del>the</del> <del>margin</del> <del>as</del> <del>described</del> <del>immediately</del> <del>below.</del> <del>Otherwise,</del> <del>the</del> <del>compact</del><ins>run-in</ins> box becomes a block box.</li>
</ol>



<p> <del>The</del> <del>compact</del> <del>box</del> <del>is</del> <del>given</del>A  <del>position</del> <del>in</del> <del>the</del> <del>margin</del> <del>as</del> <del>follows:</del> <del>it</del> <del>is</del> <del>outside</del> <del>(to</del> <del>the</del> <del>left</del> <del>or</del> <del>right)</del> <del>of</del> <del>the</del> <del>first</del> <del>line</del> <del>box</del> <del>of</del> <del>the</del> <del>block,</del> <del>but</del> <del>it</del> <del>affects</del> <del>the</del> <del>calculation</del> <del>of</del> <del>that</del> <del>line</del> <del>box's</del> <del>height</del> <del>.</del> <del>The</del> <del>'vertical-align'</del> <del>property</del> <del>of</del> <del>the</del> <del>compact</del> <del>box</del> <del>determines</del> <del>the</del> <del>vertical</del> <del>position</del> <del>of</del> <del>the</del> <del>compact</del> <del>box</del> <del>relative</del> <del>to</del> <del>that</del> <del>line</del> <del>box.</del> <del>The</del> <del>horizontal</del> <del>position</del> <del>of</del> <del>the</del> <del>compact</del><ins>'run-in'</ins> box is  <del>always</del> <del>in</del> <del>the</del> <del>margin</del> <del>of</del> <del>the</del> <del>block</del> <del>box.</del> <del>An</del> <del>element</del> <del>that</del> <del>cannot</del> <del>be</del> <del>formatted</del> <del>on</del> <del>one</del> <del>line</del> <del>cannot</del> <del>be</del> <del>placed</del> <del>in</del> <del>the</del> <del>margin</del> <del>of</del> <del>the</del> <del>following</del> <del>block.</del><ins>useful</ins> for  <del>example,</del> <del>a</del> <del>'compact'</del> <del>element</del> <del>in</del> <del>HTML</del> <del>that</del> <del>contains</del> <del>a</del> <del>BR</del> <del>element</del> <del>will</del> <del>always</del> <del>be</del> <del>formatted</del><ins>run-in</ins> <ins>headers,</ins> as
 <del>a</del> <del>block</del> <del>box</del> <del>(assuming</del> <del>the</del> <del>default</del> <del>style</del> <del>for</del> <del>BR,</del> <del>which</del> <del>inserts</del> <del>a</del> <del>newline).</del> <del>For</del> <del>placing</del> <del>multi-line</del> <del>texts</del>in  <del>the</del> <del>margin,</del> <del>the</del> <del>'float'</del> <del>property</del> <del>is</del> <del>often</del> <del>more</del> <del>appropriate.</del> <del>The</del> <del>following</del> <del>example</del> <del>illustrates</del> <del>a</del> <del>compact</del> <del>box.</del><ins>this</ins> <ins>example:</ins>
</p>
<div class="html-example">
<pre><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML  <del>4.0//EN"&gt;</del><ins>4.01//EN"&gt;</ins>
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;A  <del>compact</del><ins>run-in</ins> box example&lt;/TITLE&gt;
    &lt;STYLE type="text/css"&gt;
       <del>DT</del><ins>H3</ins> { display:  <del>compact</del> <del>}</del> <del>DD</del> <del>{</del> <del>margin-left:</del> <del>4em</del><ins>run-in</ins> }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
     <del>&lt;DL&gt;</del> <del>&lt;DT&gt;Short</del> <del>&lt;DD&gt;&lt;P&gt;Description</del> <del>goes</del> <del>here.</del> <del>&lt;DT&gt;too</del> <del>long</del> <del>for</del> <del>the</del> <del>margin</del> <del>&lt;DD&gt;&lt;P&gt;Description</del> <del>goes</del> <del>here.</del> <del>&lt;/DL&gt;</del><ins>&lt;H3&gt;A</ins> <ins>run-in</ins> <ins>heading.&lt;/H3&gt;</ins>
    <ins>&lt;P&gt;And</ins> <ins>a</ins> <ins>paragraph</ins> <ins>of</ins> <ins>text</ins> <ins>that</ins>
       <ins>follows</ins> <ins>it.</ins>
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>
</div>

<p>This example might be formatted as:</p>

<pre>
  <b> <del>short</del> <del>Description</del> <del>goes</del> <del>here</del> <del>too</del> <del>long</del> <del>for</del> <del>the</del> <del>margin</del> <del>Description</del> <del>goes</del> <del>here</del> <del>The</del> <del>'text-align'</del> <del>property</del> <del>can</del> <del>be</del> <del>used</del> <del>to</del> <del>align</del> <del>the</del> <del>compact</del> <del>element</del> <del>inside</del> <del>the</del> <del>margin:</del> <del>against</del> <del>the</del> <del>left</del> <del>edge</del> <del>of</del> <del>the</del> <del>margin</del> <del>('left'),</del> <del>against</del> <del>the</del> <del>right</del> <del>edge</del> <del>('right'),</del> <del>or</del> <del>centered</del> <del>in</del> <del>the</del> <del>margin</del> <del>('center').</del> <del>The</del> <del>value</del> <del>'justify'</del> <del>doesn't</del> <del>apply,</del><ins>A</ins> <ins>run-in</ins> <ins>heading.</ins></b> And  <del>is</del> <del>handled</del> <del>as</del> <del>either</del> <del>'left'</del> <del>or</del> <del>'right',</del> <del>depending</del> <del>on</del> <del>the</del> <del>'direction'</del><ins>a</ins>
  <ins>paragraph</ins> <ins>of</ins> <ins>text</ins> <ins>that</ins> 
  <ins>follows</ins> <ins>it.</ins>
</pre>

<p><ins>Despite</ins> <ins>appearing</ins> <ins>visually</ins> <ins>part</ins> of the  <del>block-level</del><ins>following</ins> <ins>block</ins> <ins>box,</ins> 
<ins>a</ins> <ins>run-in</ins> element <ins>still</ins> <ins>inherits</ins> <ins>properties</ins> <ins>from</ins> <ins>its</ins> <ins>parent</ins> 
in  <del>whose</del> <del>margin</del>the  <del>compact</del> <del>element</del> <del>is</del> <del>formatted.</del> <del>('left'</del> <del>if</del> <del>the</del> <del>direction</del> <del>is</del> <del>'ltr',</del> <del>'right'</del> <del>if</del> <del>it</del> <del>is</del> <del>'rtl'.)</del> <del>Please</del> <del>consult</del> <del>the</del> <del>section</del> <del>on</del> <del>generated</del> <del>content</del> <del>for</del> <del>information</del> <del>about</del> <del>how</del> <del>compact</del> <del>boxes</del> <del>interact</del> <del>with</del> <del>generated</del> <del>content.</del> <del>9.2.4</del> <del>Run-in</del> <del>boxes</del> <del>A</del> <del>run-in</del> <del>box</del> <del>behaves</del> <del>as</del> <del>follows:</del> <del>If</del> <del>a</del> <del>block</del> <del>box</del> <del>(that</del> <del>does</del> <del>not</del> <del>float</del> <del>and</del> <del>is</del> <del>not</del> <del>absolutely</del> <del>positioned</del> <del>)</del> <del>follows</del> <del>the</del> <del>run-in</del> <del>box,</del> <del>the</del> <del>run-in</del> <del>box</del> <del>becomes</del> <del>the</del> <del>first</del> <del>inline</del> <del>box</del> <del>of</del> <del>the</del> <del>block</del> <del>box.</del> <del>Otherwise,</del> <del>the</del> <del>run-in</del> <del>box</del> <del>becomes</del> <del>a</del> <del>block</del> <del>box.</del> <del>A</del> <del>'run-in'</del> <del>box</del> <del>is</del> <del>useful</del> <del>for</del> <del>run-in</del> <del>headers,</del> <del>as</del> <del>in</del> <del>this</del> <del>example:</del> <del>&lt;!DOCTYPE</del> <del>HTML</del> <del>PUBLIC</del> <del>"-//W3C//DTD</del> <del>HTML</del> <del>4.0//EN"&gt;</del> <del>&lt;HTML&gt;</del> <del>&lt;HEAD&gt;</del> <del>&lt;TITLE&gt;A</del> <del>run-in</del> <del>box</del> <del>example&lt;/TITLE&gt;</del> <del>&lt;STYLE</del> <del>type="text/css"&gt;</del> <del>H3</del> <del>{</del> <del>display:</del> <del>run-in</del> <del>}</del> <del>&lt;/STYLE&gt;</del> <del>&lt;/HEAD&gt;</del> <del>&lt;BODY&gt;</del> <del>&lt;H3&gt;A</del> <del>run-in</del> <del>heading.&lt;/H3&gt;</del> <del>&lt;P&gt;And</del> <del>a</del> <del>paragraph</del> <del>of</del> <del>text</del> <del>that</del> <del>follows</del> <del>it.</del> <del>&lt;/BODY&gt;</del> <del>&lt;/HTML&gt;</del> <del>This</del> <del>example</del> <del>might</del> <del>be</del> <del>formatted</del> <del>as:</del> <del>A</del> <del>run-in</del> <del>heading.</del> <del>And</del> <del>a</del> <del>paragraph</del> <del>of</del> <del>text</del> <del>that</del> <del>follows</del> <del>it.</del> <del>The</del> <del>properties</del> <del>of</del> <del>the</del> <del>run-in</del> <del>element</del> <del>are</del> <del>inherited</del> <del>from</del> <del>its</del> <del>parent</del> <del>in</del> <del>the</del> <del>source</del> <del>tree,</del> <del>not</del> <del>from</del> <del>the</del> <del>block</del> <del>box</del> <del>it</del> <del>visually</del> <del>becomes</del> <del>part</del> <del>of.</del> <del>Please</del> <del>consult</del><ins>source</ins> <ins>tree.</ins>
</p>

<p><ins>Please</ins> <ins>consult</ins> the section on 
<a href="generate.html#before-after-content">generated content</a>
for information about how run-in boxes interact with generated
content.
</p>

<h3> <del>9.2.5</del><ins>9.2.4</ins> <a name="display-prop">The</a> <a href="visuren.html#propdef-display" class="noxref"><span
class="propinst-display">'display'</span></a> property</h3>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'display'"><a name="propdef-display" class="propdef-title"><strong>'display'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td>inline | block | list-item | run-in |  <del>compact</del> <del>|</del> <del>marker</del><ins>inline-block</ins> |
table | inline-table | table-row-group | table-header-group |
table-footer-group | table-row | table-column-group | table-column |
table-cell | table-caption | none | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>inline
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td>all elements
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>N/A
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#all-media-group" class="noxref">all</a>
<tr valign=baseline><td><em><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>see</ins> <ins>text</ins>
</table>
</dl>
</div>


<p>The values of this property have the following meanings:</p>

<dl>
<dt><span class="index-def" title="'block', definition of"><a
name="value-def-block"><strong>block</strong></a></span>
</dt>
<dd>This value causes an element to generate a  <del>principal</del>block box.
</dd>
<dt><span class="index-def" title="'inline-block', definition of"><a
name="value-def-inline-block"><strong><ins>inline-block</ins></strong></a></span>
</dt>
<dd><ins>This</ins> <ins>value</ins> <ins>causes</ins> <ins>an</ins> <ins>element</ins> <ins>to</ins> <ins>generate</ins> <ins>a</ins> <ins>block</ins> <ins>box,</ins> <ins>which</ins> <ins>itself</ins> 
<ins>is</ins> <ins>flowed</ins> <ins>as</ins> <ins>a</ins> <ins>single</ins> <ins>inline</ins> <ins>box,</ins> <ins>similar</ins> <ins>to</ins> <ins>a</ins> <ins>replaced</ins> <ins>element.</ins> 
<ins>The</ins> <ins>inside</ins> <ins>of</ins> <ins>an</ins> <ins>inline-block</ins> <ins>is</ins> <ins>formatted</ins> <ins>as</ins> <ins>a</ins> <ins>block</ins> <ins>box,</ins> <ins>and</ins> <ins>the</ins> 
<ins>element</ins> <ins>itself</ins> <ins>is</ins> <ins>formatted</ins> <ins>as</ins> <ins>an</ins> <ins>inline</ins> <ins>replaced</ins> <ins>element.</ins>
</dd>
<dt><span class="index-def" title="'inline', definition of"><a
name="value-def-inline"><strong>inline</strong></a></span>
</dt>
<dd>This value causes an element to generate one or more inline boxes.
</dd>
<dt><span class="index-def" title="'list-item', definition of"><a
name="value-def-list-item"><strong>list-item</strong></a></span>
</dt>
<dd>This value causes an element (e.g., LI in HTML) to generate a
principal block box and a list-item inline box. For information about
lists and examples of list formatting, please consult the section on
<a href="generate.html#lists">lists</a>.
</dd>
<dt><strong> <del>marker</del> <del>This</del> <del>value</del> <del>declares</del> <del>generated</del> <del>content</del> <del>before</del> <del>or</del> <del>after</del> <del>a</del> <del>box</del> <del>to</del> <del>be</del> <del>a</del> <del>marker.</del> <del>This</del> <del>value</del> <del>should</del> <del>only</del> <del>be</del> <del>used</del> <del>with</del> <del>:before</del> <del>and</del> <del>:after</del> <del>pseudo-elements</del> <del>attached</del> <del>to</del> <del>block-level</del> <del>elements.</del> <del>In</del> <del>other</del> <del>cases,</del> <del>this</del> <del>value</del> <del>is</del> <del>interpreted</del> <del>as</del> <del>'inline'.</del> <del>Please</del> <del>consult</del> <del>the</del> <del>section</del> <del>on</del> <del>markers</del> <del>for</del> <del>more</del> <del>information.</del>none</strong></dt>

<dd><a name="x17"><span class="index-def" title="'none'::as display value">This
value</span></a> causes an element to  <del>generate</del> <del>no</del> <del>boxes</del><ins>not</ins> <ins>appear</ins> in the <a
href="intro.html#formatting-structure">formatting structure</a> (i.e.,
<ins>in</ins> <ins>visual</ins> <ins>media</ins> the element  <del>has</del><ins>generates</ins> <ins>no</ins> <ins>boxes</ins> <ins>and</ins> <ins>has</ins> no effect on
layout). Descendant elements do not generate any boxes either; <ins>the</ins>
<ins>element</ins> <ins>and</ins> <ins>its</ins> <ins>content</ins> <ins>are</ins> <ins>removed</ins> <ins>from</ins> <ins>the</ins> <ins>formatting</ins> <ins>structure</ins>
<ins>entirely.</ins> This behavior <strong>cannot</strong> be overridden by
setting the <a href="visuren.html#propdef-display" class="noxref"><span class="propinst-display">'display'</span></a> property
on the descendants.

<p>Please note that a display of 'none' does not create an invisible
box; it creates no box at all. CSS includes mechanisms that enable an
element to generate boxes in the formatting structure that affect
formatting but are not visible themselves. Please consult the section
on <a href="visufx.html#visibility">visibility</a> for details.
</p>
</dd>
<dt><span class="index-def" title="'run-in', definition of"><a
name="value-def-run-in"><strong>run-in</strong></a></span>
</dt>
<dd> <del>and</del> <del>compact</del> <del>These</del> <del>values</del> <del>create</del><ins>This</ins> <ins>value</ins> <ins>creates</ins> either block or 
inline boxes, depending on context. 
Properties apply to run-in  <del>and</del> <del>compact</del>boxes based on their
final status (inline-level or block-level).
</dd>
<dt>
<a href="tables.html#value-def-table" class="noxref"><span class="value-inst-table"> <del>For</del> <del>example,</del> <del>the</del> <del>'white-space'</del> <del>property</del> <del>only</del> <del>applies</del> <del>if</del> <del>the</del> <del>box</del> <del>becomes</del> <del>a</del> <del>block</del> <del>box.</del>table</span></a>,
<a href="tables.html#value-def-inline-table" class="noxref"><span class="value-inst-inline-table">inline-table</span></a>,
<a href="tables.html#value-def-table-row-group" class="noxref"><span class="value-inst-table-row-group">table-row-group</span></a>,
<a href="tables.html#value-def-table-column" class="noxref"><span class="value-inst-table-column">table-column</span></a>,
<a href="tables.html#value-def-table-column-group" class="noxref"><span class="value-inst-table-column-group">table-column-group</span></a>,
<a href="tables.html#value-def-table-header-group" class="noxref"><span class="value-inst-table-header-group">table-header-group</span></a>,
<a href="tables.html#value-def-table-footer-group" class="noxref"><span class="value-inst-table-footer-group">table-footer-group</span></a>,
<a href="tables.html#value-def-table-row" class="noxref"><span class="value-inst-table-row">table-row</span></a>,
<a href="tables.html#value-def-table-cell" class="noxref"><span class="value-inst-table-cell">table-cell</span></a>, and
<a href="tables.html#value-def-table-caption" class="noxref"><span class="value-inst-table-caption">table-caption</span></a>
</dt>
<dd>These values cause an element to behave like a table element
(subject to restrictions described in the chapter on <a
href="tables.html">tables</a>).
</dd>
</dl>

<p><ins>The</ins> <ins>computed</ins> <ins>value</ins> <ins>is</ins> <ins>the</ins> <ins>same</ins> <ins>as</ins> <ins>the</ins> <ins>specified</ins> <ins>value,</ins> <ins>except</ins> <ins>for</ins>
<ins>positioned</ins> <ins>and</ins> <ins>floating</ins> <ins>elements</ins> <ins>(see</ins> <a
href="#dis-pos-flo"><ins>Relationships</ins> <ins>between</ins> <ins>'display',</ins> <ins>'position',</ins> <ins>and</ins>
<ins>'float'</ins></a><ins>)</ins> <ins>and</ins> <ins>for</ins> <ins>the</ins> <ins>root</ins> <ins>element.</ins> 

<ins>For</ins> <ins>the</ins> <ins>root</ins> <ins>element,</ins> <ins>the</ins> <ins>computed</ins> <ins>value</ins> <ins>is</ins> <ins>changed</ins> <ins>as</ins> <ins>described</ins> <ins>in</ins> 
<ins>the</ins> <ins>section</ins> <ins>on</ins> <ins>the</ins> <a href="#dis-pos-flo"><ins>relationships</ins> <ins>between</ins> <ins>'display',</ins> <ins>'position',</ins> <ins>and</ins> <ins>'float'</ins></a><ins>.</ins>
</p>

<p>Note that although the <a href="about.html#initial-value">initial
value</a> of <a href="visuren.html#propdef-display" class="noxref"><span class="propinst-display">'display'</span></a> is
'inline', rules in the user agent's <a
href="cascade.html#default-style-sheet">default style sheet</a> may <a
href="cascade.html">override</a> this value. See the <a
href="sample.html">sample style sheet</a> for HTML  <del>4.0</del><ins>4</ins> in the
appendix.
</p>
<div class="example"><P style="display:none">Example(s):</P>
<p>Here are some examples of the <a href="visuren.html#propdef-display" class="noxref"><span
class="propinst-display">'display'</span></a> property:
</p>
<pre><code class="css">
p   { display: block }
em  { display: inline }
li  { display: list-item } 
img { display: none }      /* Don't display images */
</code></pre>
</div>


<h2> <del>Conforming</del> <del>HTML</del> <del>user</del> <del>agents</del> <del>may</del> <del>ignore</del> <del>the</del> <del>'display'</del> <del>property.</del>9.3 <a name="positioning-scheme">Positioning schemes</a></h2>

<p>In  <del>CSS2,</del><ins>CSS&nbsp;2.1,</ins> a box may be laid out according to three <a name="x19"><span
class="index-def" title="positioning scheme"><dfn>positioning
schemes:</dfn></span></a></p>

<ol>
<li><a href="#normal-flow">Normal flow</a>. In  <del>CSS2,</del><ins>CSS&nbsp;2.1,</ins> normal
flow includes <a href="#block-formatting">block formatting</a>
of <a href="#block-box">block</a> boxes, 
<a href="#inline-formatting">inline formatting</a>
of <a href="#inline-box">inline </a> boxes, <a
href="#relative-positioning">relative positioning</a> of
block or inline boxes, and positioning of
<a href="#run-in"> <del>compact</del> <del>and</del>run-in</a> boxes.
</li>
<li><a href="#floats">Floats</a>. In the float model,
a box is first laid out according to the normal flow, then 
taken out of the flow and shifted
to the left or right as far as possible. Content may
flow along the side of a float.
</li>
<li><a href="#absolute-positioning">Absolute positioning</a>. 
In the absolute positioning model, a box is removed from
the normal flow entirely (it has no impact on later siblings)
and assigned a position with respect to a containing block.
</li>
</ol>

<div class="note">
<em><strong>Note.</strong>
 <del>CSS2's</del><ins>CSS&nbsp;2.1's</ins> positioning schemes help authors make their documents
more accessible by allowing them to avoid mark-up tricks
(e.g., invisible images) used for layout effects.
</em>
</div>

<h3>9.3.1 <a name="choose-position">Choosing a positioning scheme:</a> <a href="visuren.html#propdef-position" class="noxref"><span
class="propinst-position">'position'</span></a> property</h3>

<p>The <a href="visuren.html#propdef-position" class="noxref"><span class="propinst-position">'position'</span></a> and <a href="visuren.html#propdef-float" class="noxref"><span
class="propinst-float">'float'</span></a> properties determine which 
of the  <del>CSS2</del><ins>CSS&nbsp;2.1</ins> positioning algorithms is used to calculate 
the position of a box.
</p>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'position'"><a name="propdef-position" class="propdef-title"><strong>'position'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td>static | relative | absolute | fixed | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>static
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td>all  <del>elements,</del> <del>but</del> <del>not</del> <del>to</del> <del>generated</del> <del>content</del><ins>elements</ins>
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>N/A
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">visual</a>
<tr valign=baseline><td><em><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>as</ins> <ins>specified</ins>
</table>
</dl>
</div>


<p>The values of this property have the following meanings:</p>

<dl>
<dt><strong>static</strong></dt>

<dd>The box is a normal box, laid out according to the <a
href="#normal-flow">normal flow</a>. The 
<a href="visuren.html#propdef-top" class="noxref"><span class="propinst-top"> <del>'left'</del> <del>and</del>'top'</span></a><ins>,</ins> 
<a href="visuren.html#propdef-right" class="noxref"><span class="propinst-right"><ins>'right'</ins></span></a><ins>,</ins> 
<a href="visuren.html#propdef-bottom" class="noxref"><span class="propinst-bottom"><ins>'bottom'</ins></span></a><ins>,</ins>
<ins>and</ins> <a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left"><ins>'left'</ins></span></a>
properties do not apply. 
</dd>
<dt><strong>relative</strong></dt>

<dd>The box's position is calculated according to the <a
href="#normal-flow">normal flow</a> (this is called the position in
normal flow). Then the box is offset <a
href="#relative-positioning">relative</a> to its normal position. When
a box B is relatively positioned, the position of the following box is
calculated as though B were not offset.  <ins>The</ins> <ins>effect</ins> <ins>of</ins> <ins>'position:relative'</ins> <ins>on</ins> <ins>table-row-group,</ins> <ins>table-header-group,</ins> <ins>table-footer-group,</ins> <ins>table-row,</ins> <ins>table-column-group,</ins> <ins>table-column,</ins> <ins>table-cell,</ins> <ins>and</ins> <ins>table-caption</ins> <ins>elements</ins> <ins>is</ins> <ins>undefined.</ins>
</dd>
<dt><strong>absolute</strong></dt>
<dd> The box's position (and possibly size) is specified
with the <a href="visuren.html#propdef-top" class="noxref"><span class="propinst-top"> <del>'left'</del><ins>'top'</ins></span></a>,
<a href="visuren.html#propdef-right" class="noxref"><span class="propinst-right">'right'</span></a>, 
<a href="visuren.html#propdef-bottom" class="noxref"><span class="propinst-bottom"> <del>'top'</del><ins>'bottom'</ins></span></a>, and
<a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left"> <del>'bottom'</del><ins>'left'</ins></span></a>
properties.
These properties specify offsets with respect to the box's 
<a href="#containing-block">containing block</a>. Absolutely
positioned boxes are taken out of the normal flow. This means
they have no impact on the layout of later siblings. Also,
though <a href="#absolutely-positioned">absolutely positioned</a> 
boxes have margins, they
do not <a href="box.html#collapsing-margins">collapse</a>
with any other margins.
</dd>
<dt><strong>fixed</strong></dt>
<dd> The box's position is calculated according to the 'absolute'
model, but in addition, the box is <a
href="#fixed-positioning">fixed</a> with respect to some reference.  
<ins>As</ins> <ins>with</ins> <ins>the</ins> <ins>'absolute'</ins> <ins>model,</ins> <ins>the</ins> <ins>box's</ins> <ins>margins</ins> <ins>do</ins> <ins>not</ins> <ins>collapse</ins> <ins>with</ins> <ins>any</ins> <ins>other</ins> <ins>margins.</ins>
In the case of  <del>continuous</del><ins>handheld,</ins> <ins>projection,</ins> <ins>screen,</ins> <ins>tty,</ins> <ins>and</ins> <ins>tv</ins> media  <del>,</del><ins>types,</ins> 
the box is fixed with respect to the <a href="#viewport">viewport</a> 
 <del>(and</del><ins>and</ins> doesn't move when 
 <del>scrolled).</del><ins>scrolled.</ins> In the case of  <del>paged</del><ins>the</ins> <ins>print</ins> media  <del>,</del><ins>type,</ins> the box is <ins>rendered</ins> <ins>on</ins> <ins>every</ins> <ins>page,</ins> <ins>and</ins> <ins>is</ins> fixed with respect to the  <del>page,</del><ins>page</ins> <ins>box,</ins> even if  <del>that</del><ins>the</ins> page is seen through a <a href="#viewport">viewport</a> 
(in the case of a print-preview, for example). <ins>For</ins> <ins>other</ins> <ins>media</ins> 
<ins>types,</ins> <ins>the</ins> <ins>presentation</ins> <ins>is</ins> <ins>undefined.</ins> 
Authors may wish to specify 'fixed' in a
media-dependent way.  For instance, an author may want a box to remain
at the top of the <a href="#viewport">viewport</a> on the screen, but
not at the top of each printed page. The two specifications may be
separated by using an <a href="media.html#at-media-rule">@media
rule</a>, as in:

<div class="example"><P style="display:none">Example(s):</P>
<pre><code class="css">   
@media screen { 
  h1#first { position: fixed } 
}
@media print { 
  h1#first { position: static }
}
</code></pre>   
</div>
<p><ins>UAs</ins> <ins>must</ins> <ins>not</ins> <ins>paginate</ins> <ins>the</ins> <ins>content</ins> <ins>of</ins> <ins>fixed</ins> <ins>boxes.</ins> <span
class="note"><ins>Note</ins> <ins>that</ins> <ins>UAs</ins> <ins>may</ins> <ins>print</ins> <ins>invisible</ins> <ins>content</ins> <ins>in</ins> <ins>other</ins>
<ins>ways.</ins> <ins>See</ins> <a href="page.html#outside-page-box"><ins>"Content</ins> <ins>outside</ins> <ins>the</ins>
<ins>page</ins> <ins>box"</ins></a> <ins>in</ins> <ins>chapter&nbsp;13.</ins></span>
</dd>
</dl>
<p>
<ins>User</ins> <ins>agents</ins> <ins>may</ins> <ins>treat</ins> <ins>position</ins> <ins>as</ins> <ins>'static'</ins> <ins>on</ins> <ins>the</ins> <ins>root</ins> <ins>element.</ins>
</p>

<h3>9.3.2 <a name="position-props">Box offsets</a>: <a href="visuren.html#propdef-top" class="noxref"><span
class="propinst-top">'top'</span></a>, <a href="visuren.html#propdef-right" class="noxref"><span
class="propinst-right">'right'</span></a>, <a href="visuren.html#propdef-bottom" class="noxref"><span
class="propinst-bottom">'bottom'</span></a>, <a href="visuren.html#propdef-left" class="noxref"><span
class="propinst-left">'left'</span></a></h3>

<p>An element is said to be <span class="index-def" title="positioned
element/box"><a name="positioned-element"><dfn>positioned</dfn></a></span>
if its <a href="visuren.html#propdef-position" class="noxref"><span class="propinst-position">'position'</span></a> property has
a value other than 'static'. Positioned elements generate
positioned boxes, laid out according to four properties:</p>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'top'"><a name="propdef-top" class="propdef-title"><strong>'top'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td><a href="syndata.html#value-def-length" class="noxref"><span class="value-inst-length">&lt;length&gt;</span></a> | <a href="syndata.html#value-def-percentage" class="noxref"><span class="value-inst-percentage">&lt;percentage&gt;</span></a> | auto | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>auto
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td>positioned elements
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>refer to height of containing block
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">visual</a>
<tr valign=baseline><td><em><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>for</ins> <ins>'position:relative',</ins> <ins>see</ins> <ins>section</ins>
  <a href="visuren.html#relative-positioning"><ins>Relative</ins>
  <ins>Positioning.</ins></a> <ins>For</ins> <ins>'position:static',</ins> <ins>'auto'.</ins> <ins>Otherwise:</ins> <ins>if</ins>
  <ins>specified</ins> <ins>as</ins> <ins>a</ins> <ins>length,</ins> <ins>the</ins> <ins>corresponding</ins> <ins>absolute</ins> <ins>length;</ins> <ins>if</ins>
  <ins>specified</ins> <ins>as</ins> <ins>a</ins> <ins>percentage,</ins> <ins>the</ins> <ins>specified</ins> <ins>value;</ins> <ins>otherwise,</ins> <ins>'auto'.</ins>
</table>
</dl>
</div>


<p>This property specifies how far  <del>a</del><ins>an</ins> <a
href="#absolutely-positioned"><ins>absolutely</ins> <ins>positioned</ins></a> box's top
 <del>content</del><ins>margin</ins> edge is offset below the top edge of the box's <a
href="#containing-block">containing block</a>.  <del>'right'</del> <del>Value:</del> <del>&nbsp;&nbsp;</del> <del>&lt;length&gt;</del> <del>|</del> <del>&lt;percentage&gt;</del> <del>|</del> <del>auto</del> <del>|</del> <del>inherit</del> <del>Initial:</del> <del>&nbsp;&nbsp;</del> <del>auto</del> <del>Applies</del> <del>to:</del> <del>&nbsp;&nbsp;</del><ins>For</ins> <ins>relatively</ins>
positioned  <del>elements</del> <del>Inherited:</del> <del>&nbsp;&nbsp;</del> <del>no</del> <del>Percentages:</del> <del>&nbsp;&nbsp;</del><ins>boxes,</ins> <ins>the</ins> <ins>offset</ins> <ins>is</ins> <ins>with</ins> <ins>respect</ins> <ins>to</ins> <ins>the</ins> <ins>top</ins> <ins>edges</ins> <ins>of</ins> <ins>the</ins>
<ins>box</ins> <ins>itself</ins> <ins>(i.e.,</ins> <ins>the</ins> <ins>box</ins> <ins>is</ins> <ins>given</ins> <ins>a</ins> <ins>position</ins> <ins>in</ins> <ins>the</ins> <ins>normal</ins> <ins>flow,</ins> <ins>then</ins>
<ins>offset</ins> <ins>from</ins> <ins>that</ins> <ins>position</ins> <ins>according</ins> <ins>to</ins> <ins>these</ins> <ins>properties).</ins>
<span class="note">
<ins>Note:</ins> <ins>For</ins> <ins>absolutely</ins> <ins>positioned</ins> <ins>elements</ins> <ins>whose</ins> <ins>containing</ins> <ins>block</ins> <ins>is</ins> <ins>based</ins> <ins>on</ins> <ins>a</ins> <ins>block-level</ins> <ins>element,</ins> <ins>this</ins> <ins>property</ins> <ins>is</ins> <ins>an</ins> <ins>offset</ins> <ins>from</ins> <ins>the</ins> <em><ins>padding</ins></em> <ins>edge</ins> <ins>of</ins> <ins>that</ins> <ins>element.</ins>
</span>
</p>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'right'"><a name="propdef-right" class="propdef-title"><strong><ins>'right'</ins></strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em><ins>Value:</ins></em><ins>&nbsp;&nbsp;</ins><td><a href="syndata.html#value-def-length" class="noxref"><span class="value-inst-length"><ins>&lt;length&gt;</ins></span></a> <ins>|</ins> <a href="syndata.html#value-def-percentage" class="noxref"><span class="value-inst-percentage"><ins>&lt;percentage&gt;</ins></span></a> <ins>|</ins> <ins>auto</ins> <ins>|</ins> <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit"><ins>inherit</ins></span></a>
<tr valign=baseline><td><em><ins>Initial:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>auto</ins>
<tr valign=baseline><td><em><ins>Applies</ins> <ins>to:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>positioned</ins> <ins>elements</ins>
<tr valign=baseline><td><em><ins>Inherited:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>no</ins>
<tr valign=baseline><td><em><ins>Percentages:</ins></em><ins>&nbsp;&nbsp;</ins><td>refer to width of containing block
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">visual</a>
<tr valign=baseline><td><em> <del>This</del> <del>property</del><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>for</ins> <ins>'position:relative',</ins> <ins>see</ins> <ins>section</ins>
  <a href="visuren.html#relative-positioning"><ins>Relative</ins>
  <ins>Positioning.</ins></a> <ins>For</ins> <ins>'position:static',</ins> <ins>'auto'.</ins> <ins>Otherwise:</ins> <ins>if</ins>
  <ins>specified</ins> <ins>as</ins> <ins>a</ins> <ins>length,</ins> <ins>the</ins> <ins>corresponding</ins> <ins>absolute</ins> <ins>length;</ins> <ins>if</ins>
  <ins>specified</ins> <ins>as</ins> <ins>a</ins> <ins>percentage,</ins> <ins>the</ins> <ins>specified</ins> <ins>value;</ins> <ins>otherwise,</ins>
  <ins>'auto'.</ins>
</table>
</dl>
</div>


<p><ins>Like</ins> <ins>'top',</ins> <ins>but</ins> specifies how far a box's right  <del>content</del><ins>margin</ins> edge is
offset to the left of the right edge of the box's <a
href="#containing-block">containing block</a>.  <ins>For</ins> <ins>relatively</ins>
<ins>positioned</ins> <ins>boxes,</ins> <ins>the</ins> <ins>offset</ins> <ins>is</ins> <ins>with</ins> <ins>respect</ins> <ins>to</ins> <ins>the</ins> <ins>right</ins> <ins>edge</ins> <ins>of</ins> <ins>the</ins>
<ins>box</ins> <ins>itself.</ins>
<span class="note">
<ins>Note:</ins> <ins>For</ins> <ins>absolutely</ins> <ins>positioned</ins> <ins>elements</ins> <ins>whose</ins> <ins>containing</ins> <ins>block</ins> <ins>is</ins> <ins>based</ins> <ins>on</ins> <ins>a</ins> <ins>block-level</ins> <ins>element,</ins> <ins>this</ins> <ins>property</ins> <ins>is</ins> <ins>an</ins> <ins>offset</ins> <ins>from</ins> <ins>the</ins> <em><ins>padding</ins></em> <ins>edge</ins> <ins>of</ins> <ins>that</ins> <ins>element.</ins>
</span>
</p>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'bottom'"><a name="propdef-bottom" class="propdef-title"><strong>'bottom'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td><a href="syndata.html#value-def-length" class="noxref"><span class="value-inst-length">&lt;length&gt;</span></a> | <a href="syndata.html#value-def-percentage" class="noxref"><span class="value-inst-percentage">&lt;percentage&gt;</span></a> | auto | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>auto
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td>positioned elements
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>refer to height of containing block
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">visual</a>
<tr valign=baseline><td><em> <del>This</del> <del>property</del><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>for</ins> <ins>'position:relative',</ins> <ins>see</ins> <ins>section</ins>
  <a href="visuren.html#relative-positioning"><ins>Relative</ins>
  <ins>Positioning.</ins></a> <ins>For</ins> <ins>'position:static',</ins> <ins>'auto'.</ins> <ins>Otherwise:</ins> <ins>if</ins>
  <ins>specified</ins> <ins>as</ins> <ins>a</ins> <ins>length,</ins> <ins>the</ins> <ins>corresponding</ins> <ins>absolute</ins> <ins>length;</ins> <ins>if</ins>
  <ins>specified</ins> <ins>as</ins> <ins>a</ins> <ins>percentage,</ins> <ins>the</ins> <ins>specified</ins> <ins>value;</ins> <ins>otherwise,</ins> <ins>'auto'.</ins>
</table>
</dl>
</div>


<p><ins>Like</ins> <ins>'top',</ins> <ins>but</ins> specifies how far a box's bottom  <del>content</del><ins>margin</ins> edge is
offset above the bottom of the box's <a
href="#containing-block">containing block</a>. <ins>For</ins> <ins>relatively</ins>
<ins>positioned</ins> <ins>boxes,</ins> <ins>the</ins> <ins>offset</ins> <ins>is</ins> <ins>with</ins> <ins>respect</ins> <ins>to</ins> <ins>the</ins> <ins>bottom</ins> <ins>edge</ins> <ins>of</ins> <ins>the</ins>
<ins>box</ins> <ins>itself.</ins>
<span class="note">
<ins>Note:</ins> <ins>For</ins> <ins>absolutely</ins> <ins>positioned</ins> <ins>elements</ins> <ins>whose</ins> <ins>containing</ins> <ins>block</ins> <ins>is</ins> <ins>based</ins> <ins>on</ins> <ins>a</ins> <ins>block-level</ins> <ins>element,</ins> <ins>this</ins> <ins>property</ins> <ins>is</ins> <ins>an</ins> <ins>offset</ins> <ins>from</ins> <ins>the</ins> <em><ins>padding</ins></em> <ins>edge</ins> <ins>of</ins> <ins>that</ins> <ins>element.</ins>
</span>
</p>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'left'"><a name="propdef-left" class="propdef-title"><strong>'left'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td><a href="syndata.html#value-def-length" class="noxref"><span class="value-inst-length">&lt;length&gt;</span></a> | <a href="syndata.html#value-def-percentage" class="noxref"><span class="value-inst-percentage">&lt;percentage&gt;</span></a> | auto | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>auto
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td>positioned elements
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>refer to width of containing block
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">visual</a>
<tr valign=baseline><td><em> <del>This</del> <del>property</del><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>for</ins> <ins>'position:relative',</ins> <ins>see</ins> <ins>section</ins>
  <a href="visuren.html#relative-positioning"><ins>Relative</ins>
  <ins>Positioning.</ins></a> <ins>For</ins> <ins>'position:static',</ins> <ins>'auto'.</ins> <ins>Otherwise:</ins> <ins>if</ins>
  <ins>specified</ins> <ins>as</ins> <ins>a</ins> <ins>length,</ins> <ins>the</ins> <ins>corresponding</ins> <ins>absolute</ins> <ins>length;</ins> <ins>if</ins>
  <ins>specified</ins> <ins>as</ins> <ins>a</ins> <ins>percentage,</ins> <ins>the</ins> <ins>specified</ins> <ins>value;</ins> <ins>otherwise,</ins>
  <ins>'auto'.</ins>
</table>
</dl>
</div>


<p><ins>Like</ins> <ins>'top',</ins> <ins>but</ins> specifies how far a box's left  <del>content</del><ins>margin</ins> edge is
offset to the right of the left edge of the box's <a
href="#containing-block">containing block</a>.   <del>The</del> <del>values</del><ins>For</ins> <ins>relatively</ins>
<ins>positioned</ins> <ins>boxes,</ins> <ins>the</ins> <ins>offset</ins> <ins>is</ins> <ins>with</ins> <ins>respect</ins> <ins>to</ins> <ins>the</ins> <ins>left</ins> <ins>edge</ins> <ins>of</ins> <ins>the</ins>
<ins>box</ins> <ins>itself.</ins>
<span class="note">
<ins>Note:</ins> <ins>For</ins> <ins>absolutely</ins> <ins>positioned</ins> <ins>elements</ins> <ins>whose</ins> <ins>containing</ins> <ins>block</ins> <ins>is</ins> <ins>based</ins> <ins>on</ins> <ins>a</ins> <ins>block-level</ins> <ins>element,</ins> <ins>this</ins> <ins>property</ins> <ins>is</ins> <ins>an</ins> <ins>offset</ins> <ins>from</ins> <ins>the</ins> <em><ins>padding</ins></em> <ins>edge</ins> <ins>of</ins> <ins>that</ins> <ins>element.</ins>
</span>
</p>

<p><ins>The</ins> <ins>values</ins> for the four properties have the following meanings:</p>

<dl>
<dt><strong><a href="syndata.html#value-def-length" class="noxref"><span class="value-inst-length">&lt;length&gt;</span></a></strong></dt>
<dd>The offset is a fixed distance from the reference edge. <ins>Negative</ins> <ins>values</ins> <ins>are</ins> <ins>allowed.</ins>
</dd>
<dt><strong><a href="syndata.html#value-def-percentage" class="noxref"><span class="value-inst-percentage">&lt;percentage&gt;</span></a></strong></dt>

<dd>The offset is a percentage of the containing block's width (for <a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left">'left'</span></a> or <a href="visuren.html#propdef-right" class="noxref"><span
class="propinst-right">'right'</span></a>) or height (for <a href="visuren.html#propdef-top" class="noxref"><span
class="propinst-top">'top'</span></a> and <a href="visuren.html#propdef-bottom" class="noxref"><span
class="propinst-bottom">'bottom'</span></a>).  <del>For</del> <del>'top'</del> <del>and</del> <del>'bottom',</del> <del>if</del> <del>the</del> <del>height</del> <del>of</del> <del>the</del> <del>containing</del> <del>block</del> <del>is</del> <del>not</del> <del>specified</del> <del>explicitly</del> <del>(i.e.,</del> <del>it</del> <del>depends</del> <del>on</del> <del>content</del> <del>height),</del> <del>the</del> <del>percentage</del> <del>value</del> <del>is</del> <del>interpreted</del> <del>like</del> <del>'auto'.</del><ins>Negative</ins> <ins>values</ins> <ins>are</ins> <ins>allowed.</ins>
</dd>
<dt><strong>auto</strong></dt>
<dd><ins>For</ins> <ins>non-replaced</ins> <ins>elements,</ins> the effect of this value 
depends on which of related properties have the value 'auto' as
well. See the sections on the 
<a href="visudet.html#abs-non-replaced-width">width</a>
and <a href="visudet.html#abs-non-replaced-height">height</a>
of <a href="#absolutely-positioned">absolutely positioned</a>, 
non-replaced elements for details.  For  <del>absolutely</del> <del>positioned</del> <del>boxes,</del> <del>the</del> <del>offsets</del> <del>are</del> <del>with</del> <del>respect</del> <del>to</del> <del>the</del> <del>box's</del> <del>containing</del> <del>block</del> <del>.</del> <del>For</del> <del>relatively</del> <del>positioned</del> <del>boxes,</del><ins>replaced</ins> <ins>elements,</ins> the
 <del>offsets</del> <del>are</del> <del>with</del> <del>respect</del> <del>to</del><ins>effect</ins> <ins>of</ins> <ins>this</ins> <ins>value</ins> <ins>depends</ins> <ins>only</ins> <ins>on</ins> the  <del>outer</del> <del>edges</del><ins>intrinsic</ins> <ins>dimensions</ins> of the
 <del>box</del> <del>itself</del> <del>(i.e.,</del><ins>replaced</ins> <ins>content.</ins> <ins>See</ins> the  <del>box</del> <del>is</del> <del>given</del> <del>a</del> <del>position</del> <del>in</del><ins>sections</ins> <ins>on</ins> the <a
href="visudet.html#abs-replaced-width"> <del>normal</del> <del>flow,</del> <del>then</del> <del>offset</del> <del>from</del> <del>that</del> <del>position</del> <del>according</del> <del>to</del> <del>these</del> <del>properties).</del><ins>width</ins></a> <ins>and</ins> <a
href="visudet.html#abs-replaced-height"><ins>height</ins></a> <ins>of</ins> <ins>absolutely</ins>
<ins>positioned,</ins> <ins>replaced</ins> <ins>elements</ins> <ins>for</ins> <ins>details.</ins>
</dd>
</dl>

<h2>9.4 <a name="normal-flow">Normal flow</a></h2> 

<p>Boxes in the normal flow belong to a <a name="x26"><span class="index-def"
title="formatting context">formatting context</span></a>, which may be
block or inline, but not both simultaneously.  <a
href="#block-box">Block</a> boxes participate in a <a
href="#block-formatting">block formatting</a> context.  <a
href="#inline-box">Inline boxes</a> participate in an <a
href="#inline-formatting">inline formatting</a> context.
</p>
<h3>9.4.1 <a name="block-formatting">Block formatting  <del>context</del><ins>contexts</ins></a></h3>

<p><ins>Floats,</ins> <ins>absolutely</ins> <ins>positioned</ins> <ins>elements,</ins> <ins>inline-blocks,</ins> <ins>table-cells,</ins>
<ins>table-captions,</ins> <ins>and</ins> <ins>elements</ins> <ins>with</ins> <ins>'overflow'</ins> <ins>other</ins> <ins>than</ins> <ins>'visible'</ins>
<ins>(except</ins> <ins>when</ins> <ins>that</ins> <ins>value</ins> <ins>has</ins> <ins>been</ins> <ins>propagated</ins> <ins>to</ins> <ins>the</ins> <ins>viewport)</ins> <ins>establish</ins>
<ins>new</ins> <ins>block</ins> <ins>formatting</ins> <ins>contexts.</ins></p>

<p>In a block formatting context, boxes are laid out one after the
other, vertically, beginning at the top of a containing block. The
vertical distance between two sibling boxes is determined by the <a href="box.html#propdef-margin" class="noxref"><span
class="propinst-margin">'margin'</span></a> properties. Vertical margins
between adjacent block boxes in a block formatting context <a
href="box.html#collapsing-margins">collapse</a>.
</p>

<p>
In a block formatting context, each box's left outer edge touches the
left edge of the containing block (for right-to-left formatting, right
edges touch).  This is true even in the presence of floats (although a
box's <em> <del>content</del> <del>area</del><ins>line</ins> <ins>boxes</ins></em> may shrink due to the <ins>floats),</ins> <ins>unless</ins> <ins>the</ins> <ins>box</ins>
<ins>establishes</ins> <ins>a</ins> <ins>new</ins> <ins>block</ins> <ins>formatting</ins> <ins>context</ins> <ins>(in</ins> <ins>which</ins> <ins>case</ins> <ins>the</ins> <ins>box</ins> <ins>itself</ins>
<a href="#bfc-next-to-float"><em><ins>may</ins></em> <ins>become</ins> <ins>narrower</ins></a> <ins>due</ins> <ins>to</ins>
<ins>the</ins> floats).
</p>

<p>For information about page breaks in paged media, please consult
the section on <a href="page.html#allowed-page-breaks">allowed
page breaks</a>.
</p>

<h3>9.4.2 <a name="inline-formatting">Inline formatting context</a></h3>

<p>In an inline formatting context, boxes are laid out horizontally,
one after the other, beginning at the top of a containing
block. Horizontal margins, borders, and padding are respected between
these boxes. The boxes may be aligned vertically in different ways: their
bottoms or tops may be aligned, or the baselines of text within them
may be aligned. The rectangular area that contains the boxes that form
a line is called a <span class="index-def" title="line box"><a
name="line-box"><dfn>line box</dfn></a></span>. 
</p>
<p>The width of a line box is determined by a <a
href="#containing-block">containing block</a>  <del>.</del><ins>and</ins> <ins>the</ins> <ins>presence</ins> <ins>of</ins> <ins>floats.</ins>  
The height of a line
box is determined by the rules given in the section on <a
href="visudet.html#line-height">line height calculations</a>. 
</p>
<p>A line box is always tall enough for all of the boxes it contains. 
However, it may be taller than the tallest box it contains 
(if, for example, boxes are aligned so that baselines line up). 
When the height of a box B is less than the height of the line box containing it, 
the vertical alignment of B within the line box is determined by 
the 'vertical-align' property.
When several inline boxes cannot fit horizontally within a single
line box, they are distributed among two or more vertically-stacked
line boxes. Thus, a paragraph is a vertical stack of line boxes. Line
boxes are stacked with no vertical separation and they never overlap.
</p>
<p>In general, the left edge of a line box touches the left edge
of its containing block and the right edge touches the right edge of
its containing block. However, floating boxes may come between the
containing block edge and the line box edge.  Thus, although line
boxes in the same inline formatting context generally have the same
width (that of the containing block), they may vary in width if
available horizontal space is reduced due to <a
href="#floats">floats</a>. Line boxes in the same inline formatting
context generally vary in height (e.g., one line might contain a tall
image while the others contain only text).
</p>
<p>When the total width of the inline boxes on a line is less than the
width of the line box containing them, their horizontal distribution
within the line box is determined by the <a href="text.html#propdef-text-align" class="noxref"><span
class="propinst-text-align">'text-align'</span></a> property.  If that
property has the value 'justify', the user agent may stretch  <del>the</del><ins>spaces</ins>
<ins>and</ins> <ins>words</ins> <ins>in</ins> inline boxes <ins>(except</ins> <ins>for</ins> <ins>inline-table</ins> <ins>and</ins> <ins>inline-block</ins>
<ins>boxes)</ins> as well.
</p>

<p>
 <del>Since</del><ins>When</ins> an inline box  <del>may</del> <del>not</del> <del>exceed</del><ins>exceeds</ins> the width of a line box,  <del>long</del> <del>inline</del> <del>boxes</del> <del>are</del><ins>it</ins> <ins>is</ins> split into several boxes and these boxes <ins>are</ins> distributed across several line boxes.   <del>When</del><ins>If</ins> an inline box  <del>is</del> <del>split,</del> <del>margins,</del> <del>borders,</del> <del>and</del> <del>padding</del> <del>have</del> <del>no</del> <del>visual</del> <del>effect</del> <del>where</del> <del>the</del> <del>split</del> <del>occurs.</del> <del>Formatting</del> <del>of</del> <del>margins,</del> <del>borders,</del> <del>and</del> <del>padding</del> <del>may</del> <del>not</del><ins>cannot</ins> be  <del>fully</del> <del>defined</del><ins>split</ins> <ins>(e.g.</ins> if the  <del>split</del> <del>occurs</del> <del>within</del> <del>a</del> <del>bidirectional</del> <del>embedding.</del>inline  <del>boxes</del> <del>may</del> <del>also</del> <del>be</del> <del>split</del> <del>into</del> <del>several</del><ins>box</ins> <ins>contains</ins> <ins>a</ins> <ins>single</ins> <ins>character,</ins> <ins>or</ins> <ins>language</ins> <ins>specific</ins> <ins>word</ins> <ins>breaking</ins> <ins>rules</ins> <ins>disallow</ins> <ins>a</ins> <ins>break</ins> <ins>within</ins> <ins>the</ins> <ins>inline</ins> <ins>box,</ins> <ins>or</ins> <ins>if</ins> <ins>the</ins> <ins>inline</ins> <ins>box</ins> <ins>is</ins> <ins>affected</ins> <ins>by</ins> <ins>a</ins> <ins>white-space</ins> <ins>value</ins> <ins>of</ins> <ins>nowrap</ins> <ins>or</ins> <ins>pre),</ins> <ins>then</ins> <ins>the</ins> <ins>inline</ins> <ins>box</ins> <ins>overflows</ins> <ins>the</ins> <ins>line</ins> <ins>box.</ins>
</p>
<p>
<ins>When</ins> <ins>an</ins> <ins>inline</ins> <ins>box</ins> <ins>is</ins> <ins>split,</ins> <ins>margins,</ins>
<ins>borders,</ins> <ins>and</ins> <ins>padding</ins> <ins>have</ins> <ins>no</ins> <ins>visual</ins> <ins>effect</ins> <ins>where</ins> <ins>the</ins> <ins>split</ins> <ins>occurs</ins> <ins>(or</ins>
<ins>at</ins> <ins>any</ins> <ins>split,</ins> <ins>when</ins> <ins>there</ins> <ins>are</ins> <ins>several).</ins>
</p>
<p><ins>Inline</ins> <ins>boxes</ins> <ins>may</ins> <ins>also</ins> <ins>be</ins> <ins>split</ins> <ins>into</ins> <ins>several</ins> boxes <em>within the
same line box</em> due to <a href="#direction">bidirectional text
processing</a>.
</p>
<p><ins>Line</ins> <ins>boxes</ins> <ins>that</ins> <ins>contain</ins> <ins>no</ins> <ins>text,</ins> <ins>no</ins> <ins>preserved</ins> <ins>white</ins> <ins>space,</ins> <ins>no</ins>
<ins>inline</ins> <ins>elements</ins> <ins>with</ins> <ins>non-zero</ins> <ins>margins,</ins> <ins>padding,</ins> <ins>or</ins> <ins>borders,</ins> <ins>and</ins> <ins>no</ins>
<ins>other</ins> <ins>in-flow</ins> <ins>content</ins> <ins>(such</ins> <ins>as</ins> <ins>images,</ins> <ins>inline</ins> <ins>blocks</ins> <ins>or</ins> <ins>inline</ins>
<ins>tables),</ins> <ins>and</ins> <ins>don't</ins> <ins>end</ins> <ins>with</ins> <ins>a</ins> <ins>line</ins> <ins>feed</ins> <ins>must</ins> <ins>be</ins> <ins>treated</ins> <ins>as</ins> <ins>zero-height</ins>
<ins>line</ins> <ins>boxes.</ins> <ins>For</ins> <ins>the</ins> <ins>purposes</ins> <ins>of</ins> <ins>margin</ins> <ins>collapsing,</ins> <ins>this</ins> <ins>line</ins> <ins>box</ins> <ins>must</ins>
<ins>be</ins> <ins>ignored.</ins>
</p>
<div class="html-example"><p> 
Here is an example of inline box construction. The following paragraph
(created by the HTML block-level element P) contains anonymous text
interspersed with the elements EM and STRONG:
</p>
<pre><code class="html">
&lt;P&gt;Several &lt;EM&gt;emphasized words&lt;/EM&gt; appear
&lt;STRONG&gt;in this&lt;/STRONG&gt; sentence, dear.&lt;/P&gt;
</code></pre>

<p>The P element generates a block box that contains five inline
boxes, three of which are anonymous:</p>

<ul>
<li>Anonymous: "Several"</li>
<li>EM: "emphasized words"</li>
<li>Anonymous: "appear"</li>
<li>STRONG: "in this"</li>
<li>Anonymous: "sentence, dear."</li>
</ul>
 
<p>To format the paragraph, the user agent flows the five boxes into
line boxes. In this example, the box generated for the P element
establishes the containing block for the line boxes. If the containing
block is sufficiently wide, all the inline boxes will fit into a
single line box:
</p>
<pre>
 Several <em>emphasized words</em> appear <strong>in this</strong> sentence, dear.
</pre>

<p>If not, the inline boxes will be split up and distributed across
several line boxes. The previous paragraph might be split as follows:
</p>
<pre>
Several <em>emphasized words</em> appear
<strong>in this</strong> sentence, dear.
</pre>

or like this:

<pre>
Several <em>emphasized</em>  
<em>words</em> appear <strong>in this</strong> 
sentence, dear.
</pre>

</div>

<p>In the previous example, the EM box was split into two EM boxes
(call them "split1" and "split2"). Margins, borders,
padding, or text decorations have no visible effect after split1 or
before split2.
</p>
<div class="html-example"><p>
Consider the following example:
</p>
<pre><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML  <del>4.0//EN"&gt;</del><ins>4.01//EN"&gt;</ins>
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Example of inline flow on several lines&lt;/TITLE&gt;
    &lt;STYLE type="text/css"&gt;
      EM {
        padding: 2px; 
        margin: 1em;
        border-width: medium;
        border-style: dashed;
        line-height: 2.4em;
      }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;Several &lt;EM&gt;emphasized words&lt;/EM&gt; appear here.&lt;/P&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>

<p>Depending on the width of the P, the boxes may be distributed as
follows:</p>

<div class="figure">
<p><img src="./images/inline-layout.png"
     alt="Image illustrating the effect of line breaking on the
display of margins, borders, and padding."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-inline-layout" href="images/longdesc/inline-layout-desc.html" title="Long description for illustration of margin/border
behavior on split inline box">[D]</A></SPAN></p>
</div>

<ul>
<li> The margin is inserted before "emphasized" and after "words". </li>

<li> The padding is inserted before, above, and below
"emphasized" and after, above, and below "words". A
dashed border is rendered on three sides in each case.</li>
</ul>
</div>

<h3>9.4.3 <a name="relative-positioning">Relative positioning</a></h3>  

<p>Once a box has been laid out according to the <a
href="#normal-flow">normal flow</a>  <del>,</del><ins>or</ins> <ins>floated,</ins> it may be shifted relative to
this position. This is called <a name="x28"><span class="index-def" title="relative
positioning"><dfn>relative positioning</dfn></span></a>. Offsetting a box
(B1) in this way has no effect on the box (B2) that follows: B2 is
given a position as if B1 were not offset and B2 is not re-positioned
after B1's offset is applied. This implies that relative positioning
may cause boxes to overlap.
<ins>However,</ins> <ins>if</ins> <ins>relative</ins> <ins>positioning</ins> <ins>causes</ins> <ins>an</ins> <ins>'overflow:auto'</ins> <ins>or</ins>
<ins>'overflow:scroll'</ins> <ins>box</ins> <ins>to</ins> <ins>have</ins>
<ins>overflow,</ins> <ins>the</ins> <ins>UA</ins> <ins>must</ins> <ins>allow</ins> <ins>the</ins> <ins>user</ins> <ins>to</ins> <ins>access</ins> <ins>this</ins> <ins>content</ins> <ins>(at</ins> <ins>its</ins> <ins>offset</ins>
<ins>position),</ins> <ins>which,</ins> <ins>through</ins> <ins>the</ins> <ins>creation</ins> <ins>of</ins> <ins>scrollbars,</ins> <ins>may</ins> <ins>affect</ins> <ins>layout.</ins>
</p>
<p><ins>A</ins> relatively positioned  <del>boxes</del> <del>keep</del> <del>their</del><ins>box</ins> <ins>keeps</ins> <ins>its</ins> normal flow size, including
line breaks and the space originally reserved for  <del>them.</del><ins>it.</ins> <ins>The</ins> <ins>section</ins> <ins>on</ins>
<a href="#containing-block"><ins>containing</ins> <ins>blocks</ins></a> <ins>explains</ins> <ins>when</ins> a
relatively positioned box establishes a new  <del>a</del> <del>new</del>containing  <del>block</del><ins>block.</ins>
</p>
<p>For  <del>normal</del> <del>flow</del> <del>children</del> <del>and</del> <del>positioned</del> <del>descendants.</del> <del>A</del>relatively positioned  <del>box</del> <del>is</del> <del>generated</del> <del>when</del> <del>the</del> <del>'position'</del> <del>property</del> <del>for</del> <del>an</del> <del>element</del> <del>has</del><ins>elements,</ins> <ins>'left'</ins> <ins>and</ins> <ins>'right'</ins> <ins>move</ins> the
 <del>value</del> <del>'relative'.</del><ins>box(es)</ins> <ins>horizontally,</ins> <ins>without</ins> <ins>changing</ins> <ins>their</ins> <ins>size.</ins> <ins>'left'</ins> <ins>moves</ins> the
 <del>offset</del> <del>is</del> <del>specified</del> <del>by</del><ins>boxes</ins> <ins>to</ins> the  <del>'top'</del> <del>,</del> <del>'bottom'</del> <del>,</del> <del>'left'</del> <del>,</del><ins>right,</ins> and 'right'  <del>properties.</del> <del>Dynamic</del> <del>movement</del> <del>of</del> <del>relatively</del> <del>positioned</del> <del>boxes</del> <del>can</del> <del>produce</del> <del>animation</del> <del>effects</del> <del>in</del> <del>scripting</del> <del>environments</del> <del>(see</del> <del>also</del><ins>moves</ins> <ins>them</ins> <ins>to</ins> the  <del>'visibility'</del> <del>property).</del> <del>Relative</del> <del>positioning</del> <del>may</del> <del>also</del> <del>be</del> <del>used</del><ins>left.</ins> <ins>Since</ins> <ins>boxes</ins>
<ins>are</ins> <ins>not</ins> <ins>split</ins> <ins>or</ins> <ins>stretched</ins> as a  <del>general</del> <del>form</del><ins>result</ins> of  <del>superscripting</del> <del>and</del> <del>subscripting</del> <del>except</del> <del>that</del> <del>line</del> <del>height</del> <del>is</del> <del>not</del> <del>automatically</del> <del>adjusted</del> <del>to</del> <del>take</del> <del>the</del> <del>positioning</del> <del>into</del> <del>consideration.</del> <del>See</del><ins>'left'</ins> <ins>or</ins> <ins>'right',</ins> <ins>the</ins>
<ins>computed</ins> <ins>values</ins> <ins>are</ins> <ins>always:</ins> <ins>left</ins> <ins>=</ins> <ins>-right.</ins>
</p>
<p><ins>If</ins> <ins>both</ins> <ins>'left'</ins> <ins>and</ins> <ins>'right'</ins> <ins>are</ins> <ins>'auto'</ins> <ins>(their</ins> <ins>initial</ins> <ins>values),</ins> <ins>the</ins>
<ins>computed</ins> <ins>values</ins> <ins>are</ins> <ins>'0'</ins> <ins>(i.e.,</ins> <ins>the</ins> <ins>boxes</ins> <ins>stay</ins> <ins>in</ins> <ins>their</ins> <ins>original</ins>
<ins>position).</ins>
</p>
<p><ins>If</ins> <ins>'left'</ins> <ins>is</ins> <ins>'auto',</ins> <ins>its</ins> <ins>computed</ins> <ins>value</ins> <ins>is</ins> <ins>minus</ins> <ins>the</ins> <ins>value</ins> <ins>of</ins> <ins>'right'</ins>
<ins>(i.e.,</ins> <ins>the</ins> <ins>boxes</ins> <ins>move</ins> <ins>to</ins> <ins>the</ins> <ins>left</ins> <ins>by</ins> <ins>the</ins> <ins>value</ins> <ins>of</ins> <ins>'right').</ins>
</p>
<p><ins>If</ins> <ins>'right'</ins> <ins>is</ins> <ins>specified</ins> <ins>as</ins> <ins>'auto',</ins> <ins>its</ins> <ins>computed</ins> <ins>value</ins> <ins>is</ins> <ins>minus</ins> <ins>the</ins>
<ins>value</ins> <ins>of</ins> <ins>'left'.</ins>
</p>
<p><ins>If</ins> <ins>neither</ins> <ins>'left'</ins> <ins>nor</ins> <ins>'right'</ins> <ins>is</ins> <ins>'auto',</ins> <ins>the</ins> <ins>position</ins> <ins>is</ins>
<ins>over-constrained,</ins> <ins>and</ins> <ins>one</ins> <ins>of</ins> <ins>them</ins> <ins>has</ins> <ins>to</ins> <ins>be</ins> <ins>ignored.</ins> <ins>If</ins> <ins>the</ins> <ins>'direction'</ins> <ins>property</ins> <ins>of</ins> <ins>the</ins> <ins>containing</ins> <ins>block</ins> <ins>is</ins> <ins>'ltr,</ins> <ins>the</ins> <ins>value</ins> <ins>of</ins> <ins>'left'</ins> <ins>wins</ins> <ins>and</ins> <ins>'right'</ins>
<ins>becomes</ins> <ins>-'left'.</ins> <ins>If</ins> <ins>'direction'</ins> <ins>of</ins> <ins>the</ins> <ins>containing</ins> <ins>block</ins> <ins>is</ins> <ins>'rtl',</ins> <ins>'right'</ins> <ins>wins</ins> <ins>and</ins> <ins>'left'</ins> <ins>is</ins> <ins>ignored.</ins>
</p>
<div class="example"><P style="display:none"><ins>Example(s):</ins></P>
<p><strong><ins>Example.</ins></strong> <ins>The</ins> <ins>following</ins> <ins>three</ins> <ins>rules</ins> <ins>are</ins> <ins>equivalent:</ins>
</p>
<pre><code class="css">
<ins>div.a8</ins> <ins>{</ins> <ins>position:</ins> <ins>relative;</ins> <ins>direction:</ins> <ins>ltr;</ins> <ins>left:</ins> <ins>-1em;</ins> <ins>right:</ins> <ins>auto</ins> <ins>}</ins>
<ins>div.a8</ins> <ins>{</ins> <ins>position:</ins> <ins>relative;</ins> <ins>direction:</ins> <ins>ltr;</ins> <ins>left:</ins> <ins>auto;</ins> <ins>right:</ins> <ins>1em</ins> <ins>}</ins>
<ins>div.a8</ins> <ins>{</ins> <ins>position:</ins> <ins>relative;</ins> <ins>direction:</ins> <ins>ltr;</ins> <ins>left:</ins> <ins>-1em;</ins> <ins>right:</ins> <ins>5em</ins> <ins>}</ins>
</code></pre>
</div>

<p><ins>The</ins> <ins>'top'</ins> <ins>and</ins> <ins>'bottom'</ins> <ins>properties</ins> <ins>move</ins> <ins>relatively</ins> <ins>positioned</ins>
<ins>element(s)</ins> <ins>up</ins> <ins>or</ins> <ins>down</ins> <ins>without</ins> <ins>changing</ins> <ins>their</ins> <ins>size.</ins>  <ins>'top'</ins> <ins>moves</ins> <ins>the</ins>
<ins>boxes</ins> <ins>down,</ins> <ins>and</ins> <ins>'bottom'</ins> <ins>moves</ins> <ins>them</ins> <ins>up.</ins> <ins>Since</ins> <ins>boxes</ins>
<ins>are</ins> <ins>not</ins> <ins>split</ins> <ins>or</ins> <ins>stretched</ins> <ins>as</ins> <ins>a</ins> <ins>result</ins> <ins>of</ins> <ins>'top'</ins> <ins>or</ins> <ins>'bottom',</ins> <ins>the</ins>
<ins>computed</ins> <ins>values</ins> <ins>are</ins> <ins>always:</ins> <ins>top</ins> <ins>=</ins> <ins>-bottom.</ins>
<ins>If</ins> <ins>both</ins> <ins>are</ins> <ins>'auto',</ins> <ins>their</ins> <ins>computed</ins> <ins>values</ins> <ins>are</ins> <ins>both</ins> <ins>'0'.</ins> <ins>If</ins> <ins>one</ins> <ins>of</ins> <ins>them</ins> <ins>is</ins>
<ins>'auto',</ins> <ins>it</ins> <ins>becomes</ins> <ins>the</ins> <ins>negative</ins> <ins>of</ins> <ins>the</ins> <ins>other.</ins> <ins>If</ins> <ins>neither</ins> <ins>is</ins> <ins>'auto',</ins>
<ins>'bottom'</ins> <ins>is</ins> <ins>ignored</ins> <ins>(i.e.,</ins> <ins>the</ins> <ins>computed</ins> <ins>value</ins> <ins>of</ins> <ins>'bottom'</ins> <ins>will</ins> <ins>be</ins>
<ins>minus</ins> <ins>the</ins> <ins>value</ins> <ins>of</ins> <ins>'top').</ins>
</p>

<p class="note">
<ins>Note.</ins> 
<ins>Dynamic</ins> <ins>movement</ins> <ins>of</ins> <ins>relatively</ins> <ins>positioned</ins> <ins>boxes</ins> <ins>can</ins> <ins>produce</ins>
<ins>animation</ins> <ins>effects</ins> <ins>in</ins> <ins>scripting</ins> <ins>environments</ins> <ins>(see</ins> <ins>also</ins> <ins>the</ins> <a href="visufx.html#propdef-visibility" class="noxref"><span
class="propinst-visibility"><ins>'visibility'</ins></span></a> <ins>property).</ins> 
<ins>Although</ins> <ins>relative</ins> <ins>positioning</ins> <ins>may</ins> <ins>be</ins> <ins>used</ins> <ins>as</ins> <ins>a</ins> <ins>form</ins> <ins>of</ins> <ins>superscripting</ins> <ins>and</ins> 
<ins>subscripting,</ins> <ins>the</ins> <ins>line</ins> <ins>height</ins> <ins>is</ins> <ins>not</ins> <ins>automatically</ins> <ins>adjusted</ins> <ins>to</ins> <ins>take</ins> <ins>the</ins> 
<ins>positioning</ins> <ins>into</ins> <ins>consideration.</ins> <ins>See</ins> the description of <a
href="visudet.html#line-height">line height calculations</a> for more
information.
</p>
<p>Examples of relative positioning are provided in the section <a
href="#comparison">comparing normal flow, floats, and absolute
positioning</a>.
</p>
<h2>9.5 <a name="floats">Floats</a></h2>

<p>A float is a box that is shifted to the left or right on the
current line. The most interesting characteristic of a float (or
"floated" or "floating" box) is that content may flow along its side
(or be prohibited from doing so by the <a href="visuren.html#propdef-clear" class="noxref"><span
class="propinst-clear">'clear'</span></a> property). Content flows down
the right side of a left-floated box and down the left side of a
right-floated box. The following is an introduction to float
positioning and content flow; the exact <a
href="#float-rules">rules</a> governing float behavior are given in
the description of the <a href="visuren.html#propdef-float" class="noxref"><span class="propinst-float">'float'</span></a>
property.
</p>
<p>
A floated box  <del>must</del> <del>have</del> <del>an</del> <del>explicit</del> <del>width</del> <del>(assigned</del> <del>via</del> <del>the</del> <del>'width'</del> <del>property,</del> <del>or</del> <del>its</del> <del>intrinsic</del> <del>width</del> <del>in</del> <del>the</del> <del>case</del> <del>of</del> <del>replaced</del> <del>elements</del> <del>).</del> <del>Any</del> <del>floated</del> <del>box</del> <del>becomes</del> <del>a</del> <del>block</del> <del>box</del> <del>that</del>is
shifted to the left or right until its outer edge touches the
containing block edge or the outer edge of another float. 
<ins>If</ins> <ins>there's</ins> <ins>a</ins> <ins>line</ins> <ins>box,</ins> the top of the floated box is aligned with 
the top of the current line  <del>box</del> <del>(or</del> <del>bottom</del> <del>of</del> <del>the</del> <del>preceding</del> <del>block</del> <del>box</del> <del>if</del> <del>no</del> <del>line</del> <del>box</del> <del>exists).</del><ins>box.</ins>
</p>
<p>
If there isn't enough horizontal room  <del>on</del> <del>the</del> <del>current</del> <del>line</del>for the
float, it is shifted  <del>downward,</del> <del>line</del> <del>by</del> <del>line,</del><ins>downward</ins> until  <del>a</del> <del>line</del> <del>has</del> <del>room</del> <del>for</del> <del>it.</del><ins>either</ins> <ins>it</ins> <ins>fits</ins> <ins>or</ins> <ins>there</ins> <ins>are</ins> <ins>no</ins>
<ins>more</ins> <ins>floats</ins> <ins>present.</ins>
</p>
<p>Since a float is not in the flow, non-positioned block boxes
created before and after the float box flow vertically as if the float
didn't exist. However, line boxes created next to the float are
shortened to make room for <ins>margin</ins> <ins>box</ins> <ins>of</ins> the  <del>floated</del> <del>box.</del><ins>float.</ins>  <ins>If</ins> <ins>a</ins> <ins>shortened</ins> <ins>line</ins> <ins>box</ins> 
<ins>is</ins> <ins>too</ins> <ins>small</ins> <ins>to</ins> <ins>contain</ins> <ins>any</ins> <ins>further</ins> <ins>content,</ins> <ins>then</ins> <ins>it</ins> <ins>is</ins> <ins>shifted</ins> <ins>downward</ins> <ins>until</ins> 
<ins>either</ins> <ins>it</ins> <ins>fits</ins> <ins>or</ins> <ins>there</ins> <ins>are</ins> <ins>no</ins> <ins>more</ins> <ins>floats</ins> <ins>present.</ins>
Any content in the current line before a floated box is reflowed 
in the first available line on the other side of the float.
 <del>Several</del> <del>floats</del> <del>may</del> <del>be</del> <del>adjacent,</del> <del>and</del> <del>this</del> <del>model</del> <del>also</del> <del>applies</del> <del>to</del> <del>adjacent</del> <del>floats</del>In  <del>the</del> <del>same</del> <del>line.</del> <del>Example(s):</del> <del>The</del> <del>following</del> <del>rule</del> <del>floats</del> <del>all</del> <del>IMG</del><ins>other</ins> <ins>words,</ins> <ins>if</ins> <ins>inline</ins> boxes  <del>with</del> <del>class="icon"</del> <del>to</del> <del>the</del> <del>left</del> <del>(and</del> <del>sets</del> <del>the</del> <del>left</del> <del>margin</del> <del>to</del> <del>'0'):</del> <del>IMG.icon</del> <del>{</del> <del>float:</del> <del>left;</del> <del>margin-left:</del> <del>0;</del> <del>}</del> <del>Consider</del><ins>are</ins> <ins>placed</ins> 
<ins>on</ins> the  <del>following</del> <del>HTML</del> <del>source</del> <del>and</del> <del>style</del> <del>sheet:</del> <del>&lt;!DOCTYPE</del> <del>HTML</del> <del>PUBLIC</del> <del>"-//W3C//DTD</del> <del>HTML</del> <del>4.0//EN"&gt;</del> <del>&lt;HTML&gt;</del> <del>&lt;HEAD&gt;</del> <del>&lt;TITLE&gt;Float</del> <del>example&lt;/TITLE&gt;</del> <del>&lt;STYLE</del> <del>type="text/css"&gt;</del> <del>IMG</del> <del>{</del> <del>float:</del><ins>line</ins> <ins>before</ins> <ins>a</ins> left  <del>}</del> <del>BODY,</del> <del>P,</del> <del>IMG</del> <del>{</del> <del>margin:</del> <del>2em</del> <del>}</del> <del>&lt;/STYLE&gt;</del> <del>&lt;/HEAD&gt;</del> <del>&lt;BODY&gt;</del> <del>&lt;P&gt;&lt;IMG</del> <del>src=img.gif</del> <del>alt="This</del> <del>image</del> <del>will</del> <del>illustrate</del> <del>floats"&gt;</del> <del>Some</del> <del>sample</del> <del>text</del><ins>float</ins> <ins>is</ins> <ins>encountered</ins> that  <del>has</del> <del>no</del> <del>other...</del> <del>&lt;/BODY&gt;</del> <del>&lt;/HTML&gt;</del><ins>fits</ins> <ins>in</ins> the  <del>IMG</del><ins>remaining</ins> <ins>line</ins> box  <del>is</del> <del>floated</del> <del>to</del> <del>the</del> <del>left.</del><ins>space,</ins> 
the  <del>content</del> <del>that</del> <del>follows</del><ins>left</ins> <ins>float</ins> is  <del>formatted</del> <del>to</del><ins>placed</ins> <ins>on</ins> <ins>that</ins> <ins>line,</ins> <ins>aligned</ins> <ins>with</ins> the  <del>right</del><ins>top</ins> of the  <del>float,</del> <del>starting</del> <del>on</del> <del>the</del> <del>same</del>line  <del>as</del><ins>box,</ins> <ins>and</ins> <ins>then</ins> the  <del>float.</del><ins>inline</ins> <ins>boxes</ins> <ins>already</ins> <ins>on</ins> the line  <del>boxes</del><ins>are</ins> <ins>moved</ins> <ins>accordingly</ins> to the right of the float  <del>are</del> <del>shortened</del> <del>due</del> <del>to</del><ins>(the</ins> <ins>right</ins> <ins>being</ins> the  <del>float's</del> <del>presence,</del> <del>but</del> <del>resume</del> <del>their</del> <del>"normal"</del> <del>width</del> <del>(that</del><ins>other</ins> <ins>side</ins> of the  <del>containing</del> <del>block</del> <del>established</del> <del>by</del> <del>the</del> <del>P</del> <del>element)</del><ins>left</ins> <ins>float)</ins> <ins>and</ins> <ins>vice</ins> <ins>versa</ins> <ins>for</ins> <ins>rtl</ins> <ins>and</ins> <ins>right</ins> <ins>floats.</ins>
</p>
<p id="bfc-next-to-float">
<ins>The</ins> <ins>border</ins> <ins>box</ins> <ins>of</ins> <ins>a</ins> <ins>table,</ins> <ins>a</ins> <ins>block-level</ins> <ins>replaced</ins> <ins>element,</ins> <ins>or</ins> <ins>an</ins> <ins>element</ins> <ins>in</ins> <ins>the</ins> <ins>normal</ins> <ins>flow</ins> <ins>that</ins> <ins>establishes</ins> <ins>a</ins> <ins>new</ins> <a href="visuren.html#block-formatting"><ins>block</ins> <ins>formatting</ins> <ins>context</ins></a> 
<ins>(such</ins> <ins>as</ins> <ins>an</ins> <ins>element</ins> <ins>with</ins> <ins>'overflow'</ins> <ins>other</ins> <ins>than</ins> <ins>'visible')</ins>
<ins>must</ins> <ins>not</ins> <ins>overlap</ins> <ins>any</ins> <ins>floats</ins> <ins>in</ins> <ins>the</ins> <ins>same</ins> <ins>block</ins> <ins>formatting</ins> <ins>context</ins> <ins>as</ins>
<ins>the</ins> <ins>element</ins> <ins>itself.</ins> <ins>If</ins> <ins>necessary,</ins> <ins>implementations</ins> <ins>should</ins> <ins>clear</ins> <ins>the</ins>
<ins>said</ins> <ins>element</ins> <ins>by</ins> <ins>placing</ins> <ins>it</ins> <ins>below</ins> <ins>any</ins> <ins>preceding</ins> <ins>floats,</ins> <ins>but</ins> <ins>may</ins> <ins>place</ins>
<ins>it</ins> <ins>adjacent</ins> <ins>to</ins> <ins>such</ins> <ins>floats</ins> <ins>if</ins> <ins>there</ins> <ins>is</ins> <ins>sufficient</ins> <ins>space.</ins>
<ins>They</ins> <ins>may</ins> <ins>even</ins> <ins>make</ins> <ins>the</ins> <ins>border</ins> <ins>box</ins> <ins>of</ins> <ins>said</ins> <ins>element</ins> <ins>narrower</ins> <ins>than</ins>
<ins>defined</ins> <ins>by</ins> <a href="visudet.html#blockwidth"><ins>section&nbsp;10.3.3.</ins></a>
<ins>CSS2</ins> <ins>does</ins> <ins>not</ins> <ins>define</ins> <ins>when</ins> <ins>a</ins> <ins>UA</ins> <ins>may</ins> <ins>put</ins> <ins>said</ins> <ins>element</ins> <ins>next</ins> <ins>to</ins> <ins>the</ins> <ins>float</ins>
<ins>or</ins> <ins>by</ins> <ins>how</ins> <ins>much</ins> <ins>said</ins> <ins>element</ins> <ins>may</ins> <ins>become</ins> <ins>narrower.</ins>
</p>
<div class="example"><P style="display:none"><ins>Example(s):</ins></P>
<p><strong><ins>Example.</ins></strong> 
<ins>In</ins> <ins>the</ins> <ins>following</ins> <ins>document</ins> <ins>fragment,</ins> <ins>the</ins> <ins>containing</ins> <ins>block</ins> <ins>is</ins> <ins>too</ins> <ins>narrow</ins> 
<ins>to</ins> <ins>contain</ins> <ins>the</ins> <ins>content</ins> <ins>next</ins> <ins>to</ins> <ins>the</ins> <ins>float,</ins> 
<ins>so</ins> <ins>the</ins> <ins>content</ins> <ins>gets</ins> <ins>moved</ins> <ins>to</ins> <ins>below</ins> <ins>the</ins> <ins>floats</ins> 
<ins>where</ins> <ins>it</ins> <ins>is</ins> <ins>aligned</ins> <ins>in</ins> <ins>the</ins> <ins>line</ins> <ins>box</ins> <ins>according</ins> <ins>to</ins> <ins>the</ins> <ins>text-align</ins> 
<ins>property.</ins>
</p>
<pre><code class="css">
<ins>p</ins> <ins>{</ins> <ins>width:</ins> <ins>10em;</ins> <ins>border:</ins> <ins>solid</ins> <ins>aqua;</ins> <ins>}</ins>
<ins>span</ins> <ins>{</ins> <ins>float:</ins> <ins>left;</ins> <ins>width:</ins> <ins>5em;</ins> <ins>height:</ins> <ins>5em;</ins> <ins>border:</ins> <ins>solid</ins> <ins>blue;</ins> <ins>}</ins>
</code>

<ins>...</ins>

<code class="html">
<ins>&lt;p&gt;</ins>
  <ins>&lt;span&gt;</ins> <ins>&lt;/span&gt;</ins>
  <ins>Supercalifragilisticexpialidocious</ins>
<ins>&lt;/p&gt;</ins>
</code></pre>
<p><ins>This</ins> <ins>fragment</ins> <ins>might</ins> <ins>look</ins> <ins>like</ins> <ins>this:</ins></p>
<div class="figure"><p>
<img style="display:block" src="images/supercal.png" 
 alt="Image illustrating the effect of an unbreakable piece of content 
 being reflowed to just after a float which left insufficient room next to it 
 for the content to fit." >
</p>
</div>
</div>

<p><ins>Several</ins> <ins>floats</ins> <ins>may</ins> <ins>be</ins> <ins>adjacent,</ins> <ins>and</ins> <ins>this</ins> <ins>model</ins> <ins>also</ins> <ins>applies</ins> <ins>to</ins>
<ins>adjacent</ins> <ins>floats</ins> <ins>in</ins> <ins>the</ins> <ins>same</ins> <ins>line.</ins>
</p>
<div class="example"><P style="display:none"><ins>Example(s):</ins></P><p>
<ins>The</ins> <ins>following</ins> <ins>rule</ins> <ins>floats</ins> <ins>all</ins> <ins>IMG</ins> <ins>boxes</ins> <ins>with</ins>
<samp><ins>class="icon"</ins></samp> <ins>to</ins> <ins>the</ins> <ins>left</ins> <ins>(and</ins>
<ins>sets</ins> <ins>the</ins> <ins>left</ins> <ins>margin</ins> <ins>to</ins> <ins>'0'):</ins></p>

<pre><code class="css">
<ins>img.icon</ins> <ins>{</ins> 
  <ins>float:</ins> <ins>left;</ins>
  <ins>margin-left:</ins> <ins>0;</ins>
<ins>}</ins>
</code></pre>
</div>


<div class="html-example"><p>
<ins>Consider</ins> <ins>the</ins> <ins>following</ins> <ins>HTML</ins> <ins>source</ins> <ins>and</ins> <ins>style</ins> <ins>sheet:</ins></p>

<pre><code class="html">  
<ins>&lt;!DOCTYPE</ins> <ins>HTML</ins> <ins>PUBLIC</ins> <ins>"-//W3C//DTD</ins> <ins>HTML</ins> <ins>4.01//EN"&gt;</ins>
<ins>&lt;HTML&gt;</ins>
  <ins>&lt;HEAD&gt;</ins>
    <ins>&lt;TITLE&gt;Float</ins> <ins>example&lt;/TITLE&gt;</ins>
    <ins>&lt;STYLE</ins> <ins>type="text/css"&gt;</ins>
      <ins>IMG</ins> <ins>{</ins> <ins>float:</ins> <ins>left</ins> <ins>}</ins>
      <ins>BODY,</ins> <ins>P,</ins> <ins>IMG</ins> <ins>{</ins> <ins>margin:</ins> <ins>2em</ins> <ins>}</ins>
    <ins>&lt;/STYLE&gt;</ins>
  <ins>&lt;/HEAD&gt;</ins>
  <ins>&lt;BODY&gt;</ins>
    <ins>&lt;P&gt;&lt;IMG</ins> <ins>src=img.png</ins> <ins>alt="This</ins> <ins>image</ins> <ins>will</ins> <ins>illustrate</ins> <ins>floats"&gt;</ins>
       <ins>Some</ins> <ins>sample</ins> <ins>text</ins> <ins>that</ins> <ins>has</ins> <ins>no</ins> <ins>other...</ins>
  <ins>&lt;/BODY&gt;</ins>
<ins>&lt;/HTML&gt;</ins>
</code></pre>

<p><ins>The</ins> <ins>IMG</ins> <ins>box</ins> <ins>is</ins> <ins>floated</ins> <ins>to</ins> <ins>the</ins> <ins>left.</ins> <ins>The</ins> <ins>content</ins> <ins>that</ins> <ins>follows</ins> <ins>is</ins>
<ins>formatted</ins> <ins>to</ins> <ins>the</ins> <ins>right</ins> <ins>of</ins> <ins>the</ins> <ins>float,</ins> <ins>starting</ins> <ins>on</ins> <ins>the</ins> <ins>same</ins> <ins>line</ins> <ins>as</ins> <ins>the</ins>
<ins>float.</ins> <ins>The</ins> <ins>line</ins> <ins>boxes</ins> <ins>to</ins> <ins>the</ins> <ins>right</ins> <ins>of</ins> <ins>the</ins> <ins>float</ins> <ins>are</ins> <ins>shortened</ins> <ins>due</ins> <ins>to</ins>
<ins>the</ins> <ins>float's</ins> <ins>presence,</ins> <ins>but</ins> <ins>resume</ins> <ins>their</ins> <ins>"normal"</ins> <ins>width</ins> <ins>(that</ins> <ins>of</ins> <ins>the</ins>
<ins>containing</ins> <ins>block</ins> <ins>established</ins> <ins>by</ins> <ins>the</ins> <ins>P</ins> <ins>element)</ins> after the float.  This
document might be formatted as:</p>

<div class="figure">
<p><img src="./images/floateg.png"
     alt="Image illustrating how floating boxes interact with
margins."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-floateg" href="images/longdesc/floateg-desc.html" title="Long description of float and text flow example">[D]</A></SPAN></p>
</div>

<p>Formatting would have been exactly the same if the document had
been:
</p>
<pre><code class="html">
&lt;BODY&gt;
  &lt;P&gt;Some sample text 
  &lt;IMG  <del>src=img.gif</del><ins>src=img.png</ins> alt="This image will illustrate floats"&gt;
           that has no other...
&lt;/BODY&gt;
</code></pre>

<p>because the content to the left of the float is displaced by
the float and reflowed down its right side.
</p></div>

<p><ins>As</ins> <ins>stated</ins> <ins>in</ins> <a href="box.html#collapsing-margins"><ins>section</ins> <ins>8.3.1</ins></a><ins>,</ins> 
the margins of floating boxes never <a
href="box.html#collapsing-margins">collapse</a> with margins of
adjacent boxes. Thus, in the previous example, vertical margins do not
<a href="box.html#collapsing-margins">collapse</a> between the P box
and the floated IMG box.
</p>
<p>
<ins>The</ins> <ins>contents</ins> <ins>of</ins> <ins>floats</ins> <ins>are</ins> <ins>stacked</ins> <ins>as</ins> <ins>if</ins> <ins>floats</ins> <ins>generated</ins> <ins>new</ins> 
<ins>stacking</ins> <ins>contexts,</ins> <ins>except</ins> <ins>that</ins> <ins>any</ins> <ins>elements</ins> <ins>that</ins> <ins>actually</ins> <ins>create</ins> <ins>new</ins> 
<ins>stacking</ins> <ins>contexts</ins> <ins>take</ins> <ins>part</ins> <ins>in</ins> <ins>the</ins> <ins>float's</ins> <ins>parent's</ins> <ins>stacking</ins> <ins>context.</ins> 
A float can overlap other boxes in the normal flow (e.g., when a 
normal flow box next to a float has negative margins). When  <del>an</del> <del>inline</del> <del>box</del> <del>overlaps</del> <del>with</del> <del>a</del> <del>float,</del> <del>the</del> <del>content,</del> <del>background,</del> <del>and</del> <del>borders</del> <del>of</del> <del>the</del> <del>inline</del> <del>box</del><ins>this</ins> 
<ins>happens,</ins> <ins>floats</ins> are rendered in front of  <del>the</del> <del>float.</del> <del>When</del> <del>a</del> <del>block</del> <del>box</del> <del>overlaps,</del> <del>the</del> <del>background</del> <del>and</del> <del>borders</del> <del>of</del> <del>the</del> <del>block</del> <del>box</del> <del>are</del> <del>rendered</del><ins>non-positioned</ins> <ins>in-flow</ins> 
<ins>blocks,</ins> <ins>but</ins> behind  <del>the</del> <del>float</del> <del>and</del> <del>are</del> <del>only</del> <del>be</del> <del>visible</del> <del>where</del> <del>the</del> <del>box</del> <del>is</del> <del>transparent.</del> <del>The</del> <del>content</del> <del>of</del> <del>the</del> <del>block</del> <del>box</del> <del>is</del> <del>rendered</del> <del>in</del> <del>front</del> <del>of</del> <del>the</del> <del>float.</del><ins>in-flow</ins> <ins>inlines.</ins>
</p>
<div class="example"><P style="display:none">Example(s):</P>
<p>Here is another illustration, showing what happens when a float
overlaps borders of elements in the normal flow.
</p>
<div class="figure">
<p><img src="images/float2p.png" alt="Image showing a floating image
that overlaps the borders of two paragraphs: the borders are
interrupted by the image."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-float2p" href="images/longdesc/float2p-desc.html" title="Long description of how floats overlap with boxes in normal
      flow">[D]</A></SPAN>
</p>
<p class="caption">A floating image obscures borders
of block boxes it overlaps.
</p>
</div>
</div>

<p>The following example illustrates the use of the <a href="visuren.html#propdef-clear" class="noxref"><span
class="propinst-clear">'clear'</span></a> property to prevent content
from flowing next to a float.
</p>
<div class="example"><P style="display:none">Example(s):</P>
<p>Assuming a rule such as this:
</p>
<pre><code class="css">
p { clear: left }
</code></pre>

<p>formatting might look like this:
</p>
<div class="figure">
<p><img src="images/floatclear.png" alt="Image showing a floating
image and the effect of 'clear: left' on the two paragraphs."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-floatclear" href="images/longdesc/floatclear-desc.html" title="Long description of how floats overlap with boxes in normal
      flow">[D]</A></SPAN>
</p>
<p class="caption">Both paragraphs have set 'clear: left', which
causes the second paragraph to be "pushed down" to a position below
the float  <del>--</del><ins>&mdash;</ins> <ins>"clearance"</ins> <ins>is</ins> <ins>added</ins> <ins>above</ins> its top margin  <del>expands</del>to
accomplish this (see the <a href="visuren.html#propdef-clear" class="noxref"><span
class="propinst-clear">'clear'</span></a> property).
</p>
</div>
</div>


<h3>9.5.1 <a name="float-position">Positioning the float:</a> the
<a href="visuren.html#propdef-float" class="noxref"><span class="propinst-float">'float'</span></a> property</h3>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'float'"><a name="propdef-float" class="propdef-title"><strong>'float'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td>left | right | none | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>none
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td> <del>all</del><ins>all,</ins> but  <del>positioned</del> <del>elements</del> <del>and</del> <del>generated</del> <del>content</del><ins>see</ins> <a href="visuren.html#dis-pos-flo"><ins>9.7</ins></a>
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>N/A
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">visual</a>
<tr valign=baseline><td><em><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>as</ins> <ins>specified</ins>
</table>
</dl>
</div>


<p>This property specifies whether a box should float to the left,
right, or not at all. It may be set for <ins>any</ins> <ins>element,</ins> <ins>but</ins> <ins>only</ins> <ins>applies</ins> <ins>to</ins> 
elements that generate boxes that are not 
<a href="#absolutely-positioned">absolutely positioned</a>.  
The values of this property have
the following meanings:</p>

<dl>
<dt><strong>left</strong></dt>

<dd>The element generates a <a href="#block-box">block</a> box that is
floated to the left. Content flows on the right side of the box,
starting at the top (subject to the <a href="visuren.html#propdef-clear" class="noxref"><span
class="propinst-clear">'clear'</span></a> property). 
</dd>
<dt><strong><ins>right</ins></strong></dt>

<dd><ins>Similar</ins> <ins>to</ins> <ins>'left',</ins> <ins>except</ins> the  <del>'display'</del><ins>box</ins> is  <del>ignored,</del> <del>unless</del> <del>it</del> <del>has</del><ins>floated</ins> <ins>to</ins> the  <del>value</del> <del>'none'.</del> <del>right</del> <del>Same</del> <del>as</del> <del>'left',</del> <del>but</del><ins>right,</ins> <ins>and</ins> content flows on the left side of the box, starting at the top.</dd>

<dt><strong>none</strong></dt>

<dd>The box is not floated.</dd>
</dl>

<p>
<ins>User</ins> <ins>agents</ins> <ins>may</ins> <ins>treat</ins> <ins>float</ins> <ins>as</ins> <ins>'none'</ins> <ins>on</ins> <ins>the</ins> <ins>root</ins> <ins>element.</ins> 
</p>


<p><span class="index-def" title="float rules"><a
name="float-rules">Here are the precise rules</a></span> that
govern the behavior of floats:</p>

<ol>
<li> The left <a href="box.html#outer-edge">outer edge</a> of a
left-floating box may not be to the left of the left edge of its <a
href="#containing-block">containing block</a>. An
analogous rule holds for right-floating elements.
</li>
<li> If the current box is left-floating, and there are any  <del>left</del> <del>floating</del><ins>left-floating</ins> 
boxes generated by elements earlier in the source document,
then for each such earlier box, either the left <a
href="box.html#outer-edge">outer edge</a> of the current box must be
to the right of the right <a href="box.html#outer-edge">outer edge</a>
of the earlier box, or its top must be lower than the bottom of the
earlier box. Analogous rules hold for right-floating boxes.
</li>
<li>The right <a href="box.html#outer-edge">outer edge</a> of a
left-floating box may not be to the right of the left <a
href="box.html#outer-edge">outer edge</a> of any right-floating
box that is to the right of it. Analogous rules hold for
right-floating elements.
</li>
<li>A floating box's <a href="box.html#outer-edge">outer top</a>
may not be higher than the top of its <a
href="#containing-block">containing block</a>.
<ins>When</ins> <ins>the</ins> <ins>float</ins> <ins>occurs</ins> <ins>between</ins> <ins>two</ins> <ins>collapsing</ins> <ins>margins,</ins> <ins>the</ins>
<ins>float</ins> <ins>is</ins> <ins>positioned</ins> <ins>as</ins> <ins>if</ins> <ins>it</ins> <ins>had</ins> <ins>an</ins> <ins>otherwise</ins> <ins>empty</ins> <a
href="#anonymous-block-level"><ins>anonymous</ins> <ins>block</ins> <ins>parent</ins></a> <ins>taking</ins> <ins>part</ins> <ins>in</ins>
<ins>the</ins> <ins>flow.</ins> <ins>The</ins> <ins>position</ins> <ins>of</ins> <ins>such</ins> <ins>a</ins> <ins>parent</ins> <ins>is</ins> <ins>defined</ins> <ins>by</ins> <a
href="box.html#collapsed-through"><ins>the</ins> <ins>rules</ins></a> <ins>in</ins> <ins>the</ins> <ins>section</ins> <ins>on</ins> <ins>margin</ins>
<ins>collapsing.</ins>
</li>
<li> The <a href="box.html#outer-edge">outer top</a> of a floating box
may not be higher than the outer top of any <a
href="#block-box">block</a> or <a
href="#floats">floated</a> box generated by an element
earlier in the source document.
</li>
<li>The <a href="box.html#outer-edge">outer top</a> of an element's
floating box may not be higher than the top of any <span
class="index-inst" title="line-box"><a name="x31"
href="#line-box">line-box</a></span> containing a box
generated by an element earlier in the source document.
</li>
<li>A left-floating box that has another left-floating box to its left
may not have its right outer edge to the right of its containing
block's right edge. (Loosely: a left float may not stick out at the
right edge, unless it is already as far to the left as possible.) An
analogous rule holds for right-floating elements.
</li>
<li> A floating box must be placed as high as possible.
</li>
<li> A left-floating box must be put as far to the left as
possible, a right-floating box as far to the right as possible. A
higher position is preferred over one that is further to the
left/right.
</li>
</ol>


<p><ins>References</ins> <ins>to</ins> <ins>other</ins> <ins>elements</ins> <ins>in</ins> <ins>these</ins> <ins>rules</ins> <ins>refer</ins> <ins>only</ins> <ins>to</ins> <ins>other</ins> <ins>elements</ins> <ins>in</ins> <ins>the</ins> <ins>same</ins> <a href="#block-formatting"><ins>block</ins> <ins>formatting</ins> <ins>context</ins></a> <ins>as</ins> <ins>the</ins> <ins>float.</ins>
</p>

<div class=example><P style="display:none"><ins>Example(s):</ins></P>
<p><ins>This</ins> <ins>HTML</ins> <ins>fragment</ins> <ins>results</ins> <ins>in</ins> <ins>the</ins> <ins>b</ins> <ins>floating</ins> <ins>to</ins> <ins>the</ins> <ins>right.</ins>

<pre><ins>&lt;P>a&lt;SPAN</ins> <ins>style="float:</ins> <ins>right">b&lt;/SPAN>&lt;/P></ins></pre>

<p><ins>If</ins> <ins>the</ins> <ins>P</ins> <ins>element's</ins> <ins>width</ins> <ins>is</ins> <ins>enough,</ins> <ins>the</ins> <ins>a</ins> <ins>and</ins> <ins>the</ins> <ins>b</ins> <ins>will</ins> <ins>be</ins> <ins>side</ins> <ins>by</ins>
<ins>side.</ins> <ins>It</ins> <ins>might</ins> <ins>look</ins> <ins>like</ins> <ins>this:</ins>

<div class=figure>
<p><img src="images/float-right.png"
alt="An a at the left side of a box and a b at the right side">
</div>
</div>


<h3>9.5.2 <a name="flow-control">Controlling flow next to floats:</a>
the <a href="visuren.html#propdef-clear" class="noxref"><span class="propinst-clear">'clear'</span></a> property</h3> 

<div class="propdef">
<dl><dt>
<span class="index-def" title="'clear'"><a name="propdef-clear" class="propdef-title"><strong>'clear'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td>none | left | right | both | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>none
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td>block-level elements
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>N/A
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">visual</a>
<tr valign=baseline><td><em><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>as</ins> <ins>specified</ins>
</table>
</dl>
</div>


<p>This property indicates which sides of an element's box(es) may
<em>not</em> be adjacent to an earlier floating box.  <del>(It</del> <del>may</del> <del>be</del> <del>that</del> <del>the</del> <del>element</del> <del>itself</del> <del>has</del> <del>floating</del> <del>descendants;</del>The 'clear'
property  <del>has</del> <del>no</del> <del>effect</del> <del>on</del> <del>those.)</del> <del>This</del> <del>property</del> <del>may</del> <del>only</del> <del>be</del> <del>specified</del> <del>for</del> <del>block-level</del> <del>elements</del> <del>(including</del> <del>floats).</del><ins>does</ins> <ins>not</ins> <ins>consider</ins> <ins>floats</ins> <ins>inside</ins> <ins>the</ins> <ins>element</ins> <ins>itself</ins> <ins>or</ins> <ins>in</ins>
<ins>other</ins> <a href="visuren.html#block-formatting"><ins>block</ins> <ins>formatting</ins>
<ins>contexts.</ins></a>
</p>

<p>
 For
 <a href="#run-in"> <del>compact</del> <del>and</del>run-in boxes</a>,
this property applies to the final block box to which the  <del>compact</del> <del>or</del>run-in box belongs.
</p>
<p><dfn id="clearance"><ins>Clearance</ins></dfn> <ins>is</ins> <ins>introduced</ins> <ins>as</ins> <ins>spacing</ins> <ins>above</ins> <ins>the</ins> <ins>margin-top</ins> <ins>of</ins> <ins>an</ins> <ins>element.</ins>  <ins>It</ins> <ins>is</ins> <ins>used</ins> <ins>to</ins> <ins>push</ins> <ins>the</ins> <ins>element</ins> <ins>vertically</ins> <ins>(typically</ins> <ins>downward),</ins> <ins>past</ins> <ins>the</ins> <ins>float.</ins>
</p>
<p>Values have the following meanings when applied to non-floating
block boxes:</p>

<dl>
<dt><strong>left</strong></dt>

<dd>The  <del>top</del> <del>margin</del><ins>clearance</ins> of the generated box is  <del>increased</del> <del>enough</del> <del>that</del><ins>set</ins> <ins>to</ins> <ins>the</ins> <ins>amount</ins> <ins>necessary</ins> <ins>to</ins> <ins>place</ins> the
top border edge  <del>is</del>below the bottom outer edge of any left-floating
boxes that resulted from elements earlier in the source document.
</dd>

<dt><strong>right</strong></dt>

<dd>The <ins>clearance</ins> <ins>of</ins> <ins>the</ins> <ins>generated</ins> <ins>box</ins> <ins>is</ins> <ins>set</ins> <ins>to</ins> <ins>the</ins> <ins>amount</ins> <ins>necessary</ins> <ins>to</ins> <ins>place</ins> <ins>the</ins>
top  <del>margin</del><ins>border</ins> <ins>edge</ins> <ins>below</ins> <ins>the</ins> <ins>bottom</ins> <ins>outer</ins> <ins>edge</ins> <ins>of</ins> <ins>any</ins> <ins>right-floating</ins>
<ins>boxes</ins> <ins>that</ins> <ins>resulted</ins> <ins>from</ins> <ins>elements</ins> <ins>earlier</ins> <ins>in</ins> <ins>the</ins> <ins>source</ins> <ins>document.</ins>
</dd>

<dt><strong><ins>both</ins></strong></dt>

<dd><ins>The</ins> <ins>clearance</ins> of the generated box is  <del>increased</del> <del>enough</del><ins>set</ins> <ins>to</ins> <ins>the</ins> <ins>amount</ins> <ins>necessary</ins> <ins>to</ins> <ins>place</ins> <ins>the</ins>
<ins>top</ins> <ins>border</ins> <ins>edge</ins> <ins>below</ins> <ins>the</ins> <ins>bottom</ins> <ins>outer</ins> <ins>edge</ins> <ins>of</ins> <ins>any</ins> <ins>right-floating</ins>
<ins>and</ins> <ins>left-floating</ins> <ins>boxes</ins> that <ins>resulted</ins> <ins>from</ins> <ins>elements</ins> <ins>earlier</ins> <ins>in</ins> <ins>the</ins>
<ins>source</ins> <ins>document.</ins>
</dd>

<dt><strong><ins>none</ins></strong></dt>

<dd><ins>No</ins> <ins>constraint</ins> <ins>on</ins> <ins>the</ins> <ins>box's</ins> <ins>position</ins> <ins>with</ins> <ins>respect</ins> <ins>to</ins> <ins>floats.</ins></dd>
</dl>

<p>
<ins>Computing</ins> <ins>the</ins> <ins>clearance</ins> <ins>of</ins> <ins>an</ins> <ins>element</ins> <ins>on</ins> <ins>which</ins> <ins>'clear'</ins> <ins>is</ins> <ins>set</ins> <ins>is</ins> <ins>done</ins> <ins>by</ins> <ins>first</ins> <ins>determining</ins> <ins>the</ins> <ins>hypothetical</ins> <ins>position</ins> <ins>of</ins> the <ins>element's</ins> top border edge <ins>within</ins> <ins>its</ins> <ins>parent</ins> <ins>block.</ins> <ins>This</ins> <ins>position</ins> is  <del>below</del><ins>determined</ins> <ins>after</ins> <ins>the</ins> <ins>top</ins> <ins>margin</ins> <ins>of</ins> <ins>the</ins> <ins>element</ins> <ins>has</ins> <ins>been</ins> <ins>collapsed</ins> <ins>with</ins> <ins>previous</ins> <ins>adjacent</ins> <ins>margins</ins> <ins>(including</ins> <ins>the</ins> <ins>top</ins> <ins>margin</ins> <ins>of</ins> <ins>the</ins> <ins>parent</ins> <ins>block).</ins> 
</p>
<p>
<ins>If</ins> <ins>this</ins> <ins>hypothetical</ins> <ins>position</ins> <ins>of</ins> <ins>the</ins> <ins>element's</ins> <ins>top</ins> <ins>border</ins> <ins>edge</ins> <ins>is</ins> <ins>not</ins>
<ins>past</ins> <ins>the</ins> <ins>relevant</ins> <ins>floats,</ins> <ins>then</ins> <ins>its</ins> <ins>clearance</ins> <ins>must</ins> <ins>be</ins> <ins>set</ins> <ins>to</ins> <ins>the</ins>
<ins>greater</ins> <ins>of:</ins>
</p>
<ol>
  <li><ins>The</ins> <ins>amount</ins> <ins>necessary</ins> <ins>to</ins> <ins>place</ins> <ins>the</ins> <ins>border</ins> <ins>edge</ins> <ins>of</ins> <ins>the</ins> <ins>block</ins> <ins>even</ins>
  <ins>with</ins> <ins>the</ins> <ins>bottom</ins> <ins>outer</ins> <ins>edge</ins> <ins>of</ins> <ins>the</ins> <ins>lowest</ins> <ins>float</ins> <ins>that</ins> <ins>is</ins> <ins>to</ins> <ins>be</ins>
  <ins>cleared.</ins>
 
  <li><ins>The</ins> <ins>amount</ins> <ins>necessary</ins> <ins>to</ins> <ins>make</ins> <ins>the</ins> <ins>sum</ins> <ins>of</ins> <ins>the</ins> <ins>following</ins> <ins>equal</ins> <ins>to</ins>
  <ins>the</ins> <ins>distance</ins> <ins>to</ins> <ins>which</ins> <ins>these</ins> <ins>margins</ins> <ins>collapsed</ins> <ins>when</ins> <ins>the</ins> <ins>hypothetical</ins>
  <ins>position</ins> <ins>was</ins> <ins>calculated:</ins>
  <ul>
    <li><ins>the</ins> <ins>margins</ins> <ins>collapsing</ins> <ins>above</ins> <ins>the</ins> <ins>clearance</ins>

    <li><ins>the</ins> <ins>clearance</ins> <ins>itself</ins>

    <li><ins>if</ins> <ins>the</ins> <ins>block's</ins> <ins>own</ins> <ins>margins</ins> <ins>collapse</ins> <ins>together:</ins> the  <del>bottom</del> <del>outer</del> <del>edge</del> <del>of</del> <del>any</del> <del>right-floating</del> <del>boxes</del> <del>that</del> <del>resulted</del> <del>from</del> <del>elements</del> <del>earlier</del> <del>in</del><ins>block's</ins> <ins>top</ins>
    <ins>margin</ins>

    <li><ins>if</ins> the  <del>source</del> <del>document.</del> <del>both</del><ins>block's</ins> <ins>own</ins> <ins>margins</ins> <ins>do</ins> <ins>not</ins> <ins>collapse</ins> <ins>together:</ins> the
     <del>generated</del> <del>box</del> <del>is</del> <del>moved</del><ins>margins</ins> <ins>collapsing</ins> below  <del>all</del> <del>floating</del> <del>boxes</del> <del>of</del> <del>earlier</del> <del>elements</del> <del>in</del>the  <del>source</del> <del>document..</del> <del>none</del> <del>No</del> <del>constraint</del> <del>on</del><ins>clearance</ins>
  </ul>
</ol>
<p class=note>
<ins>Note:</ins> The  <del>box's</del> <del>position</del> <del>with</del> <del>respect</del> <del>to</del> <del>floats.</del><ins>clearance</ins> <ins>can</ins> <ins>be</ins> <ins>negative.</ins>
</p>

<p>When the property is set on floating elements, it results in a
modification of the <a href="#float-rules">rules</a> for
positioning the float. An extra constraint (#10) is added:
</p>

<ul>
<li>The top <a href="box.html#outer-edge">outer edge</a> 
of the float must be below the bottom outer
edge of all earlier left-floating boxes (in the case of 'clear:
left'), or all earlier right-floating boxes (in the case of 'clear:
right'), or both ('clear: both').</li>
</ul>

<div class="note"><p>
<em><strong><ins>Note.</ins></strong>
<ins>This</ins> <ins>property</ins> <a href="http://www.w3.org/TR/REC-CSS1#clear"><ins>applied</ins> <ins>to</ins> <ins>all</ins> <ins>elements</ins> <ins>in</ins> <ins>CSS1</ins></a><ins>.</ins> <ins>Implementations</ins> 
<ins>may</ins> <ins>therefore</ins> <ins>have</ins> <ins>supported</ins> <ins>this</ins> <ins>property</ins> <ins>on</ins> <ins>all</ins> <ins>elements.</ins> <ins>In</ins> <ins>CSS2</ins> 
<ins>and</ins> <ins>CSS</ins> <ins>2.1</ins> <ins>the</ins> <ins>'clear'</ins> <ins>property</ins> <ins>only</ins> <ins>applies</ins> <ins>to</ins> <ins>block-level</ins> <ins>elements.</ins> 
<ins>Therefore</ins> <ins>authors</ins> <ins>should</ins> <ins>only</ins> <ins>use</ins> <ins>this</ins> <ins>property</ins> <ins>on</ins> <ins>block-level</ins>
<ins>elements.</ins>  <ins>If</ins> <ins>an</ins> <ins>implementation</ins> <ins>does</ins> <ins>support</ins> <ins>clear</ins> <ins>on</ins> <ins>inline</ins> <ins>elements,</ins> 
<ins>rather</ins> <ins>than</ins> <ins>setting</ins> <ins>a</ins> <ins>clearance</ins> <ins>as</ins> <ins>explained</ins> <ins>above,</ins> 
<ins>the</ins> <ins>implementation</ins> <ins>should</ins> <ins>force</ins> <ins>a</ins> <ins>break</ins> <ins>and</ins> <ins>effectively</ins> <ins>insert</ins> <ins>one</ins> <ins>or</ins> <ins>more</ins> <ins>empty</ins> <ins>line</ins> <ins>boxes</ins> <ins>(or</ins> <ins>shifting</ins> <ins>the</ins> <ins>new</ins> <ins>line</ins> <ins>box</ins> <ins>downward</ins> <ins>as</ins> <ins>described</ins> <ins>in</ins> <a href="#floats"><ins>section</ins> <ins>9.5</ins></a><ins>)</ins> <ins>to</ins> <ins>move</ins> <ins>the</ins> <ins>top</ins> <ins>of</ins> <ins>the</ins> <ins>cleared</ins> <ins>inline's</ins> <ins>line</ins> <ins>box</ins> <ins>to</ins> <ins>below</ins> <ins>the</ins> <ins>respective</ins> <ins>floating</ins> <ins>box(es).</ins>
</em>
</p>
</div>

<h2>9.6 <a name="absolute-positioning">Absolute positioning</a></h2>

<p>In the absolute positioning model, a box is explicitly offset with
respect to its containing block.  It is removed from the normal flow
entirely (it has no impact on later siblings).  An absolutely
positioned box establishes a new containing block for normal flow
children and <ins>absolutely</ins> <ins>(but</ins> <ins>not</ins> <ins>fixed)</ins> positioned descendants.  However, the contents of an
absolutely positioned element do not flow around any other boxes. They
may  <del>or</del> <del>may</del> <del>not</del>obscure the contents of another  <del>box,</del><ins>box</ins> <ins>(or</ins> <ins>be</ins> <ins>obscured</ins> <ins>themselves),</ins> 
depending on the
<a href="#stack-level">stack levels</a> of the overlapping boxes.
</p>
<p>References in this specification to an <span class="index-def"
title="absolutely positioned element">
<a name="absolutely-positioned"><dfn>absolutely positioned
element</dfn></a></span> (or its box) imply that the element's <a href="visuren.html#propdef-position" class="noxref"><span
class="propinst-position">'position'</span></a> property has the value
'absolute' or 'fixed'.
</p>
<h3>9.6.1 <a name="fixed-positioning">Fixed positioning</a></h3>

<p>Fixed positioning is a subcategory of absolute positioning. The
only difference is that for a fixed positioned box, the containing
block is established by the <a href="#viewport">viewport</a>.  For <a
href="media.html#continuous-media-group">continuous media</a>, fixed
boxes do not move when the document is scrolled. In this respect, they
are similar to <a href="colors.html#background-properties">fixed
background images</a>.  For <a href="page.html">paged media</a>, boxes
with fixed positions are repeated on every page. This is useful for
placing, for instance, a signature at the bottom of each page.
</p>
<div class="html-example">
<p>Authors may use fixed positioning to create frame-like presentations.
Consider the following frame layout:</p>

<div class="figure">
<p><img src="./images/frame.png"
     alt="Image illustrating a frame-like layout with position='fixed'."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-frame" href="images/longdesc/frame-desc.html" title="Long description for frame layout example">[D]</A></SPAN></p>
</div>

<p>This might be achieved with the following HTML document and
style rules:</p>

<pre><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML  <del>4.0//EN"&gt;</del><ins>4.01//EN"&gt;</ins>
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;A frame document with  <del>CSS2&lt;/TITLE&gt;</del><ins>CSS&nbsp;2.1&lt;/TITLE&gt;</ins>
    &lt;STYLE  <del>type="text/css"&gt;</del><ins>type="text/css"</ins> <ins>media="screen"&gt;</ins>
      BODY { height: 8.5in } /* Required for percentage heights below */
      #header {
        position: fixed;
        width: 100%;
        height: 15%;
        top: 0;
        right: 0;
        bottom: auto;
        left: 0;
      }
      #sidebar {
        position: fixed;
        width: 10em;
        height: auto;
        top: 15%;
        right: auto;
        bottom: 100px;
        left: 0;
      }
      #main {
        position: fixed;
        width: auto;
        height: auto;
        top: 15%;
        right: 0;
        bottom: 100px;
        left: 10em;
      }
      #footer {
        position: fixed;
        width: 100%;
        height: 100px;
        top: auto;
        right: 0;
        bottom: 0;
        left: 0;
      }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;DIV id="header"&gt; ...  &lt;/DIV&gt;
    &lt;DIV id="sidebar"&gt; ...  &lt;/DIV&gt;
    &lt;DIV id="main"&gt; ...  &lt;/DIV&gt;
    &lt;DIV id="footer"&gt; ...  &lt;/DIV&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>
</div>

<h2>9.7 <a name="dis-pos-flo">Relationships between 'display', 'position',
and 'float'</a></h2>

<p>The three properties that affect box generation and layout  <del>--</del><ins>&mdash;</ins> 
<a href="visuren.html#propdef-display" class="noxref"><span class="propinst-display">'display'</span></a>, 
<a href="visuren.html#propdef-position" class="noxref"><span class="propinst-position">'position'</span></a>, and 
<a href="visuren.html#propdef-float" class="noxref"><span class="propinst-float">'float'</span></a>  <del>--</del><ins>&mdash;</ins> interact as follows:</p>

<ol>
<li>If <a href="visuren.html#propdef-display" class="noxref"><span class="propinst-display">'display'</span></a>
has the value 'none',  <del>user</del> <del>agents</del> <del>must</del> <del>ignore</del><ins>then</ins> 
<a href="visuren.html#propdef-position" class="noxref"><span class="propinst-position">'position'</span></a> and
<a href="visuren.html#propdef-float" class="noxref"><span class="propinst-float">'float'</span></a>  <del>.</del><ins>do</ins> <ins>not</ins> <ins>apply.</ins> 
In this case, the element generates no box.</li>

<li>Otherwise, <ins>if</ins> <a href="visuren.html#propdef-position" class="noxref"><span class="propinst-position">'position'</span></a>
has the value 'absolute' or 'fixed',  <del>'display'</del><ins>the</ins> <ins>box</ins> is  <del>set</del> <del>to</del> <del>'block'</del> <del>and</del><ins>absolutely</ins> <ins>positioned,</ins> 
<ins>the</ins> <ins>computed</ins>
<ins>value</ins> <ins>of</ins> <a href="visuren.html#propdef-float" class="noxref"><span class="propinst-float">'float'</span></a> is <ins>'none',</ins>  
<ins>and</ins> <ins>display</ins> <ins>is</ins> set <ins>according</ins> to  <del>'none'.</del><ins>the</ins> <ins>table</ins> <ins>below.</ins>  
The position of the box will be determined by the <a href="visuren.html#propdef-top" class="noxref"><span
class="propinst-top">'top'</span></a>, <a href="visuren.html#propdef-right" class="noxref"><span
class="propinst-right">'right'</span></a>, <a href="visuren.html#propdef-bottom" class="noxref"><span
class="propinst-bottom">'bottom'</span></a> and <a href="visuren.html#propdef-left" class="noxref"><span
class="propinst-left">'left'</span></a> properties and the box's 
containing block.
</li>

<li>Otherwise, if 'float' has a value other than 'none', <ins>the</ins> <ins>box</ins> <ins>is</ins>
<ins>floated</ins> <ins>and</ins> 'display' is set <ins>according</ins> to  <del>'block'</del> <del>and</del>the  <del>box</del> <del>is</del> <del>floated.</del><ins>table</ins> <ins>below.</ins>
</li>

<li>Otherwise, <ins>if</ins> the  <del>remaining</del> <del>'display'</del> <del>properties</del> <del>apply</del> <del>as</del> <del>specified.</del> <del>Note.</del> <del>CSS2</del> <del>does</del> <del>not</del> <del>specify</del> <del>layout</del> <del>behavior</del> <del>when</del> <del>values</del> <del>for</del> <del>these</del> <del>properties</del> <del>are</del> <del>changed</del> <del>by</del> <del>scripts.</del> <del>For</del> <del>example,</del> <del>what</del> <del>happens</del> <del>when</del> <del>an</del>element  <del>having</del> <del>'width:</del> <del>auto'</del> <del>is</del> <del>repositioned?</del> <del>Do</del> <del>the</del> <del>contents</del> <del>reflow,</del> <del>or</del> <del>do</del> <del>they</del> <del>maintain</del> <del>their</del> <del>original</del> <del>formatting?</del> <del>The</del> <del>answer</del>is  <del>outside</del>the  <del>scope</del> <del>of</del> <del>this</del> <del>document,</del> <del>and</del> <del>such</del> <del>behavior</del><ins>root</ins> <ins>element,</ins> 
<ins>'display'</ins> is  <del>likely</del><ins>set</ins> <ins>according</ins> to  <del>differ</del> <del>in</del> <del>initial</del> <del>implementations</del> <del>of</del> <del>CSS2.</del><ins>the</ins> <ins>table</ins> <ins>below.</ins>
</li>

<li><ins>Otherwise,</ins> <ins>the</ins> <ins>remaining</ins> <a href="visuren.html#propdef-display" class="noxref"><span
class="propinst-display"><ins>'display'</ins></span></a> <ins>property</ins> <ins>values</ins> <ins>apply</ins>
<ins>as</ins> <ins>specified.</ins>
</li>
</ol>

<table border="1">
<tr><th><ins>Specified</ins> <ins>value</ins> </th><th style="width:30%"><ins>Computed</ins> <ins>value</ins></th></tr>
<tr><td><ins>inline-table</ins> </td><td><ins>table</ins></td></tr>
<tr><td><ins>inline,</ins> <ins>run-in,</ins> <ins>table-row-group,</ins> <ins>table-column,</ins>
<ins>table-column-group,</ins> <ins>table-header-group,</ins> <ins>table-footer-group,</ins> <ins>table-row,</ins>
<ins>table-cell,</ins> <ins>table-caption,</ins> <ins>inline-block</ins> </td><td><ins>block</ins></td></tr>
<tr><td><ins>others</ins> </td><td><ins>same</ins> <ins>as</ins> <ins>specified</ins></td></tr>
</table>

<h2>9.8 <a name="comparison">Comparison of normal flow, floats,  
and absolute positioning</a></h2>
<p>To illustrate the differences between normal flow, relative
positioning, floats, and absolute positioning, we provide a series of
examples based on the following  <del>HTML</del> <del>fragment:</del><ins>HTML:</ins>
</p>
<pre class="html-example"><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML  <del>4.0//EN"&gt;</del><ins>4.01//EN"&gt;</ins>
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Comparison of positioning schemes&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;Beginning of body contents.
      &lt;SPAN id="outer"&gt; Start of outer contents.
      &lt;SPAN id="inner"&gt; Inner contents.&lt;/SPAN&gt;
      End of outer contents.&lt;/SPAN&gt;
      End of body contents.
    &lt;/P&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>

<p>In this document, we assume the following rules:</p>

<pre class="example"><code class="css">
body { display: block; <ins>font-size:12px;</ins> line-height: 200%; 
       width: 400px; height: 400px }
p    { display: block }
span { display: inline }
</code></pre>

<p>The final positions of boxes generated by the <em>outer</em> and
<em>inner</em> elements vary in each example. In each illustration,
the numbers to the left of the illustration indicate the <a
href="#normal-flow">normal flow</a> position of the double-spaced (for
clarity) lines. </p>

<p class="note">
 <del>(Note:</del><ins>Note.</ins> The  <del>illustrations</del> <del>use</del> <del>different</del> <del>horizontal</del><ins>diagrams</ins> <ins>in</ins> <ins>this</ins> <ins>section</ins> <ins>are</ins> <ins>illustrative</ins> and  <del>vertical</del> <del>scales.)</del><ins>not</ins> <ins>to</ins> 
<ins>scale.</ins> <ins>They</ins> <ins>are</ins> <ins>meant</ins> <ins>to</ins> <ins>highlight</ins> <ins>the</ins> <ins>differences</ins> <ins>between</ins> <ins>the</ins> 
<ins>various</ins> <ins>positioning</ins> <ins>schemes</ins> <ins>in</ins> <ins>CSS</ins> <ins>2.1,</ins> <ins>and</ins> <ins>are</ins> <ins>not</ins> <ins>intended</ins> <ins>to</ins> <ins>be</ins> 
<ins>reference</ins> <ins>renderings</ins> <ins>of</ins> <ins>the</ins> <ins>examples</ins> <ins>given.</ins>
</p>

<h3>9.8.1 <a name="comp-normal-flow">Normal flow</a></h3>

<p>Consider the following CSS declarations for <em>outer</em> and
<em>inner</em> that don't alter the <a href="#normal-flow">normal
flow</a> of boxes:</p>

<pre class="example"><code class="css">
#outer { color: red }
#inner { color: blue }
</code></pre>

<p>The P element contains all inline content: <a
href="#anonymous">anonymous inline text</a> and two SPAN
 <del>element.</del><ins>elements.</ins> Therefore, all of the content will be laid out
in an inline formatting context, within a containing block
established by the P element, producing something like:</p>

<div class="figure">
<p><img src="./images/flow-generic.png"
     alt="Image illustrating the normal flow of text between parent and sibling boxes."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-generic" href="images/longdesc/flow-generic-desc.html" title="Long description for normal flow example">[D]</A></SPAN></p>
</div>

<h3>9.8.2 <a name="comp-relpos">Relative positioning</a></h3>

<p>To see the effect of <a href="#relative-positioning">relative
positioning</a>, we specify:</p>

<pre class="example"><code class="css">
#outer { position: relative; top: -12px; color: red }
#inner { position: relative; top: 12px; color: blue }
</code></pre>

<p>Text flows normally up to the <em>outer</em> element.  The
<em>outer</em> text is then flowed into its normal flow position and
dimensions at the end of line 1. Then, the inline boxes containing the
text (distributed over three lines) are shifted as a unit by '-12px'
(upwards).
</p>

<p>The contents of <em>inner</em>, as a child of <em>outer</em>, would
normally flow immediately after the words "of outer contents" (on line
1.5). However, the <em>inner</em> contents are themselves offset
relative to the <em>outer</em> contents by '12px' (downwards), back to
their original position on line 2.
</p>

<p>Note that the content following <em>outer</em> is not affected by the
relative positioning of <em>outer</em>.</p>

<div class="figure">
<p><img src="./images/flow-relative.png"
     alt="Image illustrating the effects of relative positioning on a
box's content."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-relative" href="images/longdesc/flow-relative-desc.html" title="Long description for relative flow example">[D]</A></SPAN></p>
</div>

<p>Note also that had the offset of <em>outer</em> been '-24px', the
text of <em>outer</em> and the body text would have overlapped.
</p>

<h3>9.8.3 <a name="comp-float">Floating a box</a></h3>

<p>Now consider the effect of <a href="#floats">floating</a> the
<em>inner</em> element's text to the right by means of the following
rules:
</p>
<pre class="example"><code class="css">
#outer { color: red }
#inner { float: right; width: 130px; color: blue }
</code></pre>

<p>Text flows normally up to the <em>inner</em> box, which is pulled
out of the flow and floated to the right margin (its <a href="visudet.html#propdef-width" class="noxref"><span
class="propinst-width">'width'</span></a> has been assigned explicitly).
Line boxes to the left of the float are shortened, and the 
document's remaining text flows into them.</p>

<div class="figure">
<p><img src="./images/flow-float.png"
     alt="Image illustrating the effects of floating a box."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-float" href="images/longdesc/flow-float-desc.html" title="Long description of example illustrating floating">[D]</A></SPAN></p>
</div>

<p>To show the effect of the <a href="visuren.html#propdef-clear" class="noxref"><span
class="propinst-clear">'clear'</span></a> property, we add a <em>sibling</em>
element to the example:
</p>
<pre class="html-example"><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML  <del>4.0//EN"&gt;</del><ins>4.01//EN"&gt;</ins>
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Comparison of positioning schemes II&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;Beginning of body contents.
      &lt;SPAN id=outer&gt; Start of outer contents.
      &lt;SPAN id=inner&gt; Inner contents.&lt;/SPAN&gt;
      &lt;SPAN id=sibling&gt; Sibling contents.&lt;/SPAN&gt;
      End of outer contents.&lt;/SPAN&gt;
      End of body contents.
    &lt;/P&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>

<p>The following rules:
</p>
<pre class="example"><code class="css">
#inner { float: right; width: 130px; color: blue }
#sibling { color: red }
</code></pre>

<p>cause the <em>inner</em> box to float to the right as before and the
document's remaining text to flow into the vacated space:</p>

<div class="figure">
<p><img src="./images/flow-clear.png"
     alt="Image illustrating the effects of floating a box without
setting the clear property to control the flow of text around the
box."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-clear" href="images/longdesc/flow-clear-desc.html" title="Long description of example illustrating floating
without clear">[D]</A></SPAN></p>
</div>

<p>However, if the <a href="visuren.html#propdef-clear" class="noxref"><span class="propinst-clear">'clear'</span></a>
property on the <em>sibling</em> element is set to 'right' (i.e., the
generated <em>sibling</em> box will not accept a position next to
floating boxes to its right), the <em>sibling</em> content begins to
flow below the float:
</p>
<pre class="example"><code class="css">
#inner { float: right; width: 130px; color: blue }
#sibling { clear: right; color: red }
</code></pre>

<div class="figure">
<p><img src="./images/flow-clear2.png" 
alt="Image illustrating the effects of floating an element with setting the clear property to control the flow of text around the element."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-clear2" href="images/longdesc/flow-clear2-desc.html" title="Long description of example illustrating floating
with clear">[D]</A></SPAN></p>
</div>

<h3>9.8.4 <a name="comp-abspos">Absolute positioning</a></h3>

<p>Finally, we consider the effect of <a
href="#absolute-positioning">absolute positioning</a>.
Consider the following CSS declarations for <em>outer</em> and
<em>inner</em>:</p>

<pre class="example"><code class="css">
#outer { 
    position: absolute; 
    top: 200px; left: 200px; 
    width: 200px; 
    color: red;
}
#inner { color: blue }
</code></pre>

<p>which cause the top of the <em>outer</em> box to be positioned with
respect to its containing block. The containing block for a positioned
box is established by the nearest positioned ancestor (or, if none
exists, the <a href="visudet.html#containing-block-details">initial containing
block</a>, as in our example). The top side of the <em>outer</em> box
is '200px' below the top of the containing block and the left side is
'200px' from the left side. The child box of <em>outer</em> is flowed
normally with respect to its parent.</p>

<div class="figure">
<p><img src="./images/flow-absolute.png"
   alt="Image illustrating the effects of absolutely positioning a box."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-absolute" href="images/longdesc/flow-absolute-desc.html" title="Long description for example illustrating absolute positioning">[D]</A></SPAN></p>
</div>

<p>The following example shows an absolutely positioned box that is a
child of a relatively positioned box. Although the parent
<em>outer</em> box is not actually offset, setting its <a href="visuren.html#propdef-position" class="noxref"><span
class="propinst-position">'position'</span></a> property to 'relative'
means that its box may serve as the containing block for positioned
descendants. Since the <em>outer</em> box is an inline box that is
split across several lines, the first inline box's top and left edges
(depicted by thick dashed lines in the illustration below)
serve as references for <a href="visuren.html#propdef-top" class="noxref"><span class="propinst-top">'top'</span></a> and
<a href="visuren.html#propdef-left" class="noxref"><span class="propinst-left">'left'</span></a> offsets.
</p>
<pre class="example"><code class="css">
#outer { 
  position: relative; 
  color: red 
}
#inner { 
  position: absolute; 
  top: 200px; left: -100px; 
  height: 130px; width: 130px; 
  color: blue;
}
</code></pre>

<p>This results in something like the following:</p>

<div class="figure">
<p><img src="./images/flow-abs-rel.png"
     alt="Image illustrating the effects of absolutely positioning a
box with respect to a containing block."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-abs-rel" href="images/longdesc/flow-abs-rel-desc.html" title="Long description for example illustrating positioning
with respect to a positioned ancestor">[D]</A></SPAN></p>
</div>

<p>If we do not position the <em>outer</em> box:</p>

<pre class="example"><code class="css">
#outer { color: red }
#inner {
  position: absolute; 
  top: 200px; left: -100px; 
  height: 130px; width: 130px; 
  color: blue;
}
</code></pre>

<p>the containing block for <em>inner</em> becomes the <a
href="visudet.html#containing-block-details">initial containing block</a> (in our
example). The following illustration shows where the <em>inner</em>
box would end up in this case.</p>


<div class="figure">
<p><img src="./images/flow-static.png"
     alt="Image illustrating the effects of absolutely positioning a box with respect to a containing block established by a normally positioned parent."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-flow-static" href="images/longdesc/flow-static-desc.html" title="Long description illustrating absolute positioning
with respect to the initial containing block">[D]</A></SPAN></p>
</div>

<div class="html-example"><p>
Relative and absolute positioning may be used to implement change
bars, as shown in the following example. The following  <del>document:</del><ins>fragment:</ins>
</p>
<pre><code class="html">
&lt;P style=&quot;position: relative; margin-right: 10px; left: 10px;&quot;&gt;
I used two red hyphens to serve as a change bar. They
will &quot;float&quot; to the left of the line containing THIS
&lt;SPAN style=&quot;position: absolute; top: auto; left: -1em; color: red;&quot;&gt;--&lt;/SPAN&gt;
word.&lt;/P&gt;
</code></pre>

<p>might result in something like:</p>

<div class="figure">
<p><img src="./images/changebar.png"
     alt="Image illustrating the use of floats to create a changebar effect."><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-changebar" href="images/longdesc/changebar-desc.html" title="Long description for change bar example">[D]</A></SPAN></p>
</div>

<p>First, the paragraph (whose containing block sides are shown in the
illustration) is flowed normally. Then it is offset '10px' from the
left edge of the containing block (thus, a right margin of '10px' has
been reserved in anticipation of the offset).  The two hyphens acting
as change bars are taken out of the flow and positioned at the current
line (due to 'top: auto'), '-1em' from the left edge of its containing
block (established by the P in its final position).  The result is
that the change bars seem to "float" to the left of the current
line.</p>
</div>

<h2>9.9 <a name="layers">Layered presentation</a></h2>

<h3><ins>9.9.1</ins> <a name="z-index"><ins>Specifying</ins> <ins>the</ins> <ins>stack</ins> <ins>level</ins></a><ins>:</ins> <ins>the</ins> <a href="visuren.html#propdef-z-index" class="noxref"><span
class="propinst-z-index"><ins>'z-index'</ins></span></a> <ins>property</ins></h3> 

<div class="propdef">
<dl><dt>
<span class="index-def" title="'z-index'"><a name="propdef-z-index" class="propdef-title"><strong><ins>'z-index'</ins></strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em><ins>Value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>auto</ins> <ins>|</ins> <a href="syndata.html#value-def-integer" class="noxref"><span class="value-inst-integer"><ins>&lt;integer&gt;</ins></span></a> <ins>|</ins> <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit"><ins>inherit</ins></span></a>
<tr valign=baseline><td><em><ins>Initial:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>auto</ins>
<tr valign=baseline><td><em><ins>Applies</ins> <ins>to:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>positioned</ins> <ins>elements</ins>
<tr valign=baseline><td><em><ins>Inherited:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>no</ins>
<tr valign=baseline><td><em><ins>Percentages:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>N/A</ins>
<tr valign=baseline><td><em><ins>Media:</ins></em><ins>&nbsp;&nbsp;</ins><td><a href="media.html#visual-media-group" class="noxref"><ins>visual</ins></a>
<tr valign=baseline><td><em><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>as</ins> <ins>specified</ins>
</table>
</dl>
</div>


<p><ins>For</ins> <ins>a</ins> <ins>positioned</ins> <ins>box,</ins> <ins>the</ins> <a href="visuren.html#propdef-z-index" class="noxref"><span
class="propinst-z-index"><ins>'z-index'</ins></span></a> <ins>property</ins> <ins>specifies:</ins>
</p>
<ol>
<li><ins>The</ins> <ins>stack</ins> <ins>level</ins> <ins>of</ins> <ins>the</ins> <ins>box</ins> in the <ins>current</ins> <ins>stacking</ins> <ins>context.</ins></li>
<li><ins>Whether</ins> <ins>the</ins> <ins>box</ins> <ins>establishes</ins> <ins>a</ins> <ins>local</ins> <ins>stacking</ins> <ins>context.</ins></li>
</ol>

<p><ins>Values</ins> <ins>have</ins> <ins>the</ins> following  <del>sections,</del><ins>meanings:</ins></p>

<dl>
<dt><span class="index-inst" title="&lt;integer&gt;"><a name="x35" href="syndata.html#value-def-integer" class="noxref"><span
class="value-inst-integer"><strong><ins>&lt;integer&gt;</ins></strong></span></a></span></dt>
<dd><ins>This</ins> <ins>integer</ins> <ins>is</ins> <ins>the</ins> <ins>stack</ins> <ins>level</ins> <ins>of</ins> <ins>the</ins> <ins>generated</ins> <ins>box</ins>
<ins>in</ins> <ins>the</ins> <ins>current</ins> <ins>stacking</ins> <ins>context.</ins> <ins>The</ins> <ins>box</ins> 
<ins>also</ins> <ins>establishes</ins> <ins>a</ins> <ins>local</ins> <ins>stacking</ins> <ins>context</ins> <ins>in</ins> <ins>which</ins> <ins>its</ins> <ins>stack</ins>
<ins>level</ins> <ins>is</ins> <ins>'0'.</ins></dd>
<dt><strong><ins>auto</ins></strong></dt>
<dd><ins>The</ins> <ins>stack</ins> <ins>level</ins> <ins>of</ins> <ins>the</ins> <ins>generated</ins> <ins>box</ins> <ins>in</ins> <ins>the</ins> <ins>current</ins> <ins>stacking</ins>
<ins>context</ins> <ins>is</ins> <ins>the</ins> <ins>same</ins> <ins>as</ins> <ins>its</ins> <ins>parent's</ins> <ins>box.</ins> <ins>The</ins>
<ins>box</ins> <ins>does</ins> <ins>not</ins> <ins>establish</ins> <ins>a</ins> <ins>new</ins> <ins>local</ins> <ins>stacking</ins> <ins>context.</ins></dd>
</dl>

<p><em><ins>In</ins> <ins>this</ins> <ins>section,</ins> the expression "in front of" 
means closer to the user as the user faces the screen.</em></p>

<p>In  <del>CSS2,</del><ins>CSS&nbsp;2.1,</ins> each box has a position in three dimensions. In addition
to their horizontal and vertical positions, boxes lie along a "z-axis"
and are formatted one on top of the other.  Z-axis positions are
particularly relevant when boxes overlap visually. This section
discusses how boxes may be positioned along the z-axis.
</p>
<p>
<ins>The</ins> <ins>order</ins> <ins>in</ins> <ins>which</ins> <ins>the</ins> <ins>rendering</ins> <ins>tree</ins> <ins>is</ins> <ins>painted</ins> <ins>onto</ins> <ins>the</ins> <ins>canvas</ins> <ins>is</ins> 
<ins>described</ins> <ins>in</ins> <ins>terms</ins> <ins>of</ins> <ins>stacking</ins> <ins>contexts.</ins> <ins>Stacking</ins> <ins>contexts</ins> <ins>can</ins> 
<ins>contain</ins> <ins>further</ins> <ins>stacking</ins> <ins>contexts.</ins> <ins>A</ins> <ins>stacking</ins> <ins>context</ins> <ins>is</ins> <ins>atomic</ins> <ins>from</ins> 
<ins>the</ins> <ins>point</ins> <ins>of</ins> <ins>view</ins> <ins>of</ins> <ins>its</ins> <ins>parent</ins> <ins>stacking</ins> <ins>context;</ins> <ins>boxes</ins> <ins>in</ins> <ins>other</ins> 
<ins>stacking</ins> <ins>contexts</ins> <ins>may</ins> <ins>not</ins> <ins>come</ins> <ins>between</ins> <ins>any</ins> <ins>of</ins> <ins>its</ins> <ins>boxes.</ins>
</p>
<p>Each box belongs to one <a name="x36"><span class="index-def" title="stacking
context"><dfn>stacking context</dfn></span></a>. Each box in a given
stacking context has an integer <span class="index-def" title="stack
level"><a name="stack-level"><dfn>stack level</dfn></a></span>, which
is its position on the z-axis relative to other boxes in the same
stacking context.  Boxes with greater stack levels are always formatted
in front of boxes with lower stack levels.  Boxes may have negative
stack levels.  Boxes with the same stack level in a stacking context
are stacked  <del>bottom-to-top</del><ins>back-to-front</ins> according to document tree order.
</p>

<p>
The root element  <del>creates</del> <del>a</del><ins>forms</ins> <ins>the</ins> root stacking  <del>context</del> <del>,</del> <del>but</del><ins>context.</ins> Other  <del>elements</del> <del>may</del> <del>establish</del> <del>local</del> <del>stacking</del> <del>contexts</del> <del>.</del>stacking 
contexts are  <del>inherited.</del><ins>generated</ins> <ins>by</ins> <ins>any</ins> <ins>positioned</ins> <ins>element</ins> <ins>(including</ins> 
<ins>relatively</ins> <ins>positioned</ins> <ins>elements)</ins> <ins>having</ins> a  <del>local</del> <del>stacking</del> <del>context</del> <del>is</del> <del>atomic;</del> <del>boxes</del> <del>in</del><ins>computed</ins> <ins>value</ins> <ins>of</ins> <ins>'z-index'</ins> 
other <ins>than</ins> <ins>'auto'.</ins> Stacking contexts  <del>may</del><ins>are</ins> not  <del>come</del> <del>between</del> <del>any</del><ins>necessarily</ins> <ins>related</ins> <ins>to</ins> 
<ins>containing</ins> <ins>blocks.</ins> <ins>In</ins> <ins>future</ins> <ins>levels</ins> of  <del>its</del> <del>boxes.</del> <del>An</del> <del>element</del> <del>that</del> <del>establishes</del> <del>a</del> <del>local</del><ins>CSS,</ins> <ins>other</ins> <ins>properties</ins> <ins>may</ins> 
<ins>introduce</ins> stacking  <del>context</del> <del>generates</del> <del>a</del> <del>box</del> <del>that</del> <del>has</del> <del>two</del> <del>stack</del> <del>levels:</del> <del>one</del><ins>contexts,</ins> for  <del>the</del><ins>example</ins> <ins>'</ins><a
href="http://www.w3.org/TR/css3-color/#transparency"><ins>opacity</ins></a><ins>'</ins>
<a href="refs.html#ref-CSS3COLOR" rel="biblioentry" class="noxref"><span class="informref"><ins>[CSS3COLOR]</ins></span></a><ins>.</ins>
</p>
<p>
<ins>Each</ins> stacking context  <del>it</del> <del>creates</del> <del>(always</del> <del>'0')</del> <del>and</del> <del>one</del> <del>for</del><ins>consists</ins> <ins>of</ins> the <ins>following</ins>
stacking  <del>context</del><ins>levels</ins> <ins>(from</ins> <ins>back</ins> to  <del>which</del> <del>it</del> <del>belongs</del> <del>(given</del> <del>by</del> <del>the</del> <del>'z-index'</del> <del>property).</del> <del>An</del> <del>element's</del> <del>box</del> <del>has</del> <del>the</del> <del>same</del> <del>stack</del> <del>level</del> <del>as</del> <del>its</del> <del>parent's</del> <del>box</del> <del>unless</del> <del>given</del> <del>a</del> <del>different</del> <del>stack</del> <del>level</del> <del>with</del> <del>the</del> <del>'z-index'</del> <del>property.</del> <del>9.9.1</del> <del>Specifying</del> <del>the</del> <del>stack</del> <del>level</del> <del>:</del> <del>the</del> <del>'z-index'</del> <del>property</del> <del>'z-index'</del> <del>Value:</del> <del>&nbsp;&nbsp;</del> <del>auto</del> <del>|</del> <del>&lt;integer&gt;</del> <del>|</del> <del>inherit</del> <del>Initial:</del> <del>&nbsp;&nbsp;</del> <del>auto</del> <del>Applies</del> <del>to:</del> <del>&nbsp;&nbsp;</del> <del>positioned</del> <del>elements</del> <del>Inherited:</del> <del>&nbsp;&nbsp;</del> <del>no</del> <del>Percentages:</del> <del>&nbsp;&nbsp;</del> <del>N/A</del> <del>Media:</del> <del>&nbsp;&nbsp;</del> <del>visual</del> <del>For</del> <del>a</del> <del>positioned</del> <del>box,</del> <del>the</del> <del>'z-index'</del> <del>property</del> <del>specifies:</del><ins>front):</ins>
</p>
<ol>
<li>the  <del>stack</del> <del>level</del><ins>background</ins> <ins>and</ins> <ins>borders</ins> of the  <del>box</del> <del>in</del><ins>element</ins> <ins>forming</ins> the  <del>current</del>stacking context.</li>
<li> <del>Whether</del>the  <del>box</del> <del>establishes</del> <del>a</del> <del>local</del>stacking  <del>context.</del> <del>Values</del> <del>have</del> <del>the</del> <del>following</del> <del>meanings:</del> <del>&lt;integer&gt;</del> <del>This</del> <del>integer</del> <del>is</del> <del>the</del><ins>contexts</ins> <ins>of</ins> <ins>descendants</ins> <ins>with</ins> <ins>negative</ins> stack
     <ins>levels.</ins></li>
<li><ins>a</ins> <ins>stacking</ins> level  <del>of</del> <del>the</del> <del>generated</del> <del>box</del> <del>in</del> <del>the</del> <del>current</del><ins>containing</ins> <ins>in-flow</ins> <ins>non-inline-level</ins>
     <ins>descendants.</ins></li>
<li><ins>a</ins> stacking  <del>context.</del> <del>The</del> <del>box</del> <del>also</del> <del>establishes</del><ins>level</ins> <ins>for</ins> <ins>floats</ins> <ins>and</ins> <ins>their</ins> <ins>contents.</ins></li>
<li>a  <del>local</del>stacking  <del>context</del> <del>in</del> <del>which</del> <del>its</del> <del>stack</del>level  <del>is</del> <del>'0'.</del> <del>auto</del><ins>for</ins> <ins>in-flow</ins> <ins>inline-level</ins> <ins>descendants.</ins></li>
<li><ins>a</ins> <ins>stacking</ins> <ins>level</ins> <ins>for</ins> <ins>positioned</ins> <ins>descendants</ins> <ins>with</ins> <ins>'z-index:</ins>
     <ins>auto',</ins> <ins>and</ins> <ins>any</ins> <ins>descendant</ins> <ins>stacking</ins> <ins>contexts</ins> <ins>with</ins> <ins>'z-index:</ins> <ins>0'.</ins></li>
<li>the <ins>stacking</ins> <ins>contexts</ins> <ins>of</ins> <ins>descendants</ins> <ins>with</ins> <ins>positive</ins> stack  <del>level</del><ins>levels.</ins></li>
</ol>
<p>
<ins>For</ins> <ins>a</ins> <ins>more</ins> <ins>thorough</ins> <ins>explanation</ins> of the  <del>generated</del> <del>box</del> <del>in</del> <del>the</del> <del>current</del>stacking  <del>context</del> <del>is</del><ins>order,</ins> <ins>please</ins> <ins>see</ins> <a href="zindex.html"><ins>Appendix</ins> <ins>E</ins></a><ins>.</ins>
</p>
<p>
The  <del>same</del><ins>contents</ins> <ins>of</ins> <ins>inline</ins> <ins>blocks</ins> <ins>and</ins> <ins>inline</ins> <ins>tables</ins> <ins>are</ins> <ins>stacked</ins> as  <del>its</del> <del>parent's</del> <del>box.</del> <del>The</del> <del>box</del> <del>does</del> <del>not</del> <del>establish</del> <del>a</del><ins>if</ins>
<ins>they</ins> <ins>generated</ins> new  <del>local</del><ins>stacking</ins> <ins>contexts,</ins> <ins>except</ins> <ins>that</ins> <ins>any</ins> <ins>elements</ins> <ins>that</ins>
<ins>actually</ins> <ins>create</ins> <ins>new</ins> <ins>stacking</ins> <ins>contexts</ins> <ins>take</ins> <ins>part</ins> <ins>in</ins> <ins>the</ins> <ins>parent</ins>
stacking context. <ins>They</ins> <ins>are</ins> <ins>then</ins> <ins>painted</ins> <ins>atomically</ins> <ins>in</ins> <ins>the</ins> <ins>inline</ins>
<ins>stacking</ins> <ins>level.</ins>
</p>

<div class="html-example">
<p>In the following example, the stack levels of
the boxes (named with their "id" attributes) are:
"text2"=0, "image"=1, "text3"=2, and "text1"=3. The
"text2" stack level is inherited from the root box. The
others are specified with the <a href="visuren.html#propdef-z-index" class="noxref"><span
class="propinst-z-index">'z-index'</span></a> property.
</p>
<pre><code class="html">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML  <del>4.0//EN"&gt;</del><ins>4.01//EN"&gt;</ins>
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Z-order positioning&lt;/TITLE&gt;
    &lt;STYLE type="text/css"&gt;
      .pile { 
        position: absolute; 
        left: 2in; 
        top: 2in; 
        width: 3in; 
        height: 3in; 
      }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;
      &lt;IMG id="image" class="pile" 
            <del>src="butterfly.gif"</del><ins>src="butterfly.png"</ins> alt="A butterfly image"
           style="z-index: 1"&gt;

    &lt;DIV id="text1" class="pile" 
         style="z-index: 3"&gt;
      This text will overlay the butterfly image.
    &lt;/DIV&gt;

    &lt;DIV id="text2"&gt;
      This text will be beneath everything.
    &lt;/DIV&gt;

    &lt;DIV id="text3" class="pile" 
         style="z-index: 2"&gt;
      This text will underlay text1, but overlay the butterfly image
    &lt;/DIV&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>
</div>


<p>This example demonstrates the notion of
<em>transparency</em>. The default behavior of  <del>a</del> <del>box</del><ins>the</ins> <ins>background</ins> is to allow boxes behind it to be  <del>visible</del> <del>through</del> <del>transparent</del> <del>areas</del> <del>in</del> <del>its</del> <del>content.</del><ins>visible.</ins> 
In the example, each box transparently overlays the boxes below it. This
behavior can be overridden by using one of the existing
<a href="colors.html#background-properties">
background properties</a>.
</p>

<h2>9.10 <a name="direction">Text direction:</a>
the <a href="visuren.html#propdef-direction" class="noxref"><span class="propinst-direction">'direction'</span></a>
and <a href="visuren.html#propdef-unicode-bidi" class="noxref"><span class="propinst-unicode-bidi">'unicode-bidi'</span></a>
properties
</h2>

<p><a href="conform.html#conformance"><ins>Conforming</ins></a> <ins>user</ins> <ins>agents</ins> <ins>that</ins> <ins>do</ins>
<ins>not</ins> <ins>support</ins> <ins>bidirectional</ins> <ins>text</ins> <ins>may</ins> <ins>ignore</ins> <ins>the</ins> <a href="visuren.html#propdef-direction" class="noxref"><span
class="propinst-direction"><ins>'direction'</ins></span></a> <ins>and</ins> <a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
class="propinst-unicode-bidi"><ins>'unicode-bidi'</ins></span></a> <ins>properties</ins>
<ins>described</ins> <ins>in</ins> <ins>this</ins> <ins>section.</ins> <ins>This</ins> <ins>exception</ins> <ins>includes</ins> <ins>UAs</ins> <ins>that</ins> <ins>render</ins>
<ins>right-to-left</ins> <ins>characters</ins> <ins>simply</ins> <ins>because</ins> <ins>a</ins> <ins>font</ins> <ins>on</ins> <ins>the</ins> <ins>system</ins> <ins>contains</ins> <ins>them</ins>
<ins>but</ins> <ins>do</ins> <ins>not</ins> <ins>support</ins> <ins>the</ins> <ins>concept</ins> <ins>of</ins> <ins>right-to-left</ins> <ins>text</ins> <ins>direction.</ins>

<p>The characters in certain scripts are written from right to
left. In some documents, in particular those written with the Arabic
or Hebrew script, and in some mixed-language contexts, text in a
single (visually displayed) block may appear with mixed
directionality. This phenomenon is called <a name="x38"><span class="index-def"
title="bidirectionality (bidi)"><dfn>bidirectionality</dfn></span></a>, or
"bidi" for short.
</p>
<p>The Unicode standard (<a href="refs.html#ref-UNICODE" rel="biblioentry" class="noxref"><span class="normref">[UNICODE]</span></a>, section 3.11) defines a complex
algorithm for determining the proper directionality of text. The
algorithm consists of an implicit part based on character properties,
as well as explicit controls for embeddings and overrides.  <del>CSS2</del><ins>CSS&nbsp;2.1</ins> relies
on this algorithm to achieve proper bidirectional rendering. The <a href="visuren.html#propdef-direction" class="noxref"><span
class="propinst-direction">'direction'</span></a> and <a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
class="propinst-unicode-bidi">'unicode-bidi'</span></a> properties allow
authors to specify how the elements and attributes of a document
language map to this algorithm.
</p>
<p> <del>If</del> <del>a</del> <del>document</del> <del>contains</del> <del>right-to-left</del> <del>characters,</del> <del>and</del> <del>if</del> <del>the</del> <del>user</del> <del>agent</del> <del>displays</del> <del>these</del> <del>characters</del> <del>(with</del> <del>appropriate</del> <del>glyphs,</del> <del>not</del> <del>arbitrary</del> <del>substitutes</del> <del>such</del> <del>as</del> <del>a</del> <del>question</del> <del>mark,</del> <del>a</del> <del>hex</del> <del>code,</del> <del>a</del> <del>black</del> <del>box,</del> <del>etc.),</del> <del>the</del>User  <del>agent</del><ins>agents</ins> <ins>that</ins> <ins>support</ins> <ins>bidirectional</ins> <ins>text</ins> must apply the <ins>Unicode</ins>
bidirectional  <del>algorithm.</del> <del>This</del> <del>seemingly</del> <del>one-sided</del> <del>requirement</del> <del>reflects</del> <del>the</del> <del>fact</del> <del>that,</del> <del>although</del> <del>not</del><ins>algorithm</ins> <ins>to</ins> every  <del>Hebrew</del><ins>sequence</ins> <ins>of</ins> <ins>inline</ins> <ins>boxes</ins> <ins>uninterrupted</ins>
<ins>by</ins> <ins>a</ins> <ins>forced</ins> <ins>line</ins> <ins>break</ins> or  <del>Arabic</del> <del>document</del> <del>contains</del> <del>mixed-directionality</del> <del>text,</del> <del>such</del> <del>documents</del> <del>are</del> <del>much</del> <del>more</del> <del>likely</del><ins>block</ins> <ins>boundary.</ins> <ins>This</ins> <ins>sequence</ins> <ins>forms</ins> <ins>the</ins>
<ins>"paragraph"</ins> <ins>unit</ins> <ins>in</ins> <ins>the</ins> <ins>bidirectional</ins> <ins>algorithm.</ins> <ins>The</ins> <ins>paragraph</ins> <ins>embedding</ins>
<ins>level</ins> <ins>is</ins> <ins>set</ins> <ins>according</ins> to  <del>contain</del> <del>left-to-right</del> <del>text</del> <del>(e.g.,</del> <del>numbers,</del> <del>text</del> <del>from</del> <del>other</del> <del>languages)</del><ins>the</ins> <ins>value</ins> <ins>of</ins> <ins>the</ins> <a href="visuren.html#propdef-direction" class="noxref"><span
class="propinst-direction"><ins>'direction'</ins></span></a> <ins>property</ins> <ins>of</ins> <ins>the</ins> <ins>containing</ins>
<ins>block</ins> <ins>rather</ins> than  <del>are</del> <del>documents</del> <del>written</del><ins>by</ins> <ins>the</ins> <ins>heuristic</ins> <ins>given</ins> in  <del>left-to-right</del> <del>languages.</del><ins>steps</ins> <ins>P2</ins> <ins>and</ins> <ins>P3</ins> <ins>of</ins> <ins>the</ins> <ins>Unicode</ins>
<ins>algorithm.</ins></p>
<p>Because the directionality of a text depends on the structure and
semantics of the document language, these properties should in most
cases be used only by designers of document type descriptions (DTDs),
or authors of special documents. If a default style sheet specifies
these properties, authors and users should not specify rules to
override them. 
</p>
<p> <del>A</del> <del>typical</del> <del>exception</del> <del>would</del> <del>be</del> <del>to</del> <del>override</del> <del>bidi</del> <del>behavior</del> <del>in</del> <del>a</del> <del>user</del> <del>agent</del> <del>if</del> <del>that</del> <del>user</del> <del>agent</del> <del>transliterates</del> <del>Yiddish</del> <del>(usually</del> <del>written</del> <del>with</del> <del>Hebrew</del> <del>letters)</del> <del>to</del> <del>Latin</del> <del>letters</del> <del>at</del> <del>the</del> <del>user's</del> <del>request.</del>The HTML  <del>4.0</del><ins>4</ins> specification  <del>([HTML40],</del><ins>([HTML4],</ins> section 8.2) defines
bidirectionality behavior for HTML elements.  <del>Conforming</del> <del>HTML</del> <del>user</del> <del>agents</del> <del>may</del> <del>therefore</del> <del>ignore</del> <del>the</del> <del>'direction'</del> <del>and</del> <del>'unicode-bidi'</del> <del>properties</del> <del>in</del> <del>author</del> <del>and</del> <del>user</del> <del>style</del> <del>sheets.</del>The style sheet
rules that would achieve the bidi behavior specified in <a href="refs.html#ref-HTML4" rel="biblioentry" class="noxref"><span class="normref"> <del>[HTML40]</del><ins>[HTML4]</ins></span></a> are
given in <a href="sample.html#bidi">the sample style sheet</a>. The
HTML  <del>4.0</del><ins>4</ins> specification also contains more information on
bidirectionality issues.
</p>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'direction'"><a name="propdef-direction" class="propdef-title"><strong>'direction'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td>ltr | rtl | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>ltr
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td>all elements, but see prose
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>yes
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>N/A
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">visual</a>
<tr valign=baseline><td><em><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>as</ins> <ins>specified</ins>
</table>
</dl>
</div>


<p>This property specifies the base writing direction of blocks and
the direction of embeddings and overrides (see <a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
class="propinst-unicode-bidi">'unicode-bidi'</span></a>) for the Unicode
bidirectional algorithm. In addition, it specifies the direction of <a
href="tables.html">table</a> column layout, the direction of
horizontal <a href="visufx.html#overflow">overflow</a>, and the
position of an incomplete last line in a block in case of 'text-align:
justify'.
</p>

<p>Values for this property have the following meanings:</p>

<dl>
<dt><strong>ltr</strong></dt>
<dd>Left-to-right direction.</dd>
<dt><strong>rtl</strong></dt>
<dd> Right-to-left direction.</dd>
</dl>

<p>For the <a href="visuren.html#propdef-direction" class="noxref"><span class="propinst-direction">'direction'</span></a>
property to  <del>have</del> <del>any</del> <del>effect</del> <del>on</del><ins>affect</ins> <ins>reordering</ins> <ins>in</ins> inline-level elements, the <a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
class="propinst-unicode-bidi">'unicode-bidi'</span></a> property's value
must be 'embed' or 'override'.
</p>
<div class="note"><p>
<em><strong>Note.</strong> 
The <a href="visuren.html#propdef-direction" class="noxref"><span class="propinst-direction">'direction'</span></a> property, when
specified for table column elements, is not inherited by cells in the
column since columns  <del>don't</del> <del>exist</del><ins>are</ins> <ins>not</ins> <ins>the</ins> <ins>ancestors</ins> <ins>of</ins> <ins>the</ins> <ins>cells</ins> in the document tree. 
Thus, CSS cannot easily capture the "dir" attribute inheritance rules described
in <a href="refs.html#ref-HTML4" rel="biblioentry" class="noxref"><span class="normref"> <del>[HTML40]</del><ins>[HTML4]</ins></span></a>, section 11.3.2.1.
</em></p></div>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'unicode-bidi'"><a name="propdef-unicode-bidi" class="propdef-title"><strong>'unicode-bidi'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td>normal | embed | bidi-override | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>normal
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td>all elements, but see prose
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>N/A
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">visual</a>
<tr valign=baseline><td><em><ins>Computed&nbsp;value:</ins></em><ins>&nbsp;&nbsp;</ins><td><ins>as</ins> <ins>specified</ins>
</table>
</dl>
</div>


<p>Values for this property have the following meanings:</p>

<dl>
<dt><strong>normal</strong></dt>
<dd>The element does not open an additional level of embedding with
respect to the bidirectional algorithm. For inline-level elements,
implicit reordering works across element boundaries.
</dd>
<dt><strong>embed</strong></dt>

<dd>If the element is inline-level, this value
opens an additional level of embedding with respect to the
bidirectional algorithm. The direction of this embedding level is
given by the <a href="visuren.html#propdef-direction" class="noxref"><span class="propinst-direction">'direction'</span></a>
property. Inside the element, reordering is done implicitly. This
corresponds to adding a LRE (U+202A; for 'direction: ltr') or RLE
(U+202B; for 'direction: rtl') at the start of the element and a PDF
(U+202C) at the end of the element.
</dd>
<dt><strong>bidi-override</strong></dt>

<dd>
 <del>If</del> <del>the</del> <del>element</del> <del>is</del> <del>inline-level</del> <del>or</del> <del>a</del> <del>block-level</del> <del>element</del> <del>that</del> <del>contains</del> <del>only</del><ins>For</ins> inline-level  <del>elements,</del><ins>elements</ins> this creates an override. 
<ins>For</ins> <ins>block-level,</ins> <ins>table-cell,</ins> <ins>table-caption,</ins> <ins>or</ins> <ins>inline-block</ins> <ins>elements</ins> 
<ins>this</ins> <ins>creates</ins> <ins>an</ins> <ins>override</ins> <ins>for</ins> <ins>inline-level</ins> <ins>descendents</ins> <ins>not</ins> <ins>within</ins> 
<ins>another</ins> <ins>block-level,</ins> <ins>table-cell,</ins> <ins>table-caption,</ins> <ins>or</ins> <ins>inline-block</ins> 
<ins>element.</ins>
This means that inside the element, reordering is strictly in sequence
according to the <a href="visuren.html#propdef-direction" class="noxref"><span class="propinst-direction">'direction'</span></a>
property; the implicit part of the bidirectional algorithm is
ignored. This corresponds to adding a LRO (U+202D; for 'direction:
ltr') or RLO (U+202E; for 'direction: rtl') at the start of the
element <ins>or</ins> <ins>at</ins> <ins>the</ins> <ins>start</ins> <ins>of</ins> <ins>each</ins> <ins>anonymous</ins> <ins>child</ins> <ins>block</ins> <ins>box,</ins> <ins>if</ins> <ins>any,</ins> and
a PDF (U+202C) at the end of the element.
</dd>
</dl>

<p>The final order of characters in each block-level element is the
same as if the bidi control codes had been added as described above,
markup had been stripped, and the resulting character sequence had
been passed to an implementation of the Unicode bidirectional
algorithm for plain text that produced the same line-breaks as the
styled text. In this process, non-textual entities such as images are
treated as neutral characters, unless their <a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
class="propinst-unicode-bidi">'unicode-bidi'</span></a> property has a
value other than 'normal', in which case they are treated as strong
characters in the <a href="visuren.html#propdef-direction" class="noxref"><span class="propinst-direction">'direction'</span></a>
specified for the element.
</p>
<p>Please note that in order to be able to flow inline boxes in a
uniform direction (either entirely left-to-right or entirely
right-to-left), more inline boxes (including anonymous inline boxes)
may have to be created, and some inline boxes may have to be split up
and reordered before flowing.
</p>
<p>Because the Unicode algorithm has a limit of 
<em title="According to unicode 3.0, chapter 3, section 12, definition BD2. 
Specifically, page 58 here: http://www.unicode.org/unicode/uni2book/ch03.pdf" 
> <del>15</del><ins>61</ins> levels</em> of
embedding, care should be taken not to use <a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
class="propinst-unicode-bidi">'unicode-bidi'</span></a> with a value other
than 'normal' unless appropriate. In particular, a value of 'inherit'
should be used with extreme caution. However, for elements that are,
in general, intended to be displayed as blocks, a setting of
'unicode-bidi: embed' is preferred to keep the element together in
case display is changed to inline (see example below).
</p>
<p>The following example shows an XML document with bidirectional
text. It illustrates an important design principle: <a name="x41"><span
class="index-inst" title="DTD">DTD</span></a> designers should take bidi
into account both in the language proper (elements and attributes) and
in any accompanying style sheets. The style sheets should be designed
so that bidi rules are separate from other style rules. The bidi rules
should not be overridden by other style sheets so that the document
language's or DTD's bidi behavior is preserved.
</p>
<div class="example"><P style="display:none">Example(s):</P><p>
In this example, 
lowercase letters stand for inherently left-to-right characters and
uppercase letters represent inherently right-to-left characters:
</p>
<pre class="xml-example"><code class="xml">
&lt;HEBREW&gt;
  &lt;PAR&gt;HEBREW1 HEBREW2 english3 HEBREW4 HEBREW5&lt;/PAR&gt;
  &lt;PAR&gt;HEBREW6 &lt;EMPH&gt;HEBREW7&lt;/EMPH&gt; HEBREW8&lt;/PAR&gt;
&lt;/HEBREW&gt;
&lt;ENGLISH&gt;
  &lt;PAR&gt;english9 english10 english11 HEBREW12 HEBREW13&lt;/PAR&gt;
  &lt;PAR&gt;english14 english15 english16&lt;/PAR&gt;
  &lt;PAR&gt;english17 &lt;HE-QUO&gt;HEBREW18 english19 HEBREW20&lt;/HE-QUO&gt;&lt;/PAR&gt;
&lt;/ENGLISH&gt;
</code></pre>

<p>Since this is XML, the style sheet is responsible for setting the
writing direction. This is the style sheet:</p>

<pre class="example">
/* Rules for bidi */
HEBREW, HE-QUO  {direction: rtl; unicode-bidi: embed}
ENGLISH         {direction: ltr; unicode-bidi: embed} 

/* Rules for presentation */
HEBREW, ENGLISH, PAR  {display: block}
EMPH                  {font-weight: bold}
</pre>

<p>The HEBREW element is a block with a right-to-left base direction,
the ENGLISH element is a block with a left-to-right base
direction. The PARs are blocks that inherit the base direction from
their parents. Thus, the first two PARs are read starting at the top
right, the final three are read starting at the top left.  Please note
that HEBREW and ENGLISH are chosen as element names for explicitness
only; in general, element names should convey structure without
reference to language.
</p>
<p>The EMPH element is inline-level, and since its value for <a href="visuren.html#propdef-unicode-bidi" class="noxref"><span
class="propinst-unicode-bidi">'unicode-bidi'</span></a> is 'normal' (the
initial value), it has no effect on the ordering of the text. The
HE-QUO element, on the other hand, creates an embedding.
</p>
<p>The formatting of this text might look like this if the line length
is long:
</p>
<pre class="ascii-art">
               5WERBEH 4WERBEH english3 2WERBEH 1WERBEH

                                8WERBEH <b>7WERBEH</b> 6WERBEH

english9 english10 english11 13WERBEH 12WERBEH

english14 english15 english16

english17 20WERBEH english19 18WERBEH
</pre>

<p>Note that the HE-QUO embedding causes HEBREW18 to be to the right
of english19.
</p>
<p>If lines have to be broken, it might be more like this:
</p>
<pre class="ascii-art">
       2WERBEH 1WERBEH
  -EH 4WERBEH english3
                 5WERB

   -EH <b>7WERBEH</b> 6WERBEH
                 8WERB

english9 english10 en-
glish11 12WERBEH
13WERBEH

english14 english15
english16

english17 18WERBEH
20WERBEH english19
</pre>

<p>Because HEBREW18 must be read before english19, it is on the line
above english19. Just breaking the long line from the earlier
formatting would not have worked. Note also that the first syllable
from english19 might have fit on the previous line, but hyphenation of
left-to-right words in a right-to-left context, and vice versa, is
usually suppressed to avoid having to display a hyphen in the middle
of a line.
</p>
</div>

<hr class="navbar">

<div class="navbar">
<p><a href="box.html">previous</a> &nbsp;
<a href="visudet.html">next</a> &nbsp;
<a href="cover.html#minitoc">contents</a> &nbsp;
<a href="propidx.html">properties</a> &nbsp;
<a href="indexlist.html">index</a> &nbsp;
</div>
</body>
</html>

