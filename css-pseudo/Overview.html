<!DOCTYPE html><html lang=en><head>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Pseudo-Elements Module Level 4</title>
  <link href=../default.css rel=stylesheet type=text/css>
  <link href=../csslogo.ico rel="shortcut icon" type=image/x-icon>
  <style>
  body {
    background: url("https://www.w3.org/StyleSheets/TR/logo-ED") top left no-repeat white;
    background-attachment: fixed;
    color: black;
    font-family: sans-serif;
    margin: 0 auto;
    max-width: 50em;
    padding: 2em 1em 2em 70px;
  }
  :link { color: #00C; background: transparent }
  :visited { color: #609; background: transparent }
  a[href]:active { color: #C00; background: transparent }
  a[href]:hover { background: #ffa }

  a[href] img { border-style: none }

  h1, h2, h3, h4, h5, h6 { text-align: left }
  h1, h2, h3 { color: #005A9C; }
  h1 { font: 170% sans-serif }
  h2 { font: 140% sans-serif }
  h3 { font: 120% sans-serif }
  h4 { font: bold 100% sans-serif }
  h5 { font: italic 100% sans-serif }
  h6 { font: small-caps 100% sans-serif }

  .hide { display: none }

  div.head { margin-bottom: 1em }
  div.head h1 { margin-top: 2em; clear: both }
  div.head table { margin-left: 2em; margin-top: 2em }

  p.copyright { font-size: small }
  p.copyright small { font-size: small }

  pre { margin-left: 2em }
  dt { font-weight: bold }

  ul.toc, ol.toc {
    list-style: none;
  }
  </style>
</head>
<body class=h-entry>
<div class=head>
  <p data-fill-with=logo><a class=logo href=http://www.w3.org/>
    <img alt=W3C height=48 src=https://www.w3.org/Icons/w3c_home width=72>
</a>
</p>
  <h1 class="p-name no-ref" id=title>CSS Pseudo-Elements Module Level 4</h1>
  <h2 class="no-num no-toc no-ref heading settled" id=subtitle><span class=content>Editor’s Draft,
    <span class=dt-updated><span class=value-title title=20141025>25 October 2014</span></span></span></h2>
  <div data-fill-with=spec-metadata><dl>
	<dt>This version:
	<dd><a class=u-url href=http://dev.w3.org/csswg/css-pseudo-4/>http://dev.w3.org/csswg/css-pseudo-4/</a>
	<dt>Latest version:
	<dd><a href=http://www.w3.org/TR/css-pseudo-4/>http://www.w3.org/TR/css-pseudo-4/</a>
	<dt>Feedback:
	<dd><a href="mailto:www-style@w3.org?subject=%5Bcss-pseudo%5D%20feedback">www-style@w3.org</a>
            with subject line
            “<kbd>[css-pseudo] <var>… message topic …</var></kbd>”(<a href=http://lists.w3.org/Archives/Public/www-style/ rel=discussion>archives</a>)
	<dt>Editors:
	<dd><dd class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://fantasai.inkedblade.net/contact>fantasai</a> (<span class="p-org org">Invited Expert</span>)
	<dd><dd class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:stearns@adobe.com>Alan Stearns</a> (<span class="p-org org">Adobe Systems Inc.</span>)
</dl>
</div>
  <div data-fill-with=warning></div>
  <p class=copyright data-fill-with=copyright><a href=http://www.w3.org/Consortium/Legal/ipr-notice#Copyright>Copyright</a> © 2014 <a href=http://www.w3.org/><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=http://www.csail.mit.edu/><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href=http://www.ercim.eu/><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href=http://www.keio.ac.jp/>Keio</a>, <a href=http://ev.buaa.edu.cn/>Beihang</a>), All Rights Reserved. W3C <a href=http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer>liability</a>, <a href=http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks>trademark</a> and <a href=http://www.w3.org/Consortium/Legal/copyright-documents>document use</a> rules apply.
</p>
  <hr title="Separator for header">
</div>

<h2 class="no-num no-toc no-ref heading settled" id=abstract><span class=content>Abstract</span></h2>
<div class=p-summary data-fill-with=abstract><p>This CSS module defines pseudo-elements, abstract elements that represent portions of the CSS render tree that can be selected and styled.</p>

<a href=http://www.w3.org/TR/CSS/>CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</div>

<h2 class="no-num no-toc no-ref heading settled" id=status><span class=content>Status of this document</span></h2>
<div data-fill-with=status><p>
	This is a public copy of the editors’ draft. 
	It is provided for discussion only and may change at any moment. 
	Its publication here does not imply endorsement of its contents by W3C. 
	Don’t cite this document other than as work in progress.

<p>
	The (<a href=http://lists.w3.org/Archives/Public/www-style/>archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-pseudo%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a> 
	(see <a href=http://www.w3.org/Mail/Request>instructions</a>) 
	is preferred for discussion of this specification. 
	When sending e-mail, 
	please put the text “css-pseudo” in the subject, 
	preferably like this:
	“[css-pseudo] <em>…summary of comment…</em>”

<p>
	This document was produced by the <a href=http://www.w3.org/Style/CSS/members>CSS Working Group</a> 
	(part of the <a href=http://www.w3.org/Style/>Style Activity</a>).

<p>
	This document was produced by a group operating under 
	the <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/>5 February 2004 W3C Patent Policy</a>. 
	W3C maintains a <a href=http://www.w3.org/2004/01/pp-impl/32061/status rel=disclosure>public list of any patent disclosures</a> 
	made in connection with the deliverables of the group; 
	that page also includes instructions for disclosing a patent. 
	An individual who has actual knowledge of a patent which the individual believes contains <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential>Essential Claim(s)</a> 
	must disclose the information in accordance with <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure>section 6 of the W3C Patent Policy</a>.</div>
<div data-fill-with=at-risk></div>

<h2 class="no-num no-toc no-ref heading settled" id=contents><span class=content>Table of Contents</span></h2>
<div data-fill-with=table-of-contents><ul class=toc>
	<li><a href=#intro><span class=secno>1</span> Introduction</a>
	<li><a href=#typographic-pseudos><span class=secno>2</span>  Typographic Pseudo-elements</a>
		<ul class=toc>
		<li><a href=#first-line-pseudo><span class=secno>2.1</span>  The ::first-line pseudo-element</a>
			<ul class=toc>
			<li><a href=#first-text-line><span class=secno>2.1.1</span>  Finding the First Formatted Line</a>
			<li><a href=#first-line-styling><span class=secno>2.1.2</span>  Styling the First Line Pseudo-element</a>
			<li><a href=#first-line-inheritance><span class=secno>2.1.3</span>  Inheritance and the <span class=css data-link-type=maybe title=::first-line>::first-line</span> Pseudo-element</a></ul>
		<li><a href=#first-letter-pseudo><span class=secno>2.2</span>  The ::first-letter pseudo-element</a>
			<ul class=toc>
			<li><a href=#application-in-css><span class=secno>2.2.1</span>  Finding the First Letter</a>
			<li><a href=#first-letter-styling><span class=secno>2.2.2</span>  Styling the <span class=css>::first-letter</span> Pseudo-element</a></ul></ul>
	<li><a href=#generated-content><span class=secno>3</span>  Generated Content Pseudo-elements: <span class=css data-link-type=maybe title=::before>::before</span> and <span class=css data-link-type=maybe title=::after>::after</span></a>
	<li><a href=#interactions><span class=secno>4</span> Overlapping Pseudo-element Interactions</a>
	<li><a href=#cssom><span class=secno>5</span>  Additions to the CSS Object Model</a>
		<ul class=toc>
		<li><a href=#CSSPseudoElement-interface><span class=secno>5.1</span>  Interface CSSPseudoElement</a>
		<li><a href=#CSSPseudoElementList-interface><span class=secno>5.2</span>  Interface CSSPseudoElementList</a>
		<li><a href=#window-interface><span class=secno>5.3</span>  Addition to the <code>window</code> interface</a></ul>
	<li><a href=#acknowledgements><span class=secno></span>  Acknowledgements</a>
	<li><a href=#conformance><span class=secno></span>  Conformance</a>
		<ul class=toc>
		<li><a href=#conventions><span class=secno></span>  Document conventions</a>
		<li><a href=#conformance-classes><span class=secno></span>  Conformance classes</a>
		<li><a href=#partial><span class=secno></span>  Partial implementations</a>
		<li><a href=#experimental><span class=secno></span>  Experimental implementations</a>
		<li><a href=#testing><span class=secno></span>  Non-experimental implementations</a></ul>
	<li><a href=#references><span class=secno></span>  References</a>
		<ul class=toc>
		<li><a href=#normative><span class=secno></span>  Normative References</a>
		<li><a href=#informative><span class=secno></span>  Informative References</a></ul>
	<li><a href=#index><span class=secno></span>  Index</a>
	<li><a href=#property-index><span class=secno></span>  Property index</a>
	<li><a href=#issues-index><span class=secno></span> Issues Index</a></ul></div>




<h2 class="heading settled" data-level=1 id=intro><span class=secno>1 </span><span class=content>Introduction</span><a class=self-link href=#intro></a></h2>

<p><em>This section is informative.</em></p>

<p><a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#pseudo-element title=Pseudo-elements>Pseudo-elements</a> represent abstract elements of the document
  beyond those elements explicitly created by the document language.
  Since they are not restricted to fitting into the document tree,
  the can be used the select and style portions of the document
  that do not necessarily map to the document’s tree structure.
  For instance, the <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a> pseudo-element can
  select content on the first formatted line of an element
  <em>after</em> text wrapping,
  allowing just that line to be styled differently
  from the rest of the paragraph.</p>

<p>Each pseudo-element is associated with an <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#originating-element title="originating element">originating element</a>
  and has syntax of the form <span class=css>::name-of-pseudo</span>.
  This module defines the pseudo-elements that exist in CSS
  and how they can be styled.
  For more information on pseudo-elements in general,
  and on their syntax and interaction with other <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#selector title=selectors>selectors</a>,
  see <a data-biblio-type=normative data-link-type=biblio href=#biblio-selectors4 title=biblio-SELECTORS4>[SELECTORS4]</a>.</p>

<h2 class="heading settled" data-level=2 id=typographic-pseudos><span class=secno>2 </span><span class=content>
Typographic Pseudo-elements</span><a class=self-link href=#typographic-pseudos></a></h2>

<h3 class="heading settled" data-level=2.1 id=first-line-pseudo><span class=secno>2.1 </span><span class=content>
The ::first-line pseudo-element</span><a class=self-link href=#first-line-pseudo></a></h3>

<p>The <dfn class=css data-dfn-type=selector data-export="" id=selectordef-first-line>::first-line<a class=self-link href=#selectordef-first-line></a></dfn> pseudo-element describes the contents of
  the <a data-link-type=dfn href=#first-formatted-line title="first formatted line">first formatted line</a> of its <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#originating-element title="originating element">originating element</a>.</p>

  <div class=example>
    The rule below means
    “change the letters of the first line of every <code>p</code> element to uppercase”:

<pre>p::first-line { text-transform: uppercase }</pre>

<p>The selector <span class=css>p::first-line</span>
    does not match any real document element.
    It does match a pseudo-element that conforming user agents
    will insert at the beginning of every <code>p</code> element.</p>
  </div>

<p class=note>Note: Note that the length of the first line depends on a number of factors,
  including the width of the page, the font size, etc.</p>

  <div class=example>
    For example, given an ordinary HTML <a data-biblio-type=informative data-link-type=biblio href=#biblio-html5 title=biblio-HTML5>[HTML5]</a> paragraph such as: 

    <pre>&lt;P&gt;This is a somewhat long HTML
paragraph that will be broken into several
lines. The first line will be identified
by a fictional tag sequence. The other lines
will be treated as ordinary lines in the
paragraph.&lt;/P&gt;
</pre>

<p>The lines might be broken as follows:</p>

    <pre>THIS IS A SOMEWHAT LONG HTML PARAGRAPH THAT
will be broken into several lines. The first
line will be identified by a fictional tag
sequence. The other lines will be treated as
ordinary lines in the paragraph.
</pre>

<p>This paragraph might be “rewritten” by user agents
    to include a <dfn data-dfn-type=dfn data-noexport="" id=fictional-tag-sequence>fictional tag sequence<a class=self-link href=#fictional-tag-sequence></a></dfn> to represent <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a>.
    This <a data-link-type=dfn href=#fictional-tag-sequence title="fictional tag sequence">fictional tag sequence</a> helps to show how properties are inherited.</p>

    <pre>&lt;P&gt;<b>&lt;P::first-line&gt;</b> This is a somewhat long HTML
paragraph that <b>&lt;/P::first-line&gt;</b> will be broken into several
lines. The first line will be identified
by a fictional tag sequence. The other lines
will be treated as ordinary lines in the
paragraph.&lt;/P&gt;
</pre>
  </div>

<p>If a pseudo-element breaks up a real element,
  the desired effect can often be described by a <a data-link-type=dfn href=#fictional-tag-sequence title="fictional tag sequence">fictional tag sequence</a>
  that closes and then re-opens the element.</p>

  <div class=example>
    Thus, if we mark up the previous paragraph with a <code>span</code>
    element encompassing the first sentence: 

    <pre>&lt;P&gt;<b>&lt;SPAN class="test"&gt;</b> This is a somewhat long HTML
paragraph that will be broken into several
lines.<b>&lt;/SPAN&gt;</b> The first line will be identified
by a fictional tag sequence. The other lines
will be treated as ordinary lines in the
paragraph.&lt;/P&gt;
</pre>

<p>the user agent could simulate start and end tags for <code>span</code>
    when inserting the <a data-link-type=dfn href=#fictional-tag-sequence title="fictional tag sequence">fictional tag sequence</a> for <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a>
    to get the correct inheritance behavior.</p>

    <pre>&lt;P&gt;&lt;P::first-line&gt;<b>&lt;SPAN class="test"&gt;</b> This is a somewhat long HTML
paragraph that will <b>&lt;/SPAN&gt;</b>&lt;/P::first-line&gt;<b>&lt;SPAN class="test"&gt;</b> be broken into several
lines.<b>&lt;/SPAN&gt;</b> The first line will be identified
by a fictional tag sequence. The other lines
will be treated as ordinary lines in the
paragraph.&lt;/P&gt;
</pre>
  </div>

<h4 class="heading settled" data-level=2.1.1 id=first-text-line><span class=secno>2.1.1 </span><span class=content>
Finding the First Formatted Line</span><a class=self-link href=#first-text-line></a></h4>

<p>In CSS, the <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a> pseudo-element
  can only have an effect when attached to a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-display-3/#block-container title="block container">block container</a>.
  The <dfn data-dfn-type=dfn data-noexport="" id=first-formatted-line>first formatted line<a class=self-link href=#first-formatted-line></a></dfn> of an element
  must occur inside a block-level descendant in the same flow
  (i.e., a block-level descendant that is not out-of-flow due to floating or positioning).</p>

  <div class=example>
    For example, the first line of the <code>DIV</code> in <code>&lt;DIV&gt;&lt;P&gt;This line...&lt;/P&gt;&lt;/DIV&gt;</code>
    is the first line of the <code>P</code>
    (assuming that both <code>P</code> and <code>DIV</code> are blocks).
  </div>

<p>The first line of a table-cell or inline-block
  cannot be the first formatted line of an ancestor element.
  Thus, in <code>&lt;DIV&gt;&lt;P STYLE="display: inline-block"&gt;Hello&lt;BR&gt;Goodbye&lt;/P&gt; etcetera&lt;/DIV&gt;</code>
  the first formatted line of the <code>DIV</code> is not the line "Hello".</p>

<p class=note>Note: Note that the first line of the <code>p</code> in this fragment:
  <code>&lt;p&gt;&lt;br&gt;First...</code>
  doesn’t contain any letters (assuming the default style for <code>br</code>).
  The word "First" is not on the first formatted line.</p>

<p>A user agent must act as if the fictional start tags of a <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a> pseudo-element
  were nested just inside the innermost enclosing block-level element.</p>

  <div class=example>
    For example, the <a data-link-type=dfn href=#fictional-tag-sequence title="fictional tag sequence">fictional tag sequence</a> for 
    <pre>&lt;DIV&gt;
  &lt;P&gt;First paragraph&lt;/P&gt;
  &lt;P&gt;Second paragraph&lt;/P&gt;
&lt;/DIV&gt;
</pre>
<p>is
    <pre>&lt;DIV&gt;
  &lt;P&gt;&lt;DIV::first-line&gt;&lt;P::first-line&gt;First paragraph&lt;/P::first-line&gt;&lt;/DIV::first-line&gt;&lt;/P&gt;
  &lt;P&gt;&lt;P::first-line&gt;Second paragraph&lt;/P::first-line&gt;&lt;/P&gt;
&lt;/DIV&gt;
</pre><p></p>

  </div>

<h4 class="heading settled" data-level=2.1.2 id=first-line-styling><span class=secno>2.1.2 </span><span class=content>
Styling the First Line Pseudo-element</span><a class=self-link href=#first-line-styling></a></h4>

<p>The <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a> pseudo-element’s generated box
  behaves similar to that of an inline-level element, but with certain restrictions.
  The following CSS properties apply to a <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a> pseudo-element:
  <ul>
    <li>all font properties (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3-fonts title=biblio-CSS3-FONTS>[CSS3-FONTS]</a>)
    <li>the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-color-3/#color0 title=color>color</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-color-3/#opacity title=opacity>opacity</a> properties (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3color title=biblio-CSS3COLOR>[CSS3COLOR]</a>)
    <li>all background properties (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3bg title=biblio-CSS3BG>[CSS3BG]</a>)
    <li>any typesetting properties that apply to inline elements (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3text title=biblio-CSS3TEXT>[CSS3TEXT]</a>)
    <li>all text decoration properties (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3-text-decor title=biblio-CSS3-TEXT-DECOR>[CSS3-TEXT-DECOR]</a>)
    <li>any inline layout properties that apply to inline elements (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3line title=biblio-CSS3LINE>[CSS3LINE]</a>)
    <li>any other properties defined to apply to <span class=css>::first-letter</span>
        by their respective specifications
  </ul>
  User agents may apply other properties as well.<p></p>

<h4 class="heading settled" data-level=2.1.3 id=first-line-inheritance><span class=secno>2.1.3 </span><span class=content>
Inheritance and the <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a> Pseudo-element</span><a class=self-link href=#first-line-inheritance></a></h4>

<p>During CSS inheritance, the portion of a child element that occurs on the first line
  only inherits properties applicable to the <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a> pseudo-element
  from the <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a> pseudo-element.
  For all other properties inheritence is
  from the non-pseudo-element parent of the first line pseudo element.
  (The portion of a child element that does not occur on the first line
  always inherits from the parent of that child.)</p>

<h3 class="heading settled" data-level=2.2 id=first-letter-pseudo><span class=secno>2.2 </span><span class=content>
The ::first-letter pseudo-element</span><a class=self-link href=#first-letter-pseudo></a></h3>

<p>The <span class=css>::first-letter</span> pseudo-element represents
  the first <i data-link-type=dfn title="typographic letter unit">typographic letter unit</i> <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3text title=biblio-CSS3TEXT>[CSS3TEXT]</a>
  on the <a data-link-type=dfn href=#first-formatted-line title="first formatted line">first formatted line</a> of its <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#originating-element title="originating element">originating element</a>,
  if it is not preceded by any other content
  (such as images or inline tables) on its line.
  The <span class=css>::first-letter</span> pseudo-element can be used
  to create “initial caps” and “drop caps”,
  which are common typographic effects.</p>

  <div class=example>
    For example, the following rule creates a 2-line drop-letter
    on every paragraph following a level-2 header,
    using the <a class=property data-link-type=propdesc title=initial-letter>initial-letter</a> property defined in <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3line title=biblio-CSS3LINE>[CSS3LINE]</a>:

    <pre>h2 + p::first-letter { initial-letter: 2; }
</pre>
  </div>

<p>Punctuation (i.e, characters that belong to the Punctuation (<code>P*</code>) <i data-link-type=dfn title="Unicode general category">Unicode general category</i> <a data-biblio-type=normative data-link-type=biblio href=#biblio-uax44 title=biblio-UAX44>[UAX44]</a>)
  that precedes or follows the first <i data-link-type=dfn title="typographic letter unit">typographic letter unit</i> must also be included
  in the <span class=css>::first-letter</span> pseudo-element.</p>

  <div class=figure>
      <img alt="Quotes that precede the first letter should be included." src=http://www.w3.org/TR/selectors/first-letter2.png>
  </div>

<p>As explained in <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3text title=biblio-CSS3TEXT>[CSS3TEXT]</a>,
  a <i data-link-type=dfn title="typographic letter unit">typographic letter unit</i> can include more than one Unicode codepoint.
  For example, combining characters must be kept with their base character.
  Also, languages may have additional rules
  about how to treat certain letter combinations.
  In Dutch, for example, if the letter combination "ij" appears at the beginning of an element,
  both letters should be considered within the <span class=css>::first-letter</span> pseudo-element. <a data-biblio-type=informative data-link-type=biblio href=#biblio-uax29 title=biblio-UAX29>[UAX29]</a>
  The UA should tailor its definition of <i data-link-type=dfn title="typographic letter unit">typographic letter unit</i>
  to reflect the first-letter traditions of the <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#originating-element title="originating element">originating element</a>’s content language.
  Issue: This is actually a problem in cases where the originating element is an ancestor
  with a different content. What <em>should</em> we say here?</p>

<p class=note>Note: Note that the first <i data-link-type=dfn title="typographic letter unit">typographic letter unit</i> may in fact
  be a digit, e.g., the “6” in “67 million dollars is a lot of money.”</p>

<p>If the characters that would form the <span class=css>::first-letter</span>
  are not in the same element, such as "‘<code class=css>T" in <code>&lt;p&gt;'&lt;em&gt;T...</code>,
  the user agent may create a <span class=css>::first-letter</span> pseudo-element
  from one of the elements, both elements, or simply not create a pseudo-element.</code> 
  Additionally, if the first letter(s) of the block
  are not at the start of the line (for example due to bidirectional reordering),
  then the user agent need not create the pseudo-element(s).</p>

<p>The <span class=css>::first-letter</span> pseudo-element is contained within any <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a>
  pseudo-elements, and thus inherits from <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a>.</p>

<h4 class="heading settled" data-level=2.2.1 id=application-in-css><span class=secno>2.2.1 </span><span class=content>
Finding the First Letter</span><a class=self-link href=#application-in-css></a></h4>

<p>The first letter must occur on the <a data-link-type=dfn href=#first-formatted-line title="first formatted line">first formatted line</a>.
  For example, in this HTML fragment: <code>&lt;p&gt;&lt;br&gt;First...</code>
  the first line doesn’t contain any letters
  and <span class=css>::first-letter</span> doesn’t match anything.
  In particular, it does not match the “F” of “First”.</p>

<p>In CSS, the <span class=css>::first-letter</span> pseudo-element
  only applies to block containers.
  <span class=note>A future version of this specification
  may allow this pseudo-element to apply to more display types.</span>
  The <span class=css>::first-letter</span> pseudo-element can be used
  with all such elements that contain text,
  or that have a descendant in the same flow that contains text.
  A user agent should act as if the fictional start tag
  of the ::first-letter pseudo-element
  is just before the first text of the element,
  even if that first text is in a descendant.</p>

  <div class=example>
    Example:
    The <a data-link-type=dfn href=#fictional-tag-sequence title="fictional tag sequence">fictional tag sequence</a> for this HTML fragment: 
    <pre>&lt;div&gt;
&lt;p&gt;The first text.
</pre>
<p>is:
    <pre>&lt;div&gt;
&lt;p&gt;&lt;div::first-letter&gt;&lt;p::first-letter&gt;T&lt;/...&gt;&lt;/...&gt;he first text.
</pre><p></p>

  </div>

<p>In CSS the first letter of a table-cell or inline-block
  cannot be the first letter of an ancestor element.
  Thus, in <code>&lt;DIV&gt;&lt;P STYLE="display: inline-block"&gt;Hello&lt;BR&gt;Goodbye&lt;/P&gt; etcetera&lt;/DIV&gt;</code>
  the first letter of the <code>DIV</code> is not the letter "H".
  In fact, the <code>DIV</code> doesn’t have a first letter. 
  If an element is a list item (<a class=css data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display: list-item</a>),
  the <span class=css>::first-letter</span> applies
  to the first letter in the principal box <em>after</em> the marker.
  User-Agents may ignore <span class=css>::first-letter</span>
  on list items with <a class=css data-link-type=propdesc href=http://dev.w3.org/csswg/css-lists-3/#propdef-list-style-position title=list-style-position>list-style-position: inside</a>.
  If an element has <a class=css data-link-type=maybe href=#selectordef-before title=::before>::before</a> or <a class=css data-link-type=maybe href=#selectordef-after title=::after>::after</a> content,
  the <span class=css>::first-letter</span> applies to the first letter of the
  element <em>including</em> that content.</p>

  <div class=example>
    Example:
    After the rule <span class=css>p::before {content: "Note: "}</span>, the
    selector <span class=css>p::first-letter</span> matches the "N" of "Note".
  </div>

<h4 class="heading settled" data-level=2.2.2 id=first-letter-styling><span class=secno>2.2.2 </span><span class=content>
Styling the <span class=css>::first-letter</span> Pseudo-element</span><a class=self-link href=#first-letter-styling></a></h4>

<p>In CSS a ::first-letter pseudo-element is similar to an inline-level element
  if its <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float title=float>float</a> property is <span class=css>none</span>;
  otherwise, it is similar to a floated element.
  The following properties that apply to <span class=css>::first-letter</span> pseudo-elements:
  <ul>
    <li>all font properties (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3-fonts title=biblio-CSS3-FONTS>[CSS3-FONTS]</a>)
    <li>the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-color-3/#color0 title=color>color</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-color-3/#opacity title=opacity>opacity</a> properties (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3color title=biblio-CSS3COLOR>[CSS3COLOR]</a>)
    <li>all background properties (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3bg title=biblio-CSS3BG>[CSS3BG]</a>)
    <li>any typesetting properties that apply to inline elements (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3text title=biblio-CSS3TEXT>[CSS3TEXT]</a>)
    <li>all text decoration properties (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3-text-decor title=biblio-CSS3-TEXT-DECOR>[CSS3-TEXT-DECOR]</a>)
    <li>any inline layout properties that apply to inline elements (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3line title=biblio-CSS3LINE>[CSS3LINE]</a>)
    <li>margin and padding properties (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css21 title=biblio-CSS21>[CSS21]</a>)
    <li>border properties and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-backgrounds-3/#box-shadow title=box-shadow>box-shadow</a> (see <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3bg title=biblio-CSS3BG>[CSS3BG]</a>)
    <li>any other properties defined to apply to <span class=css>::first-letter</span>
        by their respective specifications
  </ul>
  User agents may apply other properties as well.<p></p>

<p>To allow User-Agents to render a typographically correct drop cap or initial cap,
  the User-Agent may choose a line-height, width and height
  based on the shape of the letter, unlike for normal elements.</p>

  <div class=example>
    Example:
    This CSS and HTML example shows a possible rendering of an initial cap.
    Note that the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-line-height title=line-height>line-height</a> that is inherited
    by the <span class=css>::first-letter</span> pseudo-element is 1.1,
    but the User-Agent in this example has computed the height
    of the first letter box differently,
    so that it doesn’t cause any unnecessary space between the first two lines.
    Also note that the fictional start tag of the first letter
    is inside the <span>span</span>,
    and thus the font weight of the first letter is normal,
    not bold as the <span>span</span>:

    <pre>p { line-height: 1.1 }
p::first-letter { font-size: 3em; font-weight: normal }
span { font-weight: bold }
...
&lt;p&gt;&lt;span&gt;Het hemelsche&lt;/span&gt; gerecht heeft zich ten lange lesten&lt;br&gt;
Erbarremt over my en mijn benaeuwde vesten&lt;br&gt;
En arme burgery, en op mijn volcx gebed&lt;br&gt;
En dagelix geschrey de bange stad ontzet.
</pre>

    <div class=figure>
        <img alt="Image illustrating the ::first-letter pseudo-element" src=http://www.w3.org/TR/selectors/initial-cap.png>
    </div>
  </div>

  <div class=example>
    The following CSS will make a drop cap initial letter span about two lines:
    <pre>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
 &lt;HEAD&gt;
  &lt;TITLE&gt;Drop cap initial letter&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
   P               { font-size: 12pt; line-height: 1.2 }
   P::first-letter { font-size: 200%; font-weight: bold; float: left }
   SPAN            { text-transform: uppercase }
  &lt;/STYLE&gt;
 &lt;/HEAD&gt;
 &lt;BODY&gt;
  &lt;P&gt;&lt;SPAN&gt;The first&lt;/SPAN&gt; few words of an article
    in The Economist.&lt;/P&gt;
 &lt;/BODY&gt;
&lt;/HTML&gt;
</pre>

<p>This example might be formatted as follows:</p>

    <div class=figure>
        <img alt="Image illustrating the combined effect of the ::first-letter
   and ::first-line pseudo-elements" src=http://www.w3.org/TR/selectors/first-letter.png>
    </div>

<p>The <a data-link-type=dfn href=#fictional-tag-sequence title="fictional tag sequence">fictional tag sequence</a> is:</p>

    <pre>&lt;P&gt;
  &lt;SPAN&gt;
    &lt;P::first-letter&gt;
      T
    &lt;/P::first-letter&gt;he first
  &lt;/SPAN&gt;
  few words of an article in the Economist.
&lt;/P&gt;
</pre>

<p>Note that the <span class=css>::first-letter</span> pseudo-element tags abut the
    content (i.e., the initial character), while the ::first-line
    pseudo-element start tag is inserted right after the start tag of the
    block element.</p>
  </div>

<p>In order to achieve traditional drop caps formatting, user agents may
  approximate font sizes, for example to align baselines. Also, the glyph
  outline may be taken into account when formatting.</p>

<h2 class="heading settled" data-level=3 id=generated-content><span class=secno>3 </span><span class=content>
Generated Content Pseudo-elements: <a class=css data-link-type=maybe href=#selectordef-before title=::before>::before</a> and <a class=css data-link-type=maybe href=#selectordef-after title=::after>::after</a></span><a class=self-link href=#generated-content></a></h2>

<p>When their computed <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-content-3/#content title=content>content</a> value is not <span class=css>none</span>,
  these pseudo-elements generate boxes
  as if they were immediate children of their <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#originating-element title="originating element">originating element</a>,
  and can be styled exactly like any normal document-sourced element in the document tree.
  They <a data-link-type=dfn href=http://dev.w3.org/csswg/css-cascade-3/#inheritance title=inheritance>inherit</a> any inheritable properties from their <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#originating-element title="originating element">originating element</a>;
  non-inheritable properties take their <a data-link-type=dfn href=http://dev.w3.org/csswg/css-cascade-3/#initial-value title="initial values">initial values</a> as usual.
  <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3cascade title=biblio-CSS3CASCADE>[CSS3CASCADE]</a></p>

  <dl>
    <dt><dfn class=css data-dfn-type=selector data-export="" id=selectordef-before>::before<a class=self-link href=#selectordef-before></a></dfn>
    <dd>Represents a styleable child pseudo-element
    immediately before the <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#originating-element title="originating element">originating element</a>’s actual content.

    <dt><dfn class=css data-dfn-type=selector data-export="" id=selectordef-after>::after<a class=self-link href=#selectordef-after></a></dfn>
    <dd>Represents a styleable child pseudo-element
    immediately before the <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#originating-element title="originating element">originating element</a>’s actual content.
  </dl>

  <div class=example>
    For example, the following rule inserts the string “Note: ”
    before the content of every <code>&lt;p&gt;</code> element
    whose <code>class</code> attribute has the value <code>note</code>:

<pre>p.note::before { content: "Note: " }</pre>

<p>Since the initial value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a> is <span class=css>inline</span>,
    this will generate an inline box.
    Like other inline children of <code>&lt;p&gt;</code>,
    it will participate in <code>&lt;p&gt;</code>’s inline formatting context,
    potentially sharing a line with other content.</p>
  </div>

<p>As with the content of regular elements,
  the generated content of <a class=css data-link-type=maybe href=#selectordef-before title=::before>::before</a> and <span class=css>:after</span> pseudo-elements
  may be included in any <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a> and <span class=css>::first-letter</span> pseudo-elements
  applied to its <a data-link-type=dfn href=http://dev.w3.org/csswg/selectors-4/#originating-element title="originating element">originating element</a>.</p>

  <p>For compatibility with existing style sheets written against CSS Level 2 <a data-biblio-type=informative data-link-type=biblio href=#biblio-css21 title=biblio-CSS21>[CSS21]</a>,
  user agents must also accept the previous one-colon notation
  (<code>:before</code> and <code>:after</code>)
  for these pseudo-elements.

<h2 class="heading settled" data-level=4 id=interactions><span class=secno>4 </span><span class=content>Overlapping Pseudo-element Interactions</span><a class=self-link href=#interactions></a></h2>

  <div class=example id=overlapping-example><a class=self-link href=#overlapping-example></a>
    The following CSS and HTML example
    illustrates how overlapping pseudo-elements may interact.
    The first letter of each P element will be green with a font size of ’24pt'.
    The rest of the first formatted line will be blue
    while the rest of the paragraph will be red.

    <pre>p { color: red; font-size: 12pt }
p::first-letter { color: green; font-size: 200% }
p::first-line { color: blue }

&lt;P&gt;Some text that ends up on two lines&lt;/P&gt;
</pre>

<p>Assuming that a line break will occur before the word "ends",
    the <a data-link-type=dfn href=#fictional-tag-sequence title="fictional tag sequence">fictional tag sequence</a> for this fragment might be:
    <pre>&lt;P&gt;
&lt;P::first-line&gt;
&lt;P::first-letter&gt;
S
&lt;/P::first-letter&gt;ome text that
&lt;/P::first-line&gt;
ends up on two lines
&lt;/P&gt;
</pre><p></p>

  </div>

<h2 class="heading settled" data-level=5 id=cssom><span class=secno>5 </span><span class=content>
Additions to the CSS Object Model</span><a class=self-link href=#cssom></a></h2>

<p>Pseudo-elements should be reachable by script,
  stylable from script,
  and available as event targets.</p>

  <p class=note><span class=note-prefix>Note </span>We may extend this
    section in the future to allow creation of pseudo-elements from script.

<h3 class="heading settled" data-level=5.1 id=CSSPseudoElement-interface><span class=secno>5.1 </span><span class=content>
Interface CSSPseudoElement</span><a class=self-link href=#CSSPseudoElement-interface></a></h3>

<p>The <code>CSSPseudoElement</code> interface
  allows pseudo-elements to be styleable from script
  and makes them event targets.</p>

  <div class=issue id=issue-b008e095><a class=self-link href=#issue-b008e095></a>
    The approach in this draft
    is to start with a bare minimum
    for the CSSPseudoElement interface
    and build up from there.
    Another more radical approach
    could take everything that’s common
    between a pseudo-element and a node
    and create a new base class
    for both Node and CSSPseudoElement.
  </div>

  <pre class=idl>interface <dfn class=idl-code data-dfn-type=interface data-export="" data-global-name="" id=dom-csspseudoelement>CSSPseudoElement<a class=self-link href=#dom-csspseudoelement></a></dfn> {
    readonly attribute unsigned long <dfn class=idl-code data-dfn-for=CSSPseudoElement data-dfn-type=attribute data-export="" data-global-name="CSSPseudoElement<interface>/ordinal<attribute>" data-readonly="" data-type="unsigned long " id=dom-csspseudoelement-ordinal>ordinal<a class=self-link href=#dom-csspseudoelement-ordinal></a></dfn>;
                                     // the ordinal of a column is its index
    readonly attribute DOMString <dfn class=idl-code data-dfn-for=CSSPseudoElement data-dfn-type=attribute data-export="" data-global-name="CSSPseudoElement<interface>/type<attribute>" data-readonly="" data-type="DOMString " id=dom-csspseudoelement-type>type<a class=self-link href=#dom-csspseudoelement-type></a></dfn>;
    readonly attribute <a data-link-type=idl href=http://dev.w3.org/csswg/cssom-1/#cssstyledeclaration title=CSSStyleDeclaration>CSSStyleDeclaration</a> <dfn class=idl-code data-dfn-for=CSSPseudoElement data-dfn-type=attribute data-export="" data-global-name="CSSPseudoElement<interface>/style<attribute>" data-readonly="" data-type="CSSStyleDeclaration " id=dom-csspseudoelement-style>style<a class=self-link href=#dom-csspseudoelement-style></a></dfn>;
};
<a data-link-type=idl href=#dom-csspseudoelement title=CSSPseudoElement>CSSPseudoElement</a> implements <a data-link-type=idl href=http://dom.spec.whatwg.org/#eventtarget title=EventTarget>EventTarget</a>;
</pre>

<p>The <dfn data-dfn-type=dfn data-noexport="" id=dom-csspseudochild-ordinal>ordinal<a class=self-link href=#dom-csspseudochild-ordinal></a></dfn> attribute
  represents the ordinal of the pseudo-element for the object’s type.
  It is a strictly positive integer.
  The value <code>1</code> for the <code>before</code> 
  (or <code>after</code>, <code>letter</code> and <code>line</code>)
  types represents the <a class=css data-link-type=maybe href=#selectordef-before title=::before>::before</a> (or <a class=css data-link-type=maybe href=#selectordef-after title=::after>::after</a>,
  <span class=css>::first-letter</span> and <a class=css data-link-type=maybe href=#selectordef-first-line title=::first-line>::first-line</a>)
  pseudo-elements.
  The <dfn data-dfn-type=dfn data-noexport="" id=dom-csspseudochild-type>type<a class=self-link href=#dom-csspseudochild-type></a></dfn> attribute
  is a string representing the type of the pseudo-element.
  This can be one of the following values:</p>

  <dl>
    <dt>‘before’
    <dd>The pseudo-element was created before the element’s contents
    <dt>‘after’
    <dd>The pseudo-element was created after the element’s contents
    <dt>‘letter’
    <dd>The pseudo-element is the first letter of the element;
    the only valid ordinal is 1.
    <dt>‘line’
    <dd>The pseudo-element is the first line of the element;
    the only valid ordinal is 1.
    <dt>‘column’
    <dd>The pseudo-element is a column created by the element through
    the CSS Multi-column Layout Module.
    In that case its <code>ordinal</code> is
    the index of column in the collection of columns created by the element.
  </dl>

<p>The <dfn data-dfn-type=dfn data-noexport="" id=dom-csspseudochild-style>style<a class=self-link href=#dom-csspseudochild-style></a></dfn> attribute
  is a <code>CSSStyleDeclaration</code> <a data-biblio-type=normative data-link-type=biblio href=#biblio-cssom title=biblio-CSSOM>[CSSOM]</a>
  that allows directly setting style information (inline styles) onto the pseudo-element.
  Inline styles on a <code>CSSPseudoElement</code> have precedence over all
  style rules styling that pseudo-element.
  Issue: This should cascade like actual inline styles, not be a different thing.</p>

<p>The <a href=http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget><code>EventTarget</code></a> interface <a data-biblio-type=normative data-link-type=biblio href=#biblio-dom-level-2-events title=biblio-DOM-LEVEL-2-EVENTS>[DOM-LEVEL-2-EVENTS]</a>
  must be implemented by all instances of <code>CSSPseudoElement</code>
  as a conformance requirement of this module.</p>

<h3 class="heading settled" data-level=5.2 id=CSSPseudoElementList-interface><span class=secno>5.2 </span><span class=content>
Interface CSSPseudoElementList</span><a class=self-link href=#CSSPseudoElementList-interface></a></h3>

<p>The <code>CSSPseudoElementList</code> represents an ordered collection
  of <code>CSSPseudoElement</code> instances.</p>

  <pre class=idl>interface <dfn class=idl-code data-dfn-type=interface data-export="" data-global-name="" id=dom-csspseudoelementlist>CSSPseudoElementList<a class=self-link href=#dom-csspseudoelementlist></a></dfn> {
    readonly attribute unsigned long <dfn class=idl-code data-dfn-for=CSSPseudoElementList data-dfn-type=attribute data-export="" data-global-name="CSSPseudoElementList<interface>/length<attribute>" data-readonly="" data-type="unsigned long " id=dom-csspseudoelementlist-length>length<a class=self-link href=#dom-csspseudoelementlist-length></a></dfn>;
    <a data-link-type=idl href=#dom-csspseudoelement title=CSSPseudoElement>CSSPseudoElement</a> <dfn class=idl-code data-dfn-for=CSSPseudoElementList data-dfn-type=method data-export="" data-global-name="CSSPseudoElementList<interface>/item()<method>" id=dom-csspseudoelementlist-item title=item()>item<a class=self-link href=#dom-csspseudoelementlist-item></a></dfn>(unsigned long <dfn class=idl-code data-dfn-for=CSSPseudoElementList/item() data-dfn-type=argument data-export="" data-global-name="CSSPseudoElementList<interface>/item()<method>/index<argument>" id=dom-csspseudoelementlist-item-index>index<a class=self-link href=#dom-csspseudoelementlist-item-index></a></dfn>);
    <a data-link-type=idl href=#dom-csspseudoelement title=CSSPseudoElement>CSSPseudoElement</a> <dfn class=idl-code data-dfn-for=CSSPseudoElementList data-dfn-type=method data-export="" data-global-name="CSSPseudoElementList<interface>/getbyordinalandtype()<method>" id=dom-csspseudoelementlist-getbyordinalandtype title=getByOrdinalAndType()>getByOrdinalAndType<a class=self-link href=#dom-csspseudoelementlist-getbyordinalandtype></a></dfn>(unsigned long <dfn class=idl-code data-dfn-for=CSSPseudoElementList/getByOrdinalAndType() data-dfn-type=argument data-export="" data-global-name="CSSPseudoElementList<interface>/getByOrdinalAndType()<method>/ordinal<argument>" id=dom-csspseudoelementlist-getbyordinalandtype-ordinal>ordinal<a class=self-link href=#dom-csspseudoelementlist-getbyordinalandtype-ordinal></a></dfn>,
                                             DOMString <dfn class=idl-code data-dfn-for=CSSPseudoElementList/getByOrdinalAndType() data-dfn-type=argument data-export="" data-global-name="CSSPseudoElementList<interface>/getByOrdinalAndType()<method>/type<argument>" id=dom-csspseudoelementlist-getbyordinalandtype-type>type<a class=self-link href=#dom-csspseudoelementlist-getbyordinalandtype-type></a></dfn>);
                     // replies null if no pseudo-element does not exist for
                     //     the requested ordinal and type
};
</pre>

<p>The <dfn data-dfn-type=dfn data-noexport="" id=dom-csspseudochildlist-length>length<a class=self-link href=#dom-csspseudochildlist-length></a></dfn> attribute
  represents the number of <code>CSSPseudoElement</code> in the
  collection or zero if it is empty.
  The method <dfn data-dfn-type=dfn data-noexport="" id=dom-csspseudochildlist-item>item()<a class=self-link href=#dom-csspseudochildlist-item></a></dfn>
  is used to retrieve a <code>CSSPseudo</code><code>Element</code> by index.
  It takes one parameter being the requested index into the collection.
  Its return value is the <code>CSSPseudo</code><code>Element</code>
  at the requested index in the collection
  or null if that is not a valid index.
  The method <dfn data-dfn-type=dfn data-noexport="" id=dom-csspseudochildlist-getbyordinalandtype>getByOrdinalAndType()<a class=self-link href=#dom-csspseudochildlist-getbyordinalandtype></a></dfn>
  is used to retrieve a <code>CSSPseudo</code><code>Element</code>
  by its ordinal and type.
  It takes two parameters: first, the requested ordinal; second a type.
  Its return value is the <code>CSSPseudo</code><code>Element</code>
  at the requested index in the collection
  or null if there is no <code>CSSPseudo</code><code>Element</code>
  in the collection for that index and type.</p>

<h3 class="heading settled" data-level=5.3 id=window-interface><span class=secno>5.3 </span><span class=content>
Addition to the <code>window</code> interface</span><a class=self-link href=#window-interface></a></h3>

<p>A new method is added to the <code>Window</code> interface to retrieve
  pseudo-elements created by a given element for a given type:
  <pre class=idl>partial interface <a class=idl-code data-global-name="" data-link-type=interface href=https://html.spec.whatwg.org/#window title=Window>Window</a> {
  <a data-link-type=idl href=#dom-csspseudoelementlist title=CSSPseudoElementList>CSSPseudoElementList</a> <dfn class=idl-code data-dfn-for=Window data-dfn-type=method data-export="" data-global-name="Window<interface>/getpseudoelements()<method>" id=dom-window-getpseudoelements title=getPseudoElements()>getPseudoElements<a class=self-link href=#dom-window-getpseudoelements></a></dfn>(<a data-link-type=idl href=http://dom.spec.whatwg.org/#element title=Element>Element</a> <dfn class=idl-code data-dfn-for=Window/getPseudoElements() data-dfn-type=argument data-export="" data-global-name="Window<interface>/getPseudoElements()<method>/elt<argument>" id=dom-window-getpseudoelements-elt>elt<a class=self-link href=#dom-window-getpseudoelements-elt></a></dfn>,
                                       DOMString <dfn class=idl-code data-dfn-for=Window/getPseudoElements() data-dfn-type=argument data-export="" data-global-name="Window<interface>/getPseudoElements()<method>/type<argument>" id=dom-window-getpseudoelements-type>type<a class=self-link href=#dom-window-getpseudoelements-type></a></dfn>);
};
</pre><p></p>


<p>The <dfn data-dfn-type=dfn data-noexport="" id=dom-window-getpseudochildren><code>getPseudoElements()</code><a class=self-link href=#dom-window-getpseudochildren></a></dfn> method
  is used to retrieve all <code>CSSPseudoElement</code> instances
  created by the element <code>elt</code> for the type <code>type</code>.
  Its return value is a <code>CSSPseudoElementList</code>,
  potentially empty if no pseudo-element exists for the given element and the given type.</p>

<h2 class="no-num heading settled" id=acknowledgements><span class=content>
Acknowledgements</span><a class=self-link href=#acknowledgements></a></h2>

<p>The editors would like to thank the following individuals for their
  contributions, either during the conception of the specification or during
  its development and specification review process: 
  Tab Atkins,
  David Baron,
  Razvan Caliman,
  Chris Coyier,
  Anders Grimsrud,
  Vincent Hardy.</p>

<h2 class="no-ref no-num heading settled" id=conformance><span class=content>
Conformance</span><a class=self-link href=#conformance></a></h2>

<h3 class="no-ref heading settled" id=conventions><span class=content>
Document conventions</span><a class=self-link href=#conventions></a></h3>

    <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-biblio-type=normative data-link-type=biblio href=#biblio-rfc2119 title=biblio-RFC2119>[RFC2119]</a></p>

    <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    <div class=example>
        <p>This is an example of an informative example.</p>
    </div>

    <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    <p class=note>Note, this is an informative note.</p>

    <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"&gt;</code>, like
    this:

    <strong class=advisement>
        UAs MUST provide an accessible alternative.
    </strong>

<h3 class="no-ref heading settled" id=conformance-classes><span class=content>
Conformance classes</span><a class=self-link href=#conformance-classes></a></h3>

    <p>Conformance to this specification
    is defined for three conformance classes:
    <dl>
        <dt>style sheet
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#style-sheet>CSS
            style sheet</a>.
        <dt>renderer
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        <dt>authoring tool
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that writes a style sheet.
    </dl>

    <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

<h3 class="no-ref heading settled" id=partial><span class=content>
Partial implementations</span><a class=self-link href=#partial></a></h3>

    <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href=http://www.w3.org/TR/CSS21/conform.html#ignore>ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>

<h3 class="no-ref heading settled" id=experimental><span class=content>
Experimental implementations</span><a class=self-link href=#experimental></a></h3>

    <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href=http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords>prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>

<h3 class="no-ref heading settled" id=testing><span class=content>
Non-experimental implementations</span><a class=self-link href=#testing></a></h3>

    <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href=http://www.w3.org/Style/CSS/Test/>http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href=http://lists.w3.org/Archives/Public/public-css-testsuite>public-css-testsuite@w3.org</a>
    mailing list.

<h2 class="no-num no-ref heading settled" id=references><span class=content>
References</span><a class=self-link href=#references></a></h2>

<h3 class="no-num no-ref heading settled" id=normative><span class=content>
Normative References</span><a class=self-link href=#normative></a></h3>
<div data-fill-with=normative-references><dl>
<dt id=biblio-css3text title=CSS3TEXT><a class=self-link href=#biblio-css3text></a>[CSS3TEXT]<dd>Elika J. Etemad; Koji Ishii. <a href=http://www.w3.org/TR/2012/WD-css3-text-20121113/>CSS Text Module Level 3</a>. 13 November 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-text-20121113/>http://www.w3.org/TR/2012/WD-css3-text-20121113/</a></dd>
<dt id=biblio-cssom title=CSSOM><a class=self-link href=#biblio-cssom></a>[CSSOM]<dd>Anne van Kesteren. <a href=http://www.w3.org/TR/2011/WD-cssom-20110712/>CSSOM</a>. 12 July 2011. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2011/WD-cssom-20110712/>http://www.w3.org/TR/2011/WD-cssom-20110712/</a></dd>
<dt id=biblio-dom-level-2-events title=DOM-LEVEL-2-EVENTS><a class=self-link href=#biblio-dom-level-2-events></a>[DOM-LEVEL-2-EVENTS]<dd>Tom Pixley. <a href=http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113>Document Object Model (DOM) Level 2 Events Specification</a>. 13 November 2000. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113>http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113</a></dd>
<dt id=biblio-rfc2119 title=RFC2119><a class=self-link href=#biblio-rfc2119></a>[RFC2119]<dd>S. Bradner. <a href=http://www.ietf.org/rfc/rfc2119.txt>Key words for use in RFCs to Indicate Requirement Levels</a>. URL: <a href=http://www.ietf.org/rfc/rfc2119.txt>http://www.ietf.org/rfc/rfc2119.txt</a></dd>
<dt id=biblio-selectors4 title=SELECTORS4><a class=self-link href=#biblio-selectors4></a>[SELECTORS4]<dd>Elika J. Etemad; Tab Atkins Jr.. <a href=http://www.w3.org/TR/2013/WD-selectors4-20130502/>Selectors Level 4</a>. 2 May 2013. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/WD-selectors4-20130502/>http://www.w3.org/TR/2013/WD-selectors4-20130502/</a></dd>
<dt id=biblio-uax44 title=UAX44><a class=self-link href=#biblio-uax44></a>[UAX44]<dd>Mark Davis; Ken Whistler. <a href=http://www.unicode.org/reports/tr44/>Unicode Character Database</a>. 25 September 2013. URL: <a href=http://www.unicode.org/reports/tr44/>http://www.unicode.org/reports/tr44/</a></dd>
</dl></div>

<h3 class="no-num no-ref heading settled" id=informative><span class=content>
Informative References</span><a class=self-link href=#informative></a></h3>
<div data-fill-with=informative-references><dl>
<dt id=biblio-css21 title=CSS21><a class=self-link href=#biblio-css21></a>[CSS21]<dd>Bert Bos; et al. <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>http://www.w3.org/TR/2011/REC-CSS2-20110607</a></dd>
<dt id=biblio-css3-fonts title=CSS3-FONTS><a class=self-link href=#biblio-css3-fonts></a>[CSS3-FONTS]<dd>John Daggett. <a href=http://www.w3.org/TR/2013/WD-css3-fonts-20130212/>CSS Fonts Module Level 3</a>. 12 February 2013. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/WD-css3-fonts-20130212/>http://www.w3.org/TR/2013/WD-css3-fonts-20130212/</a></dd>
<dt id=biblio-css3-text-decor title=CSS3-TEXT-DECOR><a class=self-link href=#biblio-css3-text-decor></a>[CSS3-TEXT-DECOR]<dd>Elika J. Etemad; Koji Ishii. <a href=http://www.w3.org/TR/2013/CR-css-text-decor-3-20130801/>CSS Text Decoration Module Level 3</a>. 1 August 2013. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/CR-css-text-decor-3-20130801/>http://www.w3.org/TR/2013/CR-css-text-decor-3-20130801/</a></dd>
<dt id=biblio-css3bg title=CSS3BG><a class=self-link href=#biblio-css3bg></a>[CSS3BG]<dd>Bert Bos; Elika J. Etemad; Brad Kemper. <a href=http://www.w3.org/TR/2012/CR-css3-background-20120724/>CSS Backgrounds and Borders Module Level 3</a>. 24 July 2012. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/CR-css3-background-20120724/>http://www.w3.org/TR/2012/CR-css3-background-20120724/</a></dd>
<dt id=biblio-css3cascade title=CSS3CASCADE><a class=self-link href=#biblio-css3cascade></a>[CSS3CASCADE]<dd>Håkon Wium Lie; Elika J. Etemad; Tab Atkins Jr.. <a href=http://www.w3.org/TR/2013/CR-css-cascade-3-20131003/>CSS Cascading and Inheritance Level 3</a>. 3 October 2013. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/CR-css-cascade-3-20131003/>http://www.w3.org/TR/2013/CR-css-cascade-3-20131003/</a></dd>
<dt id=biblio-css3color title=CSS3COLOR><a class=self-link href=#biblio-css3color></a>[CSS3COLOR]<dd>Tantek Çelik; Chris Lilley; L. David Baron. <a href=http://www.w3.org/TR/2011/REC-css3-color-20110607>CSS Color Module Level 3</a>. 7 June 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-css3-color-20110607>http://www.w3.org/TR/2011/REC-css3-color-20110607</a></dd>
<dt id=biblio-css3line title=CSS3LINE><a class=self-link href=#biblio-css3line></a>[CSS3LINE]<dd>Michel Suignard; Eric A. Meyer. <a href=http://www.w3.org/TR/2002/WD-css3-linebox-20020515>CSS3 module: line</a>. 15 May 2002. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2002/WD-css3-linebox-20020515>http://www.w3.org/TR/2002/WD-css3-linebox-20020515</a></dd>
<dt id=biblio-html5 title=HTML5><a class=self-link href=#biblio-html5></a>[HTML5]<dd>Robin Berjon; et al. <a href=http://www.w3.org/TR/2014/WD-html5-20140617/>HTML5</a>. 17 June 2014. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2014/WD-html5-20140617/>http://www.w3.org/TR/2014/WD-html5-20140617/</a></dd>
<dt id=biblio-uax29 title=UAX29><a class=self-link href=#biblio-uax29></a>[UAX29]<dd>Mark Davis. <a href=http://www.unicode.org/reports/tr29/>Unicode Text Segmentation</a>. 20 September 2013. URL: <a href=http://www.unicode.org/reports/tr29/>http://www.unicode.org/reports/tr29/</a></dd>
</dl></div>

<h2 class="no-num no-ref heading settled" id=index><span class=content>
Index</span><a class=self-link href=#index></a></h2>
<div data-fill-with=index><ul class=indexlist>
<li>::after, <a href=#selectordef-after title="section 3">3</a>
<li>::before, <a href=#selectordef-before title="section 3">3</a>
<li>CSSPseudoElement, <a href=#dom-csspseudoelement title="section 5.1">5.1</a>
<li>CSSPseudoElementList, <a href=#dom-csspseudoelementlist title="section 5.2">5.2</a>
<li>elt, <a href=#dom-window-getpseudoelements-elt title="section 5.3">5.3</a>
<li>fictional tag sequence, <a href=#fictional-tag-sequence title="section 2.1">2.1</a>
<li>first formatted line, <a href=#first-formatted-line title="section 2.1.1">2.1.1</a>
<li>::first-line, <a href=#selectordef-first-line title="section 2.1">2.1</a>
<li>getByOrdinalAndType()<ul><li>method for CSSPseudoElementList, <a href=#dom-csspseudoelementlist-getbyordinalandtype title="section 5.2">5.2</a>
<li>definition of, <a href=#dom-csspseudochildlist-getbyordinalandtype title="section 5.2">5.2</a>
</ul><li>getPseudoElements()<ul><li>method for Window, <a href=#dom-window-getpseudoelements title="section 5.3">5.3</a>
<li>definition of, <a href=#dom-window-getpseudochildren title="section 5.3">5.3</a>
</ul><li>index, <a href=#dom-csspseudoelementlist-item-index title="section 5.2">5.2</a>
<li>item()<ul><li>method for CSSPseudoElementList, <a href=#dom-csspseudoelementlist-item title="section 5.2">5.2</a>
<li>definition of, <a href=#dom-csspseudochildlist-item title="section 5.2">5.2</a>
</ul><li>length<ul><li>attribute for CSSPseudoElementList, <a href=#dom-csspseudoelementlist-length title="section 5.2">5.2</a>
<li>definition of, <a href=#dom-csspseudochildlist-length title="section 5.2">5.2</a>
</ul><li>ordinal<ul><li>attribute for CSSPseudoElement, <a href=#dom-csspseudoelement-ordinal title="section 5.1">5.1</a>
<li>definition of, <a href=#dom-csspseudochild-ordinal title="section 5.1">5.1</a>
<li>argument for CSSPseudoElementList/getByOrdinalAndType(), <a href=#dom-csspseudoelementlist-getbyordinalandtype-ordinal title="section 5.2">5.2</a>
</ul><li>style<ul><li>attribute for CSSPseudoElement, <a href=#dom-csspseudoelement-style title="section 5.1">5.1</a>
<li>definition of, <a href=#dom-csspseudochild-style title="section 5.1">5.1</a>
</ul><li>type<ul><li>attribute for CSSPseudoElement, <a href=#dom-csspseudoelement-type title="section 5.1">5.1</a>
<li>definition of, <a href=#dom-csspseudochild-type title="section 5.1">5.1</a>
<li>argument for CSSPseudoElementList/getByOrdinalAndType(), <a href=#dom-csspseudoelementlist-getbyordinalandtype-type title="section 5.2">5.2</a>
<li>argument for Window/getPseudoElements(), <a href=#dom-window-getpseudoelements-type title="section 5.3">5.3</a>
</ul></ul></div>

<h2 class="no-num no-ref heading settled" id=property-index><span class=content>
Property index</span><a class=self-link href=#property-index></a></h2>
<div data-fill-with=property-index><p>No properties defined.</div>


<h2 class="no-num heading settled" id=issues-index><span class=content>Issues Index</span><a class=self-link href=#issues-index></a></h2><div style="counter-reset: issue"><div class=issue>
    The approach in this draft
    is to start with a bare minimum
    for the CSSPseudoElement interface
    and build up from there.
    Another more radical approach
    could take everything that’s common
    between a pseudo-element and a node
    and create a new base class
    for both Node and CSSPseudoElement.
  <a href=#issue-b008e095> ↵ </a></div></div>