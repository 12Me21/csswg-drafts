<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>CSS Syntax Module Level 3 (CSS3 Syntax)</title>
	<link rel=contents href="#contents">
	<link rel=index href="#index">
	<link rel="stylesheet" type="text/css" href="../default.css">
	<link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-[STATUS].css">
	<link rel="stylesheet" type="text/css" href="railroad-diagrams.css">
</head>

<div class="head">
<!--logo-->

<h1>CSS Syntax Module Level 3</h1>

<h2 class="no-num no-toc">[LONGSTATUS] [DATE]</h2>
<dl>
	<dt>This version:
	<dd>
		<a href="http://dev.w3.org/csswg/css3-syntax/">http://dev.w3.org/csswg/css3-syntax/</a>
<!--
	<dt>Latest version:
	<dd>
		<a href="http://www.w3.org/TR/css3-syntax/">http://www.w3.org/TR/css3-syntax/</a>
-->
	<dt>Editor's draft:
	<dd>
		<a href="http://dev.w3.org/csswg/css3-syntax/">http://dev.w3.org/csswg/css3-syntax/</a>

	<dt>Previous version:
	<dd>
		<a href="http://www.w3.org/TR/2003/WD-css3-syntax-20030813/">http://www.w3.org/TR/2003/WD-css3-syntax-20030813/</a>

	<dt>Issue Tracking:
	<dd>
		<a href="https://www.w3.org/Bugs/Public/buglist.cgi?product=CSS&component=Syntax">W3C Bugzilla</a>

	<dt>Feedback:
	<dd>
		<a href="http://lists.w3.org/Archives/Public/www-style/">www-style@w3.org</a>
		with subject line &ldquo;<kbd>[css3-syntax] <var>&hellip; message topic &hellip;</var></kbd>&rdquo;

	<dt>Editors:
	<dd class="h-card vcard">
			<a class="p-name fn u-url url" rel="author"
				 href="http://www.xanthir.com/">Tab Atkins Jr.</a>
			(<span class="p-org org">Google, Inc.</span>),
			<span class="u-email email">jackalmage@gmail.com</span>
</dl>

<!--copyright-->

<hr title="Separator for header">
</div>

<h2 class="no-num no-toc" id="abstract">Abstract</h2>

	<p>
		<a href="http://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents (such as HTML and XML) on screen, on paper, in speech, etc.
		This module describes, in general terms, the basic structure and syntax of CSS stylesheets.
		It defines, in detail, the syntax and parsing of CSS - how to turn a stream of bytes into a meaningful stylesheet.

<h2 class="no-num no-toc" id="status">Status of this document</h2>

<!--status-->

<p>The following features are at risk: &hellip;

<h2 class="no-num no-toc" id="contents">
Table of contents</h2>

<!--toc-->

<h2 id="intro">
Introduction</h2>

	<p><em>This section is not normative.</em>

	<p>
		This module defines the abstract syntax and parsing of CSS stylesheets
		and other things which use CSS syntax
		(such as the HTML <code>style</code> attribute).

	<p>
		It defines algorithms for converting a stream of codepoints
		(in other words, text)
		into a stream of CSS tokens,
		and then further into CSS objects
		such as stylesheets, rules, and declarations.

<h3 id="placement">
Module interactions</h3>

	<p>
		This module defines the syntax and parsing of CSS stylesheets.
		It supersedes the lexical scanner and grammar defined in CSS 2.1.

<h2 id='syntax-description'>
Description of CSS's Syntax</h2>

	<p><em>This section is not normative.</em>

	<p>
		A CSS document is a series of <i>style rules</i>,
		which apply CSS properties to elements in the source document,
		and <i>at-rules</i>,
		which define special processing rules or values for the CSS document.

	<p>
		A <dfn>style rule</dfn> starts with a selector
		(defined by the <a href="http://www.w3.org/TR/selectors/">Selectors specification</a>),
		then has a {}-wrapped block containing a sequence of declarations.
		The selector specifies which elements the declarations will apply to.
		Each declaration has a property name,
		followed by a colon and the property value,
		and finished with a semicolon.

	<div class='example'>
		<p>
			A typical rule might look something like this:

		<pre>
p > a {
	color: blue;
	text-decoration: underline;
}</pre>

		<p>
			In the above rule, "<code>p > a</code>" is the selector,
			which, if the source document is HTML,
			selects any <code>&lt;a></code> elements that are children of a <code>&lt;p></code> element.

		<p>
			"<code>color: blue;</code>" is a declaration specifying that,
			for the elements that match the selector,
			their 'color' property should have the value ''blue''.
			Similiarly, their 'text-decoration' property should have the value ''underline''.
	</div>

	<p>
		<dfn title="at-rule">At-rules</dfn> are all different, but they have a basic structure in common.
		They start with an "@" character followed by their name.
		Some <i>at-rules</i> are simple statements,
		with their name followed by more CSS values to specify their behavior,
		and finally ended by a semicolon.
		Others are blocks;
		they can have CSS values following their name,
		but they end with a {}-wrapped block,
		similar to a <i>rule</i>.
		Even the contents of these blocks are specific to the given <i>at-rule</i>:
		sometimes they contain a sequence of declarations, like a <i>rule</i>;
		other times, they may contain additional blocks, or at-rules, or other structures altogether.

	<div class='example'>
		<p>
			Here are several examples of <i>at-rules</i> that illustrate the varied syntax they may contain.

		<pre>@import "my-styles.css";</pre>

		<p>
			The ''@import'' <i>at-rule</i> is a simple statement.
			After its name, it takes a single string or ''url()'' function to indicate the stylesheet that it should import.

		<pre>
@page :left {
	margin-left: 4cm;
	margin-right: 3cm;
}</pre>

		<p>
			The ''@page'' <i>at-rule</i> consists of an optional page selector (the ":left" pseudoclass),
			followed by a block of properties that apply to the page when printed.
			In this way, it's very similar to a normal <i>style rule</i>,
			except that its properties don't apply to any "element",
			but rather the page itself.

		<pre>
@media print {
	body { font-size: 10pt }
}</pre>

		<p>
			The ''@media'' <i>at-rule</i> begins with a media type
			and a list of optional media queries.
			Its block contains entire rules,
			which are only applied when the ''@media''s conditions are fulfilled.
	</div>

	<p>
		Property names and <i>at-rule</i> names are always <b>idents</b>,
		which have to start with a letter or a hyphen followed by a letter,
		and then can contain letters, numbers, hyphens, or underscores.
		You can include any character at all,
		even ones that CSS uses in its syntax,
		by escaping it with a backslash (\) or by using a hexadecimal escape.

	<p>
		The syntax of selectors is defined in the <a href="http://www.w3.org/TR/selectors/">Selectors spec</a>.
		Similarly, the syntax of the wide variety of CSS values is defined in the <a href="http://www.w3.org/TR/css3-values/">Values &amp; Units spec</a>.
		The special syntaxes of individual <i>at-rules</i> can be found in the specs that define them.

<h2>
Tokenizing and Parsing CSS</h2>

	<p>
		User agents must use the parsing rules described in this specification
		to generate the CSSOM trees from text/css resources.
		Together, these rules define what is referred to as the CSS parser.

	<p>
		This specification defines the parsing rules for CSS documents,
		whether they are syntactically correct or not.
		Certain points in the parsing algorithm are said to be parse errors.
		The error handling for parse errors is well-defined:
		user agents must either act as described below when encountering such problems,
		or must abort processing at the first error that they encounter for which they do not wish to apply the rules described below.

	<p>
		Conformance checkers must report at least one parse error condition to the user
		if one or more parse error conditions exist in the document
		and must not report parse error conditions
		if none exist in the document.
		Conformance checkers may report more than one parse error condition if more than one parse error condition exists in the document.
		Conformance checkers are not required to recover from parse errors.

<h3>
Overview of the Parsing Model</h3>

	<p>
		The input to the CSS parsing process consists of a stream of Unicode code points,
		which is passed through a tokenization stage followed by a tree construction stage.
		The output is a CSSStyleSheet object.

	<p class='note'>
		Implementations that do not support scripting do not have to actually create a CSSOM CSSStyleSheet object,
		but the CSSOM tree in such cases is still used as the model for the rest of the specification.

<h3>
The input byte stream</h3>

	<p>
		The stream of Unicode code points that comprises the input to the tokenization stage will be initially seen by the user agent as a stream of bytes
		(typically coming over the network or from the local file system).
		The bytes encode the actual characters according to a particular character encoding,
		which the user agent must use to decode the bytes into characters.

	<p>
		To decode the stream of bytes into a stream of characters,
		UAs must follow these steps.

	<p>
		The algorithms to <a href="http://encoding.spec.whatwg.org/#concept-encoding-get"><dfn>get an encoding</dfn></a>
		and <a href="http://encoding.spec.whatwg.org/#decode"><dfn>decode</dfn></a>
		are defined in the <a href="http://encoding.spec.whatwg.org/">Encoding Standard</a>.

	<p>
		First, determine the fallback encoding:

	<ol>
		<li>
			If HTTP or equivalent protocol defines an encoding (e.g. via the charset parameter of the Content-Type header),
			<i>get an encoding</i> for the specified value.
			If that does not return failure,
			use the return value as the fallback encoding.

		<li>
			Otherwise, check the byte stream. If the first several bytes match the hex sequence

			<pre>40 63 68 61 72 73 65 74 20 22 (not 22)* 22 3B</pre>

			then <i>get an encoding</i> for the sequence of <code>(not 22)*</code> bytes,
			decoded per <code>windows-1252</code>.

			<p class='note'>
				Note: Anything ASCII-compatible will do, so using <code>windows-1252</code> is fine.

			<p class='note'>
				Note: The byte sequence above,
				when decoded as ASCII,
				is the string "<code>@charset "…";</code>",
				where the "…" is the sequence of bytes corresponding to the encoding's name.

			<p>
				If the return value was <code>utf-16</code> or <code>utf-16be</code>,
				use <code>utf-8</code> as the fallback encoding;
				if it was anything else except failure,
				use the return value as the fallback encoding.

			<p class='note'>
				This mimics HTML <code>&lt;meta></code> behavior.

		<li>
			Otherwise, <i>get an encoding</i> for the value of the <code>charset</code> attribute on the <code>&lt;link></code> element or <code>&lt;?xml-stylesheet?></code> processing instruction that caused the style sheet to be included, if any.
			If that does not return failure,
			use the return value as the fallback encoding.

		<li>
			Otherwise, if the referring style sheet or document has an encoding,
			use that as the fallback encoding.

		<li>
			Otherwise, use <code>utf-8</code> as the fallback encoding.
	</ol>

	<p>
		Then, <i>decode</i> the byte stream using the fallback encoding.

	<p class='note'>
		Note: the <i>decode</i> algorithm lets the byte order mark (BOM) take precedence,
		hence the usage of the term "fallback" above.

	<p class='issue'>
		Anne says that steps 3/4 should be an input to this algorithm from the specs that define importing stylesheet,
		to make the algorithm as a whole cleaner.
		Perhaps abstract it into the concept of an "environment charset" or something?


<h4>
Preprocessing the input stream</h4>

	<p>
		The input stream consists of the characters pushed into it as the input byte stream is decoded.

	<p>
		Before sending the input stream to the tokenizer,
		implementations must make the following character substitutions:

	<ul>
		<li>
			Replace any U+000D CARRIAGE RETURN (CR) characters
			or pairs of U+000D CARRIAGE RETURN (CR) followed by U+000A LINE FEED (LF)
			by a single U+000A LINE FEED (LF) character.

		<li>
			Replace any U+0000 NULL characters with U+FFFD REPLACEMENT CHARACTER (�).
	</ul>


<h2>
Tokenization</h2>

	<p>
		Implementations must act as if they used the following state machine to tokenize CSS.
		The state machine must start in the <i>data state</i>.
		Most states consume a single character,
		which may have various side-effects,
		and either switches the state machine to a new state to reconsume the same character,
		or switches it to a new state to consume the next character,
		or stays in the same state to consume the next character.
		Some states have more complicated behavior and can consume several characters before switching to another state.

	<p>
		The output of the tokenization step is a series of zero or more of the following tokens:
		ident,
		function,
		at-keyword,
		hash,
		string,
		bad-string,
		url,
		bad-url,
		delim,
		number,
		percentage,
		dimension,
		unicode-range,
		include-match,
		dash-match,
		prefix-match,
		suffix-match,
		substring-match,
		whitespace,
		cdo,
		cdc,
		colon,
		semicolon,
		comma,
		[,
		],
		(,
		),
		{,
		and }.

	<p>
		ident, function, at-keyword, hash, string, and url tokens have a value composed of zero or more characters.
		Delim tokens have a value composed of a single character.
		Number, percentage, and dimension tokens have a representation composed of 1 or more character, a numeric value, and a type flag set to either "integer" or "number".  The type flag defaults to "integer" if not otherwise set.
		Dimension tokens additionally have a unit composed of one or more characters.
		Unicode-range tokens have a range of characters.

	<p>
		The tokenizer state machine consists of the states defined in the following subsections.

<h3 id='token-diagrams'>
Token Railroad Diagrams</h3>

	<p>
		<em>This section is non-normative.</em>

	<p>
		This section presents an informative view of the tokenizer,
		in the form of railroad diagrams.
		Railroad diagrams are more compact than a state-machine,
		but often easier to read than a regular expression.

	<p>
		These diagrams are <em>informative</em> and <em>incomplete</em>;
		they describe the grammar of "correct" tokens,
		but do not describe error-handling at all.
		They are provided solely to make it easier to get an intuitive grasp of the syntax of each token.

	<!--
		The "source" of these diagrams is in ./Diagrams.src.html
		The generated SVG is copied here so that JavaScript is not required
		to view the spec.
	-->

	<dl>
		<dt id="comment-diagram">comment</dt>
		<dd><svg class="railroad-diagram" width="497" height="81"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 41h10"></path><g><path d="M50 41h0"></path><path d="M86 41h0"></path><rect x="50" y="30" width="36" height="22" rx="10" ry="10"></rect><text x="68" y="45">/*</text></g><path d="M86 41h10"></path><g><path d="M96 41h0"></path><path d="M400 41h0"></path><path d="M96 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M116 21h264"></path></g><path d="M380 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M96 41h20"></path><g><path d="M116 41h0"></path><path d="M380 41h0"></path><path d="M116 41h10"></path><g><path d="M126 41h0"></path><path d="M370 41h0"></path><rect x="126" y="30" width="244" height="22"></rect><text x="248" y="45">anything but * followed by /</text></g><path d="M370 41h10"></path><path d="M126 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M126 61h244"></path></g><path d="M370 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M380 41h20"></path></g><path d="M400 41h10"></path><g><path d="M410 41h0"></path><path d="M446 41h0"></path><rect x="410" y="30" width="36" height="22" rx="10" ry="10"></rect><text x="428" y="45">*/</text></g><path d="M446 41h10"></path><path d="M 456 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="newline-diagram">newline</dt>
		<dd><svg class="railroad-diagram" width="173" height="152"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 31h0"></path><path d="M132 31h0"></path><path d="M40 31h20"></path><g><path d="M60 31h8"></path><path d="M104 31h8"></path><rect x="68" y="20" width="36" height="22" rx="10" ry="10"></rect><text x="86" y="35">\n</text></g><path d="M112 31h20"></path><path d="M40 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M60 61h0"></path><path d="M112 61h0"></path><rect x="60" y="50" width="52" height="22" rx="10" ry="10"></rect><text x="86" y="65">\r\n</text></g><path d="M112 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path><g><path d="M60 91h8"></path><path d="M104 91h8"></path><rect x="68" y="80" width="36" height="22" rx="10" ry="10"></rect><text x="86" y="95">\r</text></g><path d="M112 91a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"></path><g><path d="M60 121h8"></path><path d="M104 121h8"></path><rect x="68" y="110" width="36" height="22" rx="10" ry="10"></rect><text x="86" y="125">\f</text></g><path d="M112 121a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"></path></g><path d="M 132 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="whitespace-character-diagram">whitespace character</dt>
		<dd><svg class="railroad-diagram" width="197" height="122"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 31h0"></path><path d="M156 31h0"></path><path d="M40 31h20"></path><g><path d="M60 31h8"></path><path d="M128 31h8"></path><rect x="68" y="20" width="60" height="22" rx="10" ry="10"></rect><text x="98" y="35">space</text></g><path d="M136 31h20"></path><path d="M40 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M60 61h20"></path><path d="M116 61h20"></path><rect x="80" y="50" width="36" height="22" rx="10" ry="10"></rect><text x="98" y="65">\t</text></g><path d="M136 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path><g><path d="M60 91h0"></path><path d="M136 91h0"></path><rect x="60" y="80" width="76" height="22"></rect><text x="98" y="95">newline</text></g><path d="M136 91a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path></g><path d="M 156 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="escape-diagram">escape</dt>
		<dd><svg class="railroad-diagram" width="521" height="122"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M78 31h0"></path><rect x="50" y="20" width="28" height="22" rx="10" ry="10"></rect><text x="64" y="35">\</text></g><path d="M78 31h10"></path><g><path d="M88 31h0"></path><path d="M480 31h0"></path><path d="M88 31h20"></path><g><path d="M108 31h70"></path><path d="M390 31h70"></path><rect x="178" y="20" width="212" height="22"></rect><text x="284" y="35">not newline or hex digit</text></g><path d="M460 31h20"></path><path d="M88 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M108 61h0"></path><path d="M460 61h0"></path><path d="M108 61h10"></path><g><path d="M118 61h0"></path><path d="M230 61h0"></path><path d="M118 61h10"></path><g><path d="M128 61h0"></path><path d="M220 61h0"></path><rect x="128" y="50" width="92" height="22"></rect><text x="174" y="65">hex digit</text></g><path d="M220 61h10"></path><path d="M128 61a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10"></path><g><path d="M128 91h9.5"></path><path d="M210.5 91h9.5"></path><text x="174" y="96" class="comment">1-6 times</text></g><path d="M220 91a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10"></path></g><path d="M230 61h10"></path><g><path d="M240 61h0"></path><path d="M460 61h0"></path><path d="M240 61h20"></path><g><path d="M260 61h180"></path></g><path d="M440 61h20"></path><path d="M240 61a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><g><path d="M260 81h0"></path><path d="M440 81h0"></path><rect x="260" y="70" width="180" height="22"></rect><text x="350" y="85">whitespace character</text></g><path d="M440 81a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path></g></g><path d="M460 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><path d="M 480 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="whitespace-diagram">WHITESPACE</dt>
		<dd><svg class="railroad-diagram" width="301" height="71"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M250 31h0"></path><path d="M50 31h10"></path><g><path d="M60 31h0"></path><path d="M240 31h0"></path><rect x="60" y="20" width="180" height="22"></rect><text x="150" y="35">whitespace character</text></g><path d="M240 31h10"></path><path d="M60 31a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M60 51h180"></path></g><path d="M240 51a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M250 31h10"></path><path d="M 260 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="ident-diagram">IDENT</dt>
		<dd><svg class="railroad-diagram" width="729" height="110"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 41h0"></path><path d="M108 41h0"></path><path d="M40 41h20"></path><g><path d="M60 41h28"></path></g><path d="M88 41h20"></path><path d="M40 41a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><g><path d="M60 61h0"></path><path d="M88 61h0"></path><rect x="60" y="50" width="28" height="22" rx="10" ry="10"></rect><text x="74" y="65">-</text></g><path d="M88 61a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path></g><g><path d="M108 41h0"></path><path d="M344 41h0"></path><path d="M108 41h20"></path><g><path d="M128 41h0"></path><path d="M324 41h0"></path><rect x="128" y="30" width="196" height="22"></rect><text x="226" y="45">a-z A-Z _ or non-ASCII</text></g><path d="M324 41h20"></path><path d="M108 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M128 71h64"></path><path d="M260 71h64"></path><rect x="192" y="60" width="68" height="22"></rect><text x="226" y="75">escape</text></g><path d="M324 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><g><path d="M344 41h0"></path><path d="M688 41h0"></path><path d="M344 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M364 21h304"></path></g><path d="M668 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M344 41h20"></path><g><path d="M364 41h0"></path><path d="M668 41h0"></path><path d="M364 41h10"></path><g><path d="M374 41h0"></path><path d="M658 41h0"></path><path d="M374 41h20"></path><g><path d="M394 41h0"></path><path d="M638 41h0"></path><rect x="394" y="30" width="244" height="22"></rect><text x="516" y="45">a-z A-Z 0-9 _ - or non-ASCII</text></g><path d="M638 41h20"></path><path d="M374 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M394 71h88"></path><path d="M550 71h88"></path><rect x="482" y="60" width="68" height="22"></rect><text x="516" y="75">escape</text></g><path d="M638 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><path d="M658 41h10"></path><path d="M374 41a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10"></path><g><path d="M374 90h284"></path></g><path d="M658 90a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10"></path></g><path d="M668 41h20"></path></g><path d="M 688 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="function-diagram">FUNCTION</dt>
		<dd><svg class="railroad-diagram" width="209" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M110 31h0"></path><rect x="50" y="20" width="60" height="22"></rect><text x="80" y="35">IDENT</text></g><path d="M110 31h10"></path><path d="M120 31h10"></path><g><path d="M130 31h0"></path><path d="M158 31h0"></path><rect x="130" y="20" width="28" height="22" rx="10" ry="10"></rect><text x="144" y="35">(</text></g><path d="M158 31h10"></path><path d="M 168 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="at-keyword-diagram">AT-KEYWORD</dt>
		<dd><svg class="railroad-diagram" width="209" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M78 31h0"></path><rect x="50" y="20" width="28" height="22" rx="10" ry="10"></rect><text x="64" y="35">@</text></g><path d="M78 31h10"></path><path d="M88 31h10"></path><g><path d="M98 31h0"></path><path d="M158 31h0"></path><rect x="98" y="20" width="60" height="22"></rect><text x="128" y="35">IDENT</text></g><path d="M158 31h10"></path><path d="M 168 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="hash-diagram">HASH</dt>
		<dd><svg class="railroad-diagram" width="453" height="100"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M78 31h0"></path><rect x="50" y="20" width="28" height="22" rx="10" ry="10"></rect><text x="64" y="35">#</text></g><path d="M78 31h10"></path><path d="M88 31h10"></path><g><path d="M98 31h0"></path><path d="M402 31h0"></path><path d="M98 31h10"></path><g><path d="M108 31h0"></path><path d="M392 31h0"></path><path d="M108 31h20"></path><g><path d="M128 31h0"></path><path d="M372 31h0"></path><rect x="128" y="20" width="244" height="22"></rect><text x="250" y="35">a-z A-Z 0-9 _ - or non-ASCII</text></g><path d="M372 31h20"></path><path d="M108 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M128 61h88"></path><path d="M284 61h88"></path><rect x="216" y="50" width="68" height="22"></rect><text x="250" y="65">escape</text></g><path d="M372 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><path d="M392 31h10"></path><path d="M108 31a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10"></path><g><path d="M108 80h284"></path></g><path d="M392 80a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10"></path></g><path d="M402 31h10"></path><path d="M 412 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="string-diagram">STRING</dt>
		<dd><svg class="railroad-diagram" width="481" height="248"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 41h0"></path><path d="M440 41h0"></path><path d="M40 41h20"></path><g><path d="M60 41h0"></path><path d="M420 41h0"></path><path d="M60 41h10"></path><g><path d="M70 41h0"></path><path d="M98 41h0"></path><rect x="70" y="30" width="28" height="22" rx="10" ry="10"></rect><text x="84" y="45">"</text></g><path d="M98 41h10"></path><g><path d="M108 41h0"></path><path d="M372 41h0"></path><path d="M108 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M128 21h224"></path></g><path d="M352 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M108 41h20"></path><g><path d="M128 41h0"></path><path d="M352 41h0"></path><path d="M128 41h10"></path><g><path d="M138 41h0"></path><path d="M342 41h0"></path><path d="M138 41h20"></path><g><path d="M158 41h0"></path><path d="M322 41h0"></path><rect x="158" y="30" width="164" height="22"></rect><text x="240" y="45">not " \ or newline</text></g><path d="M322 41h20"></path><path d="M138 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M158 71h48"></path><path d="M274 71h48"></path><rect x="206" y="60" width="68" height="22"></rect><text x="240" y="75">escape</text></g><path d="M322 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path><path d="M138 41a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path><g><path d="M158 101h10"></path><path d="M312 101h10"></path><path d="M168 101h10"></path><g><path d="M178 101h0"></path><path d="M206 101h0"></path><rect x="178" y="90" width="28" height="22" rx="10" ry="10"></rect><text x="192" y="105">\</text></g><path d="M206 101h10"></path><path d="M216 101h10"></path><g><path d="M226 101h0"></path><path d="M302 101h0"></path><rect x="226" y="90" width="76" height="22"></rect><text x="264" y="105">newline</text></g><path d="M302 101h10"></path></g><path d="M322 101a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path></g><path d="M342 41h10"></path><path d="M138 41a10 10 0 0 0 -10 10v59a10 10 0 0 0 10 10"></path><g><path d="M138 120h204"></path></g><path d="M342 120a10 10 0 0 0 10 -10v-59a10 10 0 0 0 -10 -10"></path></g><path d="M352 41h20"></path></g><path d="M372 41h10"></path><g><path d="M382 41h0"></path><path d="M410 41h0"></path><rect x="382" y="30" width="28" height="22" rx="10" ry="10"></rect><text x="396" y="45">"</text></g><path d="M410 41h10"></path></g><path d="M420 41h20"></path><path d="M40 41a10 10 0 0 1 10 10v88a10 10 0 0 0 10 10"></path><g><path d="M60 149h0"></path><path d="M420 149h0"></path><path d="M60 149h10"></path><g><path d="M70 149h0"></path><path d="M98 149h0"></path><rect x="70" y="138" width="28" height="22" rx="10" ry="10"></rect><text x="84" y="153">&apos;</text></g><path d="M98 149h10"></path><g><path d="M108 149h0"></path><path d="M372 149h0"></path><path d="M108 149a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M128 129h224"></path></g><path d="M352 129a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M108 149h20"></path><g><path d="M128 149h0"></path><path d="M352 149h0"></path><path d="M128 149h10"></path><g><path d="M138 149h0"></path><path d="M342 149h0"></path><path d="M138 149h20"></path><g><path d="M158 149h0"></path><path d="M322 149h0"></path><rect x="158" y="138" width="164" height="22"></rect><text x="240" y="153">not &apos; \ or newline</text></g><path d="M322 149h20"></path><path d="M138 149a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M158 179h48"></path><path d="M274 179h48"></path><rect x="206" y="168" width="68" height="22"></rect><text x="240" y="183">escape</text></g><path d="M322 179a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path><path d="M138 149a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path><g><path d="M158 209h10"></path><path d="M312 209h10"></path><path d="M168 209h10"></path><g><path d="M178 209h0"></path><path d="M206 209h0"></path><rect x="178" y="198" width="28" height="22" rx="10" ry="10"></rect><text x="192" y="213">\</text></g><path d="M206 209h10"></path><path d="M216 209h10"></path><g><path d="M226 209h0"></path><path d="M302 209h0"></path><rect x="226" y="198" width="76" height="22"></rect><text x="264" y="213">newline</text></g><path d="M302 209h10"></path></g><path d="M322 209a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path></g><path d="M342 149h10"></path><path d="M138 149a10 10 0 0 0 -10 10v59a10 10 0 0 0 10 10"></path><g><path d="M138 228h204"></path></g><path d="M342 228a10 10 0 0 0 10 -10v-59a10 10 0 0 0 -10 -10"></path></g><path d="M352 149h20"></path></g><path d="M372 149h10"></path><g><path d="M382 149h0"></path><path d="M410 149h0"></path><rect x="382" y="138" width="28" height="22" rx="10" ry="10"></rect><text x="396" y="153">&apos;</text></g><path d="M410 149h10"></path></g><path d="M420 149a10 10 0 0 0 10 -10v-88a10 10 0 0 1 10 -10"></path></g><path d="M 440 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="url-diagram">URL</dt>
		<dd><svg class="railroad-diagram" width="773" height="102"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 41h10"></path><g><path d="M50 41h0"></path><path d="M150 41h0"></path><rect x="50" y="30" width="100" height="22"></rect><text x="100" y="45">IDENT(url)</text></g><path d="M150 41h10"></path><path d="M160 41h10"></path><g><path d="M170 41h0"></path><path d="M198 41h0"></path><rect x="170" y="30" width="28" height="22" rx="10" ry="10"></rect><text x="184" y="45">(</text></g><path d="M198 41h10"></path><g><path d="M208 41h0"></path><path d="M348 41h0"></path><path d="M208 41h20"></path><g><path d="M228 41h100"></path></g><path d="M328 41h20"></path><path d="M208 41a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><g><path d="M228 61h0"></path><path d="M328 61h0"></path><rect x="228" y="50" width="100" height="22"></rect><text x="278" y="65">WHITESPACE</text></g><path d="M328 61a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path></g><g><path d="M348 41h0"></path><path d="M684 41h0"></path><path d="M348 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M368 21h296"></path></g><path d="M664 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M348 41h20"></path><g><path d="M368 41h0"></path><path d="M664 41h0"></path><g><path d="M368 41h0"></path><path d="M524 41h0"></path><path d="M368 41h20"></path><g><path d="M388 41h0"></path><path d="M504 41h0"></path><rect x="388" y="30" width="116" height="22"></rect><text x="446" y="45">url-unquoted</text></g><path d="M504 41h20"></path><path d="M368 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M388 71h24"></path><path d="M480 71h24"></path><rect x="412" y="60" width="68" height="22"></rect><text x="446" y="75">STRING</text></g><path d="M504 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><g><path d="M524 41h0"></path><path d="M664 41h0"></path><path d="M524 41h20"></path><g><path d="M544 41h100"></path></g><path d="M644 41h20"></path><path d="M524 41a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><g><path d="M544 61h0"></path><path d="M644 61h0"></path><rect x="544" y="50" width="100" height="22"></rect><text x="594" y="65">WHITESPACE</text></g><path d="M644 61a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path></g></g><path d="M664 41h20"></path></g><path d="M684 41h10"></path><g><path d="M694 41h0"></path><path d="M722 41h0"></path><rect x="694" y="30" width="28" height="22" rx="10" ry="10"></rect><text x="708" y="45">)</text></g><path d="M722 41h10"></path><path d="M 732 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="url-unquoted-diagram">url-unquoted</dt>
		<dd><svg class="railroad-diagram" width="509" height="100"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M458 31h0"></path><path d="M50 31h10"></path><g><path d="M60 31h0"></path><path d="M448 31h0"></path><path d="M60 31h20"></path><g><path d="M80 31h0"></path><path d="M428 31h0"></path><rect x="80" y="20" width="348" height="22"></rect><text x="254" y="35">not " &apos; ( ) \ whitespace or non-printable</text></g><path d="M428 31h20"></path><path d="M60 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M80 61h140"></path><path d="M288 61h140"></path><rect x="220" y="50" width="68" height="22"></rect><text x="254" y="65">escape</text></g><path d="M428 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><path d="M448 31h10"></path><path d="M60 31a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10"></path><g><path d="M60 80h388"></path></g><path d="M448 80a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10"></path></g><path d="M458 31h10"></path><path d="M 468 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="number-diagram">NUMBER</dt>
		<dd><svg class="railroad-diagram" width="713" height="179"><g transform="translate(.5 .5)"><path d="M 20 50 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 60h0"></path><path d="M108 60h0"></path><path d="M40 60a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M60 40h0"></path><path d="M88 40h0"></path><rect x="60" y="29" width="28" height="22" rx="10" ry="10"></rect><text x="74" y="44">+</text></g><path d="M88 40a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M40 60h20"></path><g><path d="M60 60h28"></path></g><path d="M88 60h20"></path><path d="M40 60a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><g><path d="M60 80h0"></path><path d="M88 80h0"></path><rect x="60" y="69" width="28" height="22" rx="10" ry="10"></rect><text x="74" y="84">-</text></g><path d="M88 80a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path></g><g><path d="M108 60h0"></path><path d="M396 60h0"></path><path d="M108 60h20"></path><g><path d="M128 60h0"></path><path d="M376 60h0"></path><path d="M128 60h10"></path><g><path d="M138 60h0"></path><path d="M218 60h0"></path><path d="M138 60h10"></path><g><path d="M148 60h0"></path><path d="M208 60h0"></path><rect x="148" y="49" width="60" height="22"></rect><text x="178" y="64">digit</text></g><path d="M208 60h10"></path><path d="M148 60a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M148 80h60"></path></g><path d="M208 80a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M218 60h10"></path><path d="M228 60h10"></path><g><path d="M238 60h0"></path><path d="M266 60h0"></path><rect x="238" y="49" width="28" height="22" rx="10" ry="10"></rect><text x="252" y="64">.</text></g><path d="M266 60h10"></path><path d="M276 60h10"></path><g><path d="M286 60h0"></path><path d="M366 60h0"></path><path d="M286 60h10"></path><g><path d="M296 60h0"></path><path d="M356 60h0"></path><rect x="296" y="49" width="60" height="22"></rect><text x="326" y="64">digit</text></g><path d="M356 60h10"></path><path d="M296 60a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M296 80h60"></path></g><path d="M356 80a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M366 60h10"></path></g><path d="M376 60h20"></path><path d="M108 60a10 10 0 0 1 10 10v19a10 10 0 0 0 10 10"></path><g><path d="M128 99h84"></path><path d="M292 99h84"></path><path d="M212 99h10"></path><g><path d="M222 99h0"></path><path d="M282 99h0"></path><rect x="222" y="88" width="60" height="22"></rect><text x="252" y="103">digit</text></g><path d="M282 99h10"></path><path d="M222 99a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M222 119h60"></path></g><path d="M282 119a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M376 99a10 10 0 0 0 10 -10v-19a10 10 0 0 1 10 -10"></path><path d="M108 60a10 10 0 0 1 10 10v58a10 10 0 0 0 10 10"></path><g><path d="M128 138h50"></path><path d="M326 138h50"></path><path d="M178 138h10"></path><g><path d="M188 138h0"></path><path d="M216 138h0"></path><rect x="188" y="127" width="28" height="22" rx="10" ry="10"></rect><text x="202" y="142">.</text></g><path d="M216 138h10"></path><path d="M226 138h10"></path><g><path d="M236 138h0"></path><path d="M316 138h0"></path><path d="M236 138h10"></path><g><path d="M246 138h0"></path><path d="M306 138h0"></path><rect x="246" y="127" width="60" height="22"></rect><text x="276" y="142">digit</text></g><path d="M306 138h10"></path><path d="M246 138a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M246 158h60"></path></g><path d="M306 158a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M316 138h10"></path></g><path d="M376 138a10 10 0 0 0 10 -10v-58a10 10 0 0 1 10 -10"></path></g><g><path d="M396 60h0"></path><path d="M672 60h0"></path><path d="M396 60h20"></path><g><path d="M416 60h236"></path></g><path d="M652 60h20"></path><path d="M396 60a10 10 0 0 1 10 10v28a10 10 0 0 0 10 10"></path><g><path d="M416 108h0"></path><path d="M652 108h0"></path><g><path d="M416 108h0"></path><path d="M484 108h0"></path><path d="M416 108h20"></path><g><path d="M436 108h0"></path><path d="M464 108h0"></path><rect x="436" y="97" width="28" height="22" rx="10" ry="10"></rect><text x="450" y="112">e</text></g><path d="M464 108h20"></path><path d="M416 108a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M436 138h0"></path><path d="M464 138h0"></path><rect x="436" y="127" width="28" height="22" rx="10" ry="10"></rect><text x="450" y="142">E</text></g><path d="M464 138a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><g><path d="M484 108h0"></path><path d="M552 108h0"></path><path d="M484 108a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M504 88h0"></path><path d="M532 88h0"></path><rect x="504" y="77" width="28" height="22" rx="10" ry="10"></rect><text x="518" y="92">+</text></g><path d="M532 88a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M484 108h20"></path><g><path d="M504 108h28"></path></g><path d="M532 108h20"></path><path d="M484 108a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><g><path d="M504 128h0"></path><path d="M532 128h0"></path><rect x="504" y="117" width="28" height="22" rx="10" ry="10"></rect><text x="518" y="132">-</text></g><path d="M532 128a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path></g><path d="M552 108h10"></path><g><path d="M562 108h0"></path><path d="M642 108h0"></path><path d="M562 108h10"></path><g><path d="M572 108h0"></path><path d="M632 108h0"></path><rect x="572" y="97" width="60" height="22"></rect><text x="602" y="112">digit</text></g><path d="M632 108h10"></path><path d="M572 108a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M572 128h60"></path></g><path d="M632 128a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M642 108h10"></path></g><path d="M652 108a10 10 0 0 0 10 -10v-28a10 10 0 0 1 10 -10"></path></g><path d="M 672 60 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="dimension-diagram">DIMENSION</dt>
		<dd><svg class="railroad-diagram" width="249" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M118 31h0"></path><rect x="50" y="20" width="68" height="22"></rect><text x="84" y="35">NUMBER</text></g><path d="M118 31h10"></path><path d="M128 31h10"></path><g><path d="M138 31h0"></path><path d="M198 31h0"></path><rect x="138" y="20" width="60" height="22"></rect><text x="168" y="35">IDENT</text></g><path d="M198 31h10"></path><path d="M 208 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="percentage-diagram">PERCENTAGE</dt>
		<dd><svg class="railroad-diagram" width="217" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M118 31h0"></path><rect x="50" y="20" width="68" height="22"></rect><text x="84" y="35">NUMBER</text></g><path d="M118 31h10"></path><path d="M128 31h10"></path><g><path d="M138 31h0"></path><path d="M166 31h0"></path><rect x="138" y="20" width="28" height="22" rx="10" ry="10"></rect><text x="152" y="35">%</text></g><path d="M166 31h10"></path><path d="M 176 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="unicode-range-diagram">UNICODE-RANGE</dt>
		<dd><svg class="railroad-diagram" width="600" height="222"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 31h0"></path><path d="M108 31h0"></path><path d="M40 31h20"></path><g><path d="M60 31h0"></path><path d="M88 31h0"></path><rect x="60" y="20" width="28" height="22" rx="10" ry="10"></rect><text x="74" y="35">U</text></g><path d="M88 31h20"></path><path d="M40 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M60 61h0"></path><path d="M88 61h0"></path><rect x="60" y="50" width="28" height="22" rx="10" ry="10"></rect><text x="74" y="65">u</text></g><path d="M88 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><path d="M108 31h10"></path><g><path d="M118 31h0"></path><path d="M146 31h0"></path><rect x="118" y="20" width="28" height="22" rx="10" ry="10"></rect><text x="132" y="35">+</text></g><path d="M146 31h10"></path><g><path d="M156 31h0"></path><path d="M559 31h0"></path><path d="M156 31h20"></path><g><path d="M176 31h115.5"></path><path d="M423.5 31h115.5"></path><path d="M291.5 31h10"></path><g><path d="M301.5 31h0"></path><path d="M413.5 31h0"></path><path d="M301.5 31h10"></path><g><path d="M311.5 31h0"></path><path d="M403.5 31h0"></path><rect x="311.5" y="20" width="92" height="22"></rect><text x="357.5" y="35">hex digit</text></g><path d="M403.5 31h10"></path><path d="M311.5 31a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10"></path><g><path d="M311.5 61h9.5"></path><path d="M394 61h9.5"></path><text x="357.5" y="66" class="comment">1-6 times</text></g><path d="M403.5 61a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10"></path></g><path d="M413.5 31h10"></path></g><path d="M539 31h20"></path><path d="M156 31a10 10 0 0 1 10 10v50a10 10 0 0 0 10 10"></path><g><path d="M176 101h0"></path><path d="M539 101h0"></path><g><path d="M176 101h0"></path><path d="M328 101h0"></path><path d="M176 101a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M196 81h112"></path></g><path d="M308 81a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M176 101h20"></path><g><path d="M196 101h0"></path><path d="M308 101h0"></path><path d="M196 101h10"></path><g><path d="M206 101h0"></path><path d="M298 101h0"></path><rect x="206" y="90" width="92" height="22"></rect><text x="252" y="105">hex digit</text></g><path d="M298 101h10"></path><path d="M206 101a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10"></path><g><path d="M206 131h9.5"></path><path d="M288.5 131h9.5"></path><text x="252" y="136" class="comment">1-5 times</text></g><path d="M298 131a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10"></path></g><path d="M308 101h20"></path></g><path d="M328 101h10"></path><g><path d="M338 101h0"></path><path d="M529 101h0"></path><path d="M338 101h10"></path><g><path d="M348 101h71.5"></path><path d="M447.5 101h71.5"></path><rect x="419.5" y="90" width="28" height="22" rx="10" ry="10"></rect><text x="433.5" y="105">?</text></g><path d="M519 101h10"></path><path d="M348 101a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10"></path><g><path d="M348 131h0"></path><path d="M519 131h0"></path><text x="433.5" y="136" class="comment">1 to (6 - digits) times</text></g><path d="M519 131a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10"></path></g><path d="M529 101h10"></path></g><path d="M539 101a10 10 0 0 0 10 -10v-50a10 10 0 0 1 10 -10"></path><path d="M156 31a10 10 0 0 1 10 10v110a10 10 0 0 0 10 10"></path><g><path d="M176 161h25.5"></path><path d="M513.5 161h25.5"></path><path d="M201.5 161h10"></path><g><path d="M211.5 161h0"></path><path d="M323.5 161h0"></path><path d="M211.5 161h10"></path><g><path d="M221.5 161h0"></path><path d="M313.5 161h0"></path><rect x="221.5" y="150" width="92" height="22"></rect><text x="267.5" y="165">hex digit</text></g><path d="M313.5 161h10"></path><path d="M221.5 161a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10"></path><g><path d="M221.5 191h9.5"></path><path d="M304 191h9.5"></path><text x="267.5" y="196" class="comment">1-6 times</text></g><path d="M313.5 191a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10"></path></g><path d="M323.5 161h10"></path><path d="M333.5 161h10"></path><g><path d="M343.5 161h0"></path><path d="M371.5 161h0"></path><rect x="343.5" y="150" width="28" height="22" rx="10" ry="10"></rect><text x="357.5" y="165">-</text></g><path d="M371.5 161h10"></path><path d="M381.5 161h10"></path><g><path d="M391.5 161h0"></path><path d="M503.5 161h0"></path><path d="M391.5 161h10"></path><g><path d="M401.5 161h0"></path><path d="M493.5 161h0"></path><rect x="401.5" y="150" width="92" height="22"></rect><text x="447.5" y="165">hex digit</text></g><path d="M493.5 161h10"></path><path d="M401.5 161a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10"></path><g><path d="M401.5 191h9.5"></path><path d="M484 191h9.5"></path><text x="447.5" y="196" class="comment">1-6 times</text></g><path d="M493.5 191a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10"></path></g><path d="M503.5 161h10"></path></g><path d="M539 161a10 10 0 0 0 10 -10v-110a10 10 0 0 1 10 -10"></path></g><path d="M 559 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="include-match-diagram">INCLUDE-MATCH</dt>
		<dd><svg class="railroad-diagram" width="137" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M86 31h0"></path><rect x="50" y="20" width="36" height="22" rx="10" ry="10"></rect><text x="68" y="35">~=</text></g><path d="M86 31h10"></path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="dash-match-diagram">DASH-MATCH</dt>
		<dd><svg class="railroad-diagram" width="137" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M86 31h0"></path><rect x="50" y="20" width="36" height="22" rx="10" ry="10"></rect><text x="68" y="35">|=</text></g><path d="M86 31h10"></path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="prefix-match-diagram">PREFIX-MATCH</dt>
		<dd><svg class="railroad-diagram" width="137" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M86 31h0"></path><rect x="50" y="20" width="36" height="22" rx="10" ry="10"></rect><text x="68" y="35">^=</text></g><path d="M86 31h10"></path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="suffix-match-diagram">SUFFIX-MATCH</dt>
		<dd><svg class="railroad-diagram" width="137" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M86 31h0"></path><rect x="50" y="20" width="36" height="22" rx="10" ry="10"></rect><text x="68" y="35">$=</text></g><path d="M86 31h10"></path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="substring-match-diagram">SUBSTRING-MATCH</dt>
		<dd><svg class="railroad-diagram" width="137" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M86 31h0"></path><rect x="50" y="20" width="36" height="22" rx="10" ry="10"></rect><text x="68" y="35">*=</text></g><path d="M86 31h10"></path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="cdo-diagram">CDO</dt>
		<dd><svg class="railroad-diagram" width="153" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M102 31h0"></path><rect x="50" y="20" width="52" height="22" rx="10" ry="10"></rect><text x="76" y="35">&lt;!--</text></g><path d="M102 31h10"></path><path d="M 112 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="cdc-diagram">CDC</dt>
		<dd><svg class="railroad-diagram" width="145" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M94 31h0"></path><rect x="50" y="20" width="44" height="22" rx="10" ry="10"></rect><text x="72" y="35">--&gt;</text></g><path d="M94 31h10"></path><path d="M 104 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

	</dl>

<h3>
Tokenizer Flags</h3>

	<p>
		The tokenizer can be run with any of several flags that alter its behavior.

	<dl>
		<dt>the <dfn>transform function whitespace</dfn> flag
		<dd>
			This flag is set when parsing SVG's <code>transform</code> attribute.
			When this is set, whitespace is allowed between the name of a transform function and its opening parenthesis.
	</dl>

<h3>
Definitions</h3>

	<p>
		This section defines several terms used during the tokenization phase.

	<dl>
		<dt><dfn>next input character</dfn>
		<dd>
			The first character in the input stream that has not yet been consumed.

		<dt><dfn>current input character</dfn>
		<dd>
			The last character to have been consumed.

		<dt><dfn>EOF character</dfn>
		<dd>
			A conceptual character representing the end of the input stream.
			Whenever the input stream is empty, 
			the <i>next input character</i> is always an EOF character.

		<dt><dfn>digit</dfn>
		<dd>
			A character between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9).

		<dt><dfn>hex digit</dfn>
		<dd>
			A <i>digit</i>,
			or a character between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F),
			or a character between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f).

		<dt><dfn>uppercase letter</dfn>
		<dd>
			A character between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z).

		<dt><dfn>lowercase letter</dfn>
		<dd>
			A character between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z).

		<dt><dfn>letter</dfn>
		<dd>
			An <i>uppercase letter</i>
			or a <i>lowercase letter</i>.

		<dt><dfn>non-ASCII character</dfn>
		<dd>
			A character with a codepoint equal to or greater than U+0080 &lt;control>.

		<dt><dfn>name-start character</dfn>
		<dd>
			A <i>letter</i>,
			a <i>non-ASCII character</i>,
			or U+005F LOW LINE (_).

		<dt><dfn>name character</dfn>
		<dd>
			A <i>name-start character</i>,
			A <i>digit</i>,
			or U+002D HYPHEN-MINUS (-).

		<dt><dfn>non-printable character</dfn>
		<dd>
			A character between U+0000 NULL and U+0008 BACKSPACE
			or a character between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE
			or a character between U+007F DELETE and U+009F APPLICATION PROGRAM COMMAND.

		<dt><dfn>newline</dfn>
		<dd>
			U+000A LINE FEED or U+000C FORM FEED.
			<span class='note'>
				Note that U+000D CARRIAGE RETURN is not included in this definition,
				as it is removed from the stream during preprocessing.
			</span>

		<dt><dfn>whitespace</dfn>
		<dd>A <i>newline</i>, U+0009 CHARACTER TABULATION, or U+0020 SPACE.

		<dt><dfn>maximum allowed codepoint</dfn>
		<dd>The greatest codepoint defined by Unicode.  This is currently U+10FFFF.

	</dl>

<h3>
Tokenizer State Machine</h3>

<h4>
<dfn>Data state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>whitespace</i>
		<dd>
			Consume as much <i>whitespace</i> as possible.
			Emit a whitespace token.
			Remain in this state.

		<dt>U+0022 QUOTATION MARK (")
		<dd>
			Switch to the <i>double-quote-string state</i>.

		<dt>U+0023 NUMBER SIGN (#)
		<dd>
			Switch to the <i>hash state</i>.

		<dt>U+0024 DOLLAR SIGN ($)
		<dd>
			If the <i>next input character</i> is
			U+003D EQUALS SIGN (=),
			consume it
			and emit a suffix-match token.
			Remain in this state.

			<p>
				Otherwise,
				emit a delim token
				with its value set to the <i>current input character</i>.
				Remain in this state.

		<dt>U+0027 APOSTROPHE (&apos;)
		<dd>
			Switch to the <i>single-quote-string state</i>.

		<dt>U+0028 LEFT PARENTHESIS (()
		<dd>
			Emit a ( token.
			Remain in this state.

		<dt>U+0029 RIGHT PARENTHESIS ())
		<dd>
			Emit a ) token.
			Remain in this state.

		<dt>U+002A ASTERISK (*)
		<dd>
			If the <i>next input character</i> is
			U+003D EQUALS SIGN (=),
			consume it
			and emit a substring-match token.
			Remain in this state.

			<p>
				Otherwise,
				emit a delim token
				with its value set to the <i>current input character</i>.
				Remain in this state.

		<dt>U+002B PLUS SIGN (+)
		<dd>
			If the <i>next input character</i> is
			a <i>digit</i>,
			or the <i title="next input character">next 2 input characters</i> are
			U+002E FULL STOP (.)
			followed by a <i>digit</i>,
			switch to the <i>number state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				emit a delim token
				with its value set to U+002B PLUS SIGN (+).
				Remain in this state.

		<dt>U+002C COMMA (,)
		<dd>
			Emit a comma token.
			Remain in this state.

		<dt>U+002D HYPHEN-MINUS (-)
		<dd>
			If the <i title="next input character">next 2 input characters</i> are
			U+002D HYPHEN-MINUS
			U+003E GREATER-THAN SIGN
			(->),
			consume them,
			emit a CDC token,
			and remain in this state.

			<p>
				Otherwise,
				if the <i>next input character</i> is a <i>digit</i>,
				or the <i title="next input character">next 2 input characters</i> are
				U+002E FULL STOP (.)
				followed by a <i>digit</i>,
				switch to the <i>number state</i>.
				Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				switch to the <i>ident state</i>.
				Reconsume the <i>current input character</i>.

		<dt>U+002E FULL STOP (.)
		<dd>
			If the <i>next input character</i> is a <i>digit</i>,
			switch to the <i>number state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				emit a delim token
				with its value set to U+002E FULL STOP (.).
				Remain in this state.

		<dt>U+002F SOLIDUS (/)
		<dd>
			If the <i>next input character</i> is U+002A ASTERISK (*),
			consume it
			and switch to the <i>comment state</i>.

			<p>
				Otherwise,
				emit a delim token
				with its value set to U+002F SOLIDUS (/).
				Remain in this state.

		<dt>U+003A COLON (:)
		<dd>
			Emit a colon token.
			Remain in this state.

		<dt>U+003B SEMICOLON (;)
		<dd>
			Emit a semicolon token.
			Remain in this state.

		<dt>U+003C LESS-THAN SIGN (&lt;)
		<dd>
			If the <i title="next input character">next 3 input characters</i> are
			U+0021 EXCLAMATION MARK
			U+002D HYPHEN-MINUS
			U+002D HYPHEN-MINUS
			(!--),
			consume them
			and emit a cdo token.
			Remain in this state.

			<p>
				Otherwise,
				emit a delim token
				with its value set to U+003C LESS-THAN SIGN (&lt;).
				Remain in this state.

		<dt>U+0040 COMMERCIAL AT (@)
		<dd>
			Switch to the <i>at-keyword state</i>.

		<dt>U+005B LEFT SQUARE BRACKET ([)
		<dd>
			Emit a [ token.
			Remain in this state.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i>
			or EOF,
			this is a <i>parse error</i>.
			Emit a delim token
			with its value set to U+005C REVERSE SOLIDUS (\).
			Remain in this state.

			<p>
				Otherwise, switch to the <i>ident state</i>.
				Reconsume the <i>current input character</i>.

		<dt>U+005D RIGHT SQUARE BRACKET (])
		<dd>
			Emit a ] token.
			Remain in this state.

		<dt>U+005E CIRCUMFLEX ACCENT (^)
		<dd>
			If the <i>next input character</i> is
			U+003D EQUALS SIGN (=),
			consume it
			and emit a prefix-match token.
			Remain in this state.

			<p>
				Otherwise,
				emit a delim token
				with its value set to the <i>current input character</i>.
				Remain in this state.

		<dt>U+007B LEFT CURLY BRACKET ({)
		<dd>
			Emit a { token.
			Remain in this state.

		<dt>U+007D RIGHT CURLY BRACKET (})
		<dd>
			Emit a } token.
			Remain in this state.

		<dt><i>digit</i>
		<dd>
			Switch to the <i>number state</i>.
			Reconsume the <i>current input character</i>.

		<dt>U+0055 LATIN CAPITAL LETTER U (U)
		<dt>U+0075 LATIN SMALL LETTER U (u)
		<dd>
			If the <i title="next input character">next 2 input character</i> are
			U+002B PLUS SIGN (+)
			followed by a <i>hex digit</i>
			or U+003F QUESTION MARK (?),
			consume the <i>next input character</i>.
			<span class='note'>Note: don't consume both of them.</span>
			Switch to the <i>unicode-range state</i>.

			<p>Otherwise,
				switch to the <i>ident state</i>.
				Reconsume the <i>current input character</i>.

		<dt><i>name-start character</i>
		<dd>
			Switch to the <i>ident state</i>.
			Reconsume the <i>current input character</i>.

		<dt>U+007C VERTICAL LINE (|)
		<dd>
			If the <i>next input character</i> is
			U+003D EQUALS SIGN (=),
			consume it
			and emit a dash-match token.
			Remain in this state.

			<p>
				Otherwise,
				emit a delim token
				with its value set to the <i>current input character</i>.
				Remain in this state.

		<dt>U+007E TILDE (~)
		<dd>
			If the <i>next input character</i> is
			U+003D EQUALS SIGN (=),
			consume it
			and emit an include-match token.
			Remain in this state.

			<p>
				Otherwise,
				emit a delim token
				with its value set to the <i>current input character</i>.
				Remain in this state.

		<dt>EOF
		<dd>
			Emit an end-of-file token.

		<dt>anything else
		<dd>
			Emit a delim token
			with its value set to the <i>current input character</i>.
			Remain in this state.
	</dl>

<h4>
<dfn>Double-quote-string state</dfn></h4>

	<p>
		If a string token has not yet been created since entering this state,
		create a string token
		with its value initially set to the empty string.

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>U+0022 QUOTATION MARK (")
		<dd>
			Emit the string token.
			Return to the <i>data state</i>.

		<dt>EOF
		<dd>
			This is a <i>parse error</i>.
			Emit the string token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

		<dt><i>newline</i>
		<dd>
			This is a <i>parse error</i>.
			Emit a bad-string token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i>
			is an EOF,
			this is a <i>parse error</i>.
			Emit a bad-string token,
			then switch to the <i>data state</i>.

			<p>
				Otherwise,
				if the <i>next input character</i> is
				a <i>newline</i>,
				consume it.
				Remain in this state.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Append the returned character to the string token's value.
				Remain in this state.

		<dt>anything else
		<dd>
			Append the <i>current input character</i>
			to the string token's value.
			Remain in this state.
	</dl>

<h4>
<dfn>Single-quote-string state</dfn></h4>

	<p>
		If a string token has not yet been created since entering this state,
		create a string token
		with its value initially set to the empty string.

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>U+0027 APOSTROPHE (&apos;)
		<dd>
			Emit the string token.
			Return to the <i>data state</i>.

		<dt>EOF
		<dd>
			This is a <i>parse error</i>.
			Emit the string token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

		<dt><i>newline</i>
		<dd>
			This is a <i>parse error</i>.
			Emit a bad-string token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i>
			is an EOF,
			this is a <i>parse error</i>.
			Emit a bad-string token,
			then switch to the <i>data state</i>.

			<p>
				Otherwise,
				if the <i>next input character</i> is
				a <i>newline</i>,
				consume it.
				Remain in this state.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Append the returned character to the string token's value.
				Remain in this state.

		<dt>anything else
		<dd>
			Append the <i>current input character</i>
			to the string token's value.
			Remain in this state.
	</dl>

<h4>
<dfn>Hash state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>name character</i>
		<dd>
			Create a hash token
			with its value set to the <i>current input character</i>.
			Switch to the <i>hash-rest state</i>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i> or EOF,
			emit a delim token
			with its value set to U+0023 NUMBER SIGN (#).
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Create a hash token
				with its value set to the returned character.
				Switch to the <i>hash-rest state</i>.

		<dt>anything else
		<dd>
			Emit a delim token
			with its value set to U+0023 NUMBER SIGN (#).
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>Hash-rest state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>name character</i>
		<dd>
			Append the <i>current input character</i>
			to the hash token's value.
			Remain in this state.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i> or EOF,
			emit the hash token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Append the returned character to the hash token's value.
				Remain in this state.

		<dt>anything else
		<dd>
			Emit the hash token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>Comment state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>U+002A ASTERISK (*)
		<dd>
			If the <i>next input character</i> is
			U+002F SOLIDUS (/),
			consume it,
			and switch to the <i>data state</i>.

			<p>
				Otherwise,
				do nothing
				and remain in this state.

		<dt>EOF
		<dd>
			This is a <i>parse error</i>.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

		<dt>anything else
		<dd>
			Do nothing
			and remain in this state.
	</dl>

<h4>
<dfn>At-keyword state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>U+002D HYPHEN-MINUS (-)
		<dd>
			If the <i>next input character</i> is a <i>name-start character</i>,
			Create an at-keyword token
			with its value initially set to U+002D HYPHEN-MINUS.
			Switch to the <i>at-keyword-rest state</i>.

			<p>
				Otherwise,
				if the <i title="next input character">next two characters</i> are
				U+005C REVERSE SOLIDUS (\)
				followed by anything but
				a <i>newline</i>
				or EOF,
				create an at-keyword token
				with its value initially set to U+002D HYPHEN-MINUS.
				Switch to the <i>at-keyword-rest state</i>.

			<p>
				Otherwise,
				emit a delim token
				with its value set to U+0040 COMMERCIAL AT (@).
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

		<dt><i>name-start character</i>
		<dd>
			Create an at-keyword token
			with its value set to the <i>current input character</i>.
			Switch to the <i>at-keyword-rest state</i>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i> or EOF,
			emit a delim token
			with its value set to U+0040 COMMERCIAL AT (@).
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Create an at-keyword token
				with its value set to the returned character.
				Switch to the <i>at-keyword-rest state</i>.

		<dt>anything else
		<dd>
			Emit a delim token
			with its value set to U+0040 COMMERCIAL AT (@).
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>At-keyword-rest state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>name character</i>
		<dd>
			Append the <i>current input character</i>
			to the at-keyword token's value.
			Remain in this state.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i> or EOF,
			emit the at-keyword token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Append the returned character to the at-keyword token's value.
				Remain in this state.

		<dt>anything else
		<dd>
			Emit the at-keyword token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>Ident state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>U+002D HYPHEN-MINUS (-)
		<dd>
			If the <i>next input character</i> is
			a <i>name-start character</i>,
			create an identifer token
			with its value initially set to U+002D HYPHEN-MINUS.
			Switch to the <i>ident-rest state</i>.

			<p>
				Otherwise,
				if the <i title="next input character">next two characters</i> are
				U+005C REVERSE SOLIDUS (\)
				followed by anything but
				a <i>newline</i>
				or EOF,
				create an identifer token
				with its value initially set to U+002D HYPHEN-MINUS.
				Switch to the <i>ident-rest state</i>.

			<p>
				Otherwise,
				emit a delim token
				with its value set to U+002D HYPHEN-MINUS (-).
				Switch to the <i>data state</i>.

		<dt><i>name-start character</i>
		<dd>
			Create an ident token
			with its value set to the <i>current input character</i>.
			Switch to the <i>ident-rest state</i>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i> or EOF,
			switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Create an ident token
				with its value set to the returned character.
				Switch to the <i>ident-rest state</i>.

		<!--
			This state should only be entered with a valid character.
			If it hits anything else, this is a spec error.
		-->

	</dl>

<h4>
<dfn>Ident-rest state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>name character</i>
		<dd>
			Append the <i>current input character</i>
			to the ident token's value.
			Remain in this state.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i> or EOF,
			emit the ident token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Append the returned character to the ident token's value.
				Remain in this state.

		<dt>U+0028 LEFT PARENTHESIS (()
		<dd>
			If the identifier token's value is
			an <i>ASCII case-insensitive</i> match for "url",
			switch to the <i>url state</i>.

			<p>
				Otherwise,
				Emit a function token
				with its value set to the identifier token's value.
				Switch to the <i>data state</i>.

		<dt><i>whitespace</i>
		<dd>
			If the <i>transform function whitespace</i> flag is set,
			reconsume the <i>current input character</i>
			and switch to the <i>transform-function-whitespace state</i>.

			<p>
				Otherwise,
				emit the ident token.
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

		<dt>anything else
		<dd>
			Emit the ident token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>Transform-function-whitespace state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>whitespace</i>
		<dd>
			If the <i>next input character</i> is <i>whitespace</i>,
			remain in this state.

			<p>
				Otherwise,
				if the <i>next input character</i> is U+0028 LEFT PARENTHESES ((),
				emit a function token
				with its value set to the identifer token's value.
				Switch to the <i>data state</i>.

			<p>
				Otherwise,
				emit the identifer token.
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.
	</dl>


<h4>
<dfn>Number state</dfn></h4>

	<p>
		Create a number token
		with its representation initially set to the empty string.

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>U+002D HYPHEN-MINUS (-)
		<dd>
			If the <i>next input character</i> is
			a <i>digit</i>,
			consume it.
			Append U+002D HYPHEN-MINUS (-) to the number token's representation.
			Append the <i>digit</i> to the number token's representation.
			Switch to the <i>number-rest state</i>.

			<p>
				Otherwise,
				if the <i title="next input character">next 2 input characters</i> are
				U+002E FULL STOP
				followed by a <i>digit</i>,
				consume them.
				Append U+002D HYPHEN-MINUS (-) to the number token's representation.
				Append U+002E FULL STOP (.) to the number token's representation.
				Append the <i>digit</i> to the number token's representation.
				Switch to the <i>number fraction</i> state.

			<p>
				Otherwise,
				switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

		<dt>U+002B PLUS SIGN (+)
		<dd>
			If the <i>next input character</i> is
			a <i>digit</i>,
			consume it.
			Append U+002D PLUS SIGN (+) to the number token's representation.
			Append the <i>digit</i> to the number token's representation.
			Switch to the <i>number-rest state</i>.

			<p>
				Otherwise,
				if the <i title="next input character">next 2 input characters</i> are
				U+002E FULL STOP
				followed by a <i>digit</i>,
				consume them.
				Append U+002D PLUS SIGN (+) to the number token's representation.
				Append U+002E FULL STOP (.) to the number token's representation.
				Append the <i>digit</i> to the number token's representation.
				Switch to the <i>number fraction</i> state.

			<p>
				Otherwise,
				switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

		<dt><i>digit</i>
		<dd>
			Append the <i>current input character</i>
			to the number token's representation.
			Switch to the <i>number-rest state</i>.

		<dt>U+002E FULL STOP (.)
		<dd>
			If the <i>next input character</i> is
			a <i>digit</i>,
			consume it.
			Append U+002E FULL STOP (.) to the number token's representation.
			Append the <i>digit</i> to the number token's representation.
			Switch to the <i>number-fraction state</i>.

			<p>
				Otherwise,
				switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

		<dt>anything else
		<dd>
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>Number-rest state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>digit</i>
		<dd>
			Append the <i>current input character</i>
			to the number token's representation.
			Remain in this state.

		<dt>U+002E FULL STOP (.)
		<dd>
			If the <i>next input character</i> is
			a <i>digit</i>,
			consume it.
			Append U+002E FULL STOP (.)
			followed by the <i>digit</i>
			to the number token's representation.
			Switch to the <i>number-fraction state</i>.

			<p>
				Otherwise,
				set the number token's value to the number
				produced by interpreting the number token's representation
				as a base-10 number
				and emit it.
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

		<dt>U+0025 PERCENT SIGN (%)
		<dd>
			Emit a percentage token
			with its value set to the number
			produced by interpreting the number token's representation
			as a base-10 number.
			Switch to the <i>data state</i>.

		<dt>U+0045 LATIN CAPITAL LETTER E (E)
		<dt>U+0065 LATIN SMALL LETTER E (e)
		<dd>
			If the <i>next input character</i> is a <i>digit</i>,
			or the <i title="next input character">next 2 input characters</i>
			are U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-) followed by a <i>digit</i>,
			consume them
			and append them to the number token's representation.
			Switch to the <i>sci-notation state</i>.

			<p>
				Otherwise,
				create a dimension token
				with its representation set to the number token's representation,
				its value set to the number
				produced by interpreting the number token's representation
				as a base-10 number,
				and a unit initially set to the <i>current input character</i>.
				Switch to the <i>dimension state</i>.

		<dt>U+002D HYPHEN-MINUS (-)
		<dd>
			If the <i>next input character</i> is
			a <i>name-start character</i>,
			consume it.
			Create a dimension token
			with its representation set to the number token's representation,
			its value set to the number
			produced by interpreting the number token's representation
			as a base-10 number,
			and a unit initially set to
			U+002D HYPHEN-MINUS
			followed by the <i>name-start character</i>.
			Switch to the <i>dimension state</i>.

			<p>
				Otherwise,
				if the <i title="next input character">next 2 input characters</i> are
				U+005C REVERSE SOLIDUS (\) followed by a <i>newline</i>,
				or U+005C REVERSE SOLIDUS (\) followed by EOF,
				set the number token's value to the number
				produced by interpreting the number token's representation
				as a base-10 number
				and emit it.
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				if the <i>next input character</i> is
				U+005C REVERSE SOLIDUS (\),
				consume it,
				then <i>consume an escaped character</i>.
				Create a dimension token
				with its representation set to the number token's representation,
				its value set to the number
				produced by interpreting the number token's representation
				as a base-10 number,
				and a unit initially set to
				U+002D HYPHEN-MINUS
				followed by the returned character.
				Switch to the <i>dimension state</i>.

			<p>
				Otherwise,
				set the number token's value to the number
				produced by interpreting the number token's representation
				as a base-10 number
				and emit it.
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

		<dt><i>name-start character</i>
		<dd>
			Create a dimension token
			with its representation set to the number token's representation,
			its value set to the number
			produced by interpreting the number token's representation
			as a base-10 number,
			and a unit initially set to the <i>current input character</i>.
			Switch to the <i>dimension state</i>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i> or EOF,
			set the number token's value to the number
			produced by interpreting the number token's representation
			as a base-10 number
			and emit it.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Create a dimension token
				with its representation set to the number token's representation,
				its value set to the number
				produced by interpreting the number token's representation
				as a base-10 number,
				and a unit initially set to the returned character.
				Switch to the <i>dimension state</i>.

		<dt>anything else
		<dd>
			Emit a number token
			with its value set to the number
			produced by interpreting the string token's value
			as a base-10 number.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>Number-fraction state</dfn></h4>

	<p>
		Set the number token's type flag to "number".

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>digit</i>
		<dd>
			Append the <i>current input character</i>
			to the string token's value.
			Remain in this state.

		<dt>U+0025 PERCENT SIGN (%)
		<dd>
			Emit a percentage token
			with its value set to the number
			produced by interpreting the number token's representation
			as a base-10 number.
			Switch to the <i>data state</i>.

		<dt>U+0045 LATIN CAPITAL LETTER E (E)
		<dt>U+0065 LATIN SMALL LETTER E (e)
		<dd>
			If the <i>next input character</i> is a <i>digit</i>,
			or the <i title="next input character">next 2 input characters</i>
			are U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-) followed by a <i>digit</i>,
			consume them
			and append them to the number token's representation.
			Switch to the <i>sci-notation state</i>.

			<p>
				Otherwise,
				create a dimension token
				with its representation set to the number token's representation,
				its value set to the number
				produced by interpreting the number token's representation
				as a base-10 number,
				and a unit initially set to the <i>current input character</i>.
				Switch to the <i>dimension state</i>.

		<dt>U+002D HYPHEN-MINUS (-)
		<dd>
			If the <i>next input character</i> is
			a <i>name-start character</i>,
			consume it.
			Create a dimension token
			with its representation set to the number token's representation,
			its value set to the number
			produced by interpreting the number token's representation
			as a base-10 number,
			and a unit initially set to
			U+002D HYPHEN-MINUS
			followed by the <i>name-start character</i>.
			Switch to the <i>dimension state</i>.

			<p>
				Otherwise,
				if the <i title="next input character">next 2 input characters</i> are
				U+005C REVERSE SOLIDUS (\) followed by a <i>newline</i>,
				or U+005C REVERSE SOLIDUS (\) followed by EOF,
				set the number token's value to the number
				produced by interpreting the number token's representation
				as a base-10 number
				and emit it.
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				if the <i>next input character</i> is
				U+005C REVERSE SOLIDUS (\),
				consume it,
				then <i>consume an escaped character</i>.
				Create a dimension token
				with its representation set to the number token's representation,
				its value set to the number
				produced by interpreting the number token's representation
				as a base-10 number,
				and a unit initially set to
				U+002D HYPHEN-MINUS
				followed by the returned character.
				Switch to the <i>dimension state</i>.

			<p>
				Otherwise,
				set the number token's value to the number
				produced by interpreting the number token's representation
				as a base-10 number
				and emit it.
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

		<dt><i>name-start character</i>
		<dd>
			Create a dimension token
			with its representation set to the number token's representation,
			its value set to the number
			produced by interpreting the number token's representation
			as a base-10 number,
			and a unit initially set to the <i>current input character</i>.
			Switch to the <i>dimension state</i>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i> or EOF,
			set the number token's value to the number
			produced by interpreting the number token's representation
			as a base-10 number
			and emit it.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Create a dimension token
				with its representation set to the number token's representation,
				its value set to the number
				produced by interpreting the number token's representation
				as a base-10 number,
				and a unit initially set to the returned character.
				Switch to the <i>dimension state</i>.


		<dt>anything else
		<dd>
			Emit a number token
			with its value set to the number
			produced by interpreting the string token's value
			as a base-10 number.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>Dimension state</dfn></h4>

	<!--
		This state is currently always entered with a dimension token
		having already been created and gotten over the "first valid character" hump,
		so the dimension token is already ready to emit.

		If this ever becomes not true, make the necessary additions here
		or things will break.
	-->

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>name character</i>
		<dd>
			Append the <i>current input character</i>
			to the dimension token's unit.
			Remain in this state.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			a <i>newline</i> or EOF,
			emit the dimension token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Append the returned character
				to the dimension token's unit.

		<dt>anything else
		<dd>
			Emit the dimension token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>Sci-notation state</dfn></h4>

	<p>
		Set the number token's type flag to "number".

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>digit</i>
		<dd>
			Append the <i>current input character</i>
			to the number token's representation.
			Remain in this state.

		<dt>anything else
		<dd>
			Let <var>base</var> be the result of interpreting the portion of the number token's representation
			preceding the U+0045 LATIN CAPITAL LETTER E (E) or U+0065 LATIN SMALL LETTER E (e)
			as a base-10 number.
			<p>
				Let <var>power</var> be the result of interpreting the portion of the number token's representation
				following the U+0045 LATIN CAPITAL LETTER E (E) or U+0065 LATIN SMALL LETTER E (e)
				as a base-10 number.
			<p>
				Set the number token's value to <code><var>base</var> * 10<sup><var>power</var></sup></code>.
				If the number token's value is not an integer,
				set the number token's type flag to "number".
				Emit the number token.
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>URL state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>EOF
		<dd>
			This is a <i>parse error</i>.
			Emit a bad-url token.
			Switch to the <i>data state</i>.

		<dt>U+0022 QUOTATION MARK (")
		<dd>
			Switch to the <i>url-double-quote state</i>.

		<dt>U+0027 APOSTROPHE (&apos;)
		<dd>
			Switch to the <i>url-single-quote state</i>.

		<dt>U+0029 RIGHT PARENTHESIS ())
		<dd>
			Emit a url token
			with its value set to the empty string.
			Switch to the <i>data state</i>.

		<dt><i>whitespace</i>
		<dd>
			Remain in this state.

		<dt>anything else
		<dd>
			Switch to the <i>url-unquoted state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>URL-double-quote state</dfn></h4>

	<p>
		If a url token has not yet been created since entering this state,
		create a url token
		with its value initially set to the empty string.

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>EOF
		<dd>
			This is a <i>parse error</i>.
			Emit a bad-url token.
			Switch to the <i>data state</i>.

		<dt>U+0022 QUOTATION MARK (")
		<dd>
			Switch to the <i>url-end state</i>.

		<dt><i>newline</i>
		<dd>
			This is a <i>parse error</i>.
			Switch to the <i>bad-url state</i>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			EOF,
			this is a <i>parse error</i>.
			Emit a bad-url token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise, if the <i>next input character</i> is
				a <i>newline</i>,
				consume it
				and remain in this state.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Append the returned character to the url token's value.
				Remain in this state.

		<dt>anything else
		<dd>
			Append the <i>current input character</i>
			to the url token's value.
			Remain in this state.
	</dl>

<h4>
<dfn>URL-single-quote state</dfn></h4>

	<p>
		If a url token has not yet been created since entering this state,
		create a url token
		with its value initially set to the empty string.

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>EOF
		<dd>
			This is a <i>parse error</i>.
			Emit a bad-url token.
			Switch to the <i>data state</i>.

		<dt>U+0027 APOSTROPHE (&apos;)
		<dd>
			Switch to the <i>url-end state</i>.

		<dt><i>newline</i>
		<dd>
			This is a <i>parse error</i>.
			Switch to the <i>bad-url state</i>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <i>next input character</i> is
			EOF,
			this is a <i>parse error</i>.
			Emit a bad-url token.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.

			<p>
				Otherwise, if the <i>next input character</i> is
				a <i>newline</i>,
				consume it
				and remain in this state.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Append the returned character to the url token's value.
				Remain in this state.

		<dt>anything else
		<dd>
			Append the <i>current input character</i>
			to the url token's value.
			Remain in this state.
	</dl>

<h4>
<dfn>URL-end state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>EOF
		<dd>
			This is a <i>parse error</i>.
			Emit a bad-url token.
			Switch to the <i>data state</i>.

		<dt><i>whitespace</i>
		<dd>
			Remain in this state.

		<dt>U+0029 RIGHT PARENTHESIS ())
		<dd>
			Emit the url token.
			Switch to the <i>data state</i>.

		<dt>anything else
		<dd>
			This is a <i>parse error</i>.
			Switch to the <i>bad-url state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h4>
<dfn>URL-unquoted state</dfn></h4>

	<p>
		If a url token has not yet been created since entering this state,
		create a url token
		with its value initially set to the empty string.

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>EOF
		<dd>
			This is a <i>parse error</i>.
			Emit a bad-url token.
			Switch to the <i>data state</i>.

		<dt><i>whitespace</i>
		<dd>
			Switch to the <i>url-end state</i>.

		<dt>U+0029 RIGHT PARENTHESIS ())
		<dd>
			Emit the url token.
			Switch to the <i>data state</i>.

		<dt>U+0022 QUOTATION MARK (")
		<dt>U+0027 APOSTROPHE (&apos;)
		<dt>U+0028 LEFT PARENTHESIS (()
		<dt><i>non-printable character</i>
		<dd>
			This is a <i>parse error</i>.
			Switch to the <i>bad-url state</i>.

		<dt>U+005C REVERSE SOLIDUS
		<dd>
			If the <i>next input character</i>
			is a <i>newline</i> or EOF,
			this is a <i>parse error</i>.
			Switch to the <i>bad-url state</i>.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Append the returned character
				to the url token's value.
				Remain in this state.

		<dt>anything else
		<dd>
			Append the <i>current input character</i>
			to the url token's value.
			Remain in this state.
	</dl>


<h4>
<dfn>Bad-URL state</dfn></h4>

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>EOF
		<dd>
			This is a <i>parse error</i>.
			Emit a bad-url token.
			Switch to the <i>data state</i>.

		<dt>U+0029 RIGHT PARENTHESIS ())
		<dd>
			Emit a bad-url token.
			Switch to the <i>data state</i>.

		<dt>U+005C REVERSE SOLIDUS
		<dd>
			If the <i>next input character</i>
			is a <i>newline</i> or EOF,
			do nothing
			and remain in this state.

			<p>
				Otherwise,
				<i>consume an escaped character</i>.
				Remain in this state.

		<dt>anything else
		<dd>
			Do nothing.
			Remain in this state.
	</dl>


<h4>
<dfn>Unicode-range state</dfn></h4>

	<p>
		Create a new unicode-range token
		with an empty range.

	<p>
		Consume as many <i>hex digits</i> as possible, but no more than 6.
		If less than 6 <i>hex digits</i> were consumed,
		consume as many U+003F QUESTION MARK (?) characters as possible,
		but no more than enough to make the total of <i>hex digits</i> and U+003F QUESTION MARK (?) characters equal to 6.

		<p>
			If any U+003F QUESTION MARK (?) characters were consumed,
			first interpret the consumed characters as a hexadecimal number,
			with the U+003F QUESTION MARK (?) characters replaced by U+0030 DIGIT ZERO (0) characters.
			This is the <i>start of the range</i>.
			Then interpret the consumed characters as a hexadecimal number again,
			with the U+003F QUESTION MARK (?) character replaced by U+0046 LATIN CAPITAL LETTER F (F) characters.
			This is the <i>end of the range</i>.
			<i>Set the unicode-range token's range</i>, then emit it.
			Switch to the <i>data state</i>.

		<p>
			Otherwise,
			interpret the digits as a hexadecimal number.
			This is the <i>start of the range</i>.

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt>U+002D HYPHEN-MINUS (-)
		<dd>
			If the <i>next input character</i> is a <i>hex digit</i>,
			consume as many <i>hex digits</i> as possible, but no more than 6.
			Interpret the digits as a hexadecimal number.
			This is the <i>end of the range</i>.
			<i>Set the unicode-range token's range</i>, then emit it.
			Switch to the <i>data state</i>.

			<p>
				Otherwise,
				<i>set the unicode-range token's range</i>
				and emit it.
				Switch to the <i>data state</i>.
				Reconsume the <i>current input character</i>.

		<dt>anything else
		<dd>
			<i>Set the unicode-range token's range</i>
			and emit it.
			Switch to the <i>data state</i>.
			Reconsume the <i>current input character</i>.
	</dl>

<h3>
<dfn>Consume an escaped character</dfn></h3>

	<p>
		This section describes how to <i>consume an escaped character</i>.
		It assumes that the U+005C REVERSE SOLIDUS (\) has already been consumed
		and that the next input character has already been verified
		to not be a <i>newline</i> or EOF.
		It will return a character.

	<p>
		Consume the <i>next input character</i>.

	<dl>
		<dt><i>hex digit</i>
		<dd>
			Consume as many <i>hex digits</i> as possible, but no more than 5.
			<span class='note'>Note that this means 1-6 hex digits have been consumed in total.</span>
			If the <i>next input character</i> is
			<i>whitespace</i>,
			consume it as well.
			Interpret the <i>hex digits</i> as a hexadecimal number.
			If this number is zero,
			or is greater than the <i>maximum allowed codepoint</i>,
			return U+FFFD REPLACEMENT CHARACTER (�).
			Otherwise, return the character with that codepoint.

		<dt>anything else
		<dd>
			Return the <i>current input character</i>.
	</dl>

<h3>
<dfn>Set the unicode-range token's range</dfn></h3>

	<p>
		This section describes how to set a unicode-range token's range
		so that the range it describes
		is within the supported range of unicode characters.

	<p>
		It assumes that the <dfn>start of the range</dfn> has been defined,
		the <dfn>end of the range</dfn> might be defined,
		and both are non-negative integers.

	<p>
		If the <i>start of the range</i> is greater than
		the <i>maximum allowed codepoint</i>,
		the unicode-range token's range is empty.

	<p>
		If the <i>end of the range</i> is defined,
		and it is less than the <i>start of the range</i>,
		the unicode-range token's range is empty.

	<p>
		If the <i>end of the range</i> is not defined,
		the unicode-range token's range
		is the single character whose codepoint is the <i>start of the range</i>.

	<p>
		Otherwise,
		if the <i>end of the range</i> is greater than
		the <i>maximum allowed codepoint</i>,
		change it to the <i>maximum allowed codepoint</i>.
		The unicode-range token's range
		is all characters between
		the character whose codepoint is the <i>start of the range</i>
		and the character whose codepoint is the <i>end of the range</i>.


<h3>
Changes from CSS 2.1 Tokenizer</h3>

	<p>
		<em>This section is non-normative.</em>

	<p class='note'>
		Note that the point of this spec is to match reality;
		changes from CSS2.1&apos;s tokenizer are nearly always because the tokenizer specified something that doesn't match actual browser behavior,
		or left something unspecified.
		If some detail doesn't match browsers,
		please let me know
		as it's almost certainly unintentional.

	<ol>
		<li>
			The prefix-match, suffix-match, and substring-match tokens have been imported from Selectors 3.

		<li>
			The BAD-URI token (now bad-url) is "self-contained".
			In other words, once the tokenizer realizes it's in a bad-url rather than a url token,
			it just seeks forward to look for the closing ),
			ignoring everything else.
			This behavior is simpler than treating it like a FUNCTION token
			and paying attention to opened blocks and such.
			Only WebKit exhibits this behavior,
			but it doesn't appear that we've gotten any compat bugs from it.

		<li>
			The comma token has been added.

		<li>
			The number, percentage, and dimension tokens have been changed
			to include the preceding +/- sign as part of their value
			(rather than as a separate DELIM token that needs to be manually handled every time the token is mentioned in other specs).
			The only consequence of this is that comments can no longer be inserted between the sign and the number.

		<li>
			Some flags have been added for SVG-compatible tokenizing,
			so that a single state machine can be used for both "vanilla" and SVG CSS parsing.

		<li>
			Scientific notation is supported for numbers,
			per WG resolution.

	</ol>


<!--
PPPPPPPPPPPPPPPPP        AAA               RRRRRRRRRRRRRRRRR      SSSSSSSSSSSSSSS EEEEEEEEEEEEEEEEEEEEEERRRRRRRRRRRRRRRRR
P::::::::::::::::P      A:::A              R::::::::::::::::R   SS:::::::::::::::SE::::::::::::::::::::ER::::::::::::::::R
P::::::PPPPPP:::::P    A:::::A             R::::::RRRRRR:::::R S:::::SSSSSS::::::SE::::::::::::::::::::ER::::::RRRRRR:::::R
PP:::::P     P:::::P  A:::::::A            RR:::::R     R:::::RS:::::S     SSSSSSSEE::::::EEEEEEEEE::::ERR:::::R     R:::::R
  P::::P     P:::::P A:::::::::A             R::::R     R:::::RS:::::S              E:::::E       EEEEEE  R::::R     R:::::R
  P::::P     P:::::PA:::::A:::::A            R::::R     R:::::RS:::::S              E:::::E               R::::R     R:::::R
  P::::PPPPPP:::::PA:::::A A:::::A           R::::RRRRRR:::::R  S::::SSSS           E::::::EEEEEEEEEE     R::::RRRRRR:::::R
  P:::::::::::::PPA:::::A   A:::::A          R:::::::::::::RR    SS::::::SSSSS      E:::::::::::::::E     R:::::::::::::RR
  P::::PPPPPPPPP A:::::A     A:::::A         R::::RRRRRR:::::R     SSS::::::::SS    E:::::::::::::::E     R::::RRRRRR:::::R
  P::::P        A:::::AAAAAAAAA:::::A        R::::R     R:::::R       SSSSSS::::S   E::::::EEEEEEEEEE     R::::R     R:::::R
  P::::P       A:::::::::::::::::::::A       R::::R     R:::::R            S:::::S  E:::::E               R::::R     R:::::R
  P::::P      A:::::AAAAAAAAAAAAA:::::A      R::::R     R:::::R            S:::::S  E:::::E       EEEEEE  R::::R     R:::::R
PP::::::PP   A:::::A             A:::::A   RR:::::R     R:::::RSSSSSSS     S:::::SEE::::::EEEEEEEE:::::ERR:::::R     R:::::R
P::::::::P  A:::::A               A:::::A  R::::::R     R:::::RS::::::SSSSSS:::::SE::::::::::::::::::::ER::::::R     R:::::R
P::::::::P A:::::A                 A:::::A R::::::R     R:::::RS:::::::::::::::SS E::::::::::::::::::::ER::::::R     R:::::R
PPPPPPPPPPAAAAAAA                   AAAAAAARRRRRRRR     RRRRRRR SSSSSSSSSSSSSSS   EEEEEEEEEEEEEEEEEEEEEERRRRRRRR     RRRRRRR
-->

<h2>
Parsing</h2>

	<p>
		The input to the parsing stage is a stream or list of tokens from the tokenization stage.
		The output depends on how the parser is invoked,
		as defined by the entry points listed later in this section.
		The parser output can consist of at-rules,
		qualified rules,
		and/or declarations.

	<p>
		The parser's output is constructed according to the fundamental syntax of CSS,
		without regards for the validity of any specific item.
		Implementations may check the validity of items as they are returned by the various parser algorithms
		and treat the algorithm as returning nothing if the item was invalid according to the implementation's own grammar knowledge,
		or may construct a full tree as specified
		and "clean up" afterwards by removing any invalid items.

	<p>
		The items that can appear in the tree are a mixture of basic tokens
		and new objects:

	<dl>
		<dt><dfn>at-rule</dfn>
		<dd>
			An at-rule has a name,
			a prelude consisting of a list of component values,
			and a value consisting of a list of at-rules, style rules, or declarations.

		<dt><dfn>qualified rule</dfn>
		<dd>
			A qualified rule has
			a prelude consisting of a list of component values,
			and a value consisting of a list of at-rules or declarations.

			<p class='note'>
				Most qualified rules will be style rules,
				where the prelude is a selector.

		<dt><dfn>declaration</dfn>
		<dd>
			A declaration has a name,
			a value consisting of a list of component values,
			and an <var>important</var> flag which is initially unset.

		<dt><dfn>component value</dfn>
		<dd>
			A component value is one of the preserved tokens,
			a function,
			or a simple block.

		<dt><dfn>preserved tokens</dfn>
		<dd>
			Any token produced by the tokenizer
			except for function tokens,
			{ tokens,
			( tokens,
			and [ tokens.

			<p class='note'>
				The non-preserved tokens listed above are always consumed into higher-level objects,
				either functions or simple blocks,
				and so never appear in any parser output themselves.

		<dt><dfn>function</dfn>
		<dd>
			A function has a name
			and a list of arguments.
			Each argument is a list of component values.

		<dt><dfn>simple block</dfn>
		<dd>
			A simple block has an associated token (either a [, (, or { token)
			and a value consisting of a list of component values.

		<dt><dfn>recognized at-rule name</dfn>
		<dd>
			When the parser is invoked,
			it must be provided with a list of <i>recognized at-rule names</i>,
			representing the <i>at-rules</i> that the invoker knows about.
			Each name in the list is additionally associated with whether the <i>at-rule</i> is
			<i>rule-filled</i>,
			<i>declaration-filled</i>,
			or neither.
	</dl>

<h3 id='parser-diagrams'>
Parser Railroad Diagrams</h3>

	<p>
		<em>This section is non-normative.</em>

	<p>
		This section presents an informative view of the parser,
		in the form of railroad diagrams.
		Railroad diagrams are more compact than a state-machine,
		but often easier to read than a regular expression.

	<p>
		These diagrams are <em>informative</em> and <em>incomplete</em>;
		they describe the grammar of "correct" stylesheets,
		but do not describe error-handling at all.
		They are provided solely to make it easier to get an intuitive grasp of the syntax.

	<!--
		The "source" of these diagrams is in ./Diagrams.src.html
		The generated SVG is copied here so that JavaScript is not required
		to view the spec.
	-->

	<dl>
		<dt id="stylesheet-diagram">Stylesheet</dt>
		<dd><svg class="railroad-diagram" width="313" height="200"><g transform="translate(.5 .5)"><path d="M 20 121 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 131h0"></path><path d="M272 131h0"></path><path d="M40 131a10 10 0 0 0 10 -10v-89a10 10 0 0 1 10 -10"></path><g><path d="M60 22h192"></path></g><path d="M252 22a10 10 0 0 1 10 10v89a10 10 0 0 0 10 10"></path><path d="M40 131h20"></path><g><path d="M60 131h0"></path><path d="M252 131h0"></path><path d="M60 131h10"></path><g><path d="M70 131h0"></path><path d="M242 131h0"></path><path d="M70 131a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path><g><path d="M90 101h16"></path><path d="M206 101h16"></path><rect x="106" y="90" width="100" height="22"></rect><text x="156" y="105">WHITESPACE</text></g><path d="M222 101a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><path d="M70 131a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path><g><path d="M90 71h44"></path><path d="M178 71h44"></path><rect x="134" y="60" width="44" height="22"></rect><text x="156" y="75">CDC</text></g><path d="M222 71a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path><path d="M70 131a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"></path><g><path d="M90 41h44"></path><path d="M178 41h44"></path><rect x="134" y="30" width="44" height="22"></rect><text x="156" y="45">CDO</text></g><path d="M222 41a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"></path><path d="M70 131h20"></path><g><path d="M90 131h0"></path><path d="M222 131h0"></path><rect x="90" y="120" width="132" height="22"></rect><text x="156" y="135">Qualified rule</text></g><path d="M222 131h20"></path><path d="M70 131a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M90 161h28"></path><path d="M194 161h28"></path><rect x="118" y="150" width="76" height="22"></rect><text x="156" y="165">At-rule</text></g><path d="M222 161a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><path d="M242 131h10"></path><path d="M70 131a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10"></path><g><path d="M70 180h172"></path></g><path d="M242 180a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10"></path></g><path d="M252 131h20"></path></g><path d="M 272 131 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="at-rule-diagram">At-rule</dt>
		<dd><svg class="railroad-diagram" width="769" height="132"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 41h10"></path><g><path d="M50 41h0"></path><path d="M150 41h0"></path><rect x="50" y="30" width="100" height="22"></rect><text x="100" y="45">AT-KEYWORD</text></g><path d="M150 41h10"></path><g><path d="M160 41h0"></path><path d="M360 41h0"></path><path d="M160 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M180 21h160"></path></g><path d="M340 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M160 41h20"></path><g><path d="M180 41h0"></path><path d="M340 41h0"></path><path d="M180 41h10"></path><g><path d="M190 41h0"></path><path d="M330 41h0"></path><rect x="190" y="30" width="140" height="22"></rect><text x="260" y="45">Component value</text></g><path d="M330 41h10"></path><path d="M190 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M190 61h140"></path></g><path d="M330 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M340 41h20"></path></g><g><path d="M360 41h0"></path><path d="M728 41h0"></path><path d="M360 41h20"></path><g><path d="M380 41h60"></path><path d="M648 41h60"></path><path d="M440 41h10"></path><g><path d="M450 41h0"></path><path d="M478 41h0"></path><rect x="450" y="30" width="28" height="22"></rect><text x="464" y="45">{</text></g><path d="M478 41h10"></path><path d="M488 41h10"></path><g><path d="M498 41h0"></path><path d="M590 41h0"></path><rect x="498" y="30" width="92" height="22"></rect><text x="544" y="45">Rule list</text></g><path d="M590 41h10"></path><path d="M600 41h10"></path><g><path d="M610 41h0"></path><path d="M638 41h0"></path><rect x="610" y="30" width="28" height="22"></rect><text x="624" y="45">}</text></g><path d="M638 41h10"></path></g><path d="M708 41h20"></path><path d="M360 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M380 71h0"></path><path d="M708 71h0"></path><path d="M380 71h10"></path><g><path d="M390 71h0"></path><path d="M418 71h0"></path><rect x="390" y="60" width="28" height="22"></rect><text x="404" y="75">{</text></g><path d="M418 71h10"></path><path d="M428 71h10"></path><g><path d="M438 71h0"></path><path d="M650 71h0"></path><rect x="438" y="60" width="212" height="22"></rect><text x="544" y="75">Declaration/at-rule list</text></g><path d="M650 71h10"></path><path d="M660 71h10"></path><g><path d="M670 71h0"></path><path d="M698 71h0"></path><rect x="670" y="60" width="28" height="22"></rect><text x="684" y="75">}</text></g><path d="M698 71h10"></path></g><path d="M708 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path><path d="M360 41a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path><g><path d="M380 101h118"></path><path d="M590 101h118"></path><rect x="498" y="90" width="92" height="22"></rect><text x="544" y="105">SEMICOLON</text></g><path d="M708 101a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path></g><path d="M 728 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="qualified-rule-diagram">Qualified rule</dt>
		<dd><svg class="railroad-diagram" width="609" height="81"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 41h0"></path><path d="M240 41h0"></path><path d="M40 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M60 21h160"></path></g><path d="M220 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M40 41h20"></path><g><path d="M60 41h0"></path><path d="M220 41h0"></path><path d="M60 41h10"></path><g><path d="M70 41h0"></path><path d="M210 41h0"></path><rect x="70" y="30" width="140" height="22"></rect><text x="140" y="45">Component value</text></g><path d="M210 41h10"></path><path d="M70 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M70 61h140"></path></g><path d="M210 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M220 41h20"></path></g><path d="M240 41h10"></path><g><path d="M250 41h0"></path><path d="M278 41h0"></path><rect x="250" y="30" width="28" height="22"></rect><text x="264" y="45">{</text></g><path d="M278 41h10"></path><path d="M288 41h10"></path><g><path d="M298 41h0"></path><path d="M510 41h0"></path><rect x="298" y="30" width="212" height="22"></rect><text x="404" y="45">Declaration/at-rule list</text></g><path d="M510 41h10"></path><path d="M520 41h10"></path><g><path d="M530 41h0"></path><path d="M558 41h0"></path><rect x="530" y="30" width="28" height="22"></rect><text x="544" y="45">}</text></g><path d="M558 41h10"></path><path d="M 568 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="rule-list-diagram">Rule list</dt>
		<dd><svg class="railroad-diagram" width="313" height="140"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 41h0"></path><path d="M272 41h0"></path><path d="M40 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M60 21h192"></path></g><path d="M252 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M40 41h20"></path><g><path d="M60 41h0"></path><path d="M252 41h0"></path><path d="M60 41h10"></path><g><path d="M70 41h0"></path><path d="M242 41h0"></path><path d="M70 41h20"></path><g><path d="M90 41h0"></path><path d="M222 41h0"></path><rect x="90" y="30" width="132" height="22"></rect><text x="156" y="45">Qualified rule</text></g><path d="M222 41h20"></path><path d="M70 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M90 71h28"></path><path d="M194 71h28"></path><rect x="118" y="60" width="76" height="22"></rect><text x="156" y="75">At-rule</text></g><path d="M222 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path><path d="M70 41a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path><g><path d="M90 101h16"></path><path d="M206 101h16"></path><rect x="106" y="90" width="100" height="22"></rect><text x="156" y="105">WHITESPACE</text></g><path d="M222 101a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path></g><path d="M242 41h10"></path><path d="M70 41a10 10 0 0 0 -10 10v59a10 10 0 0 0 10 10"></path><g><path d="M70 120h172"></path></g><path d="M242 120a10 10 0 0 0 10 -10v-59a10 10 0 0 0 -10 -10"></path></g><path d="M252 41h20"></path></g><path d="M 272 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="declaration-at-rule-list-diagram">Declaration/at-rule list</dt>
		<dd><svg class="railroad-diagram" width="653" height="102"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 41h10"></path><g><path d="M50 41h0"></path><path d="M94 41h0"></path><rect x="50" y="30" width="44" height="22"></rect><text x="72" y="45">ws*</text></g><path d="M94 41h10"></path><g><path d="M104 41h0"></path><path d="M612 41h0"></path><path d="M104 41h20"></path><g><path d="M124 41h0"></path><path d="M592 41h0"></path><g><path d="M124 41h0"></path><path d="M272 41h0"></path><path d="M124 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M144 21h108"></path></g><path d="M252 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M124 41h20"></path><g><path d="M144 41h0"></path><path d="M252 41h0"></path><rect x="144" y="30" width="108" height="22"></rect><text x="198" y="45">Declaration</text></g><path d="M252 41h20"></path></g><g><path d="M272 41h0"></path><path d="M592 41h0"></path><path d="M272 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M292 21h280"></path></g><path d="M572 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M272 41h20"></path><g><path d="M292 41h0"></path><path d="M572 41h0"></path><path d="M292 41h10"></path><g><path d="M302 41h0"></path><path d="M330 41h0"></path><rect x="302" y="30" width="28" height="22"></rect><text x="316" y="45">;</text></g><path d="M330 41h10"></path><path d="M340 41h10"></path><g><path d="M350 41h0"></path><path d="M562 41h0"></path><rect x="350" y="30" width="212" height="22"></rect><text x="456" y="45">Declaration/at-rule list</text></g><path d="M562 41h10"></path></g><path d="M572 41h20"></path></g></g><path d="M592 41h20"></path><path d="M104 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M124 71h70"></path><path d="M522 71h70"></path><path d="M194 71h10"></path><g><path d="M204 71h0"></path><path d="M280 71h0"></path><rect x="204" y="60" width="76" height="22"></rect><text x="242" y="75">At-rule</text></g><path d="M280 71h10"></path><path d="M290 71h10"></path><g><path d="M300 71h0"></path><path d="M512 71h0"></path><rect x="300" y="60" width="212" height="22"></rect><text x="406" y="75">Declaration/at-rule list</text></g><path d="M512 71h10"></path></g><path d="M592 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path></g><path d="M 612 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="declaration-diagram">Declaration</dt>
		<dd><svg class="railroad-diagram" width="709" height="81"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 41h10"></path><g><path d="M50 41h0"></path><path d="M110 41h0"></path><rect x="50" y="30" width="60" height="22"></rect><text x="80" y="45">IDENT</text></g><path d="M110 41h10"></path><path d="M120 41h10"></path><g><path d="M130 41h0"></path><path d="M174 41h0"></path><rect x="130" y="30" width="44" height="22"></rect><text x="152" y="45">ws*</text></g><path d="M174 41h10"></path><path d="M184 41h10"></path><g><path d="M194 41h0"></path><path d="M254 41h0"></path><rect x="194" y="30" width="60" height="22"></rect><text x="224" y="45">COLON</text></g><path d="M254 41h10"></path><path d="M264 41h10"></path><g><path d="M274 41h0"></path><path d="M318 41h0"></path><rect x="274" y="30" width="44" height="22"></rect><text x="296" y="45">ws*</text></g><path d="M318 41h10"></path><g><path d="M328 41h0"></path><path d="M528 41h0"></path><path d="M328 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M348 21h160"></path></g><path d="M508 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M328 41h20"></path><g><path d="M348 41h0"></path><path d="M508 41h0"></path><path d="M348 41h10"></path><g><path d="M358 41h0"></path><path d="M498 41h0"></path><rect x="358" y="30" width="140" height="22"></rect><text x="428" y="45">Component value</text></g><path d="M498 41h10"></path><path d="M358 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M358 61h140"></path></g><path d="M498 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M508 41h20"></path></g><g><path d="M528 41h0"></path><path d="M668 41h0"></path><path d="M528 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M548 21h100"></path></g><path d="M648 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M528 41h20"></path><g><path d="M548 41h0"></path><path d="M648 41h0"></path><rect x="548" y="30" width="100" height="22"></rect><text x="598" y="45">!important</text></g><path d="M648 41h20"></path></g><path d="M 668 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="important-diagram">!important</dt>
		<dd><svg class="railroad-diagram" width="481" height="62"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 31h10"></path><g><path d="M50 31h0"></path><path d="M134 31h0"></path><rect x="50" y="20" width="84" height="22"></rect><text x="92" y="35">DELIM(!)</text></g><path d="M134 31h10"></path><path d="M144 31h10"></path><g><path d="M154 31h0"></path><path d="M198 31h0"></path><rect x="154" y="20" width="44" height="22"></rect><text x="176" y="35">ws*</text></g><path d="M198 31h10"></path><path d="M208 31h10"></path><g><path d="M218 31h0"></path><path d="M366 31h0"></path><rect x="218" y="20" width="148" height="22"></rect><text x="292" y="35">IDENT(important)</text></g><path d="M366 31h10"></path><path d="M376 31h10"></path><g><path d="M386 31h0"></path><path d="M430 31h0"></path><rect x="386" y="20" width="44" height="22"></rect><text x="408" y="35">ws*</text></g><path d="M430 31h10"></path><path d="M 440 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="ws-diagram">ws*</dt>
		<dd><svg class="railroad-diagram" width="241" height="81"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 41h0"></path><path d="M200 41h0"></path><path d="M40 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M60 21h120"></path></g><path d="M180 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M40 41h20"></path><g><path d="M60 41h0"></path><path d="M180 41h0"></path><path d="M60 41h10"></path><g><path d="M70 41h0"></path><path d="M170 41h0"></path><rect x="70" y="30" width="100" height="22"></rect><text x="120" y="45">WHITESPACE</text></g><path d="M170 41h10"></path><path d="M70 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M70 61h100"></path></g><path d="M170 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M180 41h20"></path></g><path d="M 200 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="component-value-diagram">Component value</dt>
		<dd><svg class="railroad-diagram" width="261" height="782"><g transform="translate(.5 .5)"><path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><g><path d="M40 31h0"></path><path d="M220 31h0"></path><path d="M40 31h20"></path><g><path d="M60 31h40"></path><path d="M160 31h40"></path><rect x="100" y="20" width="60" height="22"></rect><text x="130" y="35">IDENT</text></g><path d="M200 31h20"></path><path d="M40 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path><g><path d="M60 61h20"></path><path d="M180 61h20"></path><rect x="80" y="50" width="100" height="22"></rect><text x="130" y="65">AT-KEYWORD</text></g><path d="M200 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"></path><g><path d="M60 91h44"></path><path d="M156 91h44"></path><rect x="104" y="80" width="52" height="22"></rect><text x="130" y="95">HASH</text></g><path d="M200 91a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"></path><g><path d="M60 121h36"></path><path d="M164 121h36"></path><rect x="96" y="110" width="68" height="22"></rect><text x="130" y="125">STRING</text></g><path d="M200 121a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"></path><g><path d="M60 151h48"></path><path d="M152 151h48"></path><rect x="108" y="140" width="44" height="22"></rect><text x="130" y="155">URL</text></g><path d="M200 151a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"></path><g><path d="M60 181h40"></path><path d="M160 181h40"></path><rect x="100" y="170" width="60" height="22"></rect><text x="130" y="185">DELIM</text></g><path d="M200 181a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"></path><g><path d="M60 211h36"></path><path d="M164 211h36"></path><rect x="96" y="200" width="68" height="22"></rect><text x="130" y="215">NUMBER</text></g><path d="M200 211a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"></path><g><path d="M60 241h20"></path><path d="M180 241h20"></path><rect x="80" y="230" width="100" height="22"></rect><text x="130" y="245">PERCENTAGE</text></g><path d="M200 241a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"></path><g><path d="M60 271h24"></path><path d="M176 271h24"></path><rect x="84" y="260" width="92" height="22"></rect><text x="130" y="275">DIMENSION</text></g><path d="M200 271a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"></path><g><path d="M60 301h8"></path><path d="M192 301h8"></path><rect x="68" y="290" width="124" height="22"></rect><text x="130" y="305">UNICODE-RANGE</text></g><path d="M200 301a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v280a10 10 0 0 0 10 10"></path><g><path d="M60 331h8"></path><path d="M192 331h8"></path><rect x="68" y="320" width="124" height="22"></rect><text x="130" y="335">INCLUDE-MATCH</text></g><path d="M200 331a10 10 0 0 0 10 -10v-280a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v310a10 10 0 0 0 10 10"></path><g><path d="M60 361h20"></path><path d="M180 361h20"></path><rect x="80" y="350" width="100" height="22"></rect><text x="130" y="365">DASH-MATCH</text></g><path d="M200 361a10 10 0 0 0 10 -10v-310a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v340a10 10 0 0 0 10 10"></path><g><path d="M60 391h12"></path><path d="M188 391h12"></path><rect x="72" y="380" width="116" height="22"></rect><text x="130" y="395">PREFIX-MATCH</text></g><path d="M200 391a10 10 0 0 0 10 -10v-340a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v370a10 10 0 0 0 10 10"></path><g><path d="M60 421h12"></path><path d="M188 421h12"></path><rect x="72" y="410" width="116" height="22"></rect><text x="130" y="425">SUFFIX-MATCH</text></g><path d="M200 421a10 10 0 0 0 10 -10v-370a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v400a10 10 0 0 0 10 10"></path><g><path d="M60 451h0"></path><path d="M200 451h0"></path><rect x="60" y="440" width="140" height="22"></rect><text x="130" y="455">SUBSTRING-MATCH</text></g><path d="M200 451a10 10 0 0 0 10 -10v-400a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v430a10 10 0 0 0 10 10"></path><g><path d="M60 481h20"></path><path d="M180 481h20"></path><rect x="80" y="470" width="100" height="22"></rect><text x="130" y="485">WHITESPACE</text></g><path d="M200 481a10 10 0 0 0 10 -10v-430a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v460a10 10 0 0 0 10 10"></path><g><path d="M60 511h48"></path><path d="M152 511h48"></path><rect x="108" y="500" width="44" height="22"></rect><text x="130" y="515">CDO</text></g><path d="M200 511a10 10 0 0 0 10 -10v-460a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v490a10 10 0 0 0 10 10"></path><g><path d="M60 541h48"></path><path d="M152 541h48"></path><rect x="108" y="530" width="44" height="22"></rect><text x="130" y="545">CDC</text></g><path d="M200 541a10 10 0 0 0 10 -10v-490a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v520a10 10 0 0 0 10 10"></path><g><path d="M60 571h40"></path><path d="M160 571h40"></path><rect x="100" y="560" width="60" height="22"></rect><text x="130" y="575">COLON</text></g><path d="M200 571a10 10 0 0 0 10 -10v-520a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v550a10 10 0 0 0 10 10"></path><g><path d="M60 601h24"></path><path d="M176 601h24"></path><rect x="84" y="590" width="92" height="22"></rect><text x="130" y="605">SEMICOLON</text></g><path d="M200 601a10 10 0 0 0 10 -10v-550a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v580a10 10 0 0 0 10 10"></path><g><path d="M60 631h40"></path><path d="M160 631h40"></path><rect x="100" y="620" width="60" height="22"></rect><text x="130" y="635">COMMA</text></g><path d="M200 631a10 10 0 0 0 10 -10v-580a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v610a10 10 0 0 0 10 10"></path><g><path d="M60 661h28"></path><path d="M172 661h28"></path><rect x="88" y="650" width="84" height="22"></rect><text x="130" y="665">{} block</text></g><path d="M200 661a10 10 0 0 0 10 -10v-610a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v640a10 10 0 0 0 10 10"></path><g><path d="M60 691h28"></path><path d="M172 691h28"></path><rect x="88" y="680" width="84" height="22"></rect><text x="130" y="695">() block</text></g><path d="M200 691a10 10 0 0 0 10 -10v-640a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v670a10 10 0 0 0 10 10"></path><g><path d="M60 721h28"></path><path d="M172 721h28"></path><rect x="88" y="710" width="84" height="22"></rect><text x="130" y="725">[] block</text></g><path d="M200 721a10 10 0 0 0 10 -10v-670a10 10 0 0 1 10 -10"></path><path d="M40 31a10 10 0 0 1 10 10v700a10 10 0 0 0 10 10"></path><g><path d="M60 751h4"></path><path d="M196 751h4"></path><rect x="64" y="740" width="132" height="22"></rect><text x="130" y="755">Function block</text></g><path d="M200 751a10 10 0 0 0 10 -10v-700a10 10 0 0 1 10 -10"></path></g><path d="M 220 31 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="{}-block-diagram">{} block</dt>
		<dd><svg class="railroad-diagram" width="377" height="81"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 41h10"></path><g><path d="M50 41h0"></path><path d="M78 41h0"></path><rect x="50" y="30" width="28" height="22"></rect><text x="64" y="45">{</text></g><path d="M78 41h10"></path><g><path d="M88 41h0"></path><path d="M288 41h0"></path><path d="M88 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M108 21h160"></path></g><path d="M268 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M88 41h20"></path><g><path d="M108 41h0"></path><path d="M268 41h0"></path><path d="M108 41h10"></path><g><path d="M118 41h0"></path><path d="M258 41h0"></path><rect x="118" y="30" width="140" height="22"></rect><text x="188" y="45">Component value</text></g><path d="M258 41h10"></path><path d="M118 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M118 61h140"></path></g><path d="M258 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M268 41h20"></path></g><path d="M288 41h10"></path><g><path d="M298 41h0"></path><path d="M326 41h0"></path><rect x="298" y="30" width="28" height="22"></rect><text x="312" y="45">}</text></g><path d="M326 41h10"></path><path d="M 336 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="()-block-diagram">() block</dt>
		<dd><svg class="railroad-diagram" width="377" height="81"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 41h10"></path><g><path d="M50 41h0"></path><path d="M78 41h0"></path><rect x="50" y="30" width="28" height="22"></rect><text x="64" y="45">(</text></g><path d="M78 41h10"></path><g><path d="M88 41h0"></path><path d="M288 41h0"></path><path d="M88 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M108 21h160"></path></g><path d="M268 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M88 41h20"></path><g><path d="M108 41h0"></path><path d="M268 41h0"></path><path d="M108 41h10"></path><g><path d="M118 41h0"></path><path d="M258 41h0"></path><rect x="118" y="30" width="140" height="22"></rect><text x="188" y="45">Component value</text></g><path d="M258 41h10"></path><path d="M118 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M118 61h140"></path></g><path d="M258 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M268 41h20"></path></g><path d="M288 41h10"></path><g><path d="M298 41h0"></path><path d="M326 41h0"></path><rect x="298" y="30" width="28" height="22"></rect><text x="312" y="45">)</text></g><path d="M326 41h10"></path><path d="M 336 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="[]-block-diagram">[] block</dt>
		<dd><svg class="railroad-diagram" width="377" height="81"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 41h10"></path><g><path d="M50 41h0"></path><path d="M78 41h0"></path><rect x="50" y="30" width="28" height="22"></rect><text x="64" y="45">[</text></g><path d="M78 41h10"></path><g><path d="M88 41h0"></path><path d="M288 41h0"></path><path d="M88 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M108 21h160"></path></g><path d="M268 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M88 41h20"></path><g><path d="M108 41h0"></path><path d="M268 41h0"></path><path d="M108 41h10"></path><g><path d="M118 41h0"></path><path d="M258 41h0"></path><rect x="118" y="30" width="140" height="22"></rect><text x="188" y="45">Component value</text></g><path d="M258 41h10"></path><path d="M118 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M118 61h140"></path></g><path d="M258 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M268 41h20"></path></g><path d="M288 41h10"></path><g><path d="M298 41h0"></path><path d="M326 41h0"></path><rect x="298" y="30" width="28" height="22"></rect><text x="312" y="45">]</text></g><path d="M326 41h10"></path><path d="M 336 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

		<dt id="function-block-diagram">Function block</dt>
		<dd><svg class="railroad-diagram" width="473" height="111"><g transform="translate(.5 .5)"><path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5"></path><path d="M40 41h10"></path><g><path d="M50 41h0"></path><path d="M134 41h0"></path><rect x="50" y="30" width="84" height="22"></rect><text x="92" y="45">FUNCTION</text></g><path d="M134 41h10"></path><path d="M144 41h10"></path><g><path d="M154 41h0"></path><path d="M374 41h0"></path><path d="M154 41h10"></path><g><path d="M164 41h0"></path><path d="M364 41h0"></path><path d="M164 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path><g><path d="M184 21h160"></path></g><path d="M344 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path><path d="M164 41h20"></path><g><path d="M184 41h0"></path><path d="M344 41h0"></path><path d="M184 41h10"></path><g><path d="M194 41h0"></path><path d="M334 41h0"></path><rect x="194" y="30" width="140" height="22"></rect><text x="264" y="45">Component value</text></g><path d="M334 41h10"></path><path d="M194 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path><g><path d="M194 61h140"></path></g><path d="M334 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path></g><path d="M344 41h20"></path></g><path d="M364 41h10"></path><path d="M164 41a10 10 0 0 0 -10 10v19a10 10 0 0 0 10 10"></path><g><path d="M164 80h70"></path><path d="M294 80h70"></path><rect x="234" y="69" width="60" height="22"></rect><text x="264" y="84">COMMA</text></g><path d="M364 80a10 10 0 0 0 10 -10v-19a10 10 0 0 0 -10 -10"></path></g><path d="M374 41h10"></path><path d="M384 41h10"></path><g><path d="M394 41h0"></path><path d="M422 41h0"></path><rect x="394" y="30" width="28" height="22" rx="10" ry="10"></rect><text x="408" y="45">)</text></g><path d="M422 41h10"></path><path d="M 432 41 h 20 m -10 -10 v 20 m 10 -20 v 20"></path></g></svg></dd>

	</dl>

<h3>
Parser Flags</h3>

	<dl>
		<dt>the <dfn>quirks mode</dfn> flag
		<dd>
			This flag is set when the host document is in quirks mode.
			When this is set,
			the parser allows <a href="#consume-a-component value-with-the-hashless-co">hash colors without the # character</a>
			and <a href="#consume-a-component value-with-the-unitless-le">pixel lengths without the 'px' unit</a>
			in some circumstances.
	</dl>

<h3>
Definitions</h3>

	<dl>
		<dt><dfn>current input token</dfn>
		<dd>
			The token currently being operated on, from the list of tokens produced by the tokenizer.

		<dt><dfn>next input token</dfn>
		<dd>
			The token following the <i>current input token</i> in the list of tokens produced by the tokenizer.
			If there isn't a token following the <i>current input token</i>,
			the <i>next input token</i> is an EOF token.

		<dt><dfn>EOF token</dfn>
		<dd>
			A conceptual token representing the end of the list of tokens.
			Whenever the list of tokens is empty, 
			the <i>next input token</i> is always an EOF token.

		<dt><dfn>reconsume the current input token</dfn>
		<dd>
			Push the current input token back onto the list of tokens produced by the tokenizer,
			so that the next time a mode instructs you to consume the next input token,
			it will instead reconsume the current input token.

		<dt><dfn>rule-filled</dfn>
		<dd>
			An at-rule is <i>rule-filled</i>
			if it is in the list of <i>recognized at-rules</i>
			and marked as such.
			This type of <i>at-rule</i> may have a prelude,
			and finishes with a <i>simple block</i>
			which contains <i>at-rules</i> and/or <i>qualified rules</i>.
			Examples of <i>rule-filled</i> at-rules are ''@media'' and ''@keyframes''.

		<dt><dfn>declaration-filled</dfn>
		<dd>
			An at-rule is <i>declaration-filled</i>
			if it is in the list of <i>recognized at-rules</i>
			and marked as such.
			This type of <i>at-rule</i> may have a prelude,
			and finishes with a <i>simple block</i>
			which contains <i>at-rules</i> and/or <i>declarations</i>.
			Examples of <i>declaration-filled</i> at-rules are ''@font-face'' and ''@page''.

		<dt><dfn>ASCII case-insensitive</dfn>
		<dd>
			When two strings are to be matched ASCII case-insensitively,
			temporarily convert both of them to ASCII lower-case form
			by adding 32 (0x20) to the value of each codepoint between
			U+0041 LATIN CAPITAL LETTER A (A)
			and U+005A LATIN CAPITAL LETTER Z (Z),
			inclusive,
			and then compare them on a codepoint-by-codepoint basis.
	</dl>



<h3>
Parser Entry Points</h3>

	<p>
		The algorithms defined in this specification can be invoked in multiple ways
		to convert a stream of text into various CSS concepts.

	<p>
		All of the algorithms defined in this section begin in the parser.
		It is assumed that the <a href="#preprocessing-the-input-stream">input preprocessing</a>
		and <a href="#tokenization">tokenization</a>
		steps have already been completed,
		resulting in a stream of tokens.

	<div class='issue'>
		<p>
			The following notes should probably be translated into normative text in the relevant specs,
			hooking this spec's terms:

		<ul>
			<li>
				"<i>Parse a stylesheet</i>" is intended to be the normal parser entry point,
				for parsing stylesheets.

			<li>
				"<i>Parse a rule</i>" is intended for use by the <code>CSSStyleSheet#insertRule</code> method,
				and similar functions which might exist,
				which parse text into a single rule.

			<li>
				"<i>Parse a list of declarations</i>" is for the contents of a <code>style</code> attribute,
				which parses text into the contents of a single style rule.

			<li>
				Dunno about "<i>Parse a value</i>" yet.
				I'll remove it if I don't figure out what to do with it.

			<li>
				"<i>Parse a list of values</i>" is for the contents of presentational attributes,
				which parse text into a single declaration's value.

			<li>
				"<i>Parse a comma-separated list of values</i>" is similar,
				but for comma-separated lists.
		</ul>

		<p>
			Are there any other things somewhere where some tech (that isn't straight CSS itself) needs to parse some text into CSS?
	</div>

	<p>
		All of the algorithms defined in this spec may be called with either a list of tokens or of component values.
		Either way produces an identical result.


<h4>
<dfn>Parse a stylesheet</dfn></h4>

	<p>
		To <i>parse a stylesheet</i> from a stream of tokens:

	<ol>
		<li>
			Create a new stylesheet.

		<li>
			<i>Consume a list of rules</i> from the stream of tokens.

		<li>
			Assign the returned value to the stylesheet's value.

		<li>
			Return the stylesheet.
	</ol>

<h4>
<dfn>Parse a rule</dfn></h4>

	<p>
		To <i>parse a rule</i> from a stream of tokens:

	<ol>
		<li>
			Consume whitespace tokens from the token stream until a non-whitespace token is encountered.

		<li>
			If the <i>current input token</i>
			is a CDO token, CDC token, or EOF token,
			return a syntax error.

			<p>
				Otherwise,
				if the <i>current input token</i> is an at-keyword token:

			<ul>
				<li>
					If the at-keyword token's name is on the list of <i>recognized at-rule names</i>,
					and the list indicates that it is a <i>rule-filled</i> or <i>declaration-filled</i> at-rule,
					<i>consume an at-rule</i>.
					If nothing was returned,
					return a syntax error.

				<li>
					Otherwise,
					<i>consume an at-statement</i>.
					If nothing was returned,
					return a syntax error.
			</ul>

			<p>
				Otherwise,
				<i>consume a qualified rule</i>.
				If nothing was returned,
				return a syntax error.

		<li>
			Consume whitespace tokens from the token stream until a non-whitespace token is encountered.

		<li>
			If the <i>current input token</i> is an EOF token,
			return the rule obtained in step 2.
			Otherwise, return a syntax error.
	</ol>

<h4>
<dfn>Parse a list of declarations</dfn></h4>

	<p>
		To <i>parse a list of declarations</i>:

	<ol>
		<li>
			<i>Consume a list of declarations</i>.
			If anything was returned,
			return it.
	</ol>

<h4>
<dfn>Parse a component value</dfn></h4>

	<p>
		To <i>parse a component value</i>:

	<ol>
		<li>
			Discard whitespace tokens from the token stream until a non-whitespace token is reached.
			If the token stream is exhausted without finding a non-whitespace token,
			return a syntax error.

		<li>
			<i>Consume a component value</i>.
			If nothing is returned,
			return a syntax error.

		<li>
			Discard whitespace tokens from the token stream until a non-whitespace token is reached.
			If the token stream is exhausted without finding a non-whitespace token,
			return the value found in the previous step.
			Otherwise,
			return a syntax error.
	</ol>

<h4>
<dfn>Parse a list of component values</dfn></h4>

	<p>
		To <i>parse a list of component values</i>:

	<ol>
		<li>
			Repeatedly <i>consume a component value</i> until an EOF token is returned,
			appending the returned values into a list.
			Return the list.
	</ol>

<h4>
<dfn>Parse a comma-separated list of component values</dfn></h4>

	<p>
		To <i>parse a comma-separated list of component values</i>:

	<ol>
		<li>
			Initialize <var>val</var> to an empty list,
			and <var>temp</var> to an empty list.

		<li>
			Repeatedly <i>consume a component value</i>,
			appending the returned values to <var>temp</var>,
			until either a comma token or EOF token is returned.

		<li>
			If a comma token is encountered,
			do not append it to <var>temp</var>.
			Instead,
			append <var>temp</var> to <var>val</var>.
			Create a new <var>temp</var>,
			and return to step 2.

		<li>
			If an EOF token is encountered,
			append <var>temp</var> to <var>val</var>,
			and return <var>val</var>.
	</ol>

<h4>
<dfn>Parse an+b notation</dfn></h4>

	<p>
		To <i>parse an+b notation</i>:

	<p>
		Initialize an integer called <var>step</var> to 0,
		an integer called <var>offset</var> to 0,
		and a string called <var>repr</var> to the empty string.

	<p>
		Repeatedly consume the <i>next input token</i>
		and process it as follows:

	<dl>
		<dt>ident token
		<dt>number token with its type flag set to "integer"
		<dt>dimension token
		<dd>
			Append the token's value, representation, or representation and unit, respectively, to <var>repr</var>.

		<dt>delim token with the value "+"
		<dd>
			Append U+002B PLUS SIGN (+) to <var>repr</var>.

		<dt>delim token with the value "-"
		<dd>
			Append U+002D HYPHEN-MINUS (-) to <var>repr</var>.

		<dt>whitespace token
		<dd>
			Append U+0020 SPACE ( ) to <var>repr</var>.

		<dt>EOF
		<dd>
			Continue to the next step of the algorithm.

		<dt>anything else
		<dd>
			This is a <i>parse error</i>.
			Return a syntax error.
	</dl>

	<p>
		Trim U+0020 SPACE ( ) characters from the front and back of <var>repr</var>,
		then process it as follows:

	<ol>
		<li>
			If <var>repr</var> is an <i>ASCII case-insensitive</i> match
			for the string "odd",
			set <var>step</var> to 2
			and <var>offset</var> to 1.

		<li>
			Otherwise, if <var>repr</var> is an <i>ASCII case-insensitive</i> match
			for the string "even",
			set <var>step</var> to 2
			and <var>offset</var> to 0.

		<li>
			Otherwise, if <var>repr</var> consists solely of <i>digits</i>,
			optionally prefixed with a single
			U+002B PLUS SIGN (+)
			or U+002D HYPHEN-MINUS (-),
			interpret <var>repr</var> as a base-10 number,
			and set <var>step</var> to the result.

		<li>
			Otherwise, if <var>repr</var> contains
			U+004E LATIN CAPITAL LETTER N (N),
			or U+006E LATIN SMALL LETTER N (n),
			split <var>repr</var> into two substrings
			composed respectively of the characters preceding and following the first such letter.

			<p>
				Interpret the first string as follows:

			<ul>
				<li>
					If the first string is empty,
					set <var>step</var> to 1.

				<li>
					Otherwise, if the first string consists solely of a single
					U+002B PLUS SIGN (+)
					or U+002D HYPHEN-MINUS (-),
					set <var>step</var> to 1 or -1, respectively.

				<li>
					Otherwise, if the first string consists solely of <i>digits</i>,
					optionally prefixed with a single
					U+002B PLUS SIGN (+)
					or U+002D HYPHEN-MINUS (-),
					interpret the first string as a base-10 number,
					and set <var>step</var> to the result.

				<li>
					Otherwise, this is a <i>parse error</i>;
					return a syntax error.
			</ul>

			<p>
				Interpret the second string as follows:

			<ul>
				<li>
					If the second string is empty,
					set <var>offset</var> to 0.

				<li>
					Otherwise, if the second string consists solely of
					0 or more U+0020 SPACE characters,
					optionally followed by a single
					U+002B PLUS SIGN (+)
					or U+002D HYPHEN-MINUS (-) character,
					followed by 0 or more U+0020 SPACE characters,
					followed by 1 or more <i>digits</i>,
					interpret the digits as a base-10 number.
					If there was a U+002D HYPHEN-MINUS (-) character,
					negate the result.
					Set <var>offset</var> to the result.

				<li>
					Otherwise, this is a <i>parse error</i>;
					return a syntax error.
			</ul>

		<li>
			Otherwise, this is a <i>parse error</i>;
			return a syntax error.
	</ol>

	<p>
		Return <var>step</var> and <var>offset</var>.

<h3>
Parser Algorithms</h3>

	<p>
		The following algorithms comprise the parser.
		They are called by the parser entry points above.

	<p>
		These algorithms may be called with a list of either tokens or of component values.
		(The difference being that some tokens are replaced by <i>functions</i> and <i>simple blocks</i> in a list of component values.)
		Similar to how the input stream returned EOF characters to represent when it was empty during the tokenization stage,
		the lists in this stage must return an EOF token when the next token is requested but they are empty.

	<p>
		An algorithm may be invoked with a specific list,
		in which case it consumes only that list
		(and when that list is exhausted,
		it begins returning EOF tokens).
		Otherwise,
		it is implicitly invoked with the same list as the invoking algorithm.


<h4>
<dfn>Consume a list of rules</dfn></h4>

	<p>
		Create an initially empty list of rules.

	<p>
		Repeatedly consume the <i>next input token</i>:

	<dl>
		<dt>cdo token
		<dt>cdc token
		<dt>whitespace token
		<dd>
			Do nothing.

		<dt>EOF token
		<dd>
			Return the list of rules.

		<dt>at-keyword token
		<dd>
			<i>Reconsume the current input token</i>.
			If the token's value is on the list of <i>recognized at-rule names</i>,
			and is noted as <i>rule-filled</i> or <i>declaration-filled</i>,
			<i>consume an at-rule</i>;
			otherwise,
			<i>consume an at-statement</i>.
			If anything was returned,
			append it to the list of rules.

		<dt>anything else
		<dd>
			<i>Reconsume the current input token</i>.
			<i>Consume a qualified rule</i>.
			If anything is returned,
			append it to the list of rules
	</dl>


<h4>
<dfn>Consume an at-rule</dfn></h4>

	<p>
		Create a new at-rule
		with its name set to the value of the <i>current input token</i>,
		its prelude initially set to an empty list,
		and its value initially set to nothing.


	<p>
		Repeatedly consume the <i>next input token</i>:

	<dl>
		<dt>{ token
		<dd>
			<i>Consume a simple block</i>.
			If the at-rule is <i>rule-filled</i>,
			<i>consume a list of rules</i> from the block's value;
			otherwise,
			<i>consume a list of declarations</i> from the block's value.
			If anything was returned,
			assign it to the at-rule's value.
			Return the at-rule.

		<dt><i>simple block</i> with an associated token of {
		<dd>
			If the at-rule is <i>rule-filled</i>,
			<i>consume a list of rules</i> from the block's value;
			otherwise,
			<i>consume a list of declarations</i> from the block's value.
			If anything was returned,
			assign it to the at-rule's value.
			Return the at-rule.


		<dt>EOF token
		<dd>
			This is a <i>parse error</i>.
			Return nothing.

		<dt>anything else
		<dd>
			<i>Consume a component value</i>.
			Append the returned value to the at-rule's prelude.
	</dl>

<h4>
<dfn>Consume an at-statement</dfn></h4>

	<p>
		Create a new at-rule
		with its name set to the value of the <i>current input token</i>,
		its prelude initially set to an empty list,
		and its value set to nothing.

	<p>
		Repeatedly consume the <i>next input token</i>:

	<dl>
		<dt>semicolon token
		<dt>EOF token
		<dd>
			Return the at-rule.

		<dt>anything else
		<dd>
			<i>Consume a component value</i>.
			Append the returned value to the at-rule's prelude.
	</dl>


<h4>
<dfn>Consume a qualified rule</dfn></h4>

	<p>
		Create a new qualified rule
		with its prelude initially set to an empty list,
		and its value initially set to nothing.

	<p>
		Repeatedly consume the <i>next input token</i>:

	<dl>
		<dt>EOF token
		<dd>
			This is a <i>parse error</i>.
			Return nothing.

		<dt>{ token
		<dd>
			<i>Consume a simple block</i>.
			<i>Consume a list of declarations</i> from the block's value.
			If anything was returned,
			assign it to the qualified rule's value.
			Return the qualified rule.

		<dt><i>simple block</i> with an associated token of {
		<dd>
			<i>Consume a list of declarations</i> from the block's value.
			If anything was returned,
			assign it to the qualified rule's value.
			Return the qualified rule.

		<dt>anything else
		<dd>
			<i>Consume a component value</i>.
			Append the returned value to the qualified rule's prelude.
	</dl>


<h4>
<dfn>Consume a list of declarations</dfn></h4>

	<p>
		Create an initially empty list of declarations.

	<p>
		Repeatedly consume the <i>next input token</i>:

	<dl>
		<dt>whitespace token
		<dt>semicolon token
		<dd>
			Do nothing.

		<dt>EOF token
		<dd>
			Return the list of declarations.

		<dt>at-keyword token
		<dd>
			<i>Reconsume the current input token</i>.
			If the token's value is on the list of <i>recognized at-rule names</i>,
			and is noted as <i>rule-filled</i> or <i>declaration-filled</i>,
			<i>consume an at-rule</i>;
			otherwise,
			<i>consume an at-statement</i>.
			If anything was returned,
			append it to the list of declarations.

		<dt>ident token
		<dd>
			Initialize a temporary list initially filled with the <i>current input token</i>.
			Repeatedly <i>consume a component value</i> from the <i>next input token</i>
			until a semicolon token or EOF token is returned,
			appending all of the returned values up to that point to the temporary list.
			<i>Consume a declaration</i> from the temporary list.
			If anything was returned,
			append it to the list of declarations.

		<dt>anything else</dd>
		<dd>
			This is a <i>parse error</i>.
			Repeatedly consume the <i>next input token</i>
			until it is a semicolon token or EOF token.
	</dl>


<h4>
<dfn>Consume a declaration</dfn></h4>

	<p>
		Create a new declaration
		with its name set to the value of the <i>current input token</i>.

	<p>
		Repeatedly consume whitespace tokens until a non-whitespace token is reached.
		If this token is anything but a colon token,
		this is a <i>parse error</i>.
		Return nothing.

	<p>
		Otherwise,
		repeatedly <i>consume a component value</i> from the <i>next input token</i>
		until an EOF token is reached,
		appending all of the returned values up to that point to the declaration's value.

	<p>
		If the last two non-whitespace tokens in the declaration's value are
		a delim token with the value "!"
		followed by an ident token with a value that is an <i>ASCII case-insensitive</i> match for "important",
		remove them from the declaration's value
		and set the declaration's <var>important</var> flag to true.

	<p>
		Return the declaration.


<h4>
<dfn>Consume a component value</dfn></h4>

	<p>
		This section describes how to <i>consume a component value</i>.

	<p>
		If the <i>current input token</i>
		is a {, [, or ( token,
		<i>consume a simple block</i>
		and return it.

	<p>
		Otherwise, if the <i>current input token</i>
		is a function token,
		<i>consume a function</i>
		and return it.

	<p>
		Otherwise, return the <i>current input token</i>.

<h4>
<dfn>Consume a component value with the hashless color quirk</dfn></h4>

	<p>
		This section describes how to <i>consume a component value with the hashless color quirk</i>.

	<p>
		The <dfn>hashless color quirk list</dfn> contains the following property names:

	<ul>
		<li>'background-color'
		<li>'border-color'
		<li>'border-top-color'
		<li>'border-right-color'
		<li>'border-bottom-color'
		<li>'border-left-color'
		<li>'color'
	</ul>

	<p>
		If the <i>current input token</i> is a number token,
		let <var>value</var> be the token's representation.
		If the <i>current input token</i> is a dimension token,
		let <var>value</var> be the token's representation followed by the token's unit.
		If the <i>current input token</i> is an ident token,
		let <var>value</var> be the token's value.

	<p>
		If <var>value</var> has a length of 3 or 6 and is composed solely of <i>hex digits</i>,
		create a hash token with its value set to the <var>value</var>
		and return it.

	<p>
		Otherwise,
		<i>consume a component value</i>
		and return the returned value.

<h4>
<dfn>Consume a component value with the unitless length quirk</dfn></h4>

	<p>
		This section describes how to <i>consume a component value with the unitless length quirk</i>.

	<p>
		The <dfn>unitless length quirk list</dfn> contains the following property names:

	<ul>
		<li>'border-top-width'
		<li>'border-right-width'
		<li>'border-bottom-width'
		<li>'border-left-width'
		<li>'border-width'
		<li>'bottom'
		<li>'font-size'
		<li>'height'
		<li>'left'
		<li>'letter-spacing'
		<li>'margin'
		<li>'margin-right'
		<li>'margin-left'
		<li>'margin-top'
		<li>'margin-bottom'
		<li>'padding'
		<li>'padding-top'
		<li>'padding-right'
		<li>'padding-bottom'
		<li>'padding-left'
		<li>'right'
		<li>'top'
		<li>'width'
		<li>'word-spacing'
	</ul>

	<p>
		If the <i>current input token</i> is a number token,
		create a dimension token with its value and representation set to the token's value and representation,
		and its unit set to "px".
		Return the dimension token.

	<p>
		Otherwise,
		<i>consume a component value</i>
		and return the returned value.



<h4>
<dfn>Consume a simple block</dfn></h4>

	<p>
		This section describes how to <i>consume a simple block</i>.

	<p>
		The <dfn>ending token</dfn> is the mirror variant of the <i>current input token</i>.
		(E.g. if it was called with [, the <i>ending token</i> is ].)

	<p>
		Create a simple block with its associated token set to the <i>current input token</i>.

	<p>
		Repeatedly consume the <i>next input token</i> and process it as follows:

	<dl>
		<dt>EOF token
		<dt><i>ending token</i>
		<dd>
			Return the block.

		<dt>anything else
		<dd>
			<i>Consume a component value</i>
			and append it to the value of the block.
	</dl>


<h4>
<dfn>Consume a function</dfn></h4>

	<p>
		This section describes how to <i>consume a function</i>.

	<p>
		Create a function with a name equal to the value of the <i>current input token</i>,
		and an argument list which is initially empty.
		Create an argument,
		called the <dfn>current argument</dfn>,
		with a value which is initially an empty list.

	<p>
		Repeatedly consume the <i>next input token</i> and process it as follows:

	<dl>
		<dt>EOF token
		<dt>) token
		<dd>
			Return the function.

		<dt>comma token
		<dd>
			Append the <i>current argument</i> to the function's argument list.
			Create a new <i>current argument</i> which is initially empty.

		<dt>number token
		<dd>
			If the <i>quirks mode</i> flag is set,
			and the function's name is as <i>ASCII case-insensitive</i> match with "rect",
			<i>consume a component value with the unitless length quirk</i>.
			If anything was returned,
			append the returned value
			to the value of the <i>current argument</i>;
			otherwise, set the <var>valid</var> flag to false.

			<p>
				Otherwise,
				<i>consume a component value</i>.
				If anything was returned,
				append the returned value
				to the value of the <i>current argument</i>;
				otherwise, set the <var>valid</var> flag to false.

		<dt>anything else
		<dd>
			<i>Consume a component value</i>
			and append the returned value
			to the value of the <i>current argument</i>.
	</dl>



<h3>
Changes from CSS 2.1 Core Grammar</h3>

	<p>
		<em>This section is non-normative.</em>

	<p class='note'>
		Note that the point of this spec is to match reality;
		changes from CSS2.1&apos;s Core Grammar are nearly always because the Core Grammar specified something that doesn't match actual browser behavior,
		or left something unspecified.
		If some detail doesn't match browsers,
		please let me know
		as it's almost certainly unintentional.

	<ol>
		<li>
			The handling of some miscellanous "special" tokens
			(like an unmatched } token)
			showing up in various places in the grammar
			has been specified with some reasonable behavior shown by at least one browser.
			Previously, stylesheets with those tokens in those places just didn't match the stylesheet grammar at all,
			so their handling was totally undefined.
			Specifically:

			<ul>
				<li>
					[] blocks, () blocks and functions can now contain {} blocks, at-keywords or semicolons

				<li>
					Selectors can now contain semicolons

				<li>
					Selectors and at-rule preludes can now contain at-keywords
			</ul>

		<li>
			Quirks mode parsing differences are now officially recognized in the parser.
	</ol>




<h2>Serialization</h2>

	<p>
		This specification does not define how to serialize CSS in general,
		leaving that task to the CSSOM and individual feature specifications.
		However, there is one important facet that must be specified here regarding comments,
		to ensure accurate "round-tripping" of data from text to CSS objects and back.

	<p>
		The tokenizer described in this specification does not produce tokens for comments,
		or otherwise preserve them in any way.
		Implementations may preserve the contents of comments and their location in the token stream.
		If they do, this preserved information must have no effect on the parsing step,
		but must be serialized in its position as
		"/*"
		followed by its contents
		followed by "*/".

	<p>
		If the implementation does not preserve comments,
		it must insert the text "/**/" between the serialization of adjacent tokens
		when the two tokens are of the following pairs:

	<ul>
		<li>
			hash or at-keyword token followed by a number, percentage, ident, dimension, unicode-range, url, or a function token;

		<li>
			number, ident, and dimension tokens in any combination;

		<li>
			number, ident, or dimension token followed by a percentage, unicode-range, url, or function token;

		<li>
			ident token followed by a ( token;

		<li>
			a delim token containing "#" or "@" followed by any token except whitespace;

		<li>
			a delim token containing "-", "+", ".", "&lt;", ">", or "!" following or followed by any token except whitespace;

		<li>
			a delim token containing "/" following or followed by a delim token containing "*".
	</ul>

	<p class='note'>
		The preceding pairs of tokens can only be adjacent due to comments in the original text,
		so the above rule reinserts the minimum number of comments into the serialized text to ensure an accurate round-trip.
		(Roughly.  The delim token rules are slightly too powerful, for simplicity.)




<!--

TTTTTTTTTTTTTTTTTTTTTTTHHHHHHHHH     HHHHHHHHHEEEEEEEEEEEEEEEEEEEEEE
T:::::::::::::::::::::TH:::::::H     H:::::::HE::::::::::::::::::::E
T:::::::::::::::::::::TH:::::::H     H:::::::HE::::::::::::::::::::E
T:::::TT:::::::TT:::::THH::::::H     H::::::HHEE::::::EEEEEEEEE::::E
TTTTTT  T:::::T  TTTTTT  H:::::H     H:::::H    E:::::E       EEEEEE
        T:::::T          H:::::H     H:::::H    E:::::E
        T:::::T          H::::::HHHHH::::::H    E::::::EEEEEEEEEE
        T:::::T          H:::::::::::::::::H    E:::::::::::::::E
        T:::::T          H:::::::::::::::::H    E:::::::::::::::E
        T:::::T          H::::::HHHHH::::::H    E::::::EEEEEEEEEE
        T:::::T          H:::::H     H:::::H    E:::::E
        T:::::T          H:::::H     H:::::H    E:::::E       EEEEEE
      TT:::::::TT      HH::::::H     H::::::HHEE::::::EEEEEEEE:::::E
      T:::::::::T      H:::::::H     H:::::::HE::::::::::::::::::::E
      T:::::::::T      H:::::::H     H:::::::HE::::::::::::::::::::E
      TTTTTTTTTTT      HHHHHHHHH     HHHHHHHHHEEEEEEEEEEEEEEEEEEEEEE



EEEEEEEEEEEEEEEEEEEEEENNNNNNNN        NNNNNNNNDDDDDDDDDDDDD
E::::::::::::::::::::EN:::::::N       N::::::ND::::::::::::DDD
E::::::::::::::::::::EN::::::::N      N::::::ND:::::::::::::::DD
EE::::::EEEEEEEEE::::EN:::::::::N     N::::::NDDD:::::DDDDD:::::D
  E:::::E       EEEEEEN::::::::::N    N::::::N  D:::::D    D:::::D
  E:::::E             N:::::::::::N   N::::::N  D:::::D     D:::::D
  E::::::EEEEEEEEEE   N:::::::N::::N  N::::::N  D:::::D     D:::::D
  E:::::::::::::::E   N::::::N N::::N N::::::N  D:::::D     D:::::D
  E:::::::::::::::E   N::::::N  N::::N:::::::N  D:::::D     D:::::D
  E::::::EEEEEEEEEE   N::::::N   N:::::::::::N  D:::::D     D:::::D
  E:::::E             N::::::N    N::::::::::N  D:::::D     D:::::D
  E:::::E       EEEEEEN::::::N     N:::::::::N  D:::::D    D:::::D
EE::::::EEEEEEEE:::::EN::::::N      N::::::::NDDD:::::DDDDD:::::D
E::::::::::::::::::::EN::::::N       N:::::::ND:::::::::::::::DD
E::::::::::::::::::::EN::::::N        N::::::ND::::::::::::DDD
EEEEEEEEEEEEEEEEEEEEEENNNNNNNN         NNNNNNNDDDDDDDDDDDDD
-->

<h2 id="conformance">
Conformance</h2>

<h3 id="conventions">
Document conventions</h3>

	<p>Conformance requirements are expressed with a combination of
	descriptive assertions and RFC 2119 terminology. The key words “MUST”,
	“MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
	“RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
	document are to be interpreted as described in RFC 2119.
	However, for readability, these words do not appear in all uppercase
	letters in this specification.

	<p>All of the text of this specification is normative except sections
	explicitly marked as non-normative, examples, and notes. [[!RFC2119]]</p>

	<p>Examples in this specification are introduced with the words “for example”
	or are set apart from the normative text with <code>class="example"</code>,
	like this:

	<div class="example">
		<p>This is an example of an informative example.</p>
	</div>

	<p>Informative notes begin with the word “Note” and are set apart from the
	normative text with <code>class="note"</code>, like this:

	<p class="note">Note, this is an informative note.</p>

<h3 id="conformance-classes">
Conformance classes</h3>

	<p>Conformance to CSS Syntax Module Level 3 is defined for three conformance classes:

	<dl>
		<dt><dfn title="style sheet!!as conformance class">style sheet</dfn>
			<dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
			style sheet</a>.
		<dt><dfn>renderer</dfn>
			<dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
			that interprets the semantics of a style sheet and renders
			documents that use them.
		<dt><dfn id="authoring-tool">authoring tool</dfn>
			<dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
			that writes a style sheet.
	</dl>

	<p>A style sheet is conformant to CSS Syntax Module Level 3
	if it is syntactically valid according to this module.

	<p>A renderer is conformant to CSS Syntax Module Level 3
	if it parses a stylesheet according to this module.

	<p>An authoring tool is conformant to CSS Syntax Module Level 3
	if it writes style sheets that are syntactically valid according to this module.

<h2 class=no-num id="acknowledgments">
Acknowledgments</h2>

	<p>
		Thanks for feedback and contributions from
		David Baron,
		呂康豪 (Kang-Hao Lu),
		and Simon Sapin.


<h2 class=no-num id="references">
References</h2>

<h3 class="no-num" id="normative-references">
Normative references</h3>
<!--normative-->

<h3 class="no-num" id="other-references">
Other references</h3>
<!--informative-->

<h2 class="no-num" id="index">
Index</h2>
<!--index-->

<h2 class="no-num" id="property-index">
Property index</h2>
<!-- properties -->

</body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
