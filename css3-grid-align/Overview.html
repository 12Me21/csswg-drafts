<!DOCTYPE html>

<html lang=en>
 <head profile="http://www.w3.org/2006/03/hcard"><meta
  content="text/html; charset=utf-8" http-equiv=Content-Type>

  <title>CSS Grid Layout</title>
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
  type="text/css">

  <style type="text/css">
      .example { 
          clear:both
      }

      th { 
          text-align:left
      }

      .pseudo-code {
          font-family:monospace
      }
      .pseudo-code > ol {
          list-style-type:decimal
      }
      .pseudo-code > ol > li > ol {
          list-style-type:lower-latin
      }
      .pseudo-code > ol > li > ol > li > ol {
          list-style-type:lower-roman
      }
      .pseudo-code ul {
          list-style-type:disc
      }

      dd > p:nth-child(1) {
          margin-top:0
      }
  </style>

 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1 class=title id=title>CSS Grid Layout</h1>

   <h2 class="no-num no-toc" id=longstatus-date-3-march-2012>Editor's Draft,
    6 February 2012</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://dev.w3.org/csswg/css3-grid-align/">http://dev.w3.org/csswg/css3-grid-align/</a>

    <dt>Latest published version:

    <dd><a
     href="http://www.w3.org/TR/css3-grid-layout">http://www.w3.org/TR/css3-grid-layout</a>

    <dt>Previous version

    <dd><a
     href="http://www.w3.org/TR/2011/WD-css3-grid-layout-20110407">http://www.w3.org/TR/2011/WD-css3-grid-layout-20110407</a>

    <dt>Editors:

    <dd><a href="mailto:alexmog@microsoft.com">Alex Mogilevsky</a>, Microsoft
     Corporation

    <dd><a href="mailto:pcupp@microsoft.com">Phil Cupp</a>, Microsoft
     Corporation

    <dd><a href="mailto:mmielke@microsoft.com">Markus Mielke</a>, Microsoft
     Corporation

    <dd><a href="mailto:daniel.glazman@disruptive-innovations.com">Daniel
     Glazman</a>, Disruptive Innovations
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> &copy; 2012 <a href="http://www.w3.org/"><abbr
    title="World Wide Web Consortium">W3C</abbr></a><sup>&reg;</sup> (<a
    href="http://www.csail.mit.edu/"><abbr
    title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
    href="http://www.ercim.eu/"><abbr
    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract0>Abstract</h2>
  <section id=abstract>
  <p> Grid Layout contains features targeted at web application authors. The
   Grid can be used to achieve many different layouts. It excels at dividing
   up space for major regions of an application, or defining the relationship
   in terms of size, position, and layer between parts of a control built
   from HTML primitives.</p>

  <p> Like tables, the Grid enables an author to align elements into columns
   and rows, but unlike tables, the Grid doesn't have content structure, and
   thus enables a wide variety of layouts not possible with tables. For
   example, the children of the Grid can position themselves with <a
   href="#grid-line"><i>Grid lines</i></a> such that they overlap and layer
   similar to positioned elements.</p>

  <p> In addition, the absence of content structure in the Grid helps to
   manage changes to layout by using fluid and source order independent
   layout techniques. By combining media queries with the CSS properties that
   control layout of the Grid and its children, authors can adapt their
   layout to changes in device form factors, orientation, and available
   space, without needing to alter the semantic nature of their content.</p>
  </section>
  <h2 class="no-num no-toc" id=status-of-this-document>Status of This
   Document</h2>

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p> If you wish to make comments regarding this document, please send them
   to <a href="mailto:www-style@w3.org">www-style@w3.org</a> (<a
   href="mailto:www-style-request@w3.org?subject=subscribe">subscribe</a>, <a
   href="http://lists.w3.org/Archives/Public/www-style/">archives</a>). All
   feedback is welcome.

  <p>This document was produced by a group operating under the <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February
   2004 W3C Patent Policy</a>. W3C maintains a <a
   href="http://www.w3.org/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
   6 of the W3C Patent Policy</a>.

  <h2 class="no-num no-toc" id=table>Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#dependencies-on-other-modules"><span class=secno>1.
    </span>Dependencies on other modules</a>

   <li><a href="#introduction0"><span class=secno>2. </span>Introduction</a>
    <ul class=toc>
     <li><a href="#basic-capabilities-of-the-grid"><span class=secno>2.1.
      </span>Basic Capabilities of the Grid</a>

     <li><a href="#adapting-layouts-to-available-space"><span
      class=secno>2.2. </span>Adapting Layouts to Available Space</a>

     <li><a href="#source-independence0"><span class=secno>2.3. </span>Source
      Independence</a>

     <li><a href="#grid-layering-of-elements0"><span class=secno>2.4.
      </span>Grid Layering of Elements</a>
    </ul>

   <li><a href="#core-concepts-of-the-grid"><span class=secno>3. </span>Core
    Concepts of the Grid</a>
    <ul class=toc>
     <li><a href="#grid-tracks"><span class=secno>3.1. </span>Grid Tracks</a>
      

     <li><a href="#grid-lines"><span class=secno>3.2. </span>Grid Lines</a>

     <li><a href="#grid-cells"><span class=secno>3.3. </span>Grid Cells</a>
    </ul>

   <li><a href="#grid-declaration0"><span class=secno>4. </span>Grid
    Declaration</a>

   <li><a href="#grid-items0"><span class=secno>5. </span>Grid Items</a>

   <li><a href="#defining-grid-rows-columns-and-lines0"><span class=secno>6.
    </span>Defining Grid Rows, Columns and Lines</a>
    <ul class=toc>
     <li><a href="#grid-rows-and-columns0"><span class=secno>6.1. </span>Grid
      Rows and Columns</a>

     <li><a href="#named-grid-lines"><span class=secno>6.2. </span>Named Grid
      Lines</a>

     <li><a href="#starting-and-ending-grid-lines"><span class=secno>6.3.
      </span>Starting and Ending Grid Lines</a>

     <li><a href="#repeating-columns-and-rows"><span class=secno>6.4.
      </span>Repeating Columns and Rows</a>

     <li><a href="#grid-columns-and-grid-rows-properties"><span
      class=secno>6.5. </span>Grid-columns and Grid-rows Properties</a>
      <ul class=toc>
       <li><a href="#fraction-values-fr0"><span class=secno>6.5.1.
        </span>Fraction Values: &lsquo;<code
        class=property>fr</code>&rsquo;</a>

       <li><a href="#computed-values-for-grid-rows-and-grid-c"><span
        class=secno>6.5.2. </span>Computed Values for Grid-rows and
        Grid-columns</a>
      </ul>
    </ul>

   <li><a href="#placing-grid-items"><span class=secno>7. </span>Placing Grid
    Items</a>
    <ul class=toc>
     <li><a href="#anonymous-grid-cells0"><span class=secno>7.1.
      </span>Anonymous Grid Cells</a>

     <li><a href="#defining-grid-cells-with-a-template0"><span
      class=secno>7.2. </span>Defining Grid Cells with a Template</a>

     <li><a href="#grid-row-span-and-grid-column-span0"><span
      class=secno>7.3. </span>Grid-row-span and Grid-column-span</a>

     <li><a href="#implicit-columns-and-rows"><span class=secno>7.4.
      </span>Implicit Columns and Rows</a>
      <ul class=toc>
       <li><a href="#defining-a-default-size-for-implicit-col"><span
        class=secno>7.4.1. </span>Defining a Default Size for Implicit
        Columns and Rows</a>
      </ul>

     <li><a href="#automatic-placement-of-grid-items0"><span class=secno>7.5.
      </span>Automatic Placement of Grid Items</a>
      <ul class=toc>
       <li><a href="#automatic-grid-item-placement-algorithm0"><span
        class=secno>7.5.1. </span>Automatic Grid Item Placement Algorithm</a>
        
      </ul>
    </ul>

   <li><a href="#grid-item-alignment0"><span class=secno>8. </span>Grid Item
    Alignment</a>
    <ul class=toc>
     <li><a href="#calculating-the-size-of-grid-items"><span class=secno>8.1.
      </span>Calculating the Size of Grid Items</a>
    </ul>

   <li><a href="#drawing-order-of-grid-items0"><span class=secno>9.
    </span>Drawing Order of Grid Items</a>

   <li><a href="#calculating-the-size-of-grid-tracks"><span class=secno>10.
    </span>Calculating the Size of Grid Tracks</a>
    <ul class=toc>
     <li><a href="#definition-of-terms-for-use-in-calculati"><span
      class=secno>10.1. </span>Definition of Terms for use in Calculating
      Grid Track Sizes</a>

     <li><a href="#grid-track-sizing-algorithm0"><span class=secno>10.2.
      </span>Grid Track Sizing Algorithm</a>
    </ul>

   <li class=no-num><a href="#changes-from-previous-version">Changes from
    Previous Working Draft</a>

   <li class=no-num><a href="#acknowledgements">Acknowledgements</a>

   <li class=no-num><a href="#references"> References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references"> Normative
      references</a>

     <li class=no-num><a href="#other-references"> Other references</a>
    </ul>

   <li class=no-num><a href="#index"> Index</a>

   <li class=no-num><a href="#property-index"> Property index</a>
  </ul>
  <!--end-toc-->
  <section class=section id=dependencies>
  <h2 id=dependencies-on-other-modules><span class=secno>1.
   </span>Dependencies on other modules</h2>

  <p> This CSS3 module has normative references to the following other CSS3
   modules:</p>

  <ul>
   <li><a href="#CSS3VAL" rel=biblioentry>[CSS3VAL]<!--{{!CSS3VAL}}--></a>

   <li><a href="#CSS3-WRITING-MODES"
    rel=biblioentry>[CSS3-WRITING-MODES]<!--{{!CSS3-WRITING-MODES}}--></a>
  </ul>

  <p> This CSS3 module has non-normative (informative) references to the
   following other CSS3 modules:</p>

  <ul>
   <li><a href="#CSS3LAYOUT"
    rel=biblioentry>[CSS3LAYOUT]<!--{{CSS3LAYOUT}}--></a>
  </ul>
  </section><!--End section: Dependencies -->
  <section class=section id=Introduction>
  <h2 id=introduction0><span class=secno>2. </span>Introduction</h2>
  <section class=section id=basic-capabilities>
  <h3 id=basic-capabilities-of-the-grid><span class=secno>2.1. </span>Basic
   Capabilities of the Grid</h3>

  <div class=sidefigure> <img
   alt="Image: Application layout example requiring horizontal and vertical alignment."
   class=figure src="images/basic-form.png">
   <p class=caption>Application layout example requiring horizontal and
    vertical alignment.</p>
  </div>

  <p> As websites evolved from simple documents into complex, interactive
   applications, tools for document layout, e.g. floats, were not necessarily
   well suited for application layout. By using a combination of tables,
   JavaScript, or careful measurements on floated elements, authors
   discovered workarounds to achieve desired layouts. Layouts that adapted to
   the available space were often brittle and resulted in counter-intuitive
   behavior as space became constrained. As an alternative, authors of many
   web applications opted for a fixed layout that cannot take advantage of
   changes in the available rendering space on a screen.</p>

  <p> The layout capabilities of the Grid address these problems. The Grid
   provides a mechanism for authors to divide available space for layout into
   columns and rows using a set of predictable sizing behaviors. Authors can
   then precisely position and size the building block elements of their
   application by referencing the <a href="#grid-line"><i>Grid lines</i></a>
   between the columns and rows, or by defining and referencing a <a
   href="#grid-cell"><i>Grid cell</i></a>, which is a rectangular space
   covering an intersection of columns and rows. Figure 1 illustrates a basic
   layout which can be achieved with the Grid.</p>
  <!--End Section: Basic Capabilities of the Grid--> </section> <section
  class=section id=adapting-to-available-space>
  <h3 id=adapting-layouts-to-available-space><span class=secno>2.2.
   </span>Adapting Layouts to Available Space</h3>

  <div class=sidefigure>
   <p> <img
    alt="Image: Five grid items arranged according to content size and available space."
    src="images/game-smaller.png"></p>

   <p class=caption>Five grid items arranged according to content size and
    available space.</p>
  </div>

  <div class=sidefigure>
   <p> <img
    alt="Image: Growth in the grid due to an increase in available space."
    src="images/game-larger.png"></p>

   <p class=caption>Growth in the grid due to an increase in available space.</p>
  </div>

  <p> The <a href="#grid-element"><i>Grid element</i></a> can be used to
   intelligently reflow elements within a webpage. Figure 2 represents a game
   with five major areas in the layout: the game title, stats area, game
   board, score area, and control area. The author's intent is to divide the
   space for the game such that:

  <ul>
   <li>The stats area always appears immediately under the game title.

   <li>The game board appears to the right of the stats and title.

   <li>The top of the game title and the game board should always align.

   <li>The bottom of the game board and the stats area align when the game
    has reached its minimum height, but otherwise the game board will stretch
    to take advantage of all the screen real-estate available to it.

   <li>The score area should align into the column created by the game and
    stats area, while the controls are centered under the board.
  </ul>

  <p> As an alternative to using script to control the absolute position,
   width, and height of all elements, the author can use the <a
   href="#grid-element"><i>Grid element</i></a>, as shown in Figure 3. The
   following example shows how an author might achieve all the sizing,
   placement, and alignment rules declaratively.</p>

  <p> Note that there are multiple ways to specify the structure of the <a
   href="#grid-element"><i>Grid element</i></a> and to position and size <a
   href="#grid-item"><i>Grid items</i></a>, each optimized for different
   scenarios. This example illustrates one that an author may use to define
   the position and space for each <a href="#grid-item"><i>Grid item</i></a>
   using the &lsquo;<a href="#grid-rows"><code
   class=property>grid-rows</code></a>&rsquo; and &lsquo;<a
   href="#grid-columns"><code class=property>grid-columns</code></a>&rsquo;
   properties of the <a href="#grid-element"><i>Grid element</i></a>, and the
   &lsquo;<a href="#grid-row"><code
   class=property>grid-row</code></a>&rsquo;, &lsquo;<a
   href="#grid-column"><code class=property>grid-column</code></a>&rsquo;,
   &lsquo;<a href="#grid-row-span"><code
   class=property>grid-row-span</code></a>&rsquo; and &lsquo;<a
   href="#grid-column-span"><code
   class=property>grid-column-span</code></a>&rsquo; properties on each <a
   href="#grid-item"><i>Grid item</i></a>.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid { 
        display: grid;

        /* Two columns: the first sized to content, the second receives the remaining space,   */
        /* but is never smaller than the minimum size of the board or the game controls, which */
        /* occupy this column. */
        grid-columns: auto minmax(min-content, 1fr);

        /* Three rows: the first and last sized to content, the middle row receives the        */
        /* remaining space, but is never smaller than the minimum height of the board or stats */
        /* areas. */
        grid-rows: auto minmax(min-content, 1fr) auto
    }

    /* Each part of the game is positioned between grid lines by referencing the starting grid */
    /* line and then specifying, if more than one, the number of rows or columns spanned to    */
    /* determine the ending grid line, which establishes bounds for the part. */
    #title    { grid-column: 1; grid-row: 1 }
    #score    { grid-column: 1; grid-row: 3 }
    #stats    { grid-column: 1; grid-row: 2; grid-row-align: start }
    #board    { grid-column: 2; grid-row: 1; grid-row-span: 2 }
    #controls { grid-column: 2; grid-row: 3; grid-column-align: center }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="title"&gt;Game Title&lt;/div&gt;
    &lt;div id="score"&gt;Score&lt;/div&gt;
    &lt;div id="stats"&gt;Stats&lt;/div&gt;
    &lt;div id="board"&gt;Board&lt;/div&gt;
    &lt;div id="controls"&gt;Controls&lt;/div&gt;
&lt;/div&gt;</pre>
  <!--End Section: Adapting to Available Space for Layout--> </section>
  <section class=section id=source-independence>
  <h3 id=source-independence0><span class=secno>2.3. </span>Source
   Independence</h3>

  <div class=sidefigure>
   <p> <img alt="Image: An arrangement suitable for portrait orientation."
    src="images/game-portrait.png"></p>

   <p class=caption>An arrangement suitable for &lsquo;<code
    class=css>portrait</code>&rsquo; orientation.</p>
  </div>

  <div class=sidefigure>
   <p> <img alt="Image: An arrangment suitable for landscape orientation."
    src="images/game-landscape.png"></p>

   <p class=caption>An arrangment suitable for &lsquo;<code
    class=css>landscape</code>&rsquo; orientation.</p>
  </div>

  <p> Continuing the prior example, the author also wants the game to adapt
   to the space available on traditional computer monitors, handheld devices,
   or tablet computers. Also, the game should optimize the placement of the
   components when viewed either in landscape or portrait orientation
   (Figures 4 and 5). By combining the CSS markup for the <a
   href="#grid-element"><i>Grid element</i></a> with media queries, the
   author is able to use the same semantic markup, but rearranged independent
   of its source order, to achieve the desired layout in both orientations.</p>

  <p> The following example leverages the <a href="#grid-element"><i>Grid
   element</i></a>&rsquo;s ability to name the space which will be occupied
   by a <a href="#grid-item"><i>Grid item</i></a>. This allows the author to
   avoid rewriting rules for <a href="#grid-item"><i>Grid items</i></a> as
   the <a href="#grid-element"><i>Grid element</i></a>&rsquo;s definition
   changes.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    @media (orientation: portrait) {
        #grid { 
            display: grid;
            
            /* The rows, columns and cells of the grid are defined visually using the */
            /* grid-template property.  Each string is a row, and each letter a cell. */
            /* The max number of letters in any one string determines the number of   */
            /* columns. */
            grid-template: "ta"
                           "sa"
                           "bb"
                           "cc";
            
            /* Columns and rows created with the template property can be assigned a sizing */
            /* function with the grid-columns and grid-rows properties. */
            grid-columns: auto minmax(min-content, 1fr); 
            grid-rows: auto auto minmax(min-content, 1fr) auto
        }
    }

    @media (orientation: landscape) {
        #grid { 
            display: grid;
            
            /* Again the template property defines cells of the same name, but this time */
            /* positioned differently to better suit a landscape orientation.            */
            grid-template: "tb"
                           "ab"
                           "sc";
            
            grid-columns: auto minmax(min-content, 1fr); 
            grid-rows: auto minmax(min-content, 1fr) auto
        }
    }

    /* The grid-cell property places a grid item into named region (cell) of the grid. */
    #title    { grid-cell: "t" }
    #score    { grid-cell: "s" }
    #stats    { grid-cell: "a" }
    #board    { grid-cell: "b" }
    #controls { grid-cell: "c" }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="title"&gt;Game Title&lt;/div&gt;
    &lt;div id="score"&gt;Score&lt;/div&gt;
    &lt;div id="stats"&gt;Stats&lt;/div&gt;
    &lt;div id="board"&gt;Board&lt;/div&gt;
    &lt;div id="controls"&gt;Controls&lt;/div&gt;
&lt;/div&gt;</pre>
  <!--End Section: Source Independence--> </section> <section class=section
  id=grid-layering-of-elements>
  <h3 id=grid-layering-of-elements0><span class=secno>2.4. </span>Grid
   Layering of Elements</h3>

  <div class=sidefigure>
   <p> <img alt="Image: A control composed of layered HTML elements."
    src="images/control-layering-and-alignment.png"></p>

   <p class=caption>A control composed of layered HTML elements.</p>
  </div>

  <p> In the example shown in Figure 6, the author is creating a custom
   slider control. The control has six parts. The lower and upper labels
   align to the left and right edges of the control. The track of the slider
   spans the area between the labels. The lower and upper fill parts touch
   beneath the thumb, and the thumb is a fixed width and height that can be
   moved along the track by updating the two fraction-sized columns.</p>

  <p> Prior to the <a href="#grid-element"><i>Grid element</i></a>, the
   author would have likely used absolute positioning to control the top and
   left coordinates, along with the width and height of each HTML element
   that comprises the control. By leveraging the <a
   href="#grid-element"><i>Grid element</i></a>, the author can instead limit
   script usage to handling mouse events on the thumb, which snaps to various
   positions along the track as the &lsquo;<a href="#grid-columns"><code
   class=property>grid-columns</code></a>&rsquo; property of the <a
   href="#grid-element"><i>Grid element</i></a> is updated.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid { 
        display: grid;

        /* The grid-columns and rows properties also support naming grid lines which can then */
        /* be used to position grid items.  The line names are assigned on either side of a   */
        /* column or row sizing function where the line would logically exist. */
        grid-columns:      
            "start"        auto 
            "track-start"  0.5fr 
            "thumb-start"  auto 
            "fill-split"   auto 
            "thumb-end"    0.5fr 
            "track-end"    auto
            "end";
    }

    /* Grid-column and grid-row accept a starting and optional endling line.  Below the lines  */
    /* are referred to by name. Beyond any semantic advantage, the names also allow the author */
    /* to avoid renumbering the grid-row and column properties of the grid items.  This is     */
    /* similar to the concept demonstrated in the prior example with the grid-template         */
    /* property during orientation changes, but grid lines can also work with layered grid     */
    /* items that have overlapping cells of different shapes like the thumb and track parts    */
    /* in this example. */
    #lower-label { grid-column: "start" }
    #track       { grid-column: "track-start" "track-end"; grid-row-align: center }
    #upper-label { grid-column: "track-end"; }
    
    /* Fill parts are drawn above the track so set z-index to 5. */
    #lower-fill  { grid-column: "track-start" "fill-split"; grid-row-align: center; z-index: 5 }
    #upper-fill  { grid-column: "fill-split" "track-end"; grid-row-align: center; z-index: 5 }
    
    /* Thumb is the topmost part; assign it the highest z-index value. */
    #thumb       { grid-column: "thumb-start" "thumb-end"; z-index: 10 }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="lower-label"&gt;Lower Label&lt;/div&gt;
    &lt;div id="upper-label"&gt;Upper Label&lt;/div&gt;
    &lt;div id="track"&gt;Track&lt;/div&gt;
    &lt;div id="lower-fill"&gt;Lower Fill&lt;/div&gt;
    &lt;div id="upper-fill"&gt;Upper Fill&lt;/div&gt;
    &lt;div id="thumb"&gt;Thumb&lt;/div&gt;
&lt;/div&gt;</pre>
  <!--End Section: Grid Layering of Elements--> </section>
  <!--End Section: Introduction--> </section><section class=section
  id=grid-concepts>
  <h2 id=core-concepts-of-the-grid><span class=secno>3. </span>Core Concepts
   of the Grid</h2>

  <div class=sidefigure> <img
   alt="Image: A diagram illustrating the relationship between the Grid Element and its Tracks, Lines, Cells and Items."
   class=figure src="images/grid-concepts.png">
   <p class=caption>A diagram illustrating the relationship between the <a
    href="#grid-element"><i>Grid element</i></a> and its Tracks, Lines, Cells
    and Items.</p>
  </div>

  <p> A <dfn id=grid-element>Grid element</dfn> is declared in markup by
   setting the display property of an element to &lsquo;<a href="#grid"><code
   class=css>grid</code></a>&rsquo; or &lsquo;<a href="#inline-grid"><code
   class=css>inline-grid</code></a>&rsquo;. Child elements of the Grid are
   termed <a href="#grid-item"><i>Grid items</i></a> and may be positioned
   and sized by the <a href="#grid-element"><i>Grid element</i></a> by
   leveraging the following logical concepts.</p>

  <ul>
   <li><a href="#grid-track"><i>Grid tracks</i></a>

   <li><a href="#grid-line"><i>Grid lines</i></a>

   <li><a href="#grid-cell"><i>Grid cells</i></a>
  </ul>

  <p> Figure 7 illustrates the relationship between these concepts and the
   markup in the subsections that follow produce the result shown in the
   figure.</p>
  <section class=section id=grid-concepts-tracks>
  <h3 id=grid-tracks><span class=secno>3.1. </span>Grid Tracks</h3>

  <p> <dfn id=grid-track>Grid Track</dfn>s are the columns and rows of the
   Grid defined with the &lsquo;<a href="#grid-rows"><code
   class=property>grid-rows</code></a>&rsquo; and &lsquo;<a
   href="#grid-columns"><code class=property>grid-columns</code></a>&rsquo;
   properties on the <a href="#grid-element"><i>Grid element</i></a>. Each
   Track is defined by declaring a sequential list of sizing functions, one
   for each Track. Tracks define the space between <a
   href="#grid-line"><i>Grid lines</i></a>.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid { 
        display: grid; 
        grid-columns: 150px 1fr; /* two columns */
        grid-rows: 50px 1fr 50px /* three rows  */
    }
&lt;/style&gt;</pre>
  <!--End Section: Grid Tracks--> </section> <section class=section
  id=grid-concepts-lines>
  <h3 id=grid-lines><span class=secno>3.2. </span>Grid Lines</h3>

  <p> <dfn id=grid-line>Grid Line</dfn>s are the horizontal or vertical
   dividing lines that exist on either side of a column or row. <a
   href="#grid-line"><i>Grid lines</i></a> may be referred to by their <a
   href="#grid-line"><i>Grid line</i></a> number, or they may be named by the
   author. Authors use one or more quoted strings to assign names to a <a
   href="#grid-line"><i>Grid line</i></a> before or after a <a
   href="#grid-track"><i>Grid track</i></a> definition wherever the desired
   <a href="#grid-line"><i>Grid line</i></a> would logically exist. A <a
   href="#grid-item"><i>Grid item</i></a> then uses the <a
   href="#grid-line"><i>Grid lines</i></a> to determine its position and
   available space within the Grid by referencing the <a
   href="#grid-line"><i>Grid lines</i></a> using the properties &lsquo;<a
   href="#grid-row"><code class=property>grid-row</code></a>&rsquo; and
   &lsquo;<a href="#grid-column"><code
   class=property>grid-column</code></a>&rsquo;. &lsquo;<a
   href="#grid-row"><code class=property>grid-row</code></a>&rsquo; and
   &lsquo;<a href="#grid-column"><code
   class=property>grid-column</code></a>&rsquo; accept a starting and
   optional ending Line.</p>

  <p> The following two examples create three column <a
   href="#grid-line"><i>Grid lines</i></a> and four row <a
   href="#grid-line"><i>Grid lines</i></a>. The first example demonstrates
   how an author would refer to the <a href="#grid-line"><i>Grid
   lines</i></a> using <a href="#grid-line"><i>Grid line</i></a> numbers. The
   second example uses explicitly named <a href="#grid-line"><i>Grid
   lines</i></a>.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid { 
        display: grid; 
        grid-columns: 150px 1fr;
        grid-rows: 50px 1fr 50px
    }

    #item1 { grid-column: 2; grid-row: 1 4 }
&lt;/style&gt;</pre>

  <pre class=example>&lt;style type="text/css"&gt;
    /* equivalent layout to the prior example, but using named lines */
    #grid { 
        display: grid; 
        grid-columns: 150px "item1-start" 1fr "item1-end";
        grid-rows: "item1-start" 50px 1fr 50px "item1-end"
    }

    #item1 { 
        grid-column: "item1-start" "item1-end"; 
        grid-row: "item1-start" "item1-end" 
    }
&lt;/style&gt;</pre>
  <!--End Section: Grid Lines--> </section> <section class=section
  id=grid-concepts-cells>
  <h3 id=grid-cells><span class=secno>3.3. </span>Grid Cells</h3>

  <p> <dfn id=grid-cell>Grid Cell</dfn>s are the logical space used to lay
   out one or more <a href="#grid-item"><i>Grid items</i></a>. <a
   href="#grid-cell"><i>Grid cells</i></a> may be defined explicitly using
   the &lsquo;<a href="#grid-template"><code
   class=property>grid-template</code></a>&rsquo; property, or implicitly by
   referencing a region of the Grid using the properties &lsquo;<a
   href="#grid-row"><code class=property>grid-row</code></a>&rsquo; and
   &lsquo;<a href="#grid-column"><code
   class=property>grid-column</code></a>&rsquo; on a <a
   href="#grid-item"><i>Grid item</i></a>.</p>

  <p> Whether a <a href="#grid-cell"><i>Grid cell</i></a> is created
   explicitly or implicitly, there is no difference in the layout or drawing
   order of the <a href="#grid-item"><i>Grid items</i></a> which are
   associated with that <a href="#grid-cell"><i>Grid cell</i></a>. <a
   href="#grid-cell"><i>Grid cells</i></a> cannot be styled. Only the syntax
   used to refer to a region of space on the Grid differs between the
   implicit and explicit approach to provide authors with the tools to best
   suit their scenarios as illustrated in prior examples.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    /* using the template syntax */
    #grid  { 
        display: grid; 
        grid-template: "ad"
                       "bd"
                       "cd";
        grid-columns: 150px 1fr;
        grid-rows: 50px 1fr 50px
    }

    #item2 { grid-cell: "b" }
    #item3 { grid-cell: "b" }

    /* Align items 2 and 3 at different points in the Grid Cell "b".  */
    /* By default, Grid Items are stretched to fit their Grid Cell    */
    /* and these items would layer one over the other. */
    #item2 { grid-row-align: start }
    #item3 { grid-column-align: end; grid-row-align: end }&lt;/style&gt;</pre>
  <!--End Section: Grid Cells--> </section>
  <!--End Section: Core Concepts of the Grid--> </section><section
  class=section id=grid-declaration>
  <h2 id=grid-declaration0><span class=secno>4. </span>Grid Declaration</h2>

  <p> A <a href="#grid-element"><i>Grid element</i></a> is declared by
   setting the display property.</p>

  <table class=propdef id=display-property>
   <tbody>
    <tr>
     <td>Name:

     <td>display

    <tr>
     <td>Value:

     <td> [ ...existing values... | <span class=normref><strong><dfn
      id=grid>grid</dfn> | <dfn
      id=inline-grid>inline-grid</dfn></strong></span> |

    <tr>
     <td>Computed value:

     <td>specified value
  </table>

  <dl>
   <dt><a name=value-def-display-grid>grid</a>

   <dd>A value of grid causes an element to display as a block-level <a
    href="#grid-element"><i>Grid element</i></a>.

   <dt><a name=value-def-display-inline-grid>inline-grid</a>

   <dd>A value of inline-grid causes an element to display as an inline-level
    <a href="#grid-element"><i>Grid element</i></a>.
  </dl>
  <!--End Section: Grid Declaration--> </section><section class=section
  id=grid-items>
  <h2 id=grid-items0><span class=secno>5. </span>Grid Items</h2>

  <p> The <a href="#grid-element"><i>Grid element</i></a> performs layout on
   <a href="#grid-item"><i>Grid items</i></a>. <dfn id=grid-item>Grid
   Item</dfn>s are considered block-level children, replaced, inline-block
   children, and atomic, inline-level children of the <a
   href="#grid-element"><i>Grid element</i></a>.</p>

  <p> Contiguous runs of non-replaced, inline content are wrapped in an
   anonymous, block-level box, which is then treated as a <a
   href="#grid-item"><i>Grid item</i></a> for the purposes of Grid layout.
   Out-of-flow elements (except floats, which are out-of-flow, but are
   irrelevant to Grid layout since <a href="#grid-item"><i>Grid items</i></a>
   can't float) leave behind a "placeholder" in their original source
   location which is treated like a non-replaced, inline element for the
   purpose of this wrapping. Any indirect descendants of the <a
   href="#grid-element"><i>Grid element</i></a>, including block elements
   that are contained in inline elements, are not <a
   href="#grid-item"><i>Grid items</i></a>.</p>

  <p> The following example produces two <a href="#grid-item">Grid Items</a>:
   the first <a href="#grid-item"><i>Grid item</i></a> is the anonymous
   block-level box wrapping the <code>A</code> and the subsequent
   <code>&lt;span&gt;</code>; the second <a href="#grid-item"><i>Grid
   item</i></a> is created by the block-level box of the <code>C
   &lt;div&gt;</code>.</p>

  <pre
   class=example>&lt;div style="display:grid;"&gt;A&lt;span&gt;B&lt;/span&gt;&lt;div&gt;C&lt;/div&gt;&lt;/div&gt;</pre>
  <!--End Section: Grid Items--> </section><section class=section
  id=defining-grid-rows-columns-and-lines>
  <h2 id=defining-grid-rows-columns-and-lines0><span class=secno>6.
   </span>Defining Grid Rows, Columns and Lines</h2>
  <section class=section id=grid-rows-and-columns>
  <h3 id=grid-rows-and-columns0><span class=secno>6.1. </span>Grid Rows and
   Columns</h3>

  <div class=sidefigure> <img alt="Image: Grid Lines." class=figure
   src="images/grid-lines.png">
   <p class=caption>Grid Lines.</p>
  </div>

  <p> <a href="#grid-element"><i>Grid elements</i></a> use <a
   href="#grid-line"><i>Grid lines</i></a> to divide their space. There are
   two sets of <a href="#grid-line"><i>Grid lines</i></a>: one set defined by
   the columns that run in the direction of block progression, and another
   orthogonal set defined by rows. Block progression is a writing-mode term
   that defines a logical direction. In English it means vertical.</p>

  <p> A <a href="#grid-track"><i>Grid track</i></a> is a generic term for a
   column or row which separates two <a href="#grid-line"><i>Grid
   lines</i></a>. Each <a href="#grid-track"><i>Grid track</i></a> is
   assigned a sizing function, which controls how wide or tall the column or
   row may grow, and thus how far apart two <a href="#grid-line"><i>Grid
   lines</i></a> are. The sizing function specified can be a length, a
   percentage of the <a href="#grid-element"><i>Grid element</i></a>&rsquo;s
   size, derived from the contents occupying the column or row, or a
   proportion of the space which remains in the <a
   href="#grid-element"><i>Grid element</i></a>. In the last case, remaining
   space refers to the width or height of the <a href="#grid-element"><i>Grid
   element</i></a> after accounting for space already consumed by columns and
   rows sized with a length, percentage or content. The size can also be
   specified as a range using a minmax function, which can combine any of the
   previously mentioned mechanisms to define a min and max size for the
   column or row.</p>

  <p> In the following example there are two columns and three rows. The
   first column is 150px wide beginning from the starting edge of the <a
   href="#grid-element"><i>Grid element</i></a>&rsquo;s content box. The
   second column uses fractional sizing, which is a function of the remaining
   space in the Grid. Its size will vary as the width of the <a
   href="#grid-element"><i>Grid element</i></a> changes. If the used width of
   the <a href="#grid-element"><i>Grid element</i></a> is 200px, then the
   second column 50px wide. If the used width of the <a
   href="#grid-element"><i>Grid element</i></a> is 100px, then the second
   column is 0px and any content positioned in the column will be overflowing
   the <a href="#grid-element"><i>Grid element</i></a>. Sizing occurs in a
   similar fashion for the rows.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid { 
        display: grid; 
        grid-columns: 150px 1fr;
        grid-rows: 50px 1fr 50px
    }
&lt;/style&gt;</pre>
  <!--End Section: Grid Rows, Columns and Implicit Grid Lines--> </section>
  <section class=section id=grid-named-grid-lines>
  <h3 id=named-grid-lines><span class=secno>6.2. </span>Named Grid Lines</h3>

  <div class=sidefigure> <img alt="Image: Named Grid Lines." class=figure
   src="images/grid-named-lines.png">
   <p class=caption>Named Grid Lines.</p>
  </div>

  <p> A <a href="#grid-line"><i>Grid line</i></a> exists on either side of a
   column or row. The <a href="#grid-line"><i>Grid line</i></a> may be named
   using one or more quoted strings which are positioned in the &lsquo;<a
   href="#grid-rows"><code class=property>grid-rows</code></a>&rsquo; or
   &lsquo;<a href="#grid-columns"><code
   class=property>grid-columns</code></a>&rsquo; definitions where the <a
   href="#grid-line"><i>Grid line</i></a> would logically occur (in between
   the sizing functions that define the Grid's columns and rows). Each name
   associated with a <a href="#grid-line"><i>Grid line</i></a> must be unique
   for the set of columns or rows. If the name is specified multiple times in
   the same column or row definition, it is associated with the first <a
   href="#grid-line"><i>Grid line</i></a> to which the name was assigned.
   When a name is not specified, <a href="#grid-line"><i>Grid lines</i></a>
   can be referred to in the order which they occur. The first line is 1, the
   second 2 and so on. The next example builds on the prior by assigning each
   line one or more names.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid {
        display: grid;
        grid-columns: "first" "nav" 150px "main" 1fr "last";
        grid-rows: "first" "header" 50px "main" 1fr "footer" 50px "last";
    }
&lt;/style&gt;</pre>
  <!--End Section: Named Grid Lines--> </section> <section class=section
  id=grid-starting-and-ending-lines>
  <h3 id=starting-and-ending-grid-lines><span class=secno>6.3.
   </span>Starting and Ending Grid Lines</h3>

  <p> In addition to any explicitly named <a href="#grid-line"><i>Grid
   lines</i></a> defined by the author, a <a href="#grid-element"><i>Grid
   element</i></a> also has four implicitly defined <a
   href="#grid-line"><i>Grid lines</i></a>: a start and end line for both
   columns and rows. The <dfn id=start-line>start</dfn> line is always
   positioned on the starting edge of the <a href="#grid-element"><i>Grid
   element</i></a>&rsquo;s content box. The <dfn id=end-line>end</dfn> line
   is positioned at the ending edge of the <a href="#grid-element"><i>Grid
   element</i></a>&rsquo;s content box, or at the same location as the last
   explicitly or implicitly defined <a href="#grid-line"><i>Grid line</i></a>
   when it extends past the content box of the <a
   href="#grid-element"><i>Grid element</i></a>.</p>

  <p> In the following example, the &lsquo;<a href="#end-line"><code
   class=css>end</code></a>&rsquo; column <a href="#grid-line"><i>Grid
   line</i></a> is positioned on the ending edge of the <a
   href="#grid-element"><i>Grid element</i></a>&rsquo;s content box. The
   &lsquo;<a href="#end-line"><code class=css>end</code></a>&rsquo; row <a
   href="#grid-line"><i>Grid line</i></a> is positioned past the ending edge
   in overflow at the same location as the <a href="#grid-line"><i>Grid
   line</i></a> named "last."</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid {
        display: grid;
        width: auto;
        height: 500px;
        grid-columns: 50px 1fr;
        grid-rows: "first" 250px 250px 250px "last";
    }

    #item {
        /* cover explicitly defined columns and rows */
        grid-column: 1 3;
        grid-row: "first" "last";

        /* equivalent (assuming no implicitly created tracks) */
        grid-column: start end;
        grid-row: start end;
    }
&lt;/style&gt;</pre>
  <!--End Section: Starting and Ending Grid Lines--> </section> <section
  class=section id=grid-repeating-columns-and-rows>
  <h3 id=repeating-columns-and-rows><span class=secno>6.4. </span>Repeating
   Columns and Rows</h3>

  <p> If there are large number of columns or rows that are the same or
   exhibit a recurring pattern, a repeat syntax can be applied to define the
   columns or rows in a more compact form.</p>

  <p> The next two examples are equivalent. There is a single row, and a
   pattern of repetitive column <a href="#grid-line"><i>Grid lines</i></a>: a
   250px column followed by a 10px gutter. Note that when repeat syntax is
   used with <a href="#grid-line"><i>Grid line</i></a> naming, that the names
   are assigned to the first occurrence of the pattern.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid {
        display: grid;
        grid-columns: 10px "content" 250px 10px 250px 10px 250px 10px 250px 10px;
        grid-rows: 1fr;
    }

    /* Equivalent definition. */
    #grid {
        display: grid;
        grid-columns: 10px ("content" 250px 10px)[4];
        grid-rows: 1fr;
    }
&lt;/style&gt;</pre>

  <p class=issue> Consider not allowing named lines in the repeat syntax.</p>
  <!--End Section: Repeating Columns and Rows--> </section> <section
  class=section id=grid-columns-and-rows-properties>
  <h3 id=grid-columns-and-grid-rows-properties><span class=secno>6.5.
   </span>Grid-columns and Grid-rows Properties</h3>

  <p> The following grammar expresses the allowable values for the &lsquo;<a
   href="#grid-rows"><code class=property>grid-rows</code></a>&rsquo; and
   &lsquo;<a href="#grid-columns"><code
   class=property>grid-columns</code></a>&rsquo; properties.</p>
  <code></code>
  <pre>&lt;track-list&gt;    => [ [ &lt;string&gt; ]* &lt;track-group&gt; [ &lt;string&gt; ]* ]+ | 'none'
&lt;track-group&gt;   => [ '(' [ [ &lt;string&gt; ]* &lt;track-minmax&gt; [ &lt;string&gt; ]* ]+ ')' [ '[' &lt;positive-integer&gt; ']' ]?
                   | &lt;track-minmax&gt;
&lt;track-minmax&gt;  => 'minmax(' &lt;track-breadth&gt; ',' &lt;track-breadth&gt; ')' | 'auto' | &lt;track-breadth&gt; | 'fit-content'
&lt;track-breadth&gt; => &lt;length&gt; | &lt;percentage&gt; | &lt;fraction&gt; | 'min-content' | 'max-content'</pre>

  <p>Whitespace must not occur between the closing parenthesis and the
   opening square bracket of the repeat count. Whitespace must occur between
   any consecutive <code>&lt;track-group&gt;</code> and
   <code>&lt;track-minmax&gt;</code>. In all other areas, whitespace may
   optionally occur.</p>
  <br>

  <p>Where:</p>

  <ul>
   <li><dfn id=length>length</dfn> is as defined by CSS3 Values. <a
    href="#CSS3VAL" rel=biblioentry>[CSS3VAL]<!--{{!CSS3VAL}}--></a>

   <li><i>percentage</i> expresses a size for a <a href="#grid-track"><i>Grid
    track</i></a> as a percentage of the <a href="#grid-element"><i>Grid
    element</i></a>&rsquo;s logical width (for columns) or logical height
    (for rows). When the width or height of the <a
    href="#grid-element"><i>Grid element</i></a> is dependent on content, the
    result is undefined.

   <li><dfn id=fraction>fraction</dfn> is a non-negative floating-point
    number followed by &lsquo;<code class=property>fr</code>&rsquo;. Each
    &lsquo;<a href="#fraction"><code
    class=property>fraction</code></a>&rsquo; value takes a share of the
    remaining space proportional to its number. See <a
    href="#fraction-values"><i>fraction values</i></a> for more details.

   <li><dfn id=max-content>max-content</dfn> is a keyword which refers to the
    maximum of the max sizes of <a href="#grid-item"><i>Grid items</i></a>
    occupying the <a href="#grid-track"><i>Grid track</i></a>.

   <li><dfn id=min-content>min-content</dfn> is a keyword which refers to the
    maximum of the min sizes of <a href="#grid-item"><i>Grid items</i></a>
    occupying the <a href="#grid-track"><i>Grid track</i></a>.

   <li><dfn id=minmax>minmax(min, max)</dfn> defines a size range. The size
    used should be greater than or equal to &lsquo;<code
    class=property>min</code>&rsquo; and less than or equal to &lsquo;<code
    class=property>max</code>&rsquo;. If &lsquo;<code
    class=property>max</code>&rsquo; &lt; &lsquo;<code
    class=property>min</code>&rsquo;, then &lsquo;<code
    class=property>max</code>&rsquo; is ignored and &lsquo;<code
    class=css>minmax(min,max)</code>&rsquo; is treated as &lsquo;<code
    class=css>minmax(min,min)</code>&rsquo;.

   <li><dfn id=fit-content>fit-content</dfn> is equivalent to &lsquo;<code
    class=css>minmax(min-content, max-content)</code>&rsquo;.

   <li><dfn id=auto>auto</dfn> is equivalent to &lsquo;<a
    href="#fit-content"><code class=property>fit-content</code></a>&rsquo;.
  </ul>

  <p class=issue> Consider whether having undefined behavior for
   percentage-sized tracks in content-sized grids is appropriate. CSS2.1 and
   CSS3 leave percentage width undefined, although there appears to be
   consistency between browser implementations.</p>
  <br>

  <table class=propdef id=grid-columns-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-columns>grid-columns</dfn>

    <tr>
     <td>Value:

     <td>see grammar above

    <tr>
     <td>Initial:

     <td>none

    <tr>
     <td>Applies to:

     <td>non-replaced elements with a computed value of &lsquo;<a
      href="#grid"><code class=css>grid</code></a>&rsquo; or &lsquo;<a
      href="#inline-grid"><code class=css>inline-grid</code></a>&rsquo; for
      display.

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>see text
  </table>

  <table class=propdef id=grid-rows-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-rows>grid-rows</dfn>

    <tr>
     <td>Value:

     <td>see grammar above

    <tr>
     <td>Initial:

     <td>none

    <tr>
     <td>Applies to:

     <td>non-replaced elements with a computed value of &lsquo;<a
      href="#grid"><code class=css>grid</code></a>&rsquo; or &lsquo;<a
      href="#inline-grid"><code class=css>inline-grid</code></a>&rsquo; for
      display.

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>see text
  </table>

  <p>The following example:</p>

  <ul>
   <li>Adds one <a href="#grid-line"><i>Grid line</i></a> 100 pixels from the
    &lsquo;<a href="#start-row-align"><code class=css>start</code></a>&rsquo;
    of the grid.

   <li>Adds another <a href="#grid-line"><i>Grid line</i></a> 1/2 of the
    remaining space away.

   <li>Adds another <a href="#grid-line"><i>Grid line</i></a> whose distance
    from the prior <a href="#grid-line"><i>Grid line</i></a> will be based on
    the maximum content size of elements occupying the column.

   <li>Adds another <a href="#grid-line"><i>Grid line</i></a> whose distance
    from the prior <a href="#grid-line"><i>Grid line</i></a> is based on the
    minimum content size of all elements occupying the column, or 1/2 the
    remaining space, whichever is greater.
  </ul>

  <pre
   class=example>div { grid-columns: 100px 1fr max-content minmax(min-content, 1fr) }</pre>

  <p>Additional examples of valid <a href="#grid-track"><i>Grid track</i></a>
   definitions:</p>

  <pre class=example>    /* examples of valid track definitions */
    grid-rows: 1fr minmax(min-content, 1fr);
    grid-rows: 10px (1fr auto minmax(30%, 1fr))[2];
    grid-rows: (10px);
    grid-rows: calc(4em - 5px)</pre>
  <!--End Section: Grid-columns and Grid-rows Properties--> </section>
  <section class=section id=fraction-values-fr>
  <h4 id=fraction-values-fr0><span class=secno>6.5.1. </span>Fraction Values:
   &lsquo;<code class=property>fr</code>&rsquo;</h4>

  <p><dfn id=fraction-values>Fraction values</dfn> are new units applicable
   to the &lsquo;<a href="#grid-rows"><code
   class=property>grid-rows</code></a>&rsquo; and &lsquo;<a
   href="#grid-columns"><code class=property>grid-columns</code></a>&rsquo;
   properties:</p>

  <dl>
   <dt>fr

   <dd>Fraction of available space.
  </dl>

  <p> The distribution of fractional space occurs after all &lsquo;<a
   href="#length"><code class=css>length</code></a>&rsquo; or content-based
   row and column sizes have reached their maximum. The total size of the
   rows or columns is then subtracted from the available space and the
   remainder is divided proportionately among the fractional rows and
   columns.</p>

  <p> Each column or row's proportional share can be computed as the column
   or row's <code>&lt;fraction&gt; * &lt;remaining space&gt; / &lt;sum of all
   fractions&gt;</code>. Note that fractions occurring within a &lsquo;<code
   class=css>minmax</code>&rsquo; function are only counted in the sum if in
   the &lsquo;<code class=css>max</code>&rsquo; position. Further, fractions
   that occur in the &lsquo;<code class=css>min</code>&rsquo; position are
   treated as an absolute length of <code>0px</code>.</p>

  <p> When remaining space cannot be determined because the width or height
   of the <a href="#grid-element"><i>Grid element</i></a> is undefined,
   fraction-sized <a href="#grid-track"><i>Grid tracks</i></a> are sized to
   their contents while retaining their respective proportions. In such cases
   the size of each fractional <a href="#grid-track"><i>Grid track</i></a>
   can be computed by determining the &lsquo;<a href="#max-content"><code
   class=property>max-content</code></a>&rsquo; size of each fractional <a
   href="#grid-track"><i>Grid track</i></a> and dividing that size by the
   respective &lsquo;<a href="#fraction"><code
   class=property>fraction</code></a>&rsquo;. The maximum value of those
   results is treated as the <code>1fr</code> value, which is then multiplied
   by each <a href="#grid-track"><i>Grid track</i></a>&rsquo;s &lsquo;<a
   href="#fraction"><code class=property>fraction</code></a>&rsquo; to
   determine its final size.</p>
  <!--End Section: Fraction Values: 'fr'--> </section> <section class=section
  id=computed-values-grid-rows-and-columns>
  <h4 id=computed-values-for-grid-rows-and-grid-c><span class=secno>6.5.2.
   </span>Computed Values for Grid-rows and Grid-columns</h4>

  <p> The computed size of all <a href="#grid-track"><i>Grid tracks</i></a>
   as returned for the &lsquo;<a href="#grid-rows"><code
   class=property>grid-rows</code></a>&rsquo; and &lsquo;<a
   href="#grid-columns"><code class=property>grid-columns</code></a>&rsquo;
   properties are normalized to used pixel values. All <a
   href="#grid-track"><i>Grid tracks</i></a> are included in the computed
   value reported for &lsquo;<a href="#grid-rows"><code
   class=property>grid-rows</code></a>&rsquo; and &lsquo;<a
   href="#grid-columns"><code class=property>grid-columns</code></a>&rsquo;
   regardless of how the <a href="#grid-track"><i>Grid tracks</i></a> were
   created, e.g. implicit tracks may be created by <a
   href="#grid-item"><i>Grid items</i></a> referencing a <a
   href="#grid-line"><i>Grid line</i></a> not explicitly defined by a
   &lsquo;<a href="#grid-rows"><code
   class=property>grid-rows</code></a>&rsquo; or &lsquo;<a
   href="#grid-columns"><code class=property>grid-columns</code></a>&rsquo;
   property. The computed value includes any used values for named lines; any
   duplicate names must be removed. User agents may use the repeat syntax to
   avoid expansive string length due to implicit <a
   href="#grid-track"><i>Grid track</i></a> creation, large spanning values
   or high repeat counts specified by the author.</p>

  <p> The algorithm used to apply repeat syntax to used <a
   href="#grid-track"><i>Grid track</i></a> values and <a
   href="#grid-line"><i>Grid line</i></a> names is user agent specific. See
   below for example inputs and outputs.</p>

  <pre class=example>&lt;style type=&quot;text/css&quot;&gt;
    #grid {
        width: 500px;
        grid-columns: "a" auto "b" minmax(min-content, 1fr) "b" "c" "d" ("e" 40px)[2] (auto)[5];
    }
&lt;/style&gt;
&lt;div id=&quot;grid&quot;&gt;
    &lt;div style=&quot;grid-column:1; width:50px&quot;&gt;&lt;/div&gt;
    &lt;div style=&quot;grid-column:9; width:50px&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    // Returns '"a" 50px "b" 320px "c" "d" ("e" 40px)[2] (0px)[4] 50px'.
    var gridElement = document.getElementById("grid");
    window.getComputedStyle(gridElement, null).getPropertyValue("grid-columns");
&lt;/script&gt;</pre>
  <!--End Section: Fraction Values: 'fr'--> </section>
  <!--End Section: Defining Grid Rows and Columns--> </section><section
  class=section id=grid-item-placement>
  <h2 id=placing-grid-items><span class=secno>7. </span>Placing Grid Items</h2>

  <p>The properties &lsquo;<a href="#grid-row"><code
   class=property>grid-row</code></a>&rsquo; and &lsquo;<a
   href="#grid-column"><code class=property>grid-column</code></a>&rsquo; are
   used to place <a href="#grid-item"><i>Grid items</i></a> in the Grid.</p>

  <table class=propdef id=grid-column-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-column>grid-column</dfn>

    <tr>
     <td>Value:

     <td>[ [ &lt;integer&gt; | &lt;string&gt; | <dfn
      id=start-column-position>start</dfn> ] [ &lt;integer&gt; |
      &lt;string&gt; | <dfn id=end-column-position>end</dfn> ]? ] | <dfn
      id=auto-column-position>auto</dfn>

    <tr>
     <td>Initial:

     <td>auto

    <tr>
     <td>Applies to:

     <td>Grid Item elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>see text
  </table>

  <table class=propdef id=grid-row-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-row>grid-row</dfn>

    <tr>
     <td>Value:

     <td>[ [ &lt;integer&gt; | &lt;string&gt; | <dfn
      id=start-row-position>start</dfn> ] [ &lt;integer&gt; | &lt;string&gt;
      | <dfn id=end-row-position>end</dfn> ]? ] | <dfn
      id=auto-row-position>auto</dfn>

    <tr>
     <td>Initial:

     <td>auto

    <tr>
     <td>Applies to:

     <td>Grid Item elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>see text
  </table>

  <p> &lsquo;<a href="#grid-row"><code
   class=property>grid-row</code></a>&rsquo; and &lsquo;<a
   href="#grid-column"><code class=property>grid-column</code></a>&rsquo;
   properties that refer to an undefined <a href="#grid-line"><i>Grid
   line</i></a> will compute to their initial values.</p>
  <section class=section id=anonymous-grid-cells>
  <h3 id=anonymous-grid-cells0><span class=secno>7.1. </span>Anonymous Grid
   Cells</h3>

  <p> Each <a href="#grid-item"><i>Grid item</i></a> is contained by a <a
   href="#grid-cell"><i>Grid cell</i></a>, i.e. the <a
   href="#grid-cell"><i>Grid cell</i></a> serves as the containing block for
   the <a href="#grid-item"><i>Grid item</i></a>. The dimensions of an
   anonymous <a href="#grid-cell"><i>Grid cell</i></a> are determined by
   naming the starting and ending <a href="#grid-line"><i>Grid lines</i></a>
   using the &lsquo;<a href="#grid-row"><code
   class=property>grid-row</code></a>&rsquo; and &lsquo;<a
   href="#grid-column"><code class=property>grid-column</code></a>&rsquo;
   properties on the <a href="#grid-item"><i>Grid item</i></a> which the <a
   href="#grid-cell"><i>Grid cell</i></a> surrounds. The starting and ending
   lines may be referred to by a string name, if one was defined by the
   author, the <a href="#start-column-position">start</a> and <a
   href="#end-column-position">end</a> line keywords, or the <a
   href="#grid-line"><i>Grid line</i></a>&rsquo;s number.</p>

  <p> The following example positions the first <a href="#grid-item"><i>Grid
   item</i></a> to cover all rows and columns of the <a
   href="#grid-element"><i>Grid element</i></a> using the <a
   href="#start-column-position">start</a> and <a
   href="#end-column-position">end</a> keywords. The second <a
   href="#grid-item"><i>Grid item</i></a> is positioned to cover the first
   row. Note that when only the starting <a href="#grid-line"><i>Grid
   line</i></a> of the &lsquo;<a href="#grid-row"><code
   class=property>grid-row</code></a>&rsquo; or &lsquo;<a
   href="#grid-column"><code class=property>grid-column</code></a>&rsquo;
   properties are specified for the <a href="#grid-cell"><i>Grid
   cell</i></a>, that the <a href="#grid-cell"><i>Grid cell</i></a> is
   assumed to extend to the subsequent <a href="#grid-line"><i>Grid
   line</i></a>.</p>

  <pre class=example>&lt;style type=&quot;text/css&quot;&gt;
    /* covers the <a
   href="#grid-element"><i>Grid element</i></a>&rsquo;s content box */
    #item1 {
        grid-row: start end;
        grid-column: start end;
    }
 
    /* covers the first row */
    #item2 {
        grid-row: start; /* extends to row Grid Line 2 */
        grid-column: start end;
    }
&lt;/style&gt;</pre>

  <p> The next example defines rows for header and footer <a
   href="#grid-item"><i>Grid items</i></a> sized to content, as well as a
   main region that receives all remaining space. A single column which
   receives all horizontal space in the Grid's content box is also defined.</p>

  <pre class=example>&lt;style type=&quot;text/css&quot;&gt;
    #grid {
        display: grid;
        grid-rows: "header" auto "main" 1fr "footer" auto;
        grid-columns: 1fr;
    }
 
    #header { grid-row: "header"; grid-column: start }
    #main   { grid-row: "main"; grid-column: start }
    #footer { grid-row: "footer"; grid-column: start }

    /* Equivalent to the above using grid line numbers instead of names. */
    #header { grid-row: 1; grid-column: 1 }
    #main   { grid-row: 2; grid-column: 1 }
    #footer { grid-row: 3; grid-column: 1 }
&lt;/style&gt;</pre>
  <!--End Section: Anonymous Grid Cells--> </section> <section class=section
  id=defining-grid-cells-with-a-template>
  <h3 id=defining-grid-cells-with-a-template0><span class=secno>7.2.
   </span>Defining Grid Cells with a Template</h3>

  <p> <a href="#grid-cell"><i>Grid cells</i></a> can also be defined
   explicitly using one-letter names via the &lsquo;<a
   href="#grid-template"><code class=property>grid-template</code></a>&rsquo;
   property. The &lsquo;<a href="#grid-template"><code
   class=property>grid-template</code></a>&rsquo; property provides a
   visualization of the <a href="#grid-element"><i>Grid
   element</i></a>&rsquo;s structure while simultaneously defining the <a
   href="#grid-cell"><i>Grid cells</i></a> which can be used to position and
   size the child elements of the Grid.</p>

  <p> In the following example, a &lsquo;<a href="#grid-template"><code
   class=property>grid-template</code></a>&rsquo; property is used to create
   a page layout where cells are defined for header content <code>h</code>,
   navigational content <code>n</code>, footer content <code>f</code>, and
   main content <code>m</code>. In English, a row is created for every
   separate string listed for the &lsquo;<a href="#grid-template"><code
   class=property>grid-template</code></a>&rsquo; property, and a column is
   created for the maximum number of letters found in any one string. In
   orthogonal writing modes the roles of rows and columns are reversed. See
   Grid Writing Modes for more details.</p>

  <p> The &lsquo;<a href="#grid-cell"><code
   class=property>grid-cell</code></a>&rsquo; property is specified on <a
   href="#grid-item"><i>Grid items</i></a> to position the <a
   href="#grid-item"><i>Grid item</i></a> inside the explicitly named <a
   href="#grid-cell"><i>Grid cell</i></a>.</p>

  <pre class=example>&lt;style type=&quot;text/css&quot;&gt;
    #grid {
        display: grid;
        grid-template: "hh"
                       "nm"
                       "ff"
    }
    #grid > a {
        display:block; /* make anchor tags valid Grid Items */
        grid-cell: "n";
    }
&lt;/style&gt;</pre>

  <table class=propdef id=grid-template-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-template>grid-template</dfn>

    <tr>
     <td>Value:

     <td>&lt;string&gt;+ | <dfn id=none-template>none</dfn>

    <tr>
     <td>Initial:

     <td>none

    <tr>
     <td>Applies to:

     <td>Grid elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>specified value
  </table>

  <table class=propdef id=grid-cell-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-cell>grid-cell</dfn>

    <tr>
     <td>Value:

     <td>&lt;string&gt; | <dfn id=none-cell>none</dfn>

    <tr>
     <td>Initial:

     <td>none

    <tr>
     <td>Applies to:

     <td>Grid Item elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>specified value
  </table>
  <!--End Section: Defining Grid Cells with a Template--> </section> <section
  id=grid-row-span-and-grid-column-span>
  <h3 id=grid-row-span-and-grid-column-span0><span class=secno>7.3.
   </span>Grid-row-span and Grid-column-span</h3>

  <p> As an alternative to specifying an ending line for a <a
   href="#grid-cell"><i>Grid cell</i></a> or <a href="#grid-item"><i>Grid
   item</i></a>, &lsquo;<a href="#grid-row-span"><code
   class=property>grid-row-span</code></a>&rsquo; and &lsquo;<a
   href="#grid-column-span"><code
   class=property>grid-column-span</code></a>&rsquo; properties are available
   to specify a distance (line count) from the starting line to the ending
   line to define the dimensions of a <a href="#grid-cell"><i>Grid
   cell</i></a>. Note that when &lsquo;<a href="#grid-column-span"><code
   class=property>grid-column-span</code></a>&rsquo; and a &lsquo;<a
   href="#grid-column"><code class=property>grid-column</code></a>&rsquo;
   ending line are both specified for a <a href="#grid-item"><i>Grid
   item</i></a>, that the ending line has priority. In such cases the
   computed value of &lsquo;<a href="#grid-column-span"><code
   class=property>grid-column-span</code></a>&rsquo; will be the <a
   href="#grid-line"><i>Grid line</i></a> number of the specified column
   ending line minus the <a href="#grid-line"><i>Grid line</i></a> number of
   the specified column starting line. The same holds true for the related
   row properties.</p>

  <pre class=example>&lt;style type=&quot;text/css&quot;&gt;
#item {
    /* the following two property definitions are equivalent */
    /* both place the item between the first and third line */
    /* which is covering the first and second row of the Grid */
    grid-row: 1 3;
    grid-row: 1; grid-row-span: 2;
}
&lt;/style&gt;</pre>

  <table class=propdef id=grid-column-span-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-column-span>grid-column-span</dfn>

    <tr>
     <td>Value:

     <td>&lt;integer&gt;

    <tr>
     <td>Initial:

     <td>1

    <tr>
     <td>Applies to:

     <td>Grid Item elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>specified value
  </table>

  <table class=propdef id=grid-row-span-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-row-span>grid-row-span</dfn>

    <tr>
     <td>Value:

     <td>&lt;integer&gt;

    <tr>
     <td>Initial:

     <td>1

    <tr>
     <td>Applies to:

     <td>Grid Item elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>specified value
  </table>
  <!--End Section: Grid-row-span and Grid-column-span--> </section> <section
  class=section id=grid-implicit-columns-and-rows>
  <h3 id=implicit-columns-and-rows><span class=secno>7.4. </span>Implicit
   Columns and Rows</h3>

  <div class=sidefigure>
   <p> <img
    alt="Image: A Grid with an implicit row and two implicit columns."
    src="images/implicit-columns-and-rows.png"></p>

   <p class=caption>A Grid with an implicit row and two implicit columns.</p>
  </div>

  <p> <a href="#grid-line"><i>Grid line</i></a> numbers referred to by
   &lsquo;<a href="#grid-row"><code class=property>grid-row</code></a>&rsquo;
   or &lsquo;<a href="#grid-column"><code
   class=property>grid-column</code></a>&rsquo; properties on a <a
   href="#grid-item"><i>Grid item</i></a> are not required to refer to a <a
   href="#grid-line"><i>Grid line</i></a> that was defined using the
   &lsquo;<a href="#grid-columns"><code
   class=property>grid-columns</code></a>&rsquo; or &lsquo;<a
   href="#grid-rows"><code class=property>grid-rows</code></a>&rsquo;
   properties on the <a href="#grid-element"><i>Grid element</i></a>. In
   cases where the specified position is outside those explicitly specified
   on the <a href="#grid-element"><i>Grid element</i></a>, implicit columns
   and rows fill gaps added as needed to create additional <a
   href="#grid-line"><i>Grid lines</i></a> until the reference can be
   resolved. Note that quoted <a href="#grid-line"><i>Grid line</i></a> names
   that don't resolve to an explicitly defined <a href="#grid-line"><i>Grid
   line</i></a> are treated as though the author specified the &lsquo;<a
   href="#start-line"><code class=css>start</code></a>&rsquo; <a
   href="#grid-line"><i>Grid line</i></a> and don't trigger implicit <a
   href="#grid-track"><i>Grid track</i></a> creation.</p>

  <p> Figure 10 illustrates the placement of <a href="#grid-item"><i>Grid
   items</i></a> resulting from the markup shown in the following example.
   Note that <a href="#grid-item"><i>Grid item</i></a> <code>B</code> is
   positioned on <a href="#grid-line"><i>Grid line</i></a> 5 which creates a
   5th column to contain <a href="#grid-item"><i>Grid item</i></a>
   <code>B</code>. Further, columns 3 and 4 are created as implicit
   auto-width columns without content resulting in a used column width of
   0px.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid { display: grid; grid-columns: 20px; grid-rows: 20px }
    #A { grid-column: 1; grid-row: 1; grid-column-align: start; grid-row-align: start }
    #B { grid-column: 5; grid-row: 1; grid-row-span: 2; }
    #C { grid-column: 1; grid-row: 2; grid-column-span: 2; }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="A"&gt;A&lt;/div&gt;
    &lt;div id="B"&gt;B&lt;/div&gt;
    &lt;div id="C"&gt;C&lt;/div&gt;
&lt;/div&gt;</pre>
  <section id=defining-default-size-for-implicit-columns-and-rows>
  <h4 id=defining-a-default-size-for-implicit-col><span class=secno>7.4.1.
   </span>Defining a Default Size for Implicit Columns and Rows</h4>

  <p> By default, any implicit columns or rows created are auto sized to
   content. The default size can be changed using the &lsquo;<a
   href="#grid-column-sizing"><code
   class=property>grid-column-sizing</code></a>&rsquo; and &lsquo;<a
   href="#grid-row-sizing"><code
   class=property>grid-row-sizing</code></a>&rsquo; properties. The
   properties accept any valid single column or row sizing function.</p>

  <table class=propdef id=grid-column-sizing-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-column-sizing>grid-column-sizing</dfn>

    <tr>
     <td>Value:

     <td>&lt;track-minmax&gt; (see <a
      href="#grid-columns-and-rows-properties">Grid Columns and Grid Rows
      Properties</a>)

    <tr>
     <td>Initial:

     <td>auto

    <tr>
     <td>Applies to:

     <td>Grid elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>see <a href="#grid-columns-and-rows-properties">Grid Columns and
      Grid Rows Properties</a>

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>see <a href="#computed-values-grid-rows-and-columns">Computed Values
      for Grid-rows and Grid-columns</a>
  </table>

  <table class=propdef id=grid-row-sizing-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-row-sizing>grid-row-sizing</dfn>

    <tr>
     <td>Value:

     <td>&lt;track-minmax&gt; (see <a
      href="#grid-columns-and-rows-properties">Grid Columns and Grid Rows
      Properties</a>)

    <tr>
     <td>Initial:

     <td>auto

    <tr>
     <td>Applies to:

     <td>Grid elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>see <a href="#grid-columns-and-rows-properties">Grid Columns and
      Grid Rows Properties</a>

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>see <a href="#computed-values-grid-rows-and-columns">Computed Values
      for Grid-rows and Grid-columns</a>
  </table>
  <!--End Section: Defining a Default Size for Implicit Columns and Rows-->
  </section> <!--End Section: Implicit Columns and Rows--> </section>
  <section class=section id=automatic-placement-of-grid-items>
  <h3 id=automatic-placement-of-grid-items0><span class=secno>7.5.
   </span>Automatic Placement of Grid Items</h3>

  <p> <a href="#grid-item"><i>Grid items</i></a> can be automatically placed
   into an unoccupied space of the Grid. The &lsquo;<a
   href="#grid-flow"><code class=property>grid-flow</code></a>&rsquo;
   property controls the direction in which the search for unoccupied space
   takes place, and whether rows or columns are added as needed to accomodate
   the content. Note that <a href="#grid-cell"><i>Grid cells</i></a> cannot
   be automatically placed.</p>

  <p> A &lsquo;<a href="#grid-flow"><code
   class=property>grid-flow</code></a>&rsquo; value of &lsquo;<a
   href="#rows"><code class=css>rows</code></a>&rsquo; will search across
   columns and then rows for unoccupied space, and will create additional
   rows as needed to accomodate content. Similarly, a &lsquo;<a
   href="#grid-flow"><code class=property>grid-flow</code></a>&rsquo; value
   of &lsquo;<a href="#columns"><code class=css>columns</code></a>&rsquo;
   searches rows first and creates additional columns as needed until
   sufficient space is found.</p>

  <table class=propdef id=grid-flow-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-flow>grid-flow</dfn>

    <tr>
     <td>Value:

     <td><dfn id=none-flow>none</dfn> | <dfn id=rows>rows</dfn> | <dfn
      id=columns>columns</dfn>

    <tr>
     <td>Initial:

     <td>none

    <tr>
     <td>Applies to:

     <td>Grid elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>specified value
  </table>

  <div class=sidefigure>
   <p> <img alt="Image: A form arranged using automatic placement."
    src="images/auto-placed-form.png"></p>

   <p class=caption>A form arranged using automatic placement.</p>
  </div>

  <p> The search for unoccupied space is conducted one <a
   href="#grid-item"><i>Grid item</i></a> at a time. First <a
   href="#grid-item"><i>Grid items</i></a> which have a constraint on either
   their &lsquo;<a href="#grid-row"><code
   class=property>grid-row</code></a>&rsquo; or &lsquo;<a
   href="#grid-column"><code class=property>grid-column</code></a>&rsquo; are
   placed, followed by <a href="#grid-item"><i>Grid items</i></a> which have
   both a &lsquo;<a href="#grid-row"><code
   class=property>grid-row</code></a>&rsquo; and &lsquo;<a
   href="#grid-column"><code class=property>grid-column</code></a>&rsquo;
   value of &lsquo;<a href="#auto-row-position"><code
   class=css>auto</code></a>&rsquo;. If &lsquo;<a href="#grid-flow"><code
   class=property>grid-flow</code></a>&rsquo; is &lsquo;<a href="#rows"><code
   class=css>rows</code></a>&rsquo;, <a href="#grid-item"><i>Grid
   items</i></a> having an &lsquo;<a href="#auto-row-position"><code
   class=css>auto</code></a>&rsquo; value for &lsquo;<a
   href="#grid-row"><code class=property>grid-row</code></a>&rsquo; are
   placed before those with an auto value for &lsquo;<a
   href="#grid-column"><code class=property>grid-column</code></a>&rsquo;.
   The reverse is true when &lsquo;<a href="#grid-flow"><code
   class=property>grid-flow</code></a>&rsquo; is &lsquo;<a
   href="#columns"><code class=css>columns</code></a>&rsquo; .</p>

  <p> In the following example, there are three columns, each auto-sized to
   their contents. No rows are explicitly defined. The &lsquo;<a
   href="#grid-flow"><code class=property>grid-flow</code></a>&rsquo;
   property is &lsquo;<a href="#rows"><code class=css>rows</code></a>&rsquo;
   which instructs the grid to search across its three columns starting with
   the first row, then the next, adding rows as needed until sufficient space
   is located to accomodate the position of any auto-placed <a
   href="#grid-item"><i>Grid item</i></a>. Figure 11 illustrates the result.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    form {
        display: grid;
        grid-columns: "labels" auto "controls" auto "oversized" auto;
        grid-flow: rows
    }
    form &gt; * {
        /* Ensure that children of the grid are all valid grid items by setting */
        /* display to 'block'. */
        display: block;
    }
    form &gt; input, form &gt; select {
        /* Place all controls in the "controls" column and automatically find the */
        /* next available row. */
        grid-column: "controls";
        grid-row: auto
    }
    form &gt; label {
        /* Place all labels in the "labels" column and automatically find the next
        /* available row. */
        grid-column: "labels";
        grid-row: auto
    }
    
    #department {
        /* Auto place this item in the "oversized" column in the first row where a cell that  */
        /* spans three rows won't overlap other explicitly placed items or cells or any items */
        /* automatically placed prior to this cell. */
        grid-column: "oversized";
        grid-row: auto;
        grid-row-span: 3;
    }

    /* Place all the buttons of the form in the explicitly defined grid cell. */
    #buttons {
        grid-row: auto;

        /* Ensure the button cell spans the entire grid element in the column direction. */
        grid-column: start end;
        grid-column-align: end
    }
&lt;/style&gt;
&lt;form action="#"&gt;
    &lt;label for="firstname"&gt;First name:&lt;/label&gt;
    &lt;input type="text" id="firstname" name="firstname" /&gt;
    &lt;label for="lastname"&gt;Last name:&lt;/label&gt;
    &lt;input type="text" id="lastname" name="lastname" /&gt;
    &lt;label for="address"&gt;Address:&lt;/label&gt;
    &lt;input type="text" id="address" name="address" /&gt;
    &lt;label for="address2"&gt;Address 2:&lt;/label&gt;
    &lt;input type="text" id="address2" name="address2" /&gt;
    &lt;label for="city"&gt;City:&lt;/label&gt;
    &lt;input type="text" id="city" name="city" /&gt;
    &lt;label for="state"&gt;State:&lt;/label&gt;
    &lt;select type="text" id="state" name="state"&gt;
        &lt;option value="WA"&gt;Washington&lt;/option&gt;
    &lt;/select&gt;
    &lt;label for="zip"&gt;Zip:&lt;/label&gt;
    &lt;input type="text" id="zip" name="zip" /&gt;
    
    &lt;div id="department"&gt;
        &lt;label for="department"&gt;Department:&lt;/label&gt;
        &lt;select id="department" name="department" multiple&gt;
            &lt;option value="finance"&gt;Finance&lt;/option&gt;
            &lt;option value="humanresources"&gt;Human Resources&lt;/option&gt;
            &lt;option value="marketing"&gt;Marketing&lt;/option&gt;
            &lt;option value="payroll"&gt;Payroll&lt;/option&gt;
            &lt;option value="shipping"&gt;Shipping&lt;/option&gt;
        &lt;/select&gt;
    &lt;/div&gt;

   &lt;div id="buttons"&gt;
       &lt;button id="cancel"&gt;Cancel&lt;/button&gt;
       &lt;button id="back"&gt;Back&lt;/button&gt; 
       &lt;button id="next"&gt;Next&lt;/button&gt;
   &lt;/div&gt;
&lt;/form&gt;</pre>
  <section class=section id=automatic-grid-item-placement-algorithm>
  <h4 id=automatic-grid-item-placement-algorithm0><span class=secno>7.5.1.
   </span>Automatic Grid Item Placement Algorithm</h4>

  <p> The following summarizes the algorithm for auto placement of <a
   href="#grid-item"><i>Grid items</i></a>. For each <a
   href="#grid-item"><i>Grid item</i></a> in source order:</p>

  <ol>
   <li>If both &lsquo;<a href="#grid-row"><code
    class=property>grid-row</code></a>&rsquo; and &lsquo;<a
    href="#grid-column"><code class=property>grid-column</code></a>&rsquo;
    are not &lsquo;<a href="#auto-row-position"><code
    class=css>auto</code></a>&rsquo; the <a href="#grid-item"><i>Grid
    item</i></a> is placed as specified:
    <ol>
     <li>If &lsquo;<a href="#grid-row"><code
      class=property>grid-row</code></a>&rsquo; is not &lsquo;<a
      href="#auto-row-position"><code class=css>auto</code></a>&rsquo;, the
      <a href="#grid-item"><i>Grid item</i></a> is placed between the
      starting and ending lines specified by the &lsquo;<a
      href="#grid-row"><code class=property>grid-row</code></a>&rsquo;
      property. An implicit <a href="#grid-line"><i>Grid line</i></a> number
      is assigned as the starting line for &lsquo;<a
      href="#grid-column"><code class=property>grid-column</code></a>&rsquo;
      such that the <a href="#grid-item"><i>Grid item</i></a> does not
      overlap <a href="#grid-item"><i>Grid items</i></a> already placed in
      the Grid. If necessary, new column <a href="#grid-line"><i>Grid
      lines</i></a> are created to satisfy this constraint.

     <li>If &lsquo;<a href="#grid-column"><code
      class=property>grid-column</code></a>&rsquo; is not &lsquo;<a
      href="#auto-row-position"><code class=css>auto</code></a>&rsquo;, the
      <a href="#grid-item"><i>Grid item</i></a> is placed between the
      starting and ending lines specified by the &lsquo;<a
      href="#grid-column"><code class=property>grid-column</code></a>&rsquo;
      property. An implicit <a href="#grid-line"><i>Grid line</i></a> number
      is assigned as the starting line for &lsquo;<a href="#grid-row"><code
      class=property>grid-row</code></a>&rsquo; such that the <a
      href="#grid-item"><i>Grid item</i></a> does not overlap <a
      href="#grid-item"><i>Grid items</i></a> already placed in the Grid. If
      necessary, new row <a href="#grid-line"><i>Grid lines</i></a> are
      created to satisfy this constraint.
    </ol>

   <li>Otherwise when both &lsquo;<a href="#grid-column"><code
    class=property>grid-column</code></a>&rsquo; and &lsquo;<a
    href="#grid-row"><code class=property>grid-row</code></a>&rsquo; are
    &lsquo;<a href="#auto-row-position"><code
    class=css>auto</code></a>&rsquo;, beginning with the implicit <a
    href="#grid-line"><i>Grid line</i></a> numbers of the previously placed
    <a href="#grid-item"><i>Grid item</i></a>, or (1, 1) if this is the first
    <a href="#grid-item"><i>Grid item</i></a> to be automatically placed:
    <ol>
     <li>Place the <a href="#grid-item"><i>Grid item</i></a> in the <a
      href="#grid-cell"><i>Grid cell</i></a> currently defined by the
      &lsquo;<a href="#grid-row"><code
      class=property>grid-row</code></a>&rsquo; and &lsquo;<a
      href="#grid-column"><code class=property>grid-column</code></a>&rsquo;
      auto position if not already occupied by another <a
      href="#grid-item"><i>Grid item</i></a>.

     <li>Otherwise:
      <ol>
       <li>If grid-flow is &lsquo;<a href="#rows"><code
        class=css>rows</code></a>&rsquo;, increment the &lsquo;<a
        href="#grid-column"><code
        class=property>grid-column</code></a>&rsquo;. If the &lsquo;<a
        href="#grid-column"><code
        class=property>grid-column</code></a>&rsquo; value is outside of
        bounds of the grid (as defined at this point, explicitly or by
        previously placed items), set &lsquo;<a href="#grid-column"><code
        class=property>grid-column</code></a>&rsquo; to one and increment
        &lsquo;<a href="#grid-row"><code
        class=property>grid-row</code></a>&rsquo; (creating new row <a
        href="#grid-line"><i>Grid lines</i></a> as needed).

       <li>If grid-flow is &lsquo;<a href="#columns"><code
        class=css>columns</code></a>&rsquo;, increment &lsquo;<a
        href="#grid-row"><code class=property>grid-row</code></a>&rsquo;. If
        the &lsquo;<a href="#grid-row"><code
        class=property>grid-row</code></a>&rsquo; value is outside of bounds
        of the grid (as defined at this point, explicitly or by previously
        placed items), set &lsquo;<a href="#grid-row"><code
        class=property>grid-row</code></a>&rsquo; to one and increment
        &lsquo;<a href="#grid-column"><code
        class=property>grid-column</code></a>&rsquo; (creating new column <a
        href="#grid-line"><i>Grid lines</i></a> as needed).
      </ol>
    </ol>
  </ol>
  <!--End Section: Automatic Grid Item Placement Algorithm--> </section>
  <!--End Section: Grid Item Auto Placement--> </section>
  <!--End Section: Grid Item Placement--> </section><section class=section
  id=grid-item-alignment>
  <h2 id=grid-item-alignment0><span class=secno>8. </span>Grid Item Alignment</h2>

  <div class=sidefigure>
   <div class=figure>
    <p> <img alt="Image: Latin-based language row and column orientation."
     src="images/horizontal-tb-dir-ltr.png"></p>

    <p class=caption>Latin-based language row and column orientation.</p>
   </div>

   <div class=figure>
    <p> <img alt="Image: Arabic language row and column orientation."
     src="images/horizontal-tb-dir-rtl.png"></p>

    <p class=caption>Arabic language row and column orientation.</p>
   </div>

   <div class=figure>
    <p> <img alt="Image: East Asian language row and column orientation."
     src="images/vertical-rl.png"></p>

    <p class=caption>East Asian language row and column orientation.</p>
   </div>
  </div>

  <p> A <a href="#grid-item"><i>Grid item</i></a>&rsquo;s alignment within
   its Cell can be controlled by using the &lsquo;<a
   href="#grid-column-align"><code
   class=property>grid-column-align</code></a>&rsquo; and &lsquo;<a
   href="#grid-row-align"><code
   class=property>grid-row-align</code></a>&rsquo; properties. Alignment
   refers to the logical edges of the <a href="#grid-item"><i>Grid
   item</i></a>&rsquo;s Cell.</p>

  <p> The &lsquo;<a href="#start-row-align"><code
   class=css>start</code></a>&rsquo; edge of a column is defined by the text
   flow direction. The &lsquo;<a href="#start-row-align"><code
   class=css>start</code></a>&rsquo; edge of a row is defined by block flow
   direction. The alignment values refer to the edge of the <a
   href="#grid-item"><i>Grid item</i></a>&rsquo;s Cell against which the <a
   href="#grid-item"><i>Grid item</i></a> will align one of its edges. Which
   edge of the <a href="#grid-item"><i>Grid item</i></a> actually aligns
   against the specified edge of the Cell is dependent on whether the <a
   href="#grid-item"><i>Grid item</i></a> shares the same inline text
   direction and block flow direction as the <a href="#grid-element"><i>Grid
   element</i></a>. All descriptions below assume that the <a
   href="#grid-item"><i>Grid item</i></a> shares the same inline text
   direction and block flow direction as the <a href="#grid-element"><i>Grid
   element</i></a>. Refer to the <a
   href="http://dev.w3.org/csswg/css3-writing-modes/">CSS Writing Modes
   Module Level 3</a> for more details about the relationship between parent
   and child elements with differing writing-modes, and for the definitions
   of inline direction and block flow direction.</p>

  <p> Figures 12, 13, and 14 illustrate the placement and orientation of the
   <a href="#grid-element"><i>Grid element</i></a>&rsquo;s rows, columns, and
   <a href="#grid-item"><i>Grid items</i></a> using different writing modes
   on the <a href="#grid-element"><i>Grid element</i></a>. In each of the
   figures, the markup shown in the following example is used to place <a
   href="#grid-item"><i>Grid item</i></a> A in column 1, row 1, and <a
   href="#grid-item"><i>Grid item</i></a> B in column 2, row 2. <a
   href="#grid-item"><i>Grid item</i></a> A is aligned in each figure to the
   starting edges of its row and column. <a href="#grid-item"><i>Grid
   item</i></a> B is aligned in each figure to the ending edges of its row
   and column.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid { display: grid; grid-columns: 1fr 1fr; grid-rows: 1fr 1fr }
    #A { grid-column: 1; grid-row: 1; grid-column-align: start; grid-row-align: start }
    #B { grid-column: 2; grid-row: 2; grid-column-align: end; grid-row-align: end }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="A"&gt;A&lt;/div&gt;
    &lt;div id="B"&gt;B&lt;/div&gt;
&lt;/div&gt;</pre>

  <table class=propdef id=grid-column-align-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-column-align>grid-column-align</dfn>

    <tr>
     <td>Value:

     <td><dfn id=start-column-align>start</dfn> | <dfn
      id=end-column-align>end</dfn> | <dfn
      id=center-column-align>center</dfn> | <dfn
      id=stretch-column-align>stretch</dfn>

    <tr>
     <td>Initial:

     <td>&lsquo;<a href="#stretch-column-align"><code
      class=css>stretch</code></a>&rsquo;

    <tr>
     <td>Applies to:

     <td>Grid Item elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>specified value
  </table>

  <ul>
   <li>&lsquo;<a href="#start-column-align"><code
    class=css>start</code></a>&rsquo; aligns the starting edge of the <a
    href="#grid-item"><i>Grid item</i></a>&rsquo;s margin box to the starting
    edge of the <a href="#grid-item"><i>Grid item</i></a>&rsquo;s column.

   <li>&lsquo;<a href="#end-column-align"><code
    class=css>end</code></a>&rsquo; aligns the end edge of the <a
    href="#grid-item"><i>Grid item</i></a>&rsquo;s margin box to the end edge
    of the <a href="#grid-item"><i>Grid item</i></a>&rsquo;s column.

   <li>&lsquo;<a href="#center-column-align"><code
    class=css>center</code></a>&rsquo; places the center of the <a
    href="#grid-item"><i>Grid item</i></a>&rsquo;s margin box at the center
    of the the <a href="#grid-item"><i>Grid item</i></a>&rsquo;s column.

   <li>&lsquo;<a href="#stretch-column-align"><code
    class=css>stretch</code></a>&rsquo; ensures that the <a
    href="#grid-item"><i>Grid item</i></a>&rsquo;s margin box is equal to the
    size of the <a href="#grid-item"><i>Grid item</i></a>&rsquo;s column.
  </ul>

  <table class=propdef id=grid-row-align-property>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=grid-row-align>grid-row-align</dfn>

    <tr>
     <td>Value:

     <td><dfn id=start-row-align>start</dfn> | <dfn
      id=end-row-align>end</dfn> | <dfn id=center-row-align>center</dfn> |
      <dfn id=stretch-row-align>stretch</dfn>

    <tr>
     <td>Initial:

     <td>&lsquo;<a href="#stretch-row-align"><code
      class=css>stretch</code></a>&rsquo;

    <tr>
     <td>Applies to:

     <td>Grid Item elements

    <tr>
     <td>Inherited:

     <td>no

    <tr>
     <td>Percentages:

     <td>n/a

    <tr>
     <td>Media:

     <td>visual, paged

    <tr>
     <td>Computed value:

     <td>specified value
  </table>

  <ul>
   <li>&lsquo;<a href="#start-row-align"><code
    class=css>start</code></a>&rsquo; aligns the starting edge of the <a
    href="#grid-item"><i>Grid item</i></a>&rsquo;s margin box to the starting
    edge of the <a href="#grid-item"><i>Grid item</i></a>&rsquo;s row.

   <li>&lsquo;<a href="#end-row-align"><code class=css>end</code></a>&rsquo;
    aligns the end edge of the <a href="#grid-item"><i>Grid
    item</i></a>&rsquo;s margin box to the end edge of the <a
    href="#grid-item"><i>Grid item</i></a>&rsquo;s row.

   <li>&lsquo;<a href="#center-row-align"><code
    class=css>center</code></a>&rsquo; places the center of the <a
    href="#grid-item"><i>Grid item</i></a>&rsquo;s margin box at the center
    of the the <a href="#grid-item"><i>Grid item</i></a>&rsquo;s row.

   <li>&lsquo;<a href="#stretch-row-align"><code
    class=css>stretch</code></a>&rsquo; ensures that the <a
    href="#grid-item"><i>Grid item</i></a>&rsquo;s margin box is equal to the
    size of the <a href="#grid-item"><i>Grid item</i></a>&rsquo;s row.
  </ul>
  <section class=section id=calculating-size-of-grid-item>
  <h3 id=calculating-the-size-of-grid-items><span class=secno>8.1.
   </span>Calculating the Size of Grid Items</h3>

  <p> The values &lsquo;<a href="#start-row-align"><code
   class=css>start</code></a>&rsquo;, &lsquo;<a href="#end-row-align"><code
   class=css>end</code></a>&rsquo;, and &lsquo;<a
   href="#center-row-align"><code class=css>center</code></a>&rsquo; all
   cause the <a href="#grid-item"><i>Grid item</i></a> to produce a box sized
   shrink-to-fit for its cell in accordance with the <a
   href="http://www.w3.org/TR/css3-box/#shrink-to-fit">CSS3 Box Model</a>.
   Note that percentage lengths specified on a <a href="#grid-item"><i>Grid
   item</i></a> resolve against the dimensions of the <a
   href="#grid-cell"><i>Grid cell</i></a> (i.e. the <a
   href="#grid-cell"><i>Grid cell</i></a> serves as the containing block for
   the <a href="#grid-item"><i>Grid item</i></a>). Percentages specified for
   margin-top, padding-top, margin-bottom, and padding-bottom resolve against
   the height of the grid cell, rather than the width of the grid cell. If
   the &lsquo;<a href="#min-content"><code
   class=property>min-content</code></a>&rsquo; size of the <a
   href="#grid-item"><i>Grid item</i></a>&rsquo;s box is greater than the
   size of its Cell, it will overflow the bounds of its Cell in a direction
   determined by its alignment.</p>

  <p> A value of &lsquo;<a href="#stretch-row-align"><code
   class=property>stretch</code></a>&rsquo; causes the <a
   href="#grid-item"><i>Grid item</i></a>&rsquo;s width to shrink or grow in
   accordance with the equation for calculating containing block width
   described in <a href="http://www.w3.org/TR/css3-box/#blockwidth">section
   9.3 of the CSS3 Box Model</a>. Note that this calculation is symmetric for
   both the width and height of the <a href="#grid-item"><i>Grid
   item</i></a>.</p>
  <!--End Section: Grid Item Alignment and Overflow--> </section>
  <!--End Section: Grid Item Alignment--> </section><section class=section
  id=drawing-order-of-grid-items>
  <h2 id=drawing-order-of-grid-items0><span class=secno>9. </span>Drawing
   Order of Grid Items</h2>

  <div class=sidefigure>
   <p> <img
    alt="Image: Drawing order controlled by z-index and source order."
    src="images/drawing-order.png"></p>

   <p class=caption>Drawing order controlled by z-index and source order.</p>
  </div>

  <p> <a href="#grid-item"><i>Grid items</i></a> do not directly affect each
   other's placement in the <a href="#grid-element"><i>Grid element</i></a>.
   A <a href="#grid-item"><i>Grid item</i></a> may affect the position of a
   <a href="#grid-line"><i>Grid line</i></a> in a column or row that uses a
   contents-based relative size, which in turn affects the position or size
   of another <a href="#grid-item"><i>Grid item</i></a>, but there is no
   direct interaction between <a href="#grid-item"><i>Grid items</i></a>. <a
   href="#grid-item"><i>Grid items</i></a> may overlap because the <a
   href="#grid-item"><i>Grid item</i></a>&rsquo;s Cell is defined to
   intersect with the Cell of another <a href="#grid-item"><i>Grid
   item</i></a>. <a href="#grid-item"><i>Grid item</i></a> boxes in
   non-intersecting Cells may also overlap because of negative margins.</p>

  <p> In cases where boxes overlap, <a
   href="http://www.w3.org/TR/CSS21/visuren.html#propdef-z-index">&lsquo;<code
   class=property>z-index</code>&rsquo;</a> provides control over the drawing
   order of <a href="#grid-item"><i>Grid items</i></a>. Both <a
   href="#grid-element"><i>Grid elements</i></a> and <a
   href="#grid-item"><i>Grid items</i></a> generate a stacking context as
   described for floats (step 5, section 14) in the <a
   href="http://www.w3.org/TR/2007/WD-css3-box-20070809/#stacking">CSS3 Box
   Model</a>.</p>

  <p> Figure 15 illustrates the drawing order of the markup shown in the
   following example.</p>

  <pre class=example>&lt;style type="text/css"&gt;
    #grid { display: grid; grid-columns: 1fr 1fr; grid-rows: 1fr 1fr }
    #A { grid-column: 1; grid-row: 2; grid-column-span: 2; grid-row-align: end }
    #B { grid-column: 1; grid-row: 1; z-index: 10 }
    #C { grid-column: 2; grid-row: 1; grid-row-align: start; margin-left: -20px }
    #D { grid-column: 2; grid-row: 2; grid-column-align: end; grid-row-align: start }
    #E { grid-column: 1; grid-row: 1; 
         grid-column-span: 2; grid-row-span: 2; z-index: 5;
         grid-column-align: center; grid-row-align: center 
    }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="A"&gt;A&lt;/div&gt;
    &lt;div id="B"&gt;B&lt;/div&gt;
    &lt;div id="C"&gt;C&lt;/div&gt;
    &lt;div id="D"&gt;D&lt;/div&gt;
    &lt;div id="E"&gt;E&lt;/div&gt;
&lt;/div&gt;</pre>
  <!--End Section: Drawing Order of Grid Items--> </section><section
  class=section id=calculating-size-of-grid-tracks>
  <h2 id=calculating-the-size-of-grid-tracks><span class=secno>10.
   </span>Calculating the Size of Grid Tracks</h2>
  <section class=section
  id=definition-of-terms-for-grid-track-sizing-calculations>
  <h3 id=definition-of-terms-for-use-in-calculati><span class=secno>10.1.
   </span>Definition of Terms for use in Calculating Grid Track Sizes</h3>

  <dl>
   <dt> <dfn id="">AvailableSpace</dfn>

   <dd>The <a href="#grid-element"><i>Grid element</i></a>&rsquo;s content
    box size in the applicable dimension.

   <dt> <dfn id="">MaxTrackSizingFunction</dfn>

   <dd>One of the <a
    href="#grid-columns-and-rows-properties">&lt;track-breadth&gt;</a> sizing
    functions assigned as the maximum breadth of a <a
    href="#grid-track"><i>Grid track</i></a>.

   <dt> <dfn id="">MinTrackSizingFunction</dfn>

   <dd>One of the <a
    href="#grid-columns-and-rows-properties">&lt;track-breadth&gt;</a> sizing
    functions assigned as the minimum breadth of a <a
    href="#grid-track"><i>Grid track</i></a>.

   <dt> <dfn id="">RemainingSpace</dfn>

   <dd>The max of zero and the AvailableSpace less the sum of all <a
    href="#grid-track"><i>Grid track</i></a> UsedBreadth values. This is
    undefined if AvailableSpace is undefined (i.e. the Grid element is
    shrink-to-fit or the height is auto.)

   <dt> <dfn id="">SpanCount</dfn>

   <dd>The number of <a href="#grid-track"><i>Grid tracks</i></a> crossed by
    a <a href="#grid-item"><i>Grid item</i></a> in the applicable dimension.
  </dl>
  <!--End Section: Definition of Terms for use in Calculating Grid Track Sizes-->
  </section> <section class=section id=grid-track-sizing-algorithm>
  <h3 id=grid-track-sizing-algorithm0><span class=secno>10.2. </span>Grid
   Track Sizing Algorithm</h3>

  <ol>
   <li>Call ComputedUsedBreadthOfGridTracks for Grid Columns to resolve their
    logical width.

   <li>Call ComputedUsedBreadthOfGridTracks for Grid Rows to resolve their
    logical height. The logical width of Grid Columns from the prior step is
    used in the formatting of <a href="#grid-item"><i>Grid items</i></a> in
    content-sized Grid Rows to determine their required height.

   <li>If the minimum content size of any <a href="#grid-item"><i>Grid
    item</i></a> has changed based on available height for the <a
    href="#grid-item"><i>Grid item</i></a> as computed in step 2, adjust the
    min content size of the <a href="#grid-item"><i>Grid item</i></a> and
    restart the <a href="#grid-track"><i>Grid track</i></a> Sizing algorithm
    (once only).
  </ol>

  <dl>
   <dt> <dfn
    id=function-ComputeUsedBreadthOfGridTracks>ComputeUsedBreadthOfGridTracks</dfn>
    

   <dd>
    <p> This is the core <a href="#grid-track"><i>Grid track</i></a> sizing
     algorithm. It is run for Grid columns and Grid rows. The goal of the
     function is to ensure:</p>

    <ol>
     <li>That each <a href="#grid-track"><i>Grid track</i></a> satisfies its
      MinTrackSizingFunction

     <li>That each <a href="#grid-track"><i>Grid track</i></a> grows from the
      breadth which satisfied its MinTrackSizingFunction to a breadth which
      satifies its MaxTrackSizingFunction, subject to RemainingSpace.
    </ol>

    <p> For the purposes of resolving the breadth that satisfies the
     MinTrackSizingFunction and MaxTrackSizingFunction, each <a
     href="#grid-track"><i>Grid track</i></a> falls into one of three
     categories:</p>

    <ol>
     <li>A percentage or length value which can be trivially resolved.

     <li>A min-content or max-content value which will be resolved based on
      the measurements of the <a href="#grid-item"><i>Grid items</i></a>
      which cover the <a href="#grid-track"><i>Grid track</i></a>.

     <li>A fraction value which can only be resolved after determining the
      RemainingSpace in the <a href="#grid-element"><i>Grid
      element</i></a>&rsquo;s content box after having considered all
      contributions from the prior two categories of <a
      href="#grid-track"><i>Grid tracks</i></a>.
    </ol>

    <p> The breadths which satisfy MinTrackSizingFunctions and
     MaxTrackSizingFunctions for the first category of <a
     href="#grid-track"><i>Grid tracks</i></a> are resolved in step 1 during
     <a href="#grid-track"><i>Grid track</i></a> variable initialization. The
     breadths which satisfy the MinTrackSizingFunctions and the
     MaxTrackSizingFunctions for the second category of content-sized <a
     href="#grid-track"><i>Grid tracks</i></a> are resolved in step 2. At the
     end of step 2, the first goal of ComputeUsedBreadthOfGridTracks function
     has been satisfied: the UsedBreadth variable of each GridTrack now
     satisfies its MinTrackSizingFunction. The MaxBreadth variable for each
     <a href="#grid-track"><i>Grid track</i></a> now contains the resolved
     value for its MaxTrackSizingFunction.</p>

    <p> In step 3, the second goal of this function is satisified as each
     (non-fraction-sized) <a href="#grid-track"><i>Grid track</i></a>
     attempts to grow from the UsedBreadth value to the MaxBreadth value,
     subject to RemainingSpace.</p>

    <p> Finally in step 4, the third category of fraction-sized <a
     href="#grid-track"><i>Grid tracks</i></a> can be resolved using what is
     now the RemainingSpace having updated the UsedBreadth of each <a
     href="#grid-track"><i>Grid track</i></a> at the end of step 3.</p>

    <dl>
     <dt> <dfn id=function-ComputeUsedBreadthOfGridTracks-inputs>Inputs</dfn>
      

     <dd>
      <ul>
       <li>GridTracks: The set of <a href="#grid-track"><i>Grid
        tracks</i></a> for which the <a href="#grid-track"><i>Grid
        track</i></a> variable UsedBreadth will be computed.
      </ul>
    </dl>

    <dl>
     <dt> <dfn
      id=function-ComputeUsedBreadthOfGridTracks-algorithm>Algorithm</dfn>

     <dd class=pseudo-code>
      <ol>
       <li>Initialize per <a href="#grid-track"><i>Grid track</i></a>
        variables
        <ol>
         <li>For each <a href="#grid-track"><i>Grid track</i></a> t in
          GridTracks
          <ol>
           <li>If t.MinTrackSizingFunction is a percentage or length, then
            t.UsedBreadth = resolved length

           <li>If t.MinTrackSizingFunction is min-content, max-content, or a
            fraction, then t.UsedBreadth = 0

           <li>If t.MaxTrackSizingFunction is percentage or length, then
            t.MaxBreadth = resolved length
            <ol>
             <li>If the resolved length of the MaxTrackSizingFunction is less
              than the MinTrackSizingFunction, t.MaxBreadth = t.UsedBreadth.
            </ol>

           <li>If t.MaxTrackSizingFunction is min-content, or max-content,
            then t.MaxBreadth = Infinity

           <li>If t.MaxTrackSizingFunction is a fraction, then t.MaxBreadth =
            t.UsedBreadth

           <li>t.SpanGroupInWhichMaxBreadthWasMadeFinite = null
          </ol>
        </ol>

       <li>Resolve content-based TrackSizingFunctions
        <ol>
         <li>Call ResolveContentBasedTrackSizingFunctions, with arguments:
          <ul>
           <li>GridItems: All <a href="#grid-item"><i>Grid items</i></a>.
          </ul>
        </ol>

       <li>Grow all <a href="#grid-track"><i>Grid tracks</i></a> in
        GridTracks from their UsedBreadth up to their MaxBreadth value until
        RemainingSpace is exhausted.
        <ol>
         <li>If RemainingSpace == defined
          <ol>
           <li>Iterate over all GridTracks and assign UsedBreadth to
            UpdatedTrackBreadth

           <li>Call DistributeSpaceToTracks, with arguments:
            <ul>
             <li>SpaceToDistribute: RemainingSpace

             <li>TrackGrowthConstraint: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns its
              MaxBreadth.

             <li>TracksForGrowth: All <a href="#grid-track"><i>Grid
              tracks</i></a>

             <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: The
              empty set.

             <li>CurrentBreadth: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns the
              UsedBreadth.
            </ul>

           <li>Iterate over all GridTracks and assign UpdatedTrackBreadth to
            UsedBreadth
          </ol>

         <li>Else
          <ol>
           <li>For each <a href="#grid-track"><i>Grid track</i></a> t in
            GridTracks
            <ol>
             <li>t.UsedBreadth = t.MaxBreadth
            </ol>
          </ol>
        </ol>

       <li>Grow all <a href="#grid-track"><i>Grid tracks</i></a> having a
        fraction as the MaxTrackSizingFunction
        <ol>
         <li>normalizedFractionBreadth = 0

         <li>If RemainingSpace == defined
          <ol>
           <li>normalizedFractionBreadth = Call
            ComputeNormalizedFractionBreadth, with arguments:
            <ul>
             <li>GridTracks: GridTracks

             <li>SpaceToFill: AvailableSpace
            </ul>
          </ol>

         <li>Else
          <ol>
           <li>For each <a href="#grid-track"><i>Grid track</i></a> t in
            GridTracks having a fraction as the MaxTrackSizingFunction
            <ol>
             <li>normalizedFractionBreadth = Max( normalizedFractionBreadth,
              t.UsedBreadth / t.MaxTrackSizingFunction.FractionValue )
            </ol>

           <li>For each <a href="#grid-item"><i>Grid item</i></a> i, which
            crosses a set of GridTracks s
            <ol>
             <li>itemNormalizedFractionBreadth = Call
              ComputeNormalizedFractionBreadth, with arguments:
              <ul>
               <li>GridTracks: s

               <li>SpaceToFill: max-content size of i
              </ul>

             <li>normalizedFractionBreadth = Max( normalizedFractionBreadth,
              itemNormalizedFractionBreadth )
            </ol>
          </ol>

         <li>For each <a href="#grid-track"><i>Grid track</i></a> t in
          GridTracks
          <ol>
           <li>t.UsedBreadth = Max( t.UsedBreadth, normalizedFractionBreadth
            * t.MaxTrackSizingFunction.FractionValue )
          </ol>
        </ol>
      </ol>
    </dl>
   </dd>
   <!--End Function Definition: ComputeUsedBreadthOfGridTracks-->
  </dl>

  <dl>
   <dt> <dfn
    id=function-ResolveContentBasedTrackSizingFunctions>ResolveContentBasedTrackSizingFunctions</dfn>
    

   <dd>
    <p> The purpose of this function is to resolve the contribution that each
     <a href="#grid-item"><i>Grid item</i></a> makes to any min-content or
     max-content TrackSizingFunctions for the <a href="#grid-track"><i>Grid
     tracks</i></a> it covers. There are four permutations: min-content or
     max-content in either the MinTrackSizingFunction or
     MaxTrackSizingFunction. MinTrackSizingFunctions are resolved before
     MaxTrackSizingFunctions, and min-content contributions are resolved
     before max-content contributions. Note that when resolving min-content
     contributions they may grow tracks that have either min-content or
     max-content keywords, as seen in 3.a.i and 3.b.i below.</p>

    <p class=issue> Currently this algorithm embodies several heuristics
     which regulate the growth of spanning <a href="#grid-item"><i>Grid
     items</i></a> to accomodate certain use cases. (E.g. the game example in
     Figures 2 and 3 above.) These heuristics should be a normative part of
     this specification to ensure interoperability. To the extent additional
     use cases can be identified that cannot be satisfied by following the
     current heuristics, the normative algorithm can be updated, or
     additional mechanisms can be introduced for fine-grained control of
     content-based TrackSizingFunction.</p>

    <dl>
     <dt> <dfn
      id=function-ResolveContentBasedTrackSizingFunctions-inputs>Inputs</dfn>
      

     <dd>
      <ul>
       <li>GridItems: The set of <a href="#grid-item"><i>Grid items</i></a>
        for which min-content or max-content keywords should be resolved.
      </ul>
    </dl>

    <dl>
     <dt> <dfn
      id=function-ResolveContentBasedTrackSizingFunctions-algorithm>Algorithm</dfn>
      

     <dd class=pseudo-code>
      <ol>
       <li>Filter all <a href="#grid-item"><i>Grid items</i></a> into a set
        g, such that each <a href="#grid-item"><i>Grid item</i></a> has
        either a SpanCount of 1 or does not cross a fraction-sized <a
        href="#grid-track"><i>Grid track</i></a>

       <li>Group all <a href="#grid-item"><i>Grid items</i></a> in set g by
        their SpanCount ascending

       <li>For each group of <a href="#grid-item"><i>Grid items</i></a>
        <ol>
         <li>Resolve content-based MinTrackSizingFunctions
          <ol>
           <li>Call ResolveContentBasedTrackSizingFunctionsForItems, with
            arguments:
            <ul>
             <li>GridItems: All <a href="#grid-item"><i>Grid items</i></a> in
              the current group.

             <li>AdditionalSpaceRequiredByItem: A function which given a <a
              href="#grid-item"><i>Grid item</i></a> returns the min-content
              size of that <a href="#grid-item"><i>Grid item</i></a> less the
              summed UsedBreadth of all <a href="#grid-track"><i>Grid
              tracks</i></a> it covers.

             <li>TrackGrowthConstraint: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns its
              MaxBreadth.

             <li>TracksForGrowth: A function which given a <a
              href="#grid-item"><i>Grid item</i></a> returns the set of <a
              href="#grid-track"><i>Grid tracks</i></a> covered by that <a
              href="#grid-item"><i>Grid item</i></a> that have a min-content
              or max-content MinTrackSizingFunction.

             <li>SubsetOfTracksForGrowthBeyondTrackGrowthContstraint: A
              function which given a set of <a href="#grid-track"><i>Grid
              tracks</i></a> returns the subset of <a
              href="#grid-track"><i>Grid tracks</i></a> having a min-content
              or max-content MaxTrackSizingFunction. If that set is the empty
              set, return the input set instead.

             <li>Accumulator: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns a reference to
              its UsedBreadth variable.
            </ul>

           <li>Call ResolveContentBasedTrackSizingFunctionsForItems, with
            arguments:
            <ul>
             <li>GridItems: All <a href="#grid-item"><i>Grid items</i></a> in
              the current group.

             <li>AdditionalSpaceRequiredByItem: A function which given a <a
              href="#grid-item"><i>Grid item</i></a> returns the max-content
              size of that <a href="#grid-item"><i>Grid item</i></a> less the
              summed UsedBreadth of all <a href="#grid-track"><i>Grid
              tracks</i></a> it covers.

             <li>TrackGrowthConstraint: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns its
              MaxBreadth.

             <li>TracksForGrowth: A function which given a <a
              href="#grid-item"><i>Grid item</i></a> returns the set of <a
              href="#grid-track"><i>Grid tracks</i></a> covered by that <a
              href="#grid-item"><i>Grid item</i></a> that have a max-content
              MinTrackSizingFunction.

             <li>SubsetOfTracksForGrowthBeyondTrackGrowthContstraint: A
              function which given a set of <a href="#grid-track"><i>Grid
              tracks</i></a> returns the subset of <a
              href="#grid-track"><i>Grid tracks</i></a> having a max-content
              MaxTrackSizingFunction. If that set is the empty set, return
              the input set instead.

             <li>Accumulator: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns a reference to
              its UsedBreadth variable.
            </ul>
          </ol>

         <li>Resolve content-based MaxTrackSizingFunctions
          <ol>
           <li>Call ResolveContentBasedTrackSizingFunctionsForItems, with
            arguments:
            <ul>
             <li>GridItems: All <a href="#grid-item"><i>Grid items</i></a> in
              the current group.

             <li>AdditionalSpaceRequiredByItem: A function which given a <a
              href="#grid-item"><i>Grid item</i></a> returns the min-content
              size of that <a href="#grid-item"><i>Grid item</i></a> less the
              summed MaxBreadth (unless the MaxBreadth is infinite, in which
              case use the UsedBreadth) of all <a href="#grid-track"><i>Grid
              tracks</i></a> it covers.

             <li>TrackGrowthConstraint: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns its
              MaxBreadth.

             <li>TracksForGrowth: A function which given a <a
              href="#grid-item"><i>Grid item</i></a> returns the set of <a
              href="#grid-track"><i>Grid tracks</i></a> covered by that <a
              href="#grid-item"><i>Grid item</i></a> that have a min-content
              or max-content MaxTrackSizingFunction.

             <li>SubsetOfTracksForGrowthBeyondTrackGrowthContstraint: The
              identity function.

             <li>Accumulator: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns a reference to
              its MaxBreadth variable.
            </ul>

           <li>Call ResolveContentBasedTrackSizingFunctionsForItems, with
            arguments:
            <ul>
             <li>GridItems: All <a href="#grid-item"><i>Grid items</i></a> in
              the current group.

             <li>AdditionalSpaceRequiredByItem: A function which given a <a
              href="#grid-item"><i>Grid item</i></a> returns the max-content
              size of that <a href="#grid-item"><i>Grid item</i></a> less the
              summed MaxBreadth (unless the MaxBreadth is infinite, in which
              case use the UsedBreadth) of all <a href="#grid-track"><i>Grid
              tracks</i></a> it covers.

             <li>TrackGrowthConstraint: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns infinity if
              the <a href="#grid-track"><i>Grid track</i></a>&rsquo;s
              SpanGroupInWhichMaxBreadthWasMadeFinite is equal to the current
              group; otherwise return the <a href="#grid-track"><i>Grid
              track</i></a>&rsquo;s MaxBreadth.

             <li>TracksForGrowth: A function which given a <a
              href="#grid-item"><i>Grid item</i></a> returns the set of <a
              href="#grid-track"><i>Grid tracks</i></a> covered by that <a
              href="#grid-item"><i>Grid item</i></a> that have a max-content
              MaxTrackSizingFunction.

             <li>SubsetOfTracksForGrowthBeyondTrackGrowthContstraint: The
              identity function.

             <li>Accumulator: A function which given a <a
              href="#grid-track"><i>Grid track</i></a> returns a reference to
              its MaxBreadth variable.
            </ul>
          </ol>
        </ol>

       <li>For each <a href="#grid-track"><i>Grid track</i></a> t from the
        set of all <a href="#grid-track"><i>Grid tracks</i></a>
        <ol>
         <li>If t.MaxBreadth == infinity then t.MaxBreadth = t.UsedBreadth
        </ol>
      </ol>
    </dl>
   </dd>
   <!--End Function Definition: ResolveContentBasedTrackSizingFunctions-->
  </dl>

  <dl>
   <dt> <dfn
    id=function-ResolveContentBasedTrackSizingFunctionsForItems>ResolveContentBasedTrackSizingFunctionsForItems</dfn>
    

   <dd>
    <p> The above function, ResolveContentBasedTrackSizingFunctions, groups
     <a href="#grid-item"><i>Grid items</i></a> based on the number of <a
     href="#grid-track"><i>Grid tracks</i></a> each <a
     href="#grid-item"><i>Grid item</i></a> spanned.
     ResolveContentBasedTrackSizingFunctionsForItems, below, then calls
     DistributeSpaceToTracks for each <a href="#grid-item"><i>Grid
     item</i></a> in the group to determine how much each <a
     href="#grid-item"><i>Grid item</i></a> needs to grow the <a
     href="#grid-track"><i>Grid tracks</i></a> that it covers. The maximum
     contribution made by any <a href="#grid-item"><i>Grid item</i></a> is
     accumulated into a temporary, per-<a href="#grid-track"><i>Grid
     track</i></a> variable, and at the end of the group, the space is
     recorded into a final <a href="#grid-track"><i>Grid track</i></a>
     variable as determined by the Accumulator function.</p>

    <dl>
     <dt> <dfn
      id=function-ResolveContentBasedTrackSizingFunctionsForItems-inputs>Inputs</dfn>
      

     <dd>
      <ul>
       <li>GridItems: The set of <a href="#grid-item"><i>Grid items</i></a>
        which will contribute to the growth of <a href="#grid-track"><i>Grid
        tracks</i></a>.

       <li>AdditionalSpaceRequiredByItem: A function which returns the
        difference between either the min-content or max-content for the <a
        href="#grid-item"><i>Grid item</i></a> and the space already
        allocated to the <a href="#grid-track"><i>Grid tracks</i></a> covered
        by the <a href="#grid-item"><i>Grid item</i></a> in earlier phases of
        the algorithm.

       <li>TrackGrowthConstraint: A function which given a <a
        href="#grid-track"><i>Grid track</i></a> returns a value that limits
        the amount by which it may be grown by the <a
        href="#grid-item"><i>Grid items</i></a> which cover it.

       <li>TracksForGrowth: A function which given a <a
        href="#grid-item"><i>Grid item</i></a> identifies the set of <a
        href="#grid-track"><i>Grid tracks</i></a> to be grown in this phase
        of the algorithm.

       <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A function
        which identifies a subset of <a href="#grid-track"><i>Grid
        tracks</i></a> from TracksForGrowth that may be grown in this phase
        of the algorithm after all <a href="#grid-track"><i>Grid
        tracks</i></a> in the TracksForGrowth set have already grown to their
        TrackGrowthConstraint.

       <li>Accumulator: A function which given a <a
        href="#grid-track"><i>Grid track</i></a> returns the variable used to
        accumulate the results of the UpdatedTrackBreadth from
        DistributeSpaceToTracks.
      </ul>
    </dl>

    <dl>
     <dt> <dfn
      id=function-ResolveContentBasedTrackSizingFunctionsForItems-algorithm>Algorithm</dfn>
      

     <dd class=pseudo-code>
      <ol>
       <li>For each <a href="#grid-track"><i>Grid track</i></a> t
        <ol>
         <li>t.UpdatedTrackBreadth = Accumulator( t )
        </ol>

       <li>For each <a href="#grid-item"><i>Grid item</i></a> i in GridItems
        <ol>
         <li>Call DistributeSpaceToTracks, with arguments:
          <ul>
           <li>SpaceToDistribute: AdditionalSpaceRequiredByItem( i )

           <li>TrackGrowthConstraint: TrackGrowthConstraint

           <li>TracksForGrowth: TracksForGrowth( i )

           <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint:
            SubsetOfTracksForGrowthBeyondTrackGrowthConstraint(
            TracksForGrowth( i ) )

           <li>CurrentBreadth: A function which given a <a
            href="#grid-track"><i>Grid track</i></a> returns the UsedBreadth
            of the <a href="#grid-track"><i>Grid track</i></a> if Accumulator
            returns infinity; otherwise the value of the Accumulator is
            returned.
          </ul>
        </ol>

       <li>For each <a href="#grid-track"><i>Grid track</i></a> t
        <ol>
         <li>If Accumulator( t ) == infinity and t.UpdatedTrackBreadth !=
          infinity
          <ol>
           <li>t.SpanGroupInWhichMaxBreadthWasMadeFinite = RecipientTracks
          </ol>

         <li>Accumulator( t ) = t.UpdatedTrackBreadth
        </ol>
      </ol>
    </dl>
   </dd>
   <!--End Function Definition: ResolveContentBasedTrackSizingFunctionsForItems-->
  </dl>

  <dl>
   <dt> <dfn
    id=function-DistributeSpaceToTracks>DistributeSpaceToTracks</dfn>

   <dd>
    <p> Ensures that for each <a href="#grid-track"><i>Grid track</i></a> in
     RecipientTracks, a value will be computed, UpdatedTrackBreadth, that
     represents the <a href="#grid-track"><i>Grid track</i></a>&rsquo;s share
     of SpaceToDistribute.</p>

    <p> There are two parts to this function. The first for loop in step 2 is
     giving each <a href="#grid-track"><i>Grid track</i></a> an equal share
     of the space, but without exceeding their TrackGrowthConstraint values.
     Because there are different MaxBreadths assigned to the different <a
     href="#grid-track"><i>Grid tracks</i></a>, the first loop can result in
     their uneven growth.</p>

    <p> If the first loop completes having grown every <a
     href="#grid-track"><i>Grid track</i></a> to its TrackGrowthConstraint,
     and there is still SpaceToDistribute, then
     SubsetOfTracksForGrowthBeyondTrackGrowthConstraint are further grown
     equally until SpaceToDistribute is exhausted.</p>

    <p> Note that <a href="#grid-track"><i>Grid tracks</i></a> considered by
     this function may have a TrackGrowthConstraint equal to Infinity, which
     signals that these tracks have not yet been grown by a <a
     href="#grid-item"><i>Grid item</i></a>. These tracks can therefore be
     grown without exceeding the TrackGrowthConstraint of the track. By only
     growing tracks up to their TrackGrowthConstraint value, we can ensure
     that the grid remains "tight" - that is, that track breadth is as close
     to the content size of the <a href="#grid-item"><i>Grid items</i></a>
     inside as possible. Only once all <a href="#grid-track"><i>Grid
     tracks</i></a> have a CurrentBreadth equal to a TrackGrowthConstraint do
     we move to the second for loop and grow tracks further, thereby making
     the <a href="#grid-element"><i>Grid element</i></a> less tight.</p>

    <dl>
     <dt> <dfn id=function-DistributeSpaceToTracks-inputs>Inputs</dfn>

     <dd>
      <ul>
       <li>SpaceToDistribute: A length to be distributed among the supplied
        set of <a href="#grid-track"><i>Grid tracks</i></a>.

       <li>TrackGrowthConstraint: A function which given a <a
        href="#grid-track"><i>Grid track</i></a> returns the maximum breadth
        of the track, unless the track is in the
        SubsetOfTracksForGrowthBeyoundTrackGrowthConstraint.

       <li>TracksForGrowth: A set of <a href="#grid-track"><i>Grid
        tracks</i></a> to be grown up to their TrackGrowthConstraint while
        SpaceToDistribute remains.

       <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A subset of <a
        href="#grid-track"><i>Grid tracks</i></a> from TracksForGrowth that
        may be grown beyond their TrackGrowthConstraint after all <a
        href="#grid-track"><i>Grid tracks</i></a> in the TracksForGrowth set
        have already grown to their TrackGrowthConstraint if there is
        remaining SpaceToDistribute.

       <li>CurrentBreadth: A function which given a <a
        href="#grid-track"><i>Grid track</i></a> returns a value to use as a
        starting point from which to grow this track.
      </ul>
    </dl>

    <dl>
     <dt> <dfn id=function-DistributeSpaceToTracks-algorithm>Algorithm</dfn>

     <dd class=pseudo-code>
      <ol>
       <li>Sort TracksForGrowth by TrackGrowthConstraint( t ) -
        CurrentBreadth( t ) ascending (where t is an element in the
        RecipientTrack set).

       <li>For i = 0 to TracksForGrowth.length - 1
        <ol>
         <li>t = TracksForGrowth[i]

         <li>share = Min ((SpaceToDistribute / ( TracksForGrowth.length - i
          )), (TrackGrowthConstraint( t ) - CurrentBreadth( t )))

         <li>t.TempBreadth = CurrentBreadth( t ) + share

         <li>SpaceToDistribute -= share
        </ol>

       <li>If SpaceToDistribute > 0
        <ol>
         <li>Let tracks = SubsetOfTracksForGrowthBeyondTrackGrowthConstraint(
          TracksForGrowth )

         <li>For i = 0 to tracks.length - 1
          <ol>
           <li>t = tracks[i]

           <li>share = SpaceToDistribute / ( tracks.length - i )

           <li>t.TempBreadth += share

           <li>SpaceToDistribute -= share
          </ol>
        </ol>

       <li>For each <a href="#grid-track"><i>Grid track</i></a> t in
        GridTracks
        <ol>
         <li>If t.UpdatedTrackBreadth == infinity
          <ol>
           <li>t.UpdatedTrackBreadth = t.TempBreadth
          </ol>

         <li>Else
          <ol>
           <li>t.UpdatedTrackBreadth = Max( t.UpdatedTrackBreadth,
            t.TempBreadth )
          </ol>
        </ol>
      </ol>
    </dl>
   </dd>
   <!--End Function Definition: DistributeSpaceToTracks-->
  </dl>

  <dl>
   <dt> <dfn
    id=function-CalculateNormalizedFractionBreadth>CalculateNormalizedFractionBreadth</dfn>
    

   <dd> This method computes a &lsquo;<code class=css>1fr</code>&rsquo;
    value, referred to as the NormalizedFractionBreadth, for a set of <a
    href="#grid-track"><i>Grid tracks</i></a>. The value computed will ensure
    that when the NormalizedFractionBreadth is multiplied by the fractions
    associated with GridTracks, that the UsedBreadths of GridTracks will
    increase by an amount equal to the maximum of zero and the specified
    SpaceToFill less the sum of the current UsedBreadths.
    <dl>
     <dt> <dfn
      id=function-CalculateNormalizedFractionBreadth-inputs>Inputs</dfn>

     <dd>
      <ul>
       <li>GridTracks: The set of <a href="#grid-track"><i>Grid
        tracks</i></a> whose fraction sizing functions are considered for the
        purposes of a computing a NormalizedFractionBreadth that will cause
        GridTracks to fill SpaceToFill.

       <li>SpaceToFill: The space to be filled by GridTracks.
      </ul>
    </dl>

    <dl>
     <dt> <dfn
      id=function-CalculateNormalizedFractionBreadth-inputs>Returns</dfn>

     <dd>
      <ul>
       <li>The 1fr value required by GridTracks to fill SpaceToFill.
      </ul>
    </dl>

    <dl>
     <dt> <dfn
      id=function-CalculateNormalizedFractionBreadth-algorithm>Algorithm</dfn>
      

     <dd class=pseudo-code>
      <ol>
       <li>allocatedSpace = the sum of the UsedBreadth for each <a
        href="#grid-track"><i>Grid track</i></a> in GridTracks

       <li>fractionTracks = the subset of GridTracks whose
        MaxTrackSizingFunction is a fraction

       <li>For each <a href="#grid-track"><i>Grid track</i></a> t in
        fractionTracks
        <ol>
         <li>t.NormalizedFractionValue = t.UsedBreadth /
          t.MaxTrackSizingFunction.FractionValue
        </ol>

       <li>Sort fractionTracks by their NormalizedFractionValue

       <li>spaceNeededFromFractionTracks = SpaceToFill - allocatedSpace

       <li>currentBandFractionValue = accumulatedFractions = 0

       <li>For each <a href="#grid-track"><i>Grid track</i></a> t in
        fractionTracks
        <ol>
         <li>If t.NormalizedFractionValue > currentBandFractionBreadth
          <ol>
           <li>If t.NormalizedFractionValue * accumulatedFractions >
            spaceNeededFromFractionTracks then break from for loop

           <li>currentBandFractionBreadth = t.NormalizedFractionValue
          </ol>

         <li>accumulatedFractions += t.MaxTrackSizingFunction.FractionValue

         <li>spaceNeededFromFractionTracks += t.UsedBreadth
        </ol>

       <li>return spaceNeededFromFractionTracks / accumulatedFractions
      </ol>
    </dl>
   </dd>
   <!--End Function Definition: CalculateNormalizedFractionBreadth-->
  </dl>
  <!--End Section: Grid Track Sizing Algorithm--> </section>
  <!--End Section: Calculating the Size of Grid Tracks--> </section>
  <h2 class=no-num id=changes-from-previous-version>Changes from <a
   href="http://www.w3.org/TR/2011/WD-css3-grid-layout-20110407">Previous
   Working Draft</a></h2>

  <ul></ul>

  <ul></ul>

  <p>Changes made in 22 July 2011 Editor's Draft:

  <ul>
   <li>Included an algorithm for computing the size of <a
    href="#grid-track"><i>Grid tracks</i></a> in the spec.

   <li>Removed the property grid-cell-stacking.

   <li>Removed the pseudo-element selector ::grid-cell.

   <li>Defined that <a href="#grid-cell"><i>Grid cells</i></a> named
    explicitly using the <a href="#grid-template-property">grid-template</a>
    property cannot be styled (with the removal of the ::grid-cell
    pseudo-element selector they cannot be selected).

   <li>Removed the notion that <a href="#grid-cell"><i>Grid cells</i></a>
    could be given a display property which controls their inner layout.

   <li>Corrected an error in the automatic placement example. All children of
    the form should be display:block to ensure they are valid <a
    href="#grid-item"><i>Grid items</i></a>.

   <li>Updated the <a href="#grid-columns-and-rows-properties">Grid Columns
    and Grid Rows Properties</a> grammar to correct an error and reduce
    ocurrences of &lt;string&gt;
  </ul>

  <p><br>

  <ul></ul>

  <p>Changes made in 21 November 2011 Editor's Draft:

  <ul>
   <li>Section 2.4, Section 9: Removed the grid-layer property in favor of
    using <a
    href="http://www.w3.org/TR/CSS21/visuren.html#z-index">z-index.</a>

   <li>Section 6.5: Clarified whitespace rules.

   <li>Section 6.5: Changed "positive-number" to "positive-integer".

   <li>Section 6.5: Updated the spec to clarify that percentages-sized grid
    tracks are undefined when inside content-sized grids.

   <li>Section 8.1: Updated the spec to show that percentage-sized grid items
    resolve themselves against the grid cell, rather than the grid element.

   <li>Section 10.1: Updated definition of RemainingSpace for shrink-to-fit
    situations.

   <li>Section 10.2: Renamed NormalizedFractionBreadth variable to
    NormalizedFractionValue in the CalculateNormalizedFractionBreadth
    algorithm

   <li>Section 10.2: Addressed typos (e.g. Space -> SpaceToFill) in
    CalculateNormalizedFractionBreadth

   <li>Section 10.2: Updated CalculateNormalizedFractionBreadth to remove an
    unneeded inner loop in step 7.

   <li>Section 10.2: Updated steps 2 and 3 in DistributeSpaceToTracks
    function to correct use of delta variable

   <li>Section 10.2: Updated step 6 in ComputeUsedBreadthOfGridTracks to
    cover shrink-to-fit Grid Elements
  </ul>

  <p><br>

  <ul></ul>

  <p>Changes made in 2 February 2012 Editor's Draft:

  <ul>
   <li>Section 2.2: Made a minor correction to the markup in Example 1.

   <li>Section 7: Specified item placement behavior for undefined grid lines.

   <li>Section 7.1: Specified that for the grid-column and grid-row
    properties, &lsquo;<a href="#start-column-position"><code
    class=css>start</code></a>&rsquo; is only applicable to the starting line
    position and &lsquo;<a href="#end-column-position"><code
    class=css>end</code></a>&rsquo; is only applicable to the ending line
    position.

   <li>Section 8.1: Updated the spec to better describe the behavior of box
    model calculations for stretch alignment.
  </ul>

  <p><br>

  <ul></ul>

  <p>Changes made in 6 February 2012 Editor's Draft:

  <ul>
   <li>Section 10: Combined Sections 10.2 and 10.3, so that the overall
    algorithm is described in a top-down fashion.

   <li>Section 10.2: Removed the function DistributeSpaceToTracksBySpanCount,
    and added new functions ResolveContentBasedTrackSizingFunctions and
    ResolveContentBasedTrackSizingFunctionsForItems. The updates to the
    algorithm change the way in which Grid Items that span multiple tracks
    resolve their min-content and max-content contributions to those tracks
    such that "tighter" grids are produced.
  </ul>

  <h2 class=no-num id=acknowledgements>Acknowledgements</h2>

  <p> This specification is made possible by input from Erik Anderson, Rossen
   Atanassov, Arron Eicholz, Sylvain Galineau, John Jansen, Chris Jones,
   Kathy Kam, Veljko Miljanic, Peter Salas, Christian Stockwell, Eugene
   Veselov, and the CSS Working Group members. Thanks to Eliot Graff for
   editorial input.

  <h2 class=no-num id=references> References</h2>

  <h3 class=no-num id=normative-references> Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS3-WRITING-MODES>[CSS3-WRITING-MODES]

   <dd>Elika J. Etemad; Koji Ishii; Shinyu Murakami. <a
    href="http://www.w3.org/TR/2011/WD-css3-writing-modes-20110901/"><cite>CSS
    Writing Modes Module Level 3.</cite></a> 1 September 2011. W3C Working
    Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2011/WD-css3-writing-modes-20110901/">http://www.w3.org/TR/2011/WD-css3-writing-modes-20110901/</a>
    </dd>
   <!---->

   <dt id=CSS3VAL>[CSS3VAL]

   <dd>H&#229;kon Wium Lie; Tab Atkins; Elika J. Etemad. <a
    href="http://www.w3.org/TR/2012/WD-css3-values-20120308/"><cite>CSS
    Values and Units Module Level 3.</cite></a> 8 March 2012. W3C Working
    Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-values-20120308/">http://www.w3.org/TR/2012/WD-css3-values-20120308/</a>
    </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references> Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS3LAYOUT>[CSS3LAYOUT]

   <dd>Bert Bos; C&#233;sar Acebal. <a
    href="http://www.w3.org/TR/2010/WD-css3-layout-20100429"><cite>CSS
    Template Layout Module.</cite></a> 29 April 2010. W3C Working Draft.
    (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2010/WD-css3-layout-20100429">http://www.w3.org/TR/2010/WD-css3-layout-20100429</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index> Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>Algorithm, <a
    href="#function-CalculateNormalizedFractionBreadth-algorithm"
    title=Algorithm><strong>10.2.</strong></a>, <a
    href="#function-ComputeUsedBreadthOfGridTracks-algorithm"
    title=Algorithm><strong>10.2.</strong></a>, <a
    href="#function-DistributeSpaceToTracks-algorithm"
    title=Algorithm><strong>10.2.</strong></a>, <a
    href="#function-ResolveContentBasedTrackSizingFunctions-algorithm"
    title=Algorithm><strong>10.2.</strong></a>, <a
    href="#function-ResolveContentBasedTrackSizingFunctionsForItems-algorithm"
    title=Algorithm><strong>10.2.</strong></a>

   <li>auto, <a href="#auto" title=auto><strong>6.5.</strong></a>, <a
    href="#auto-column-position" title=auto><strong>7.</strong></a>, <a
    href="#auto-row-position" title=auto><strong>7.</strong></a>

   <li>AvailableSpace, <a href="#"
    title=AvailableSpace><strong>10.1.</strong></a>

   <li>CalculateNormalizedFractionBreadth, <a
    href="#function-CalculateNormalizedFractionBreadth"
    title=CalculateNormalizedFractionBreadth><strong>10.2.</strong></a>

   <li>center, <a href="#center-column-align"
    title=center><strong>8.</strong></a>, <a href="#center-row-align"
    title=center><strong>8.</strong></a>

   <li>columns, <a href="#columns" title=columns><strong>7.5.</strong></a>

   <li>ComputeUsedBreadthOfGridTracks, <a
    href="#function-ComputeUsedBreadthOfGridTracks"
    title=ComputeUsedBreadthOfGridTracks><strong>10.2.</strong></a>

   <li>DistributeSpaceToTracks, <a href="#function-DistributeSpaceToTracks"
    title=DistributeSpaceToTracks><strong>10.2.</strong></a>

   <li>end, <a href="#end-column-align" title=end><strong>8.</strong></a>, <a
    href="#end-column-position" title=end><strong>7.</strong></a>, <a
    href="#end-line" title=end><strong>6.3.</strong></a>, <a
    href="#end-row-align" title=end><strong>8.</strong></a>, <a
    href="#end-row-position" title=end><strong>7.</strong></a>

   <li>fit-content, <a href="#fit-content"
    title=fit-content><strong>6.5.</strong></a>

   <li>fraction, <a href="#fraction" title=fraction><strong>6.5.</strong></a>
    

   <li>Fraction values, <a href="#fraction-values"
    title="Fraction values"><strong>6.5.1.</strong></a>

   <li>grid, <a href="#grid" title=grid><strong>4.</strong></a>

   <li>Grid Cell, <a href="#grid-cell"
    title="Grid Cell"><strong>3.3.</strong></a>

   <li>grid-cell, <a href="#grid-cell"
    title=grid-cell><strong>7.2.</strong></a>

   <li>grid-column, <a href="#grid-column"
    title=grid-column><strong>7.</strong></a>

   <li>grid-column-align, <a href="#grid-column-align"
    title=grid-column-align><strong>8.</strong></a>

   <li>grid-columns, <a href="#grid-columns"
    title=grid-columns><strong>6.5.</strong></a>

   <li>grid-column-sizing, <a href="#grid-column-sizing"
    title=grid-column-sizing><strong>7.4.1.</strong></a>

   <li>grid-column-span, <a href="#grid-column-span"
    title=grid-column-span><strong>7.3.</strong></a>

   <li>Grid element, <a href="#grid-element"
    title="Grid element"><strong>3.</strong></a>

   <li>grid-flow, <a href="#grid-flow"
    title=grid-flow><strong>7.5.</strong></a>

   <li>Grid Item, <a href="#grid-item"
    title="Grid Item"><strong>5.</strong></a>

   <li>Grid Line, <a href="#grid-line"
    title="Grid Line"><strong>3.2.</strong></a>

   <li>grid-row, <a href="#grid-row" title=grid-row><strong>7.</strong></a>

   <li>grid-row-align, <a href="#grid-row-align"
    title=grid-row-align><strong>8.</strong></a>

   <li>grid-rows, <a href="#grid-rows"
    title=grid-rows><strong>6.5.</strong></a>

   <li>grid-row-sizing, <a href="#grid-row-sizing"
    title=grid-row-sizing><strong>7.4.1.</strong></a>

   <li>grid-row-span, <a href="#grid-row-span"
    title=grid-row-span><strong>7.3.</strong></a>

   <li>grid-template, <a href="#grid-template"
    title=grid-template><strong>7.2.</strong></a>

   <li>Grid Track, <a href="#grid-track"
    title="Grid Track"><strong>3.1.</strong></a>

   <li>inline-grid, <a href="#inline-grid"
    title=inline-grid><strong>4.</strong></a>

   <li>Inputs, <a href="#function-CalculateNormalizedFractionBreadth-inputs"
    title=Inputs><strong>10.2.</strong></a>, <a
    href="#function-ComputeUsedBreadthOfGridTracks-inputs"
    title=Inputs><strong>10.2.</strong></a>, <a
    href="#function-DistributeSpaceToTracks-inputs"
    title=Inputs><strong>10.2.</strong></a>, <a
    href="#function-ResolveContentBasedTrackSizingFunctions-inputs"
    title=Inputs><strong>10.2.</strong></a>, <a
    href="#function-ResolveContentBasedTrackSizingFunctionsForItems-inputs"
    title=Inputs><strong>10.2.</strong></a>

   <li>length, <a href="#length" title=length><strong>6.5.</strong></a>

   <li>max-content, <a href="#max-content"
    title=max-content><strong>6.5.</strong></a>

   <li>MaxTrackSizingFunction, <a href="#"
    title=MaxTrackSizingFunction><strong>10.1.</strong></a>

   <li>min-content, <a href="#min-content"
    title=min-content><strong>6.5.</strong></a>

   <li>minmax(min, max), <a href="#minmax"
    title="minmax(min, max)"><strong>6.5.</strong></a>

   <li>MinTrackSizingFunction, <a href="#"
    title=MinTrackSizingFunction><strong>10.1.</strong></a>

   <li>none, <a href="#none-cell" title=none><strong>7.2.</strong></a>, <a
    href="#none-flow" title=none><strong>7.5.</strong></a>, <a
    href="#none-template" title=none><strong>7.2.</strong></a>

   <li>RemainingSpace, <a href="#"
    title=RemainingSpace><strong>10.1.</strong></a>

   <li>ResolveContentBasedTrackSizingFunctions, <a
    href="#function-ResolveContentBasedTrackSizingFunctions"
    title=ResolveContentBasedTrackSizingFunctions><strong>10.2.</strong></a>

   <li>ResolveContentBasedTrackSizingFunctionsForItems, <a
    href="#function-ResolveContentBasedTrackSizingFunctionsForItems"
    title=ResolveContentBasedTrackSizingFunctionsForItems><strong>10.2.</strong></a>
    

   <li>Returns, <a href="#function-CalculateNormalizedFractionBreadth-inputs"
    title=Returns><strong>10.2.</strong></a>

   <li>rows, <a href="#rows" title=rows><strong>7.5.</strong></a>

   <li>SpanCount, <a href="#" title=SpanCount><strong>10.1.</strong></a>

   <li>start, <a href="#start-column-align"
    title=start><strong>8.</strong></a>, <a href="#start-column-position"
    title=start><strong>7.</strong></a>, <a href="#start-line"
    title=start><strong>6.3.</strong></a>, <a href="#start-row-align"
    title=start><strong>8.</strong></a>, <a href="#start-row-position"
    title=start><strong>7.</strong></a>

   <li>stretch, <a href="#stretch-column-align"
    title=stretch><strong>8.</strong></a>, <a href="#stretch-row-align"
    title=stretch><strong>8.</strong></a>
  </ul>
  <!--end-index-->

  <h2 class=no-num id=property-index> Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies&nbsp;to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><span class=property>display</span>

     <td>[ ...existing values... | grid | inline-grid |

     <td>specified value

    <tr>
     <th><a class=property href="#grid-cell">grid-cell</a>

     <td>&lt;string&gt; | none

     <td>none

     <td>Grid Item elements

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-column">grid-column</a>

     <td>[ [ &lt;integer&gt; | &lt;string&gt; | start ] [ &lt;integer&gt; |
      &lt;string&gt; | end ]? ] | auto

     <td>auto

     <td>Grid Item elements

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-column-align">grid-column-align</a>

     <td>start | end | center | stretch

     <td>&lsquo;stretch&rsquo;

     <td>Grid Item elements

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-columns">grid-columns</a>

     <td>see grammar above

     <td>none

     <td>non-replaced elements with a computed value of &lsquo;grid&rsquo; or
      &lsquo;inline-grid&rsquo; for display.

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-column-sizing">grid-column-sizing</a>

     <td>&lt;track-minmax&gt; (see Grid Columns and Grid Rows Properties)

     <td>auto

     <td>Grid elements

     <td>no

     <td>see Grid Columns and Grid Rows Properties

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-column-span">grid-column-span</a>

     <td>&lt;integer&gt;

     <td>1

     <td>Grid Item elements

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-flow">grid-flow</a>

     <td>none | rows | columns

     <td>none

     <td>Grid elements

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-row">grid-row</a>

     <td>[ [ &lt;integer&gt; | &lt;string&gt; | start ] [ &lt;integer&gt; |
      &lt;string&gt; | end ]? ] | auto

     <td>auto

     <td>Grid Item elements

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-row-align">grid-row-align</a>

     <td>start | end | center | stretch

     <td>&lsquo;stretch&rsquo;

     <td>Grid Item elements

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-rows">grid-rows</a>

     <td>see grammar above

     <td>none

     <td>non-replaced elements with a computed value of &lsquo;grid&rsquo; or
      &lsquo;inline-grid&rsquo; for display.

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-row-sizing">grid-row-sizing</a>

     <td>&lt;track-minmax&gt; (see Grid Columns and Grid Rows Properties)

     <td>auto

     <td>Grid elements

     <td>no

     <td>see Grid Columns and Grid Rows Properties

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-row-span">grid-row-span</a>

     <td>&lt;integer&gt;

     <td>1

     <td>Grid Item elements

     <td>no

     <td>n/a

     <td>visual, paged

    <tr>
     <th><a class=property href="#grid-template">grid-template</a>

     <td>&lt;string&gt;+ | none

     <td>none

     <td>Grid elements

     <td>no

     <td>n/a

     <td>visual, paged
  </table>
  <!--end-properties-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->

