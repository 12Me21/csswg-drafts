<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang=en>
 <head profile="http://www.w3.org/2006/03/hcard"><meta
  content="text/html; charset=utf-8" http-equiv=Content-Type>

  <title>CSS Fragmentation Module Level 3</title>
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
  type="text/css">

 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1 id=css-fragmentation-module>CSS Fragmentation Module Level 3</h1>

   <h2 class="no-num no-toc" id=longstatus-date>Editor's Draft 3 May 2012</h2>

   <dl>
    <dt>This version:</dt>
    <!-- <dd><a href="http://www.w3.org/TR/2012/ED-css3-break-20120503/">http://www.w3.org/TR/2012/WD-css3-break-20120503/</a></dd> -->

    <dd><a
     href="http://dev.w3.org/csswg/css3-break/">http://dev.w3.org/csswg/css3-break/</a>

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-break/">http://www.w3.org/TR/css3-break/</a>

    <dt>Editor's Draft:

    <dd><a
     href="http://dev.w3.org/csswg/css3-break/">http://dev.w3.org/csswg/css3-break/</a>

    <dt>Previous version:

    <dd>None

    <dt>Editors:

    <dd class=vcard><span class=fn>Rossen Atanassov</span>, <span
     class=org><a class="fn org url"
     href="http://www.microsoft.com/">Microsoft Corporation</a></span>, <span
     class=email>ratan@microsoft.com</span>

    <dd class=vcard><span class=fn><a class=fn
     href="http://fantasai.inkedblade.net/contact">Elika J.
     Etemad</a></span>, <span class=org><a class="fn org url"
     href="http://www.mozilla.org/">Mozilla Corporation</a></span>

    <dt>Issues List:

    <dd><a
     href="http://wiki.csswg.org/spec/css3-break">http://wiki.csswg.org/spec/css3-break</a>

    <dt>Discussion:

    <dd><a
     href="http://lists.w3.org/Archives/Public/www-style/">www-style@w3.org</a>
     with subject line "<code>[css3-break] …message topic…</code>"
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> &copy; 2012 <a href="http://www.w3.org/"><abbr
    title="World Wide Web Consortium">W3C</abbr></a><sup>&reg;</sup> (<a
    href="http://www.csail.mit.edu/"><abbr
    title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
    href="http://www.ercim.eu/"><abbr
    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract> Abstract</h2>

  <p> This module describes the fragmentation model that partitions a flow
   into pages. It builds on the Page model module and introduces and defines
   the fragmentation model. It adds functionality for pagination, breaking
   variable fragment size and orientation, widows and orphans.

  <h2 class="no-num no-toc" id=status> Status of this document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a
   href="mailto:www-style@w3.org?Subject=%5Bcss3-break%5D%20PUT%20SUBJECT%20HERE">
   www-style@w3.org</a> (see <a
   href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
   discussion of this specification. When sending e-mail, please put the text
   &#8220;css3-break&#8221; in the subject, preferably like this:
   &#8220;[<!---->css3-break<!---->] <em>&hellip;summary of
   comment&hellip;</em>&#8221;

  <p>This document was produced by the <a href="/Style/CSS/members">CSS
   Working Group</a> (part of the <a href="/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent
   Policy</a>. W3C maintains a <a href="/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the
   W3C Patent Policy</a>.</p>
  <!--end-status-->
  <!--<p>The following features are at risk: &hellip;</p>-->

  <h2 class="no-num no-toc" id=contents> Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#intro"><span class=secno>1. </span> Introduction</a>
    <ul class=toc>
     <li><a href="#placement"><span class=secno>1.1. </span> Module
      Interactions</a>

     <li><a href="#values"><span class=secno>1.2. </span> Values</a>
    </ul>

   <li><a href="#fragmentation-model"><span class=secno>2. </span>
    Fragmentation Model and Terminology</a>

   <li><a href="#breaking-controls"><span class=secno>3. </span> Controlling
    Breaks</a>
    <ul class=toc>
     <li><a href="#break-properties"><span class=secno>3.1. </span> Forced
      breaks and keep-together: the &lsquo;<code
      class=property>break-before</code>&rsquo;, &lsquo;<code
      class=property>break-after</code>&rsquo;, &lsquo;<code
      class=property>break-inside</code>&rsquo; properties</a>

     <li><a href="#widows-orphans"><span class=secno>3.2. </span> Breaks
      inside elements: &lsquo;<code class=property>orphans</code>&rsquo;,
      &lsquo;<code class=property>widows</code>&rsquo;</a>
    </ul>

   <li><a href="#breaking-rules"><span class=secno>4. </span> Rules for
    Breaking</a>
    <ul class=toc>
     <li><a href="#possible-breaks"><span class=secno>4.1. </span> Possible
      Break Points</a>

     <li><a href="#break-types"><span class=secno>4.2. </span> Types of
      Breaks</a>

     <li><a href="#forced-breaks"><span class=secno>4.3. </span> Forced
      breaks</a>

     <li><a href="#unforced-breaks"><span class=secno>4.4. </span> Unforced
      Breaks</a>

     <li><a href="#best-breaks"><span class=secno>4.5. </span> Optimizing
      Unforced Breaks</a>
    </ul>

   <li><a href="#breaking-boxes"><span class=secno>5. </span> Box Model for
    Breaking</a>
    <ul class=toc>
     <li><a href="#varying-size-boxes"><span class=secno>5.1. </span>
      Breaking into Varying-size Fragmenters</a>

     <li><a href="#break-margins"><span class=secno>5.2. </span> Margins at
      Breaks</a>

     <li><a href="#break-decoration"><span class=secno>5.3. </span>
      Decorating Box Breaks</a>
    </ul>

   <li><a href="#conformance"><span class=secno>6. </span> Conformance</a>
    <ul class=toc>
     <li><a href="#conventions"><span class=secno>6.1. </span> Document
      Conventions</a>

     <li><a href="#conformance-classes"><span class=secno>6.2.
      </span>Conformance Classes</a>

     <li><a href="#partial"><span class=secno>6.3. </span> Partial
      Implementations</a>

     <li><a href="#experimental"><span class=secno>6.4. </span> Experimental
      Implementations</a>

     <li><a href="#testing"><span class=secno>6.5. </span> Non-Experimental
      Implementations</a>

     <li><a href="#cr-exit-criteria"><span class=secno>6.6. </span> CR Exit
      Criteria</a>
    </ul>

   <li class=no-num><a href="#acknowledgments"> Acknowledgments</a>

   <li class=no-num><a href="#references">References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#index">Index</a>

   <li class=no-num><a href="#property-index">Property index</a>
  </ul>
  <!--end-toc-->

  <h2 id=intro><span class=secno>1. </span> Introduction</h2>

  <p><em>This section is not normative.</em>

  <p> In paged media (e.g., paper, transparencies, photo album pages, pages
   displayed on computer screens as printed output simulations), as opposed
   to <a href="http://www.w3.org/TR/CSS2/media.html#continuous-media-group">
   continuous media</a>, the content of the document is split into one or
   more discrete display surfaces. In order to avoid awkward breaks (such as
   halfway through a line of text), the layout engine must be able to shift
   around content that would fall across the page break. This process is
   called <dfn id=pagination>pagination</dfn>.

  <p> In CSS, in addition to paged media, certain layout features such as <a
   href="http://www.w3.org/TR/css3-regions/">regions</a> <a
   href="#CSS3-REGIONS"
   rel=biblioentry>[CSS3-REGIONS]<!--{{CSS3-REGIONS}}--></a> and <a
   href="http://www.w3.org/TR/css3-multicol/">multi-column layout</a> <a
   href="#CSS3COL" rel=biblioentry>[CSS3COL]<!--{{CSS3COL}}--></a> create a
   similarly fragmented environment. The generic term for breaking content
   across containers is <dfn id=fragmentation>fragmentation</dfn>. This
   module explains how content breaks across <a
   href="#fragmenter"><i>fragmenters</i></a> such as pages and columns and
   how such breaks can be <a href="#breaking-controls">controlled by the
   author</a>.

  <h3 id=placement><span class=secno>1.1. </span> Module Interactions</h3>

  <p> This module replaces and extends the pagination controls defined in <a
   href="#CSS21" rel=biblioentry>[CSS21]<!--{{CSS21}}--></a> <a
   href="http://www.w3.org/TR/CSS21/page.html#page-breaks">section 13.3</a>
   and in <a href="#CSS3PAGE"
   rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a>.</p>
  <!-- End section "Modules Interactions" -->

  <h3 id=values><span class=secno>1.2. </span> Values</h3>

  <p> This specification follows the <a
   href="http://www.w3.org/TR/CSS21/about.html#property-defs"> CSS property
   definition conventions</a> from <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>. Value types not defined in
   this specification are defined in CSS Level 2 Revision 1 <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>. Other CSS modules may expand
   the definitions of these value types: for example <a href="#CSS3COLOR"
   rel=biblioentry>[CSS3COLOR]<!--{{CSS3COLOR}}--></a>, when combined with
   this module, expands the definition of the &lt;color&gt; value type as
   used in this specification.

  <p> In addition to the property-specific values listed in their
   definitions, all properties defined in this specification also accept the
   <a href="http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit">
   inherit</a> keyword as their property value. For readability it has not
   been repeated explicitly.

  <h2 id=fragmentation-model><span class=secno>2. </span> Fragmentation Model
   and Terminology</h2>

  <dl>
   <dt><dfn id=fragmented-flow>fragmented flow</dfn>

   <dd> A content flow that is being laid out in a <a
    href="#fragmentation-context"><i>fragmentation context</i></a>, such as a
    <a href="http://www.w3.org/TR/css3-multicol/">multi-column element</a>, a
    chain of <a href="http://www.w3.org/TR/css3-regions">CSS regions</a>, or
    a <a href="http://www.w3.org/TR/css3-page/">paged media display</a>.

   <dt><dfn id=fragmenter>fragmenter</dfn>

   <dd> A box&mdash;such as a page box, column box, or region&mdash;that
    contains a portion (or all) of a <a href="#fragmented-flow"><i>fragmented
    flow</i></a>. Fragmenters can be pre-defined, or generated as needed.
    When breakable content overflows a fragmenter in the block dimension,
    instead of overflowing it breaks into the next container in its <a
    href="#fragmentation-context"><i>fragmentation context</i></a>.

   <dt><dfn id=fragmentation-context>fragmentation context</dfn>

   <dd> An ordered series of <a href="#fragmenter"><i>fragmenters</i></a>. A
    given fragmentation context can only have one block flow direction across
    all its fragmenters.

   <dt><dfn id=fragmentation0>fragmentation</dfn>

   <dd> The process of splitting a content flow across the <a
    href="#fragmenter"><i>fragmenters</i></a> that form a <a
    href="#fragmentation-context"><i>fragmentation context</i></a>.

   <dt><dfn id=box-fragment>box fragment</dfn> or <dfn
    id=fragment>fragment</dfn>

   <dd> The portion of a box that belongs to exactly one <a
    href="#fragmenter"><i>fragmenter</i></a>. A box in continuous flow always
    consists of only one fragment. A box in a fragmented flow consists of one
    or more fragments.
  </dl>

  <p> Each <dfn id=fragmentation-break>fragmentation break</dfn> (hereafter,
   <dfn id=break>break</dfn>) ends layout of the fragmented box in the
   current <a href="#fragmenter"><i>fragmenter</i></a> and causes the
   remaining content to be laid out in the next <a
   href="#fragmenter"><i>fragmenter</i></a>, in some cases causing a new
   fragmenter to be generated to hold the deferred content. When multiple
   flows are laid out in parallel, fragmentation is performed independently
   in each flow.

  <p> Breaking a fragmenter F effectively splits the fragmenter into two
   fragmenters (F<sub>1</sub> and F<sub>2</sub>). The only difference is that
   the type of break between the two pieces F<sub>1</sub> and F<sub>2</sub>
   is the <a href="#break-types">type of break</a> created by the
   fragmentation context that split F, not the type of break normally created
   by F's own fragmentation context.

  <p class=note> Breaking inline content into lines is another form of
   fragmentation, and similarly creates box fragments when it breaks <a
   href="http://www.w3.org/TR/CSS21/visuren.html#inline-boxes">inline
   boxes</a> across <a
   href="http://www.w3.org/TR/CSS21/visuren.html#line-box">line boxes</a>.
   However, inline breaking is not covered here; see <a href="#CSS3TEXT"
   rel=biblioentry>[CSS3TEXT]<!--{{CSS3TEXT}}--></a> and the &lsquo;<code
   class=property>box-decoration-break</code>&rsquo; property in <a
   href="#CSS3BG" rel=biblioentry>[CSS3BG]<!--{{CSS3BG}}--></a>.

  <h2 id=breaking-controls><span class=secno>3. </span> Controlling Breaks</h2>

  <p> The following sections explain how breaks are controlled in a
   fragmented flow. Five properties indicate where the user agent may or
   should break the content flow. In the case of pagination, the author can
   also specify on which page (<a
   href="http://www.w3.org/TR/css3-page/#left-right-first">left or right</a>)
   the subsequent content should resume.

  <h3 id=break-properties><span class=secno>3.1. </span> Forced breaks and
   keep-together: the &lsquo;<a href="#break-before"><code
   class=property>break-before</code></a>&rsquo;, &lsquo;<a
   href="#break-after"><code class=property>break-after</code></a>&rsquo;,
   &lsquo;<a href="#break-inside"><code
   class=property>break-inside</code></a>&rsquo; properties</h3>

  <table class=propdef summary="property definition">
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=break-before>break-before</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | always | left | right | page | column | region | avoid |
      avoid-page | avoid-column | avoid-region

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>block-level elements, table row groups, table rows (but see prose)

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <table class=propdef summary="property definition">
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=break-after>break-after</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | always | left | right | page | column | region | avoid |
      avoid-page | avoid-column | avoid-region

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>block-level elements, table row groups, table rows (but see prose)

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <table class=propdef summary="property definition">
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=break-inside>break-inside</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | avoid | avoid-page | avoid-column | avoid-region

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>block-level elements, block containers, table row groups, table rows
      (but see prose)

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p> These properties describe page/column/region break behavior
   before/after/inside the generated box. These values have the following
   meaning:

  <dl>
   <dt> auto

   <dd> Neither force nor forbid a break before/after/inside the principle
    box.

   <dt> always

   <dd> Always force a break before/after the principle box.

   <dt> avoid

   <dd> Avoid a break before/after/inside the principle box.

   <dt> left

   <dd> Force one or two page breaks before/after the principle box so that
    the next page is formatted as a left page.

   <dt> right

   <dd> Force one or two page breaks before/after the principle box so that
    the next page is formatted as a right page.

   <dt> page

   <dd> Always force a page break before/after the principle box.

   <dt> column

   <dd> Always force a column break before/after the principle box.

   <dt> region

   <dd> Always force a region break before/after the principle box.

   <dt> avoid-page

   <dd> Avoid a page break before/after/inside the principle box.

   <dt> avoid-column

   <dd> Avoid a column break before/after/inside the principle box.

   <dt> avoid-region

   <dd> Avoid a region break before/after/inside the principle box.
  </dl>

  <p> A potential page/column/region break location is typically under the
   influence of the parent element's &lsquo;<a href="#break-inside"><code
   class=property>break-inside</code></a>&rsquo; property, the &lsquo;<a
   href="#break-after"><code class=property>break-after</code></a>&rsquo;
   property of the preceding element, and the &lsquo;<a
   href="#break-before"><code class=property>break-before</code></a>&rsquo;
   property of the following element. When these properties have values other
   than &lsquo;<code class=css>auto</code>&rsquo;, the <dfn
   id=forced-break-values>forced break values</dfn> (&lsquo;<code
   class=css>always</code>&rsquo;, &lsquo;<code class=css>left</code>&rsquo;,
   &lsquo;<code class=css>right</code>&rsquo;, &lsquo;<code
   class=css>page</code>&rsquo;, &lsquo;<code class=css>column</code>&rsquo;
   and &lsquo;<code class=css>region</code>&rsquo;) take precedence over the
   <dfn id=avoid-break-values>avoid break values</dfn> (&lsquo;<code
   class=css>avoid</code>&rsquo;, &lsquo;<code
   class=css>avoid-page</code>&rsquo;, &lsquo;<code
   class=css>avoid-column</code>&rsquo; and &lsquo;<code
   class=css>avoid-region</code>&rsquo;). See the section on <a
   href="#breaking-rules">rules for breaking</a> for the exact rules on how
   these properties affect forced breaks.

  <p> User Agents must apply these properties to block-level boxes and to
   table rows, table row groups, and&#8212;in the case of &lsquo;<a
   href="#break-inside"><code
   class=property>break-inside</code></a>&rsquo;&#8212;block containers in
   the normal flow of the root fragmented element. User agents should also
   apply these properties to floated boxes whose containing block is in the
   normal flow of the root fragmented element. User agents may also apply
   these properties to other boxes.

  <h3 id=widows-orphans><span class=secno>3.2. </span> Breaks inside
   elements: &lsquo;<a href="#orphans"><code
   class=property>orphans</code></a>&rsquo;, &lsquo;<a href="#widows"><code
   class=property>widows</code></a>&rsquo;</h3>

  <table class=propdef summary="property definition">
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=orphans>orphans</dfn>

    <tr>
     <th>Value:

     <td>&lt;integer&gt;

    <tr>
     <th>Initial:

     <td>2

    <tr>
     <th>Applies to:

     <td>block containers

    <tr>
     <th>Inherited:

     <td>yes

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>specified value
  </table>

  <table class=propdef summary="property definition">
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=widows>widows</dfn>

    <tr>
     <th>Value:

     <td>&lt;integer&gt;

    <tr>
     <th>Initial:

     <td>2

    <tr>
     <th>Applies to:

     <td>block containers

    <tr>
     <th>Inherited:

     <td>yes

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>specified value
  </table>

  <p> The &lsquo;<a href="#orphans"><code
   class=property>orphans</code></a>&rsquo; property specifies the minimum
   number of line boxes in a block container that must be left in a <a
   href="#fragment"><i>fragment</i></a> before a fragment break. The
   &lsquo;<a href="#widows"><code class=property>widows</code></a>&rsquo;
   property specifies the minimum number of line boxes of a block container
   that must be left in a <a href="#fragment"><i>fragment</i></a> after a
   break. Examples of how they are used to control fragmentation breaks are
   given <a href="#widows-orphans-example">below</a>.

  <p> Only positive integers are allowed as values of &lsquo;<a
   href="#orphans"><code class=property>orphans</code></a>&rsquo; and
   &lsquo;<a href="#widows"><code class=property>widows</code></a>&rsquo;.
   Negative values and zero are invalid must cause the declaration to be <a
   href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

  <p> If a block contains fewer lines than the value of &lsquo;<a
   href="#widows"><code class=property>widows</code></a>&rsquo; or &lsquo;<a
   href="#orphans"><code class=property>orphans</code></a>&rsquo;, the rule
   simply becomes that all lines in the block must be kept together.

  <h2 id=breaking-rules><span class=secno>4. </span> Rules for Breaking</h2>

  <p> A fragmented flow may be broken across fragmenters at a number of <a
   href="#possible-breaks">possible break points</a>. In the case of <a
   href="#forced-breaks">forced breaks</a>, the UA is required to break the
   flow at that point. In the case of <a href="#unforced-breaks">unforced
   breaks</a> the UA has to choose among the possible breaks that are
   allowed.

  <h3 id=possible-breaks><span class=secno>4.1. </span> Possible Break Points</h3>

  <p> Fragmentation splits boxes in the block flow dimension. In
   block-and-inline flow, breaks may occur at the following places:

  <dl>
   <dt id=btw-blocks>Class 1

   <dd> Between sibling boxes of the following types:
    <dl>
     <dt>When the block flow direction of the siblings' parent is parallel to
      that of the fragmentation context

     <dd> block-level boxes, table row group boxes, table row boxes,
      multi-column column row boxes

     <dt>When the block flow direction of the siblings' parent is
      perpendicular to that of the fragmentation context

     <dd> table column group boxes, table column boxes, multi-column column
      boxes
    </dl>

   <dt id=btw-lines>Class 2

   <dd> Between line boxes inside a block container box.

   <dt id=end-block>Class 3

   <dd> Between the content edge of a block container box and the outer edges
    of its child content (margin edges of block-level children or line box
    edges for inline-level children) <em>if</em> there is a (non-zero) gap
    between them.
  </dl>

  <p class=note> Other layout models may add breakpoints to the above
   classes.

  <p> Since breaks are only allowed between siblings (1), not between a child
   and its parent, a &lsquo;<a href="#break-before"><code
   class=property>break-before</code></a>&rsquo; value on a first-child box
   is propagated to its parent. Likewise a &lsquo;<a
   href="#break-after"><code class=property>break-after</code></a>&rsquo;
   value on a last-child box is propagated to its parent.

  <p> When paginating, if there are no possible break points below the top of
   the page, and not all the content fits, the UA may break anywhere in order
   to avoid losing content off the edge of the page.

  <p> The UA is not required to fragment the contents of scrollable elements
   e.g. those with &lsquo;<code class=property>overflow</code>&rsquo; set to
   &lsquo;<code class=css>auto</code>&rsquo; or &lsquo;<code
   class=css>scroll</code>&rsquo;, and may instead either slice the element's
   graphical representation as necessary to fragment it or treat its box as
   monolithic (unbreakable) and overflow the fragmenter. In both cases it
   must treat the element as having &lsquo;<code class=css>break-inside:
   avoid</code>&rsquo;, i.e. only slice or overflow at the fragmenter edge if
   there are no <a href="#possible-breaks">possible break points</a> on the
   fragmenter.

  <h3 id=break-types><span class=secno>4.2. </span> Types of Breaks</h3>

  <p> There are different types of breaks in CSS, defined based on the type
   of fragmenters they span:

  <dl>
   <dt><dfn id=page-break>page break</dfn>

   <dd> A break between two <a
    href="http://www.w3.org/TR/css3-page/#page-box">page boxes</a>. <a
    href="#CSS3PAGE" rel=biblioentry>[CSS3PAGE]<!--{{!CSS3PAGE}}--></a>

   <dt><dfn id=spread-break>spread break</dfn>

   <dd> A break between two page boxes that are not associated with <a
    href="http://www.w3.org/TR/css3-page/#facing-pages">facing pages</a>. A
    spread break is always also a page break. <a href="#CSS3PAGE"
    rel=biblioentry>[CSS3PAGE]<!--{{!CSS3PAGE}}--></a>

   <dt><dfn id=column-break>column break</dfn>

   <dd> A break between two <a
    href="http://www.w3.org/TR/css3-multicol/#column-box">column boxes</a>.
    Note that if the column boxes are on different pages, then the break is
    also a <a href="#page-break"><i>page break</i></a>. <a href="#CSS3COL"
    rel=biblioentry>[CSS3COL]<!--{{!CSS3COL}}--></a>

   <dt><dfn id=region-break>region break</dfn>

   <dd> A break between two <a
    href="http://www.w3.org/TR/css3-regions/#regions">regions</a>. Note that
    if the region boxes are on different pages, then the break is also a <a
    href="#page-break"><i>page break</i></a>. <a href="#CSS3-REGIONS"
    rel=biblioentry>[CSS3-REGIONS]<!--{{!CSS3-REGIONS}}--></a>
  </dl>

  <p class=note> A fifth type of break is the <dfn id=line-break>line
   break</dfn>, which is a break between two <a
   href="http://www.w3.org/TR/CSS21/visuren.html#line-box">line boxes</a>.
   These are not covered in this specification; see <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>.

  <h3 id=forced-breaks><span class=secno>4.3. </span> Forced breaks</h3>

  <p> A forced break then occurs at <a href="#btw-blocks">(1)</a> if, among
   the &lsquo;<a href="#break-after"><code
   class=property>break-after</code></a>&rsquo; properties specified on or
   propagated to the earlier sibling box and the &lsquo;<a
   href="#break-before"><code class=property>break-before</code></a>&rsquo;
   properties specified on or propagated to the later sibling box there is at
   least one with a <i>forced break value</i>.

  <p> When multiple <a href="#forced-break-values"><i>forced break
   values</i></a> apply to a single break point, they combine such all types
   of break are honored and no content-empty page boxes are generated, except
   for at most one content-empty page as may be required by the &lsquo;<code
   class=css>right</code>&rsquo; or &lsquo;<code class=css>left</code>&rsquo;
   values to position ensuing content on a right- or left-facing page. When
   &lsquo;<code class=css>left</code>&rsquo; and &lsquo;<code
   class=css>right</code>&rsquo; are both combined, the value specified on
   the latest element in the flow wins.

  <p class=note> A page break must also occur at <a
   href="#btw-blocks">(1)</a> if the last line box above this margin and the
   first one below it do not have the same value for &lsquo;<code
   class=property>page</code>&rsquo;. See <a href="#CSS3PAGE"
   rel=biblioentry>[CSS3PAGE]<!--{{!CSS3PAGE}}--></a>

  <h3 id=unforced-breaks><span class=secno>4.4. </span> Unforced Breaks</h3>

  <p> While <a href="#breaking-controls">breaking controls</a> can force
   breaks, they can also discourage them. The following rules control whether
   breaking at a <a href="#possible-breaks">possible break point</a> is
   allowed:

  <dl>
   <dt>Rule A

   <dd> A fragmented flow may break at <a href="#btw-blocks">(1)</a> only if
    all the &lsquo;<a href="#break-after"><code
    class=property>break-after</code></a>&rsquo; and &lsquo;<a
    href="#break-before"><code class=property>break-before</code></a>&rsquo;
    values applicable to this break point allow it, which is when at least
    one of them forces a break or when all of them are &lsquo;<code
    class=css>auto</code>&rsquo;.

   <dt>Rule B

   <dd> However, if all of them are &lsquo;<code class=css>auto</code>&rsquo;
    and a common ancestor of all the elements has a &lsquo;<a
    href="#break-inside"><code class=property>break-inside</code></a>&rsquo;
    value of &lsquo;<code class=css>avoid</code>&rsquo;, then breaking here
    is not allowed.

   <dt>Rule C

   <dd> Breaking at <a href="#btw-lines">(2)</a> is allowed only if the
    number of line boxes between the break and the start of the enclosing
    block box is the value of &lsquo;<a href="#orphans"><code
    class=property>orphans</code></a>&rsquo; or more, and the number of line
    boxes between the break and the end of the box is the value of &lsquo;<a
    href="#widows"><code class=property>widows</code></a>&rsquo; or more.

   <dt>Rule D

   <dd> Additionally, breaking at <a href="#btw-blocks">(2)</a> or <a
    href="#end-block">(3)</a> is allowed only if the &lsquo;<a
    href="#break-inside"><code class=property>break-inside</code></a>&rsquo;
    property of all ancestors is &lsquo;<code class=css>auto</code>&rsquo;.
  </dl>

  <p> If the above doesn't provide enough break points to keep content from
   overflowing the page boxes, then rules A, B and D are dropped in order to
   find additional breakpoints. In this case the UA may use the &lsquo;<code
   class=css>avoid</code>&rsquo;s that are in effect at those points to weigh
   the appropriateness of the new breakpoints; however, this specification
   does not suggest a precise algorithm.

  <p> If that still does not lead to sufficient break points, rule C is
   dropped as well, to find still more break points.

  <h3 id=best-breaks><span class=secno>4.5. </span> Optimizing Unforced
   Breaks</h3>

  <p>While CSS3 requires that a fragmented flow must break at allowed break
   points in order to avoid overflowing the fragmenters in its fragmentation
   context, it does not define whether content breaks at a particular <a
   href="#unforced-breaks">allowed break</a>. However, it is recommended that
   user agents observe the following guidelines (while recognizing that they
   are sometimes contradictory):

  <ul>
   <li>Break as few times as possible.

   <li>Make all fragmenters that don't end with a forced break appear to be
    equally filled with content.

   <li>Avoid breaking inside a replaced element.
  </ul>

  <div class=example id=widows-orphans-example>
   <p> Suppose, for example, that the style sheet contains &lsquo;<code
    class=css>orphans : 4</code>&rsquo;, &lsquo;<code class=css>widows :
    2</code>&rsquo;, and there are 20 lines (line boxes) available at the
    bottom of the current page, and the next block in normal flow is
    considered for placement:</p>

   <ul>
    <li> If the block contains 20 line boxes or fewer, it should be placed on
     the current page.

    <li> If the block contains 21 or 22 line boxes, the second fragment of
     the paragraph must not violate the &lsquo;<a href="#widows"><code
     class=property>widows</code></a>&rsquo; constraint, and so the second
     fragment must contain at least two line boxes; likewise the first
     fragment must contain at least four line boxes.

    <li> If the block contains 23 line boxes or more, the first fragment
     should contain 20 lines and the second fragment the remaining lines. But
     if any fragment of the block is placed on the current page, that
     fragment must contain at least four line boxes and the second fragment
     at least two line boxes.
   </ul>

   <p> Now suppose that &lsquo;<a href="#orphans"><code
    class=property>orphans</code></a>&rsquo; is &lsquo;<code
    class=css>10</code>&rsquo;, &lsquo;<a href="#widows"><code
    class=property>widows</code></a>&rsquo; is &lsquo;<code
    class=css>20</code>&rsquo;, and there are 8 lines available at the bottom
    of the current page:</p>

   <ul>
    <li> If the block contains 8 lines or fewer, it should be placed on the
     current page.

    <li> If the block contains 9 lines or more, it must NOT be split (that
     would violate the &lsquo;<a href="#orphans"><code
     class=property>orphans</code></a>&rsquo; constraint), so it must move as
     a block to the next page.
   </ul>
  </div>

  <h2 id=breaking-boxes><span class=secno>5. </span> Box Model for Breaking</h2>

  <p class=note> The sizing terminology used in this section is defined in
   Appendix D of <a href="#CSS3-WRITING-MODES"
   rel=biblioentry>[CSS3-WRITING-MODES]<!--{{CSS3-WRITING-MODES}}--></a>.

  <h3 id=varying-size-boxes><span class=secno>5.1. </span> Breaking into
   Varying-size Fragmenters</h3>

  <p> When a flow is fragmented into varying-size fragmenters, the following
   rules are observed for adapting layout:

  <ul>
   <li> Intrinsic sizes are calculated and maintained across the entire
    element. Where an initial containing block size is needed to resolve an
    intrinsic size, assume the size of the first fragmenter defining a
    pagination context.

   <li> Layout is performed per-fragmenter, with each fragmenter continuing
    progress from the breakpoint on the previous, but recalculating sizes and
    positions using its own size as if the entire element were fragmented
    across fragmenters of this size. Progress is measured in percentages (not
    absolute lengths) of used/available space and in amount of used/remaining
    content. However, when laying out scrollable elements and certain
    replaced elements the UA may instead maintain a consistent measure and
    resolved extent across fragmenters.

   <li><strong class=issue>Option A:</strong> Fragments of boxes that began
    on a previous fragmenter must start at the top of the new fragmenter. If
    this results in multiple boxes side-by-side that would otherwise be
    staggered (if they were not continuations) in order to fit, the elements'
    widths are reduced (on that fragmenter only) in proportion to their
    original widths until they fit. However they are not reduced past their
    min-content width or in case the width copmutes to a non-percent length
    value.
    <div class=figure>
     <pre>First page
<!--    -->+----------------------------------+
<!--    -->|########### ......... ############|
<!--    -->|#         # .....     #          #|
<!--    -->|#  left   # .......   #   right  #|
<!--    -->|#  float  # ......... #   float  #|
<!--    -->|#         # ........  #          #|
<!--    -->|#         # ......... #          #|
<!--    -->|#         # ........  #          #|
<!--    -->|#,,,,,,,,,# ......... #,,,,,,,,,,#|
<!--    -->+----------------------------------+
<!--    -->
<!--    -->Second page in case the 'width' computes to 'auto' or 'percent'
<!--    -->
<!--    -->+-----------------+
<!--    -->|#``````##```````#|
<!--    -->|# left ## right #|
<!--    -->|# float## float #|
<!--    -->|# cont.## cont. #|
<!--    -->|#################|
<!--    -->|.................|
<!--    -->|...............  |
<!--    -->|.................|
<!--    -->|....             |
<!--    -->
<!--    -->Second page in case the 'width' computes to 'length' value
<!--    -->
<!--    -->+-----------------+
<!--    -->    |#`````````##``````````#
<!--    -->    |#  left   ##   right  #
<!--    -->    |#  float  ##   float  #
<!--    -->    |#  cont.  ##   cont.  #
<!--    -->    |#######################
<!--    -->|.................|
<!--    -->|...............  |
<!--    -->|.................|
<!--    -->|....             |</pre>
    </div>

   <li><strong class=issue>Option B:</strong> Fragments of boxes that began
    on a previous fragmenter must obey placement rules with the additional
    constraint that fragments must not be positioned above the before edge of
    the fragmenter and must otherwise be placed as high as possible while not
    violating other constraints. If this results in a box's continuation
    fragment shifting away from the before edge of the fragmenter, then
    &lsquo;<code class=css>box-decoration-break: clone</code>&rsquo;, if
    specified, wraps the fragment with the box's margin in addition to its
    padding and border.
    <div class=figure>
     <pre>First page
<!--    -->+----------------------------------+
<!--    -->|########### ......... ############|
<!--    -->|#         # .....     #          #|
<!--    -->|#  left   # .......   #   right  #|
<!--    -->|#  float  # ......... #   float  #|
<!--    -->|#         # ........  #          #|
<!--    -->|#         # ......... #          #|
<!--    -->|#         # ........  #          #|
<!--    -->|#,,,,,,,,,# ......... #,,,,,,,,,,#|
<!--    -->+----------------------------------+
<!--    -->
<!--    -->Second page
<!--    -->
<!--    -->+-----------------+
<!--    -->|#`````````# .... |
<!--    -->|#  left   # ...  |
<!--    -->|#  float  # .... |
<!--    -->|#  cont.  # .... |
<!--    -->|########### ...  |
<!--    -->|.... #``````````#|
<!--    -->|...  #  right   #|
<!--    -->|.... #  float   #|
<!--    -->|.... #  cont.   #|
<!--    -->|.... ############|
<!--    -->|...............  |
<!--    -->|.......          |</pre>
    </div>
  </ul>

  <p>Below are listed some implications of these rules:

  <ul>
   <li> Boxes (including tables) fullfilling layout constraints at their
    <i>fill-available</i> or percentage-based size may change measure across
    pages.

   <li> Boxes (including tables) fulfilling layout constraints at their
    <i>min-content</i>, <i>max-content</i>, or absolute-length size will
    maintain their measure across pages.

   <li><strong class=issue>Option A:</strong> Opposite-side side-by-side
    floats might overlap if, e.g. both begin on a wide page, but their
    min-content measures taken together are too wide to fit on a later,
    narrower page. (Auto-sized floats will not overlap if only their
    max-content measures are too wide, since the shrink-wrap algorithm will
    give them narrower measures due to the narrower available measure.)

   <li><strong class=issue>Option A:</strong> Same-side side-by-side floats
    might overflow their containing block if, e.g. both begin on a wide page,
    but their min-content measures taken together are too wide to fit on a
    later, narrower page.

   <li><strong class=issue>Option B:</strong> Float continuation fragments
    may be placed below the top of the page if, e.g. multiple floats continue
    onto a new page that is narrower than the previous page and their
    (recalculated) widths together are wider than their containing block.

   <li><strong class=issue>Option B:</strong> A block-level continuation
    fragment may be placed below the top of the page if, e.g. it establishes
    a block formatting context and is placed beside a float and both it and
    the float continue onto a narrower page that is too narrow to hold both
    of them side-by-side.

   <li><strong class=issue>Option B:</strong> Content adjacent to a preceding
    float on one page may wind up above the float on the next page if, e.g.
    that float is pushed down because it no longer fits side-by-side with an
    earlier float that also continues to this narrower page.
  </ul>

  <div class=example>
   <p>Here is an example that shows the use of percentage-based progress:
    Suppose we have an absolutely-positioned element that is positioned
    &lsquo;<code class=css>top: calc(150% + 30px)</code>&rsquo; and has
    &lsquo;<code class=css>height: calc(100% - 10px)</code>&rsquo;. If it is
    placed into a paginated context with a first page of 400px, a second page
    of 200px, and a third page of 600px, its layout progresses as follows:

   <ul>
    <li>First, the top position is resolved against the first page's size.
     This results in 630px. Since the first page only has 400px, layout moves
     to the second page, recording progress of 400/630 = 63.49% with 36.51%
     left to go.

    <li>Now on the second page, the top position is again resolved, this time
     against the second page size. This results in 330px. The remining 36.51%
     of progress thus resolves to 120.5px, placing the top edge of the
     element 120.5px down the second page.

    <li>Now the height is resolved against the second page; it resolves to
     190px. Since there are only 79.5px left on the page, layout moves to the
     third page, recording progress of 79.5/190 = 41.84%, with 48.16% left to
     go.

    <li>On the third page, the height resolves to 590px. The remaining 48.16%
     of progress thus resolves to 246.9px, which fits on this page and
     completes the element.
   </ul>
  </div>

  <h3 id=break-margins><span class=secno>5.2. </span> Margins at Breaks</h3>

  <p> When an unforced break occurs between block-level boxes, any adjoining
   margins are set to zero. When a forced break occurs there, any margins
   before the break are truncated, but margins after the break are preserved.
   

  <h3 id=break-decoration><span class=secno>5.3. </span> Decorating Box
   Breaks</h3>

  <p> When a break splits a box, the &lsquo;<code
   class=property>box-decoration-break</code>&rsquo; property controls
   whether the box's margins, borders, and padding wrap the fragment effect
   where the split occurs. If they do not (i.e. &lsquo;<code
   class=css>slice</code>&rsquo; is specified), the box's background and side
   margins, border, and padding extend from the effective break point to the
   end of the fragmenter (and across the ensuing blank fragmenter if one is
   generated due to &lsquo;<code class=css>left</code>&rsquo; or &lsquo;<code
   class=css>right</code>&rsquo; breaking). <span class=issue>Does this use
   up height?</span>

  <h2 id=conformance><span class=secno>6. </span> Conformance</h2>

  <h3 id=conventions><span class=secno>6.1. </span> Document Conventions</h3>

  <p> Conformance requirements are expressed with a combination of
   descriptive assertions and RFC 2119 terminology. The key words “must”,
   “must NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”,
   “should”, “should NOT”, “RECOMMENDED”, “may”, and
   “OPTIONAL” in the normative parts of this document are to be
   interpreted as described in RFC 2119. However, for readability, these
   words do not appear in all uppercase letters in this specification.

  <p> All of the text of this specification is normative except sections
   explicitly marked as non-normative, examples, and notes. <a
   href="#RFC2119" rel=biblioentry>[RFC2119]<!--{{!RFC2119}}--></a>

  <p> Examples in this specification are introduced with the words “for
   example” or are set apart from the normative text with
   <code>class="example"</code>, like this:

  <div class=example>
   <p>This is an example of an informative example.</p>
  </div>

  <p> Informative notes begin with the word “Note” and are set apart from
   the normative text with <code>class="note"</code>, like this:

  <p class=note>Note, this is an informative note.

  <h3 id=conformance-classes><span class=secno>6.2. </span>Conformance
   Classes</h3>

  <p>Conformance to CSS Fragmentation is defined for three conformance
   classes:

  <dl>
   <dt><dfn id=style-sheet title="style sheet!!as conformance class">style
    sheet</dfn>

   <dd> A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
    style sheet</a>.

   <dt><dfn id=renderer>renderer</dfn>

   <dd> A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
    that interprets the semantics of a style sheet and renders documents that
    use them.

   <dt><dfn id=authoring-tool>authoring tool</dfn>

   <dd> A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
    that writes a style sheet.
  </dl>

  <p> A style sheet is conformant to CSS Fragmentation if all of its
   declarations that use properties defined in this module have values that
   are valid according to the generic CSS grammar and the individual grammars
   of each property as given in this module.

  <p> A renderer is conformant to CSS Fragmentation if, in addition to
   interpreting the style sheet as defined by the appropriate specifications,
   it supports all the features defined by CSS Fragmentation by parsing them
   correctly and rendering the document accordingly. However, the inability
   of a UA to correctly render a document due to limitations of the device
   does not make the UA non-conformant. (For example, a UA is not required to
   render color on a monochrome monitor.)

  <p> An authoring tool is conformant to CSS Fragmentation if it writes style
   sheets that are syntactically correct according to the generic CSS grammar
   and the individual grammars of each feature in this module, and meet all
   other conformance requirements of style sheets as described in this
   module.

  <h3 id=partial><span class=secno>6.3. </span> Partial Implementations</h3>

  <p> So that authors can exploit the forward-compatible parsing rules to
   assign fallback values, CSS renderers <strong>must</strong> treat as
   invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">
   ignore as appropriate</a>) any at-rules, properties, property values,
   keywords, and other syntactic constructs for which they have no usable
   level of support. In particular, user agents <strong>must not</strong>
   selectively ignore unsupported component values and honor supported values
   in a single multi-value property declaration: if any value is considered
   invalid (as unsupported values must be), CSS requires that the entire
   declaration be ignored.

  <h3 id=experimental><span class=secno>6.4. </span> Experimental
   Implementations</h3>

  <p> To avoid clashes with future CSS features, the CSS2.1 specification
   reserves a <a
   href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
   syntax</a> for proprietary and experimental extensions to CSS.

  <p> Prior to a specification reaching the Candidate Recommendation stage in
   the W3C process, all implementations of a CSS feature are considered
   experimental. The CSS Working Group recommends that implementations use a
   vendor-prefixed syntax for such features, including those in W3C Working
   Drafts. This avoids incompatibilities with future changes in the draft.

  <h3 id=testing><span class=secno>6.5. </span> Non-Experimental
   Implementations</h3>

  <p> Once a specification reaches the Candidate Recommendation stage,
   non-experimental implementations are possible, and implementors should
   release an unprefixed implementation of any CR-level feature they can
   demonstrate to be correctly implemented according to spec.

  <p> To establish and maintain the interoperability of CSS across
   implementations, the CSS Working Group requests that non-experimental CSS
   renderers submit an implementation report (and, if necessary, the
   testcases used for that implementation report) to the W3C before releasing
   an unprefixed implementation of any CSS features. Testcases submitted to
   W3C are subject to review and correction by the CSS Working Group.

  <p> Further information on submitting testcases and implementation reports
   can be found from on the CSS Working Group's website at <a
   href="http://www.w3.org/Style/CSS/Test/">
   http://www.w3.org/Style/CSS/Test/</a>. Questions should be directed to the
   <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">
   public-css-testsuite@w3.org</a> mailing list.

  <h3 id=cr-exit-criteria><span class=secno>6.6. </span> CR Exit Criteria</h3>

  <p> For this specification to be advanced to Proposed Recommendation, there
   must be at least two independent, interoperable implementations of each
   feature. Each feature may be implemented by a different set of products,
   there is no requirement that all features be implemented by a single
   product. For the purposes of this criterion, we define the following
   terms:

  <dl>
   <dt>independent

   <dd> each implementation must be developed by a different party and cannot
    share, reuse, or derive from code used by another qualifying
    implementation. Sections of code that have no bearing on the
    implementation of this specification are exempt from this requirement.

   <dt>interoperable

   <dd> passing the respective test case(s) in the official CSS test suite,
    or, if the implementation is not a Web browser, an equivalent test. Every
    relevant test in the test suite should have an equivalent test created if
    such a user agent (UA) is to be used to claim interoperability. In
    addition if such a UA is to be used to claim interoperability, then there
    must one or more additional UAs which can also pass those equivalent
    tests in the same way for the purpose of interoperability. The equivalent
    tests must be made publicly available for the purposes of peer review.

   <dt>implementation

   <dd> a user agent which:
    <ol class=inline>
     <li>implements the specification.

     <li>is available to the general public. The implementation may be a
      shipping product or other publicly available version (i.e., beta
      version, preview release, or “nightly build”). Non-shipping product
      releases must have implemented the feature(s) for a period of at least
      one month in order to demonstrate stability.

     <li>is not experimental (i.e., a version specifically designed to pass
      the test suite and is not intended for normal usage going forward).
    </ol>
  </dl>

  <p> The specification will remain Candidate Recommendation for at least six
   months.

  <h2 class=no-num id=acknowledgments> Acknowledgments</h2>

  <p> The editors would like to extend special thanks to Michael Day, and the
   former <a href="#CSS3PAGE"
   rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a> editors Jim Bigelow
   (HP), Melinda Grant (HP), Håkon Wium Lie (Opera), and Jacob Refstrup (HP)
   for their contributions to this specification.

  <h2 class=no-num id=references>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS21>[CSS21]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607"><cite>Cascading Style
    Sheets Level 2 Revision 1 (CSS&#160;2.1) Specification.</cite></a> 7 June
    2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607">http://www.w3.org/TR/2011/REC-CSS2-20110607</a>
    </dd>
   <!---->

   <dt id=CSS3-REGIONS>[CSS3-REGIONS]

   <dd>Vincent Hardy; Alex Mogilevsky. <a
    href="http://www.w3.org/TR/2011/WD-css3-regions-20111129/"><cite>CSS
    Regions Module Level 3.</cite></a> 29 November 2011. W3C Working Draft.
    (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2011/WD-css3-regions-20111129/">http://www.w3.org/TR/2011/WD-css3-regions-20111129/</a>
    </dd>
   <!---->

   <dt id=CSS3COL>[CSS3COL]

   <dd>H&#229;kon Wium Lie. <a
    href="http://www.w3.org/TR/2011/CR-css3-multicol-20110412"><cite>CSS
    Multi-column Layout Module.</cite></a> 12 April 2011. W3C Candidate
    Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2011/CR-css3-multicol-20110412">http://www.w3.org/TR/2011/CR-css3-multicol-20110412</a>
    </dd>
   <!---->

   <dt id=CSS3PAGE>[CSS3PAGE]

   <dd>H&#229;kon Wium Lie; Melinda Grant. <a
    href="http://www.w3.org/TR/2006/WD-css3-page-20061010"><cite>CSS3 Module:
    Paged Media.</cite></a> 10 October 2006. W3C Working Draft. (Work in
    progress.) URL: <a
    href="http://www.w3.org/TR/2006/WD-css3-page-20061010">http://www.w3.org/TR/2006/WD-css3-page-20061010</a>
    </dd>
   <!---->

   <dt id=RFC2119>[RFC2119]

   <dd>S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key
    words for use in RFCs to Indicate Requirement Levels.</cite></a> Internet
    RFC 2119. URL: <a
    href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a>
    </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS3-WRITING-MODES>[CSS3-WRITING-MODES]

   <dd>Elika J. Etemad; Koji Ishii; Shinyu Murakami. <a
    href="http://www.w3.org/TR/2011/WD-css3-writing-modes-20110901/"><cite>CSS
    Writing Modes Module Level 3.</cite></a> 1 September 2011. W3C Working
    Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2011/WD-css3-writing-modes-20110901/">http://www.w3.org/TR/2011/WD-css3-writing-modes-20110901/</a>
    </dd>
   <!---->

   <dt id=CSS3BG>[CSS3BG]

   <dd>Bert Bos; Elika J. Etemad; Brad Kemper. <a
    href="http://www.w3.org/TR/2012/CR-css3-background-20120417/"><cite>CSS
    Backgrounds and Borders Module Level 3.</cite></a> 17 April 2012. W3C
    Candidate Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/CR-css3-background-20120417/">http://www.w3.org/TR/2012/CR-css3-background-20120417/</a>
    </dd>
   <!---->

   <dt id=CSS3COLOR>[CSS3COLOR]

   <dd>Tantek &#199;elik; Chris Lilley; L. David Baron. <a
    href="http://www.w3.org/TR/2011/REC-css3-color-20110607"><cite>CSS Color
    Module Level 3.</cite></a> 7 June 2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-css3-color-20110607">http://www.w3.org/TR/2011/REC-css3-color-20110607</a>
    </dd>
   <!---->

   <dt id=CSS3TEXT>[CSS3TEXT]

   <dd>Elika J. Etemad; Koji Ishii. <a
    href="http://www.w3.org/TR/2012/WD-css3-text-20120119/"><cite>CSS Text
    Level 3.</cite></a> 19 January 2012. W3C Working Draft. (Work in
    progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-text-20120119/">http://www.w3.org/TR/2012/WD-css3-text-20120119/</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>authoring tool, <a href="#authoring-tool"
    title="authoring tool"><strong>6.2.</strong></a>

   <li>avoid break values, <a href="#avoid-break-values"
    title="avoid break values"><strong>3.1.</strong></a>

   <li>box fragment, <a href="#box-fragment"
    title="box fragment"><strong>2.</strong></a>

   <li>break, <a href="#break" title=break><strong>2.</strong></a>

   <li>break-after, <a href="#break-after"
    title=break-after><strong>3.1.</strong></a>

   <li>break-before, <a href="#break-before"
    title=break-before><strong>3.1.</strong></a>

   <li>break-inside, <a href="#break-inside"
    title=break-inside><strong>3.1.</strong></a>

   <li>column break, <a href="#column-break"
    title="column break"><strong>4.2.</strong></a>

   <li>forced break values, <a href="#forced-break-values"
    title="forced break values"><strong>3.1.</strong></a>

   <li>fragment, <a href="#fragment" title=fragment><strong>2.</strong></a>

   <li>fragmentation, <a href="#fragmentation"
    title=fragmentation><strong>1.</strong></a>, <a href="#fragmentation0"
    title=fragmentation><strong>2.</strong></a>

   <li>fragmentation break, <a href="#fragmentation-break"
    title="fragmentation break"><strong>2.</strong></a>

   <li>fragmentation context, <a href="#fragmentation-context"
    title="fragmentation context"><strong>2.</strong></a>

   <li>fragmented flow, <a href="#fragmented-flow"
    title="fragmented flow"><strong>2.</strong></a>

   <li>fragmenter, <a href="#fragmenter"
    title=fragmenter><strong>2.</strong></a>

   <li>line break, <a href="#line-break"
    title="line break"><strong>4.2.</strong></a>

   <li>orphans, <a href="#orphans" title=orphans><strong>3.2.</strong></a>

   <li>page break, <a href="#page-break"
    title="page break"><strong>4.2.</strong></a>

   <li>pagination, <a href="#pagination"
    title=pagination><strong>1.</strong></a>

   <li>region break, <a href="#region-break"
    title="region break"><strong>4.2.</strong></a>

   <li>renderer, <a href="#renderer" title=renderer><strong>6.2.</strong></a>
    

   <li>spread break, <a href="#spread-break"
    title="spread break"><strong>4.2.</strong></a>

   <li>style sheet
    <ul>
     <li>as conformance class, <a href="#style-sheet"
      title="style sheet, as conformance class"><strong>6.2.</strong></a>
    </ul>

   <li>widows, <a href="#widows" title=widows><strong>3.2.</strong></a>
  </ul>
  <!--end-index-->

  <h2 class=no-num id=property-index>Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies&nbsp;to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><a class=property href="#break-after">break-after</a>

     <td>auto | always | left | right | page | column | region | avoid |
      avoid-page | avoid-column | avoid-region

     <td>auto

     <td>block-level elements, table row groups, table rows (but see prose)

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#break-before">break-before</a>

     <td>auto | always | left | right | page | column | region | avoid |
      avoid-page | avoid-column | avoid-region

     <td>auto

     <td>block-level elements, table row groups, table rows (but see prose)

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#break-inside">break-inside</a>

     <td>auto | avoid | avoid-page | avoid-column | avoid-region

     <td>auto

     <td>block-level elements, block containers, table row groups, table rows
      (but see prose)

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#orphans">orphans</a>

     <td>&lt;integer&gt;

     <td>2

     <td>block containers

     <td>yes

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#widows">widows</a>

     <td>&lt;integer&gt;

     <td>2

     <td>block containers

     <td>yes

     <td>N/A

     <td>visual
  </table>
  <!--end-properties-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
