<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>CSS Flexible Box Layout Module</title>
	<link rel="stylesheet" type="text/css" href="http://dev.w3.org/csswg/default.css">
	<link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-ED">
	<style>
	code.one-line { white-space: pre; }
	.code-and-figure {
		display: table;
		margin: 0 auto;
		border-spacing: 1em;
	}
	.code-and-figure > div {
		display: table-cell;
		vertical-align: middle;
	}
    :not(code) var { font-style: normal; color: #005A9C; }
	</style>
</head><body>

<div class="head">
	<!--logo-->

	<h1 id="head-box-flexible">CSS Flexible Box Layout Module</h1>
	<h2 class="no-num no-toc" id="w3c-working">[LONGSTATUS], [DATE]</h2>

	<dl>
		<dt>This version:
		<!--<dd><a href="[VERSION]">http://www.w3.org/TR/[YEAR]/WD-css3-flexbox-[CDATE]/</a>-->
		<dd><a href="http://dev.w3.org/csswg/[SHORTNAME]/">http://dev.w3.org/csswg/[SHORTNAME]/</a>

		<dt>Latest version:
		<!--<dd><a href="[LATEST]">[LATEST]</a>-->
		<dd><a href="http://www.w3.org/TR/css3-flexbox/">http://www.w3.org/TR/css3-flexbox/</a>

		<dt>Editor's Draft:
		<dd><a href="http://dev.w3.org/csswg/css3-flexbox/">http://dev.w3.org/csswg/css3-flexbox/</a>

		<dt>Previous versions:
		<dd><a href="http://www.w3.org/TR/2012/WD-css3-flexbox-20120322/">http://www.w3.org/TR/2012/WD-css3-flexbox-20120322/</a>
		<dd><a href="http://www.w3.org/TR/2011/WD-css3-flexbox-20111129/">http://www.w3.org/TR/2011/WD-css3-flexbox-20111129/</a>
		<dd><a href="http://www.w3.org/TR/2011/WD-css3-flexbox-20110322/">http://www.w3.org/TR/2011/WD-css3-flexbox-20110322/</a>
		<dd><a href="http://www.w3.org/TR/2009/WD-css3-flexbox-20090723/">http://www.w3.org/TR/2009/WD-css3-flexbox-20090723/</a>

		<dt>Issues List:
        <dd><a href="https://www.w3.org/Bugs/Public/buglist.cgi?product=CSS&amp;component=Flexbox&amp;resolution=---">Bugzilla Bugs for Flexbox</a>

		<dt>Discussion:
		<dd><a href="http://lists.w3.org/Archives/Public/www-style/">www-style@w3.org</a> with subject line "<code>[css3-flexbox] …message topic…</code>"

		<dt>Editors:
		<dd><a href="http://www.xanthir.com/contact">Tab Atkins Jr.</a>, Google Inc.
		<dd>Alex Mogilevsky, Microsoft Corporation, <a href="mailto:alexmog@microsoft.com">alexmog@microsoft.com</a>
		<dd>L. David Baron, Mozilla Corporation, <a href="mailto:dbaron@dbaron.org">dbaron@dbaron.org</a>

		<dt>Authors and former editors:
		<dd>Neil Deakin, Mozilla Corporation, <a href="mailto:enndeakin@gmail.com">enndeakin@gmail.com</a>
		<dd>Ian Hickson, formerly of Opera Software, <a href="mailto:ian@hixie.ch">ian@hixie.ch</a>
		<dd>David Hyatt, formerly of Netscape Corporation, <a href="mailto:hyatt@apple.com">hyatt@apple.com</a>
	</dl>
	<!--copyright-->

	<hr title="Separator for header">
</div>

<h2 class="no-num no-toc" id="abstract">
Abstract</h2>

	<p>The specification describes a CSS box model optimized for user interface design. In the flexbox layout model, the children of a flexbox can be laid out in any direction, and can "flex" their sizes, either growing to fill unused space or shrinking to avoid overflowing the parent.  Both horizontal and vertical alignment of the children can be easily manipulated. Nesting of these boxes (horizontal inside vertical, or vertical inside horizontal) can be used to build layouts in two dimensions.

<h2 class="no-num no-toc" id="status">Status of this document</h2>
<!--status-->

	<p>
		The following features are at-risk:

	<ul>
		<li>Flexbox pagination rules
	</ul>

<h2 class="no-num no-toc" id="table">Table of contents</h2>
<!--toc-->


<h2 id="intro">
Introduction</h2>

	<p><em>This section is not normative.</em>

	<p>CSS 2.1 defined four layout modes &mdash; algorithms which determine the size and position of boxes based on their relationships with their sibling and ancestor boxes: block layout, designed for laying out documents; inline layout, designed for laying out text; table layout, designed for laying out information in a tabular format; and positioned layout, designed for very explicit positioning without much regard for other elements in the document. This module introduces a new layout mode, flexbox layout, which is designed for laying out more complex applications and webpages.

	<p>Flexbox layout is superficially similar to block layout.  It lacks many of the more complex text or document-formatting properties that can be used in block layout, such as 'float' and 'columns', but in return it gains more simple and powerful tools for aligning its contents in ways that webapps and complex web pages often need.  

    <p>The contents of a flexbox can be laid out in any direction (left, right, down, or even up!), can have their order swapped around dynamically (i.e., display order is independent of source order), and can "flex" their sizes and positions to respond to the available space.  If a flexbox is <i>multi-line</i>, the flexbox items flow in two dimensions, wrapping into separate lines in a fashion similar to how text is wrapped into multiple lines.

	<div class="example">
		<p>For example, the following HTML snippet uses flexbox to create a toolbar with icons.  The flexbox is horizontal, and the children's widths don't fill the flexbox's width, so the additional space is distributed around and between the children.  As the flexbox grows (perhaps because the user is viewing the page on a wider screen), the children spread out evenly and automatically:

		<pre>
&lt;ul>
  &lt;li>&lt;button>&lt;img src='new.svg' alt="New">&lt;/button>&lt;/li>
  &lt;li>&lt;button>&lt;img src='upload.svg' alt="Upload">&lt;/button>&lt;/li>
  &lt;li>&lt;button>&lt;img src='save.svg' alt="Save">&lt;/button>&lt;/li>
  &lt;li>&lt;button>&lt;img src='trash.svg' alt="trash">&lt;/button>&lt;/li>
&lt;/ul>
&lt;style>
ul { display: flexbox; flex-pack: distribute; }
/* Irrelevant styling for this example removed. */
&lt;/style></pre>

		<div class='figure'>
			<img src="images/toolbar-example.svg" width=400 height=140 alt>
			<p class='caption'>Example rendering of the above code snippet, at two different flexbox widths.
		</div>
	</div>

<h3 id="placement">
Module interactions</h3>

	<p>This module extends the definition of the 'display' property.

<h3 id="values">
Values</h3>

	<p>This specification follows the <a href="http://www.w3.org/TR/CSS21/about.html#property-defs">CSS property definition conventions</a> from [[!CSS21]]. Value types not defined in this specification are defined in CSS Level 2 Revision 1 [[!CSS21]]. Other CSS modules may expand the definitions of these value types: for example [[CSS3VALUES]], when combined with this module, expands the definition of the &lt;length&gt; value type as used in this specification.

	<p>In addition to the property-specific values listed in their definitions, all properties defined in this specification also accept the <a href="http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit">''inherit''</a> keyword as their property value. For readability it has not been repeated explicitly.

<h2 id='box-model'>
The Flexbox Box Model</h2>

	<p>An element with ''display:flexbox'' or ''display:inline-flexbox'' is a <dfn>flexbox</dfn>.  Children of a flexbox are called <i>flexbox items</i> and are laid out using the flexbox box model.

	<p>Unlike block layout, which is normally biased towards laying things out vertically, and inline layout, which is normally biased toward laying things out horizontally, the flexbox layout algorithm is agnostic as to the direction the flexbox happens to be laid out in.  To make it easier to talk about flexbox layout in a general way, we will define several direction-agnostic terms here to make the rest of the spec easier to read and understand.

	<div class='figure'>
		<img src='images/flex-direction-terms.svg' width=510 height=300 alt>
		<p class='caption'>An illustration of the various directions and sizing terms used in this specification, respectively for ''row'' and ''column'' flexboxes.
	</div>

	<p>
		The <dfn>main axis</dfn> of a flexbox is the axis along which <i>flexbox items</i> are laid out.  
		The <i>flexbox items</i> are ordered 
		such that they start on the <dfn>main-start</dfn> side of the flexbox, 
		and go toward the <dfn>main-end</dfn> side.  
		A <i>flexbox item's</i> width or height, 
		whichever is in the <i>main dimension</i>, 
		is the item's <dfn>main size</dfn>.  
		The <i>flexbox item's</i> <dfn>main size property</dfn> is 
		either the 'width' or 'height' property, 
		whichever is in the <i>main dimension</i>.

	<p>
		The axis perpendicular to the <i>main axis</i> is called the <dfn>cross axis</dfn>, 
		and similarly has <dfn>cross-start</dfn> and <dfn>cross-end</dfn> directions and sides defined.  
		The width or height of a <i>flexbox item</i>, 
		whichever is in the <i>cross dimension</i>, 
		is the item's <dfn>cross size</dfn>, 
		and similarly the <dfn>cross size property</dfn> is 
		whichever of 'width' or 'height' that is in the <i>cross dimension</i>.

	<p>
		The contents of a flexbox can be easily and powerfully manipulated with a handful of properties.  
		Most significantly, 
		<i>flexbox items</i> can "flex" their <i>main size</i> by using the 'flex' property.  
		This "flexing" allows the items to get bigger or smaller based on the available space in the page.  
		If there is leftover space in the flexbox after all of the <i>flexbox items</i> have finished flexing, 
		the items can be aligned, centered, or distributed with the 'flex-pack' property.  
		<i>Flexbox items</i> can also be completely rearranged within the flexbox with the 'flex-order' property.

	<p>
		In the <i>cross axis</i>, 
		<i>flexbox items</i> can either "stretch" to fill the available space 
		or be aligned within the space with the 'flex-align' property.  
		If a flexbox is <i>multi-line</i>, 
		new lines are added in the <i>cross-end</i> direction, 
		and can similarly be aligned, centered, or distributed 
		within the flexbox with the 'flex-line-pack' property.


<h2 id='display-flexbox'>
Flexboxes: the ''flexbox'' and ''inline-flexbox'' 'display' values</h2>

	<table class="propdef">
		<tr>
			<th>Name:
			<td>display
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">New value</a>:
			<td><dfn id='display-flexbox'>flexbox</dfn> | <dfn id='display-inline-flexbox'>inline-flexbox</dfn>
	</table>

	<p>
		An element whose computed 'display' is either ''flexbox'' or ''inline-flexbox''
		is a flexbox,
		and establishes a new <dfn>flexbox formatting context</dfn> for its contents.  
		This is similar to a block formatting context root: 
		floats do not intrude into the flexbox, 
		and the flexbox's margins do not collapse with the margins of its contents.  
		Additionally, 
		each of the <i>flexbox items</i> establishes a new formatting context for its contents.

	<p>
		The ''flexbox'' value makes the flexbox a block-level element.  
		The ''inline-flexbox'' value makes the flexbox an atomic inline-level element.

	<p>
		Flexboxes are not block containers, 
		and so some properties that were designed with the assumption of block layout don't apply in a flexbox context.  
		In particular:

	<ul>
		<li>
			all of the 'column-*' properties in the Multicol module have no effect on a flexbox.

		<li>
			'float' and 'clear' have no effect on a flexbox item.  
			Using 'float' on an element still causes that element's 'display' property to compute to ''block'', 
			and thus 'float' may affect whether an element becomes a flexbox item
			or is wrapped in one.
			(See <a href="http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo">CSS 2.1 Chapter 9.7</a>.)

		<li>
			'vertical-align' has no effect on the alignment of a flexbox item in the flexbox
	</ul>

	<p>
		If an element's specified value for 'display' is ''inline-flexbox'' 
		and the element is floated or absolutely positioned, 
		the computed value of 'display' is ''flexbox''.
		The table in <a href="http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo">CSS 2.1 Chapter 9.7</a> is thus amended 
		to contain an additional row, 
		with ''inline-flexbox'' in the "Specified Value" column 
		and ''flexbox'' in the "Computed Value" column.

	<p>
		The baseline of a flexbox is:

	<ul>
		<li>
			If any of the <i>flexbox items</i> on the flexbox's first line 
			(after reordering with 'flex-order')
			have a computed value of ''baseline'' for 'flex-item-align', 
			the flexbox's baseline is the baseline of those <i>flexbox items</i>.

		<li>
			Otherwise, if the flexbox has at least one <i>flexbox item</i>,
			and the baseline of its first <i>flexbox item</i>
			(after reordering with 'flex-order')
			is parallel to the flexbox's <i>main-axis</i>,
			the flexbox's baseline is the baseline of its first <i>flexbox item</i>.

		<li>
			Otherwise, the flexbox's baseline is the "after" edge of its content box.
	</ul>

<h2 id='flex-items'>
Flexbox Items</h2>

	<p>
		The flexbox layout algorithm operates on boxes generated by <dfn title="flexbox item|flexbox items|flexbox item's" id="flexbox-item">flexbox items</dfn>.  
		A <i>flexbox item</i> is:

	<ol>
		<li>
			A block-level child of a flexbox element

		<li>
			An atomic inline-level child of a flexbox element

		<li>
			An anonymous block element wrapped around a contiguous run of non-replaced inline child elements.  
			However, if the contents of the anonymous block would be solely an anonymous inline containing only whitespace, 
			the box is not generated, 
			as if it had ''display:none''.
	</ol>

	<p>
		Some values of 'display' trigger the generation of anonymous boxes.  
		For example, a ''table-cell'' child of a block container is fixed up by generating ''table'' and ''table-row'' elements around it.  
		This fixup must occur <em>before</em> a flexbox's contents are checked to see if it's necessary to generate anonymous flexbox items.

	<p class='note'>
		In the future, other kinds of fixup such as ''display:run-in'' or ''display:ruby'' should also run before flexbox fixup.

	<div class="example">
		<p>Examples of flexbox items:
		<pre>
&lt;div style="display:flexbox">

    &lt;!-- flexbox item: block-level child -->
    &lt;div id="item1">block&lt;/div>

    &lt;!-- not a flexbox item, because it's out-of-flow -->
    &lt;!-- however, an anonymous flexbox item is wrapped around
         the placeholder it leaves behind-->
    &lt;div id="not-an-item2" style="position: absolute;">block&lt;/div>
    
    &lt;!-- flexbox item: block-level child -->
    &lt;div id="item3" style="display:table">table&lt;/div>
    
    &lt;!-- flexbox item: anonymous table wrapped around table-cell -->
    &lt;div id="item4" style="display:table-cell">table-cell&lt;/div> 

    &lt;!-- flexbox item: anonymous block box around inline content -->
    anonymous item 5

    &lt;!-- flexbox item: block-level child -->
    &lt;div id="item6">block&lt;/div>

    &lt;!-- flexbox item: anonymous block around inline content -->
    anonymous item 7.1
    &lt;span id="item7.1">
        text 7.2
        &lt;div id="not-an-item7.3">block&lt;/div>
        text 7.4
    &lt;/span>

    &lt;!-- flexbox item: block-level replaced element -->
    &lt;iframe id="item8" style="display:block;">&lt;/iframe>

    &lt;!-- flexbox item: inline-level replaced element -->
    &lt;img id="item9">

    &lt;!-- flexbox item: atomic inline-level element -->
    &lt;button id="item10">button&lt;/button>

    &lt;!-- flexbox item: inline-table -->
    &lt;div id="item11" style="display:inline-table">table&lt;/div>

    &lt;!-- flexbox item: floated inline, which changes to a block -->
    &lt;span id="item12" style="float: left;">span&lt;/span>
&lt;/div></pre>

		<p>
			Notice that block element "not-an-item7.3" is not a separate flexbox item, 
			because it is contained inside an inline element which is being wrapped into an anonymous flexbox item.  
			Similarly, 
			the block element "not-an-item2" is not a flexbox item, 
			because it's absolutely positioned and thus out of flow.
	</div>

	<p>
		The computed value for 'display' for elements that are <i>flexbox items</i> 
		must be determined by applying the table in <a href="http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo">CSS 2.1 Chapter 9.7</a>.

<h3 id='abspos-flexbox-items'>
Absolutely Positioned Flexbox Children</h3>

	<p>
		Absolutely positioned children of a flexbox are not <i>flexbox items</i>, 
		but they leave behind "placeholders" in their normal position in the box tree.  
		These placeholders are anonymous inline boxes with a width and height of ''0px'', 
		and they interact normally with the flexbox layout algorithm.  
		In particular, 
		they'll trigger the creation an anonymous flexbox item wrapper boxes, 
		or join neighboring inline elements in <em>their</em> anonymous flexbox item wrapper boxes.

	<p>
		The "static position" of an absolutely positioned child of a flexbox 
		(the position when the 'top'/'right'/'bottom'/'left' properties are ''auto''), 
		then, 
		is the final position of its corresponding placeholder, after flexbox layout has been performed.

	<p class='note'>
		Note: In most cases, 
		this means that absolutely positioned items will have no effect on flexbox layout, 
		even if they force the generation of an anonymous flexbox item wrapper, 
		because those wrapper items will also collapse to zero size and have no effect.  
		The only exceptions are when the flexbox has ''flex-pack:justify'' or ''flex-pack:distribute'', 
		in which case the anonymous flexbox item will cause there to be two packing spaces where there would otherwise be only one, 
		resulting in a double-size space between two "real" items.


<h2 id='multi-line'>
Multi-line Flexbox</h2>

	<p>
		A flexbox can be either <i>single-line</i> or <i>multi-line</i>, 
		depending on the 'flex-wrap' property.  
		A <dfn>single-line</dfn> flexbox lays out all of its children in a single line, 
		even if that would cause the flexbox to overflow its bounds.  
		A <dfn>multi-line</dfn> flexbox breaks its <i>flexbox items</i> across multiple lines to avoid overflowing, 
		similar to how text is broken onto a new line when it gets too wide to fit on the existing line.  
		Every line contains at least one <i>flexbox item</i>, 
		unless the flexbox itself is completely empty.

	<p>
		When additional lines are created, 
		they are stacked in the flexbox along the <i>cross axis</i>.  
		Once content is broken into lines,
		each line is laid out independently;
		flexible lengths and the 'flex-pack' and 'flex-item-align' properties only consider the items on a single line at a time.  

	<p>
		The <i>main size</i> of a line is the same as the <i>main size</i> of the flexbox's content box.  
		the <i>cross size</i> of a line is the minimum size necessary to contain the <i>flexbox items</i> on the line, 
		after aligment due to 'flex-item-align'.  
		The lines themselves are then aligned within the flexbox with the 'flex-line-pack' property.

	<div class=example>
		<p>
			This example shows four buttons that do not fit horizontally.

		<pre>&lt;style>
#div1 {
	display: flexbox;
	flex-flow: row wrap;
	width: 300px;
}
button {
	flex:80px 1;
}
&lt;style>

&lt;div id="div1">
	&lt;button id="button1">Elephant&lt;/button>
	&lt;button id="button2">Tiger&lt;/button>
	&lt;button id="button3">Antelope&lt;/button>
	&lt;button id="button4">Wildebeest&lt;/button>
&lt;/div></pre>

		<p>
			The buttons are first set to their preferred widths, 
			in this case 80 pixels. 
			This will allow the first three buttons to fit in 240 pixels with 60 pixels left over of remaining space. 
			Because the 'flex-flow' property specifies a multi-line flexbox 
			(due to the ''wrap'' keyword appearing in its value), 
			the flexbox will create an additional line to contain the last button.

		<p>
			Flexibility is applied to each element, 
			separately for each line. 
			The first line has 60 pixels of remaining space 
			and all of the buttons have the same flexibility, 
			so each of the three buttons on that line will receive 20 pixels of extra width, 
			ending up 100px wide. 
			The remaining button is on a line of its own 
			and will stretch to the entire width of the line, or 300 pixels.

		<div style="width:300px; border:medium solid green; overflow: hidden;">
			<button style="width:100px; float: left;">Elephant</button>
			<button style="width:100px; float: left;">Tiger</button>
			<button style="width:100px; float: left;">Antelope</button>
			<button style="width:300px; float: left;">Wildebeest</button>
		</div>

		<p>
			If the box was resized, the buttons may rearrange onto different lines as necessary.
		
		<p>
			If the style rules in the example above were changed to the following:

		<pre>
#div1 {
	display: flexbox;
	flex-flow: row wrap;
	flex-pack: center;
	width: 300px;
}
button {
	flex:80px 1;
	max-width: 90px;
}</pre>

		<p>
			Similar to the previous example, 
			the first three buttons will fit on the first line, 
			and the last button will wrap onto a new line.  
			However, when the buttons attempt to flex they can only grow to 90px each, 
			due to their 'max-width' property.  
			This leaves 30px of free space on the first line 
			and 210px of free space on the second line.  
			Because 'flex-pack' is set to ''center'', 
			the buttons will be centered on each line, 
			with the free space split equally on either side.

		<div style="width:300px; border:medium solid green; text-align:center;">
			<button style="width:90px; float: left; margin-left: 15px;">Elephant</button>
			<button style="width:90px; float: left;">Tiger</button>
			<button style="width:90px; float: left;">Antelope</button>
			<button style="width:90px">Wildebeest</button>
		</div>
	</div>

<h2>
Ordering and Orientation</h2>

	<p>
		The first level of flexbox functionality is the ability to lay out a flexbox's contents in any direction and in any order. 
		This allows an author to trivially achieve effects that would previously have required complex or fragile methods, 
		such as hacks using the 'float' and 'clear' properties.
		This functionality is exposed through the 'flex-direction', 'flex-wrap', and 'flex-order' properties.

<h3 id='flex-direction'>
Flexbox Flow Direction: the 'flex-direction' property</h3>

	<table class=propdef>
		<tr>
			<th>Name:</th>
			<td><dfn>flex-direction</dfn>
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">Value</a>:
			<td>row | row-reverse | column | column-reverse
		<tr>
			<th>Initial:
			<td>row
		<tr>
			<th>Applies To:
			<td>flexboxes
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed Value:
			<td>specified value
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Animatable:
			<td>no
		<tr>
			<th>Canonical Order:
			<td>as specified
	</table>

	<p>
		The 'flex-direction' property specifies how <i>flexbox items</i> are placed in the flexbox, 
		by setting the direction of the flexbox's <i>main axis</i>.  
		This determines the direction that flexbox items are laid out in.

	<dl>
		<dt><dfn id='flex-flow-row'>''row''</dfn>
		<dd>
			The flexbox's <i>main axis</i> has the same orientation as the inline axis of the current <a href="http://www.w3.org/TR/css3-writing-modes/#writing-mode">writing mode</a> 
			(the primary direction that text is laid out in).  
			The <i>main-start</i> and <i>main-end</i> directions are equivalent to the <a href="http://www.w3.org/TR/css3-writing-modes/#start">start</a> and <a href="http://www.w3.org/TR/css3-writing-modes/#end">end</a> directions, respectively, 
			of the current <a href="http://www.w3.org/TR/css3-writing-modes/#writing-mode">writing mode</a>.

		<dt><dfn id='flex-flow-row-reverse'>''row-reverse''</dfn>
		<dd>
			Same as ''row'', 
			except the <i>main-start</i> and <i>main-end</i> directions are swapped.

		<dt><dfn id='flex-flow-column'>''column''</dfn>
		<dd>
			The flexbox's <i>main axis</i> has the same orientation as the block axis of the current <a href="http://www.w3.org/TR/css3-writing-modes/#writing-mode">writing mode</a> 
			(the primary direction that blocks are laid out in).  
			The <i>main-start</i> and <i>main-end</i> directions are equivalent to the <a href="http://www.w3.org/TR/css3-writing-modes/#before">before</a> and <a href="http://www.w3.org/TR/css3-writing-modes/#after">after</a> directions, respectively, 
			of the current <a href="http://www.w3.org/TR/css3-writing-modes/#writing-mode">writing mode</a>.

		<dt><dfn id='flex-flow-column-reverse'>''column-reverse''</dfn>
		<dd>
			Same as ''column'', 
			except the <i>main-start</i> and <i>main-end</i> directions are swapped.
	</dl>

<h3 id='flex-wrap'>
Flexbox Wrapping: the 'flex-wrap' property</h3>

	<table class=propdef>
		<tr>
			<th>Name:</th>
			<td><dfn>flex-wrap</dfn>
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">Value</a>:
			<td>nowrap | wrap | wrap-reverse
		<tr>
			<th>Initial:
			<td>nowrap
		<tr>
			<th>Applies To:
			<td>flexboxes
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed Value:
			<td>specified value
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Animatable:
			<td>no
		<tr>
			<th>Canonical Order:
			<td>as specified
	</table>

	<p>
		The 'flex-wrap' property controls whether the flexbox is <i>single-line</i> or <i>multi-line</i>, 
		and the direction of the <i>cross-axis</i>, 
		which determines the direction new lines are stacked in.

	<dl>
		<dt><dfn id='flex-flow-nowrap'>''nowrap''</dfn>
		<dd>
			The flexbox is <i>single-line</i>.  
			The <i>cross-start</i> direction is equivalent to either 
			the <a href="http://www.w3.org/TR/css3-writing-modes/#start">start</a> 
			or <a href="http://www.w3.org/TR/css3-writing-modes/#before">before</a> 
			direction of the current <a href="http://dev.w3.org/csswg/css3-writing-modes/#writing-mode">writing mode</a>, 
			whichever is in the <i>cross axis</i>, 
			and the <i>cross-end</i> direction is the opposite direction of <i>cross-start</i>.
			

		<dt><dfn id='flex-flow-wrap'>''wrap''</dfn>
		<dd>
			The flexbox is <i>multi-line</i>.  
			The <i>cross-start</i> direction is equivalent to either
			the <a href="http://www.w3.org/TR/css3-writing-modes/#start">start</a> 
			or <a href="http://www.w3.org/TR/css3-writing-modes/#before">before</a> 
			direction of the current <a href="http://dev.w3.org/csswg/css3-writing-modes/#writing-mode">writing mode</a>, 
			whichever is in the <i>cross axis</i>, 
			and the <i>cross-end</i> direction is the opposite direction of <i>cross-start</i>.

		<dt><dfn id='flex-flow-wrap-reverse'>''wrap-reverse''</dfn>
		<dd>
			Same as ''wrap'', 
			except the <i>cross-start</i> and <i>cross-end</i> directions are swapped.
	</dl>

<h3 id='flex-flow'>
Flex Direction and Wrap: the 'flex-flow' shorthand</h3>

	<table class=propdef>
		<tr>
			<th>Name:</th>
			<td><dfn>flex-flow</dfn>
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">Value</a>:
			<td>&lt;&apos;flex-direction&apos;> || &lt;&apos;flex-wrap&apos;>
		<tr>
			<th>Initial:
			<td>see individual properties
		<tr>
			<th>Applies To:
			<td>flexboxes
		<tr>
			<th>Inherited:
			<td>see individual properties
		<tr>
			<th>Computed Value:
			<td>see individual properties
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Animatable:
			<td>no
		<tr>
			<th>Canonical Order:
			<td>as specified
	</table>

	<p>The 'flex-flow' property is a shorthand for setting the 'flex-direction' and 'flex-wrap' properties together.

	<div class="example">
		<p>Some examples of valid flows:

		<table style="margin: 0 auto; vertical-align: middle; border-spacing: 2em 1em;">
			<tr>
				<td><pre>
div { flex-flow: row; }
/* Initial value. Main-axis is 
   inline, no wrap. */</pre>
				<td><img src='images/flex-flow1.svg' width=240 height=80 alt>
			<tr>
				<td><pre>
div { flex-flow: column wrap; }
/* Main-axis is block-direction and lines
   wrap in the inline direction.  For an 
   English page, the main-axis is top-to-bottom
   and lines wrap to the right. */</pre>
				<td><img src='images/flex-flow2.svg' width=170 height=200 alt>
			<tr>
				<td><pre>
div { writing-mode: vertical-rl;
      flex-flow: column wrap-reverse; }
/* Main-axis is block direction (right to 
   left). New lines wrap upwards. */</pre>
				<td><img src='images/flex-flow3.svg' width=200 height=170 alt>
		</table>
	</div>


<h3 id='flex-order'>
Display Order: the 'flex-order' property</h3>

	<p><i>Flexbox items</i> are, by default, displayed and laid out in the same order as they appear in the source document.  The 'flex-order' property may be used to change this ordering.

	<table class=propdef>
		<tr>
			<th>Name:
			<td><dfn>flex-order</dfn>
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">Value</a>:
			<td>&lt;number>
		<tr>
			<th>Initial:
			<td>0
		<tr>
			<th>Applies to:
			<td><i>flexbox items</i></td>
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed value:
			<td>specified value
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Animatable:
			<td>yes
		<tr>
			<th>Canonical Order:
			<td>as specified
	</table>

	<p>The 'flex-order' property assigns <i>flexbox items</i> to ordinal groups.

	<p>Ordinal groups control the order in which <i>flexbox items</i> appear.  A flexbox will lay out its content starting from the lowest numbered ordinal group and going up.  Items with the same ordinal group are laid out in the order they appear in the source document.  'flex-order' has no effect on stacking/layering; elements must still be drawn over/under each other based on document order, 'z-index', and other relevant means.

	<div class='example'>
		<p>The following figure shows a simple tabbed interface, where the tab for the active pane is always in front:

		<div class='figure'><img src="images/flex-order-example.png" alt></div>

		<p>This could be implemented with the following CSS (showing only the flexbox-relevant code):

		<pre>
.tabs {
	display: flexbox;
}
.tabs > .current {
	flex-order: -1; /* Lower than the default of 0 */
}</pre>

	</div>

	<div class='example'>
		<p>Many web pages have a similar shape in the markup, with a header on top, a footer on bottom, and then a content area and one or two additional columns in the middle.  Generally, it's desirable that the content come first in the page's source code, before the additional columns.  However, this makes many common designs, such as simply having the additional columns on the left and the content area on the right, difficult to achieve.  This has been addressed in many ways over the years, often going by the name "Holy Grail Layout" when there are two additional columns.  'flex-order' makes this trivial.  For example, take the following sketch of a page's code and desired layout:

		<div class='code-and-figure'>
			<div><pre>
&lt;!DOCTYPE html>
&lt;header>...&lt;/header>
&lt;div id='main'>
   &lt;article>...&lt;/article>
   &lt;nav>...&lt;/nav>
   &lt;aside>...&lt;/aside>
&lt;/div>
&lt;footer>...&lt;/footer></pre></div>
			<div><img src="images/flex-order-page.svg" width=400 height=360 alt="In this page the header is at the top and the footer at the bottom, but the article is in the center, flanked by the nav on the right and the aside on the left."></div>
		</div>

		<p>This layout can be easily achieved with Flexbox:

		<pre>
#main { display: flexbox; }
#main > article { flex:1;         flex-order: 2; }
#main > nav     { width: 200px;   flex-order: 1; }
#main > aside   { width: 200px;   flex-order: 3; }</pre>
		
		<p>As an added bonus, the columns will all be equal-height by default, and the main content will be as wide as necessary to fill the screen.  Additionally, this can then be combined with media queries to switch to an all-vertical layout on narrow screens:

		<pre>
@media all and (max-width: 600px) {
	/* Too narrow to support three columns */
	#main { flex-flow: column; }
	#main > article, #main > nav, #main > aside {
		/* Return them to document order */
		flex-order: 0; width: auto;
	}
}</pre>

		<p><small>(Further use of multiline flexboxes to achieve even more intelligent wrapping left as an exercise for the reader.)</small>
	</div>


<h2 id='flexibility'>
Flexibility: the 'flex' property</h2>

	<p>The defining aspect of flexbox layout is the ability to make the <i>flexbox items</i> "flex", altering their width or height to fill the available space. This is done by using a 'flex' property. A flexbox distributes free space to its items proportional to their positive flexibility, or shrinks them to prevent overflow proportional to their negative flexibility.

	<table class=propdef>
		<tr>
			<th>Name:
			<td><dfn>flex</dfn>
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">Value</a>:
			<td>none | [ &lt;number>{1,2} || &lt;&apos;width&apos;> ] 
		<tr>
			<th>Initial:
			<td>''none''
		<tr>
			<th>Applies to:
			<td>flexbox items
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed Value:
			<td>Two integers for positive and negative flex, and a preferred size given either as an absolute length or a keyword.
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Animatable:
			<td>yes, as &lt;number> and &lt;length> or &lt;percentage>, but see prose
		<tr>
			<th>Canonical Order:
			<td>as specified
	</table>

	<p>
		The 'flex' property specifies the parameters of a <dfn title="flexible length|flexible lengths|flexible length's">flexible length</dfn>: 
		the <dfn id="positive-flexibility" title="positive flexibility">positive</dfn> 
		and <dfn>negative flexibility</dfn>, 
		and the <dfn>preferred size</dfn>.  
		When the element containing 'flex' is a <i>flexbox item</i>, 
		'flex' is consulted <em>instead of</em> the <i>main size property</i> 
		to determine the <i>main size</i> of the element.  
		If an element is not a <i>flexbox item</i>, 
		'flex' has no effect.

	<p>
		The two <var>&lt;number></var>s represent the flexibility.
		Negative values for either are invalid.
		The first <var>&lt;number></var> sets the <i>positive flexibility</i>,
		and the second <var>&lt;number></var>, if specified, sets the <i>negative flexibility</i>.
		The <i>negative flexibility</i> defaults to ''0'';
		the <i>positive flexibility</i> defaults to ''1''.

	<p>
		The <var>&lt;&apos;width&apos;></var> component sets the preferred size. 
		If omitted, the preferred size defaults to ''0px''. 
		If the <var>&lt;&apos;width&apos;></var> component is ''auto'' on a child of a <i>flexbox</i>, 
		the <i>preferred size</i> is the computed value of the <i>main size property</i>.

	<p>
		If the <var>&lt;&apos;width&apos;></var> is zero, 
		it <strong>must</strong> be specified with a unit
		(like ''0px'')
		or omitted
		to avoid ambiguity; 
		unitless zero will either be interpreted as as one of the flexibilities, 
		or will make the declaration invalid.

	<p>
		The keyword 'none' computes to ''0 0 auto''. 

	<p>
		The 'flex' property is animatable 
		by animating the <i>positive flexibility</i>, <i>negative flexibility</i>, and <i>preferred size</i> independently.

	<p class='issue'>
		Can you animate between zero and non-zero flex?
		It has bad effects right now,
		and should possibly be disallowed until we know how to fix it.

	<div class='example'>
		<p>
			Flexibility allows elements to respond directly to the available space, 
			optionally taking into account size of content:

		<pre>
&lt;!DOCTYPE html>
&lt;style>
	div { display:flexbox; outline:1px solid silver; }
	p { flex:1 auto; margin:1em; background:gold; }
&lt;/style&gt;
&lt;div&gt;
	&lt;p&gt;&quot;flexing&quot;&lt;/p&gt;
	&lt;p&gt;allows the items to get bigger&lt;/p&gt;
	&lt;p&gt;or&lt;/p&gt;
	&lt;p&gt;smaller&lt;/p&gt;
&lt;/div&gt;
</pre>

		<p>
			Here, all four paragraphs have a <i>preferred size</i> equal to the length of their text.  
			The leftover space 
			(after subtracting their preferred sizes and margins from the width of the flexbox) 
			is distributed evenly to the four paragraphs.  
			This shows how elements with the same flexibility may still end up different sizes, 
			if their preferred sizes are different.

		<img src="images/wp7zxxyu.gif" alt="">

	</div> 
	
<h2 id='alignment'>
Alignment</h2>

	<p>
		After a flexbox's contents have finished their flexing 
		and the dimensions of margin boxes of all flexbox items are finalized, 
		they can be aligned along the <i>main axis</i> with 'flex-pack' 
		and the <i>cross axis</i> with 'flex-align' and 'flex-item-align'.  
		These properties make many common types of alignment trivial, 
		including some things that were very difficult in CSS 2.1, 
		like horizontal and vertical centering.


<h3 id='flex-pack'>
Axis Alignment: the 'flex-pack' property</h3>

	<table class=propdef>
		<tr>
			<th>Name:
			<td><dfn>flex-pack</dfn>
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">Value</a>:
			<td>start | end | center | justify | distribute
		<tr>
			<th>Initial:
			<td>start
		<tr>
			<th>Applies to:
			<td>flexboxes
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed Value:
			<td>specified value
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Animatable:
			<td>no
		<tr>
			<th>Canonical Order:
			<td>as specified
	</table>

	<p>
		The 'flex-pack' property aligns <i>flexbox items</i> along the <i>main axis</i> of the current line of the flexbox.  
		This is done <em title=''>after</em> any flexible lengths and any auto margins have been resolved.  
		Typically it helps distribute extra free space leftover when either 
		all the <i>flexbox items</i> on a line are inflexible, 
		or are flexible but have reach their maximum size, 
		but it also exerts some control over the alignment of items when they overflow the line.

	<dl>
		<dt><dfn id='flex-pack-start'>''start''</dfn>
		<dd>
			<i>Flexbox items</i> are packed toward the start of the line.  
			The <i>main-start</i> margin edge of the first <i>flexbox item</i> on the line 
			is placed flush with the <i>main-start</i> edge of the line, 
			and each subsequent <i>flexbox item</i> is placed flush with the preceding item.

		<dt><dfn id='flex-pack-end'>''end''</dfn>
		<dd>
			<i>Flexbox items</i> are packed toward the end of the line.  
			The <i>main-end</i> margin edge of the last <i>flexbox item</i> 
			is placed flush with the <i>main-end</i> edge of the line, 
			and each preceding <i>flexbox item</i> is placed flush with the subsequent item.

		<dt><dfn id='flex-pack-center'>''center''</dfn>
		<dd>
			<i>Flexbox items</i> are packed toward the center of the line.  
			The <i>flexbox items</i> on the line are placed flush with each other 
			and aligned in the center of the line, 
			with equal amounts of empty space between the <i>main-start</i> edge of the line and the first item on the line
			and between the <i>main-end</i> edge of the line and the last item on the line.  
			(If the leftover free-space is negative, 
			the <i>flexbox items</i> will overflow equally in both directions.)

		<dt><dfn id='flex-pack-justify'>''justify''</dfn>
		<dd>
			<i>Flexbox items</i> are evenly distributed in the line.  
			If the leftover free-space is negative 
			or there is only a single <i>flexbox item</i> on the line, 
			this value is identical to ''start''.  
			Otherwise, 
			the <i>main-start</i> margin edge of the first <i>flexbox item</i> on the line 
			is placed flush with the <i>main-start</i> edge of the line,
			the <i>main-end</i> margin edge of the last <i>flexbox item</i> on the line 
			is placed flush with the <i>main-end</i> edge of the line, 
			and the remaining <i>flexbox items</i> on the line are distributed 
			so that the empty space between any two adjacent items is the same.

		<dt><dfn id='flex-pack-distribute'>''distribute''</dfn>
		<dd>
			<i>Flexbox items</i> are evenly distributed in the line, 
			with half-size spaces on either end.  
			If the leftover free-space is negative o
			r there is only a single <i>flexbox item</i> on the line, 
			this value is identical to ''center''.  
			Otherwise, the <i>flexbox items</i> on the line are distributed 
			such that the empty space between any two adjacent <i>flexbox items</i> on the line is the same, 
			and the empty space before the first and after the last <i>flexbox items</i> on the line are half the size of the other empty spaces.
	</dl>

	<div class="figure">
		<img src="images/flex-pack.svg" width=504 height=270 alt>
		<p class='caption'>An illustration of the five 'flex-pack' keywords and their effects on a flexbox with three colored items.
	</div>


<h3 id='flex-align'>
Cross-axis Alignment: the 'flex-align' and 'flex-item-align' properties</h3>

	<table class=propdef>
		<tr>
			<th>Name:
			<td><dfn>flex-align</dfn>
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">Value</a>:
			<td>start | end | center | baseline | stretch
		<tr>
			<th>Initial:
			<td>stretch
		<tr>
			<th>Applies to:
			<td>flexboxes
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed Value:
			<td>specified value
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Animatable:
			<td>no
		<tr>
			<th>Canonical Order:
			<td>as specified
	</table>

	<table class=propdef>
		<tr>
			<th>Name:
			<td><dfn>flex-item-align</dfn>
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">Value</a>:
			<td>auto | start | end | center | baseline | stretch
		<tr>
			<th>Initial:
			<td>auto
		<tr>
			<th>Applies to:
			<td><i>flexbox items</i>
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed Value:
			<td>''auto'' computes to parent's 'flex-align'; otherwise as specified
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Animatable:
			<td>no
		<tr>
			<th>Canonical Order:
			<td>as specified
	</table>

	<p>
		<i>Flexbox items</i> can be aligned in the <i>cross axis</i> of the current line of the flexbox, 
		similar to 'flex-pack' but in the perpendicular direction.  
		'flex-align' sets the default alignment for all of the flexbox's <i title="flexbox items">items</i>, 
		including anonymous <i>flexbox items</i>.  
		'flex-item-align' allows this default alignment to be overridden for individual <i>flexbox items</i> 
		(for anonymous flexbox items, 
		'flex-item-align' always matches the value of 'flex-align' on their associated flexbox).

	<p>
		A value of <dfn id="flex-item-align-auto">''auto''</dfn> for 'flex-item-align' 
		computes to the value of 'flex-align' on the <i>flexbox item's</i> flexbox.  
		The alignments are defined as:

	<dl>
		<dt><dfn id="flex-align-start">''start''</dfn>
		<dd>
			The <i>cross-start</i> margin edge of the <i>flexbox item</i> 
			is placed flush with the <i>cross-start</i> edge of the line.

		<dt><dfn id="flex-align-end">''end''</dfn>
		<dd>
			The <i>cross-end</i> margin edge of the <i>flexbox item</i> 
			is placed flush with the <i>cross-end</i> edge of the line.

		<dt><dfn id="flex-align-center">''center''</dfn>
		<dd>
			The <i>flexbox item's</i> margin box is centered in the <i>cross axis</i> within the line.  
			(If the <i>cross size</i> of the flexbox is less than that of the <i>flexbox item</i>, 
			it will overflow equally in both directions.)

		<dt><dfn id="flex-align-baseline">''baseline''</dfn>
		<dd>
			<p>
				If the <i>flexbox item's</i> inline-axis is the same as the <i>cross-axis</i>, 
				this value is identical to ''start''.

			<p>
				Otherwise, 
				all <i>flexbox items</i> on the line with an alignment of ''baseline'' 
				that don't run afoul of the previous paragraph 
				are aligned such that their baselines align, 
				and the item with the largest distance between its baseline and its <i>cross-start</i> margin edge 
				is placed flush against the <i>cross-start</i> edge of the line.
		
			  
		<dt><dfn id="flex-align-stretch">''stretch''</dfn>
		<dd>
			<p>
				If the <i>cross size property</i> of the <i>flexbox item</i> is ''auto'', 
				it resolves to the length necessary to make the <i>cross size</i> of the item's margin box the same size as the line, 
				while still respecting 'min/max-width/height' constraints as normal.

			<p>
				The <i>cross-start</i> margin edge of the <i>flexbox item</i> 
				is placed flush with the <i>cross-start</i> edge of the line.
		
	</dl>

	<div class='figure'>
		<img src="images/flex-align.svg" width=508 height=377 alt>
		<p class='caption'>An illustration of the five 'flex-align' keywords and their effects on a flexbox with four colored items.
	</div>

	<div class=example>   
		<p>By using a vertical flexbox and 'flex-align', we can achieve behavior very close to HTML's <code>&lt;center></code> element:
		
		<div class='code-and-figure'>
			<div><pre>
&lt;div>
  &lt;p>foo foo foo foo&lt;/p>
  &lt;p>bar bar&lt;br>bar bar&lt;/p>
  &lt;p>foo foo foo foo foo foo foo
     foo foo foo foo foo&lt;/p>
&lt;/div>
&lt;style>
  div {
    display: flexbox;
    flex-flow: column;
    flex-align: center;
    width: 200px;
  }
&lt;/style></pre></div>
			<div><p><img alt="" src="images/basic-vertical-flexbox.png"></div>
		</div>
	</div>


<h3 id='auto-margins'>
Resolving ''auto'' margins</h3>

	<p>Margins on flexbox items can be set to ''auto'', with effect very similar to auto margins in normal flow.

	<ul>
		<li>Through calculations of preferred sizes and flexible lengths, auto margins are considered to be zero.

		<li>Immediately <em>before</em> pack and align steps, if there are any auto margins on items in the direction of alignment and there is positive free space, the free space is distributed equally to the auto margins. 

		<li>If free space was distributed to auto margins, the following pack or align step has no effect.
	</ul>

	<div class="example">
		<p>Auto margins can be used for simple alignment or for fine control.

		<p>Note that auto margins work consistently in both dimensions, so a simple markup like this

		<pre>
div { 	display:flexbox;
	width:4em; height:4em; background:silver;
}
p { margin:auto; }
&lt;div&gt;&lt;p&gt;OK&lt;/p&gt;&lt;/div&gt;</pre>

		<p>will center the single child:
	
		<img alt="image of square OK button" height="82" src="images/OK.png" width="82">
		
		<p>And this

		<pre>
div {	display:flexbox;
	width:calc(100% - 4em); height:calc(100% - 4em);
	border: 1em solid blue; border-radius:50%;
	margin:auto;
}
div#demo { width:9em; height:9em; }

&lt;div id="demo">&lt;div>&lt;div>&lt;/div>&lt;/div>&lt;/div></pre>

		<p>
			will produce nested centered boxes:
			<img alt="concentric blue circles" height="191" src="images/target.png" width="210">
	</div>

<h3 id='flex-line-pack'>
'flex-line-pack' property</h3>

	<table class=propdef>
		<tr>
			<th>Name:
			<td><dfn>flex-line-pack</dfn>
		<tr>
			<th><a href="http://dev.w3.org/csswg/css-module/#values">Value</a>:
			<td>start | end | center | justify | distribute | stretch
		<tr>
			<th>Initial:
			<td>stretch
		<tr>
			<th>Applies to:
			<td><i>multi-line</i> flexboxes
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed Value:
			<td>specified value
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Animatable:
			<td>no
		<tr>
			<th>Canonical Order:
			<td>as specified
	</table>

	<p>The 'flex-line-pack' property aligns a flexbox's lines within the flexbox when there is extra space in the <i>cross-axis</i>, similar to how 'flex-pack' aligns individual items within the <i>main-axis</i>:

	<dl>
		<dt><dfn id='flex-line-pack-start'>''start''</dfn>
		<dd>Lines are packed toward the start of the flexbox.  The <i>cross-start</i> edge of the first line in the flexbox is placed flush with the <i>cross-start</i> edge of the flexbox, and each subsequent line is placed flush with the preceding line.

		<dt><dfn id='flex-line-pack-end'>''end''</dfn>
		<dd>Lines are packed toward the end of the flexbox.  The <i>cross-end</i> edge of the last line is placed flush with the <i>cross-end</i> edge of the flexbox, and each preceding line is placed flush with the subsequent line.

		<dt><dfn id='flex-line-pack-center'>''center''</dfn>
		<dd>Lines are packed toward the center of the flexbox.  The lines in the flexbox are placed flush with each other and aligned in the center of the flexbox, with equal amounts of empty space between the <i>cross-start</i> content edge of the flexbox and the first line in the flexbox and between the <i>cross-end</i> content edge of the flexbox and the last line in the flexbox.  (If the leftover free-space is negative, the lines will overflow equally in both directions.)

		<dt><dfn id='flex-line-pack-justify'>''justify''</dfn>
		<dd>Lines are evenly distributed in the flexbox.  If the leftover free-space is negative or there is only a single line in the flexbox, this value is identical to ''start''.  Otherwise, the <i>cross-start</i> edge of the first line in the flexbox is placed flush with the <i>cross-start</i> content edge of the flexbox, the <i>cross-end</i> edge of the last line in the flexbox is placed flush with the <i>cross-end</i> content edge of the flexbox, and the remaining lines in the flexbox are distributed so that the empty space between any two adjacent lines is the same.

		<dt><dfn id='flex-line-pack-distribute'>''distribute''</dfn>
		<dd>Lines are evenly distributed in the flexbox, with half-size spaces on either end.  If the leftover free-space is negative or there is only a single line in the flexbox, this value is identical to ''center''.  Otherwise, the lines in the flexbox are distributed such that the empty space between any two adjacent lines is the same, and the empty space before the first and after the last lines in the flexbox are half the size of the other empty spaces.

		<dt><dfn id='flex-line-pack-stretch'>''stretch''</dfn>
		<dd>Lines stretch to take up the remaining space.  If the leftover free-space is negative, this value is identical to ''start''.  Otherwise, the free-space is split equally between all of the lines, increasing their cross size.
	</dl>

	<p class='note'>Note: Only <i>multi-line</i> flexboxes ever have free space in the <i>cross-axis</i> for lines to be aligned in, because in a <i>single-line</i> flexbox the sole line automatically stretches to fill the space.

	<div class="figure">
		<img src="images/flex-line-pack-example.png" width=585 height=514 alt>
		<p class='caption'>An illustration of the 'flex-line-pack' keywords and their effects on a multi-line flexbox.
	</div>


<h2 id='layout-algorithm'>
Flexbox Layout Algorithm</h2>

	<p>This section contains normative algorithms detailing the exact layout behavior of a flexbox and its contents.  The algorithms here were designed to optimize readability and theoretical simplicity, and may not necessarily be the most efficient.  Implementations may use whatever actual algorithms they wish, but must produce the same results as the algorithms described here.

	<p class='note'>
		This section is mainly intended for implementors.  
		Authors writing web pages should generally be served well by the individual property descriptions, 
		and do not need to read this section unless they have a deep-seated urge to understand arcane details of CSS layout.

	<!--
<dfn>min size</dfn>
* each layout mode defines this for both dimensions:
	* for inline:
		* min-measure is largest word length or size of atomic inline in the inline-axis
		* min-extent is the extent after layout
	* for block containers:
		* min-measure is largest min size contribution of its children boxes
		* min-extent is the extent after layout
	* for tables:
		* ?
	* min-extent is always the extent after layout

<dfn>min-size contribution</dfn>
* each layout mode defines this for both dimensions:
	* for inline:
		* min-measure is largest word length or size of atomic inline in the inline-axis + margin/border/padding (attached to first/last words)
	* for block containers:
		* if measure is ''min-content'' or ''max-content'' or definite size, that value.
		* Otherwise, your min measure + margin/border/padding
	* for tables:
		* ?
	* min-extent is always the extent after layout

<dfn>max size</dfn>
* each layout mode defines this for both dimensions:
	* for inline:
		* max-measure is the largest line length when only forced breaks are taken
	* for block containers
		* max-measure is the largest max size contribution of its children boxes
	* for tables
		* ?
	* max-extent is always the extent after layout

<dfn>max-size contribution</dfn>
* each layout mode defines this for both dimensions:
	* for inline:
		* max-measure is largest line length when only forced breaks are taken + margin/border/padding (attached to first/last words)
	* for block containers:
		* if measure is ''min-content'' or ''max-content'' or definite size, that value.
		* Otherwise, your max measure + margin/border/padding
	* for tables:
		* ?
	* min-extent is always the extent after layout
	-->

	<p>
		A size is <dfn title="definite|indefinite">definite</dfn> if it is a <var>&lt;length></var>, 
		or it is a <var>&lt;percentage></var> that is resolved against a definite size.

	<p>
		To lay out a flexbox and its contents, follow these steps:

	<ol>
		<li value=0>
			<strong>Generate anonymous flexbox items</strong> around runs of contiguous inline content in the flexbox, 
			as described in the <a href="#flex-items">Flexbox Items</a> section.

		<li>
			<strong>Re-order the flexbox items according to their 'flex-order'.</strong>
			The items with the lowest (most negative) 'flex-order' values are first in the ordering.  
			If multiple items share a 'flex-order' value, 
			they're ordered by document order.  
			This affects the order in which the flexbox items generate boxes in the box-tree, 
			and how the rest of this algorithm deals with the items.

		<li>
			<strong>Determine the available main and cross space for the flexbox items.</strong>
			For each dimension,
			if that dimension of the flexbox is a <i>definite size</i>, use that;
			otherwise, subtract the flexbox's margin, border, and padding
			from the space available to the flexbox in that dimension
			and use that value.
			<span class='note'>This might result in an infinite value.</span>

		<li>
			<strong>Determine the hypothetical main size of each item:</strong>

			<ul>
				<li>
					If the item has a <i>definite</i> preferred size,
					that's the hypothetical size.

				<li>
					Otherwise,
					if the flexbox's main-axis is parallel to the item's inline-axis,
					lay out the item using its preferred size
					and the available space,
					treating ''auto'' as ''fit-content''
					unless the item's writing mode is perpendicular to the flexbox's writing mode
					(in which case <a href="http://www.w3.org/TR/css3-writing-modes/#orthogonal-flows">the rules for a box in an orthogonal flow</a> [[!CSS3-WRITING-MODES]] are in effect).
					If the preferred size is ''fill-available'', or ''fit-content'',
					and the flexbox is being sized under a min-content or max-content main-size constraint,
					size the item under that constraint instead.
					The hypothetical size is the item's resulting measure.

				<li>
					Otherwise,
					lay out the item
					using the available space,
					treating ''auto'' as ''fit-content'' 
					unless the item's writing mode is perpendicular to the flexbox's writing mode
					(in which case <a href="http://www.w3.org/TR/css3-writing-modes/#orthogonal-flows">the rules for a box in an orthogonal flow</a> [[!CSS3-WRITING-MODES]] are in effect).
					If the preferred size is ''auto'', ''fill-available'', or ''fit-content'',
					and the flexbox is being sized under a min-content or max-content cross-size constraint,
					size the item under that constraint instead.
					The hypothetical size is the item's resulting max-content extent.
			</ul>
			
			<p>
				<em>Do not apply min/max-width/height constraints to the preferred size of flexible lengths &mdash; 
				those constraints are handled elsewhere in this algorithm, and doing so will produce incorrect results.</em>

		<li>
			<strong>Determine the main size of the flexbox</strong> using its <i>main size property</i>.
			In this calculation, the <i>min content main size</i> of the flexbox
			is the maximum of the flexbox's items' <i>min-content size contributions</i>,
			and the <i>max content main size</i> of the flexbox
			is the sum of the flexbox's items' <i>max-content size contributions</i>.
			For these computations, ''auto'' margins are treated as ''0'',
			and for flexbox items the preferred size is used in place of the <i>main size property</i>.

		<li>
			<strong>Collect flexbox items into flexbox lines:</strong>

			<ul>
				<li>
					If the flexbox is single-line, 
					collect all the flexbox items into a single flexbox line.

				<li>
					Otherwise,
					starting from the first uncollected item, 
					collect as many consecutive flexbox items as will fit 
					(but collect at least one) 
					into the flexbox's inner main size into a flexbox line.
					For this step,
					the size of a flexbox item is its hypothetical outer main size, 
					clamped according to its min and max main size properties.
					Repeat until all flexbox items have been collected into flexbox lines.
			</ul>

		<li>
			<p class='issue'>
				Are flexboxes fill-available or fit-content by default?  
				Or are they really shrink-wrap, such that we need to adjust the main size here, now that we know the length of the longest line?

		<li>
			<strong><a href='#resolve-flexible-lengths'>Resolve the flexible lengths</a></strong> of all the flexbox items to find their used main size,
			and <strong>determine their hypothetical cross size</strong> from this main size.

		<li>
			<strong>Distribute any remaining free space.</strong>
			For each flexbox line:

			<ol>
				<li>
					If the remaining free space is positive 
					and at least one main-axis margin on this line is ''auto'',
					distribute the free space equally among these margins.
					Otherwise, set all ''auto'' margins to zero.

				<li>
					Align the items along the main-axis per 'flex-pack'.
			</ol>

		<li>
			<strong>Calculate the cross size of each flexbox line.</strong>
			For each flexbox line:

			<ol>
				<li>
					Collect all the flexbox items whose inline-axis is parallel to the main-axis
					and whose 'flex-item-align' is ''baseline''.
					Find the largest of the distances between each item's baseline and its hypothetical outer cross-start edge,
					and the largest of the distances between each item's baseline and its hypothetical outer cross-end edge,
					and sum these two values.

				<li>
					Among all the items not collected by the previous step,
					find the largest hypothetical outer cross-size.

				<li>
					The cross-size of the flexbox line is the larger of the numbers found in the previous two steps.
			</ol>

			<p>
				If the flexbox has a <i>definite</i> cross size,
				'flex-line-pack' is ''stretch'',
				and the sum of the flexbox lines' cross sizes is less than the flexbox's inner cross size,
				increase the cross size of each flexbox line by equal amounts
				such that the sum of their cross sizes exactly equals the flexbox's inner cross size.

		<li>
			<strong>Resolve cross-axis ''auto'' margins.</strong>
			If a flexbox item has ''auto'' cross-axis margins,
			and its outer cross size
			(treating those ''auto'' margins as zero)
			is less than the cross size of its flexbox line,
			distribute the difference in those sizes equally
			to the ''auto'' margins.

		<li>
			<strong>Determine the used cross size of each flexbox item.</strong>
			If a flexbox item has ''flex-item-align: stretch''
			and its cross size property is ''auto'',
			the used outer cross size is the cross size of its flexbox line,
			clamped according to its min and max cross size properties.
			Otherwise,
			the used cross size is the item's hypothetical cross size.

		<li>
			<strong>Align all flexbox items along the cross-axis</strong> per 'flex-item-align'.

		<li>
			<strong>Determine the flexbox's used cross size:</strong>

			<ul>
				<li>
					If the cross size property is a <i>definite</i> size,
					use that.

				<li>
					Otherwise,
					use the sum of the flexbox lines' cross sizes.
			</ul>

		<li>
			<strong>Align all flexbox lines</strong> per 'flex-line-pack'.
	</ol>

<h3 id='resolve-flexible-lengths'>
Resolving Flexible Lengths</h3>

	<p>
		To resolve the flexible lengths of the items within a flexbox line:

	<ol>	
		<li>
			<strong>Determine the used flexibility.</strong>
			Sum the hypothetical outer main sizes of all items on the line,
			clamped according to their min and max main size properties.
			If the sum is greater than the flexbox's inner main size,
			use positive flexibility for the rest of this algorithm;
			otherwise, use negative flexibility.

		<li>
			<strong>Check that you can distribute any space.</strong>
			If all the flexbox items on the line are either frozen
			or have a flexibility of zero,
			exit the algorithm.

		<li>
			<strong>Calculate free space.</strong>
			Sum the hypothetical outer main sizes of all items on the line
			(not clamping this time),
			and subtract this from the flexbox's inner main size.
			This is the free space.

		<li>
			<strong>Distribute free space proportional to flexibility.</strong>
			If the sign of the free space matches the sign of the flexibility,
			distribute the free space to each flexible item's main size 
			in proportion to the item's flexibility.

		<li>
			<strong>Fix min/max violations.</strong>
			Clamp each item's main size by its min and max main size properties.
			If the item's main size was made smaller by this, it's a max violation.
			If the item's main size was made larger by this, it's a min violation.

		<li>
			The total violation is the sum of the adjustments from the previous step
			(<code><var>clamped size</var> - <var>unclamped size</var></code>).
			If the total violation is:
			
			<dl>
				<dt>Zero
				<dd>
					Exit the algorithm.

				<dt>Positive
				<dd>
					Freeze all the items with min violations,
					reset all other items to their size upon entering this algorithm,
					and return to step 2 of this algorithm.

				<dt>Negative
				<dd>
					Freeze all the items with max violations,
					reset all other items to their size upon entering this algorithm,
					and return to step 2 of this algorithm.
			</dl>
	</ol>
	
<h2 id="pagination">
Page breaks in flexbox</h2>

	<p>Flexboxes can break across pages between items, between lines of items (in multi-line mode) and inside items, as long as 'break-' property allow that. All 'break-' properties are supported on flexbox, on flexbox items and inside flexbox items.

	<p>The following breaking rules refer to fragmentation container as “page”. The same rules apply to any other fragmenters. Change “page” to the appropriate fragmenter type as needed.

	<p>Breaks in and around flexbox are determined as follows:

	<ol>
		<li> Break-before, break-after, break-inside properties on flexbox itself have effect as normal. If breaks inside flexbox are allowed, break points are determined using following rules.

		<li>When flexbox is continued after a break, flexbox’s available space in block direction is reduced by space consumed in previous pages. Consumed space before page break is:

			<ol>
				<li>If flexbox starts on that page: the distance between start of content box of the flexbox and the end of available space

				<li>If flexbox continues from previous page: the size of available space.
			</ol>

			<p>If as a result of this adjustment block-direction size of flexbox becomes negative, it is set to zero.
		
	
		<li>
			<dfn>Forced breaks on flexbox items</dfn>
			
			<ol>
				<li>In a row-direction single-line flexbox, breaks before and after items apply to the flexbox

				<li>In column-direction single-line flexbox and all multi-line flexboxes:
				
					<ol>
						<li>Forced break before the first item is applied to the flexbox
						
						<li>Forced break after the last item is applied to the flexbox
						
						<li>Forced break before or after any other item terminates the set of items to be laid out on this page
					</ol>
				
			</ol>
			
		
		
		<li>When necessary, a <dfn>break inside a flexbox item is considered</dfn> as follows:

			<ol>
				<li>If the item has “break-inside:avoid”, it is pushed to the next page

				<li>Otherwise, it may be broken, according to breaking rules and algorithms applicable to its display type. 

				<li>Forced breaks inside flexbox item content are handled normally, but in row-direction flexbox they don't affect layout of sibling 
				flexbox items (e.g. a forced break inside an item doesn't prevent its next sibling from appearing on the same page)
			</ol>
		

		<li>
			<b>Column-direction flexbox: single-line</b>

			<ol>
				<li>
					<p>If flexbox main-axis size is definite, flexbox algorithm must be run first, without constraints of available space on page and using all content of the flexbox. Otherwise 
					flexbox items use the preferred size, adjusted for min/max.

					<p>If page size varies and flexbox size depends on page size, this step has to be repeated on each page, again with the whole content of the flexbox.
				

				<li>Set of items that will fit on current page is determined by adding main-axis 
				margin-box sizes of flexbox items until total size exceeds 
				available space or a forced break is encountered.

				<li>If border box of an item doesn’t fit in available space, a break inside the item is considered

				<li>
					<p>Items that fit on a page completely or partially are aligned according to ‘flex-pack’ property, independently from the rest of flexbox content.

					<p>Note that flexible lengths are not recalculated on each page, even if there is additional free space.
				
			</ol>

			<p class="note">It is the intent of this spec that column-direction single-line flexbox paginates very 
			similarly to block flow. As a test of the intent, a flexbox with "flex-pack:start" and no flexible items should paginate identically to a block with non-floating children with same content, same used size and same used margins. This rule is simplified and not normative, but if there is any difference it should be noted here.
		

		<li>
			<b>Column-direction flexbox: multi-line</b>

			<ol>
				<li>Items are collected in lines and laid out as usual, but in available space on current page.

				<li>If border box of an item doesn’t fit on main-axis and it is 
				the only item in its line:
					<ol>
						<li>If the flexbox is not at the top of the page, it is moved to the next page.

						<li>If the flexbox is already at the top of the page, the item may produce overflow. If 'overflow' property of the flexbox is set to 'visible', it is paginated using same rules as visible overflow of blocks in normal flow.

							<p class="note">After the break, continuation of overflow items may overlap with other items and/or content after the flexbox. It is undesirable but there is no good resolution for this spacial conflict and this outcome is similar to effect of "overflow:visible" elsewhere.
						
					</ol>
				
				
				<li>Breaks inside items (forced or unforced) are not allowed
			</ol>
		

		<li>
			<b>Row-direction flexbox: single-line</b>

			<ol>
				<li>
					<p>Main-axis space distribution in each line is done based on complete content of the flexbox and without space constraint in block direction.

					<p>If page size varies and flexbox size depends on page size, this step needs to be repeated on each page.
				

				<li>Flexbox items are sized and positioned as usual, but in block-direction available space of min(remaining available space in flexbox, remaining space on the page).

				<li>Any items with baseline alignment must be aligned before considering breaks inside items.

				<li>If border box of an item doesn’t fit in current page, a break inside the item is considered

				<li>Items that have fit completely on a previous page and items that are pushed to next page don’t have any rendering, leaving empty space as needed.

				<li>Items that fit completely or partially on current page are aligned on cross-axis:
		
					<ol>
						<li>For the purposes of cross-axis alignment, minimum of remaining available space in flexbox and available space at current page is used.

						<li>If an item is broken in the previous step and its alignment is not baseline, its cross-axis 
						margin-box size is set to available space. If item alignment is baseline, its cross-axis size is adjusted so that it extends to exactly the end of available space.
					</ol>
				
			</ol>
		

		<li>
			<b>Row-direction flexbox: multi-line</b>

			<ol>
				<li>Collect items into lines and determine line heights:
					
					<ol>
						<li>
							<p>If 'flex-line-pack' is 'stretch' and flexbox size in block direction is definite, layout of the complete flexbox has to be done first to determine line heights. Layout is done as usual for non-paginated case, but accounting for forced breaks.
			
							<p>If page size varies, this step may have to be redone, again with complete content; special consideration should be to be given to line breaks to ensure that item at the start of current page is also at the start of a line in this hypothetical layout. This specification currently doesn't define how exactly to achieve that.
						

						<li>Otherwise, items are collected into lines and each line is laid out as a single-line flexbox to determine block-direction size of each line.
					</ol>
					

				<li>Lines are added one at a time, until out of available space or a forced break is encountered

				<li>Breaks inside items (forced or unforced) are not allowed.
				<li>If the first flexbox line on a page doesn't fit in 
				cross-axis,
				<ol>
					<li>If the flexbox is not at the top of the page, it is moved to the next page.
					<li>If the flexbox is already at the top of the page, the item may produce overflow. If 'overflow' property of the flexbox is set to 'visible', it is paginated using same rules as visible overflow of blocks in normal flow.
				</ol>
				

				<li>If size of flexbox in inline direction is not definite, multi-line layout algorithm is run using the set of items 
				that have fit on the current page.

				<li>Line packing is done on each page, with content on the page
			</ol>
		
	</ol>

<h2 id="cssom">CSSOM</h2>

<div class="issue">
    <p>'Flex' property is currently defined as shorthand only, combining three 
	values. When queried&nbsp; from OM, it is seen as a string with up to three 
	values, which can be very complicated to deal with properly.

	<p>There should be separate properties to access flexibility components in OM, such as:

<pre class="idl">
[Supplemental] interface "<a href="http://www.w3.org/TR/cssom/#cssstyledeclaration">CSSStyleDeclaration</a> {
	attribute DOMString? flexPositive;
	attribute DOMString? flexNegative;
	attribute DOMString? flexPreferredSize;
};               
</pre>
    
    See <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16145">Bug-16145</a>
</div>

<h2 id="conformance">
Conformance</h2>

<h3 id="conventions">
Document conventions</h3>

  <p>Conformance requirements are expressed with a combination of
  descriptive assertions and RFC 2119 terminology. The key words “MUST”,
  “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
  “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
  document are to be interpreted as described in RFC 2119.
  However, for readability, these words do not appear in all uppercase
  letters in this specification.
  
  <p>All of the text of this specification is normative except sections
  explicitly marked as non-normative, examples, and notes. [[!RFC2119]]
  
  <p>Examples in this specification are introduced with the words “for example”
  or are set apart from the normative text with <code>class="example"</code>,
  like this:
  
  <div class="example">
    <p>This is an example of an informative example.
  </div>
  
  <p>Informative notes begin with the word “Note” and are set apart from the
  normative text with <code>class="note"</code>, like this:
  
  <p class="note">Note, this is an informative note.

<h3 id="conformance-classes">
Conformance classes</h3>

  <p>Conformance to CSS Flexbox Layout Module
  is defined for three conformance classes:
  <dl>
    <dt><dfn title="style sheet!!as conformance class">style sheet</dfn>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
      style sheet</a>.
    <dt><dfn>renderer</dfn>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
      that interprets the semantics of a style sheet and renders
      documents that use them.
    <dt><dfn id="authoring-tool">authoring tool</dfn>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
      that writes a style sheet.
  </dl>
  
  <p>A style sheet is conformant to CSS Flexbox Layout Module
  if all of its statements that use syntax defined in this module are valid
  according to the generic CSS grammar and the individual grammars of each
  feature defined in this module.
  
  <p>A renderer is conformant to CSS Flexbox Layout Module
  if, in addition to interpreting the style sheet as defined by the
  appropriate specifications, it supports all the features defined
  by CSS Flexbox Layout Module by parsing them correctly
  and rendering the document accordingly. However, the inability of a
  UA to correctly render a document due to limitations of the device
  does not make the UA non-conformant. (For example, a UA is not
  required to render color on a monochrome monitor.)
  
  <p>An authoring tool is conformant to CSS Flexbox Layout Module
  if it writes style sheets that are syntactically correct according to the
  generic CSS grammar and the individual grammars of each feature in
  this module, and meet all other conformance requirements of style sheets
  as described in this module.

<h3 id="partial">
Partial implementations</h3>

  <p>So that authors can exploit the forward-compatible parsing rules to
  assign fallback values, CSS renderers <strong>must</strong>
  treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
  as appropriate</a>) any at-rules, properties, property values, keywords,
  and other syntactic constructs for which they have no usable level of
  support. In particular, user agents <strong>must not</strong> selectively
  ignore unsupported component values and honor supported values in a single
  multi-value property declaration: if any value is considered invalid
  (as unsupported values must be), CSS requires that the entire declaration
  be ignored.
  
<h3 id="experimental">
Experimental implementations</h3>

  <p>To avoid clashes with future CSS features, the CSS2.1 specification
  reserves a <a href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
  syntax</a> for proprietary and experimental extensions to CSS.
  
  <p>Prior to a specification reaching the Candidate Recommendation stage
  in the W3C process, all implementations of a CSS feature are considered
  experimental. The CSS Working Group recommends that implementations
  use a vendor-prefixed syntax for such features, including those in
  W3C Working Drafts. This avoids incompatibilities with future changes
  in the draft.
  
 
<h3 id="testing">
Non-experimental implementations</h3>

  <p>Once a specification reaches the Candidate Recommendation stage,
  non-experimental implementations are possible, and implementers should
  release an unprefixed implementation of any CR-level feature they
  can demonstrate to be correctly implemented according to spec.
  
  <p>To establish and maintain the interoperability of CSS across
  implementations, the CSS Working Group requests that non-experimental
  CSS renderers submit an implementation report (and, if necessary, the
  testcases used for that implementation report) to the W3C before
  releasing an unprefixed implementation of any CSS features. Testcases
  submitted to W3C are subject to review and correction by the CSS
  Working Group.
  
  <p>Further information on submitting testcases and implementation reports
  can be found from on the CSS Working Group's website at
  <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
  Questions should be directed to the
  <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
  mailing list.

<h3 id="cr-exit-criteria">
CR exit criteria</h3>

  <p>
  For this specification to be advanced to Proposed Recommendation,
  there must be at least two independent, interoperable implementations
  of each feature. Each feature may be implemented by a different set of
  products, there is no requirement that all features be implemented by
  a single product. For the purposes of this criterion, we define the
  following terms:
  
  <dl>
    <dt>independent <dd>each implementation must be developed by a
    different party and cannot share, reuse, or derive from code
    used by another qualifying implementation. Sections of code that
    have no bearing on the implementation of this specification are
    exempt from this requirement.
  
    <dt>interoperable <dd>passing the respective test case(s) in the
    official CSS test suite, or, if the implementation is not a Web
    browser, an equivalent test. Every relevant test in the test
    suite should have an equivalent test created if such a user
    agent (UA) is to be used to claim interoperability. In addition
    if such a UA is to be used to claim interoperability, then there
    must one or more additional UAs which can also pass those
    equivalent tests in the same way for the purpose of
    interoperability. The equivalent tests must be made publicly
    available for the purposes of peer review.
  
    <dt>implementation <dd>a user agent which:
  
    <ol class=inline>
      <li>implements the specification.
  
      <li>is available to the general public. The implementation may
      be a shipping product or other publicly available version
      (i.e., beta version, preview release, or “nightly build”). 
      Non-shipping product releases must have implemented the
      feature(s) for a period of at least one month in order to
      demonstrate stability.
  
      <li>is not experimental (i.e., a version specifically designed
      to pass the test suite and is not intended for normal usage
      going forward).
    </ol>
  </dl>
  
  <p>The specification will remain Candidate Recommendation for at least
  six months.


<hr title="Separator from footer">

<h2 class="no-num" id="acknowledgments">Acknowledgments</h2>

	<p>Thanks for feedback and contributions to 	
	
Andrew Fedoniouk,
Arron Eicholz, 
James Elmore,
Ben Horst,
Boris Zbarsky,
Brad Kemper,
Brian Heuston,
Christian Stockwell,
Christoph Päper,
Daniel Holbert,
Erik Anderson,
Eugene Veselov, 
Fantasai,
John Jansen, 
Markus Mielke, 
Ning Rogers,
Ojan Vafai,
Peter Salas,
Phil Cupp, 
Robert O'Callahan,
Rossen Atanassov, 
Shinichiro Hamaji,
Tony Chang.

	


<h2 class="no-num" id="references">References</h2>

<h3 class="no-num" id="normative">Normative references</h3>
<!--normative-->

<h3 class="no-num" id="informative">Other references</h3>
<!--informative-->

<h2 id="property" class="no-num">Property index</h2>
<!--properties-->

<h2 class="no-num" id="index">Index</h2>
<!--index-->

</body></html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->