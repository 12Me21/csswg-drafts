// Make matrices for converting to and from an arbitrary RGB colorspace,
// given the x,y chromaticities of red, green, blue and white.
// To use these matrices, the RGB components are assumed be be 
// linearized and in the range 0 to 1.
// http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html

// Horribly hacky, non interactive utility. Edit the file to pick
// another colorspace and read the results from the console :P

<html>
	<script src="math.js"></script>
	<script>
		// these are for ITU Rec BT.2020
		const xred=0.708 ;
		const yred=0.292 ;
		
		const xgreen=0.170 ;
		const ygreen=0.797 ;
		
		const xblue=0.131 ;
		const yblue=0.046 ;
		
		// D65
		const xwhite=0.3127 ;
		const ywhite=0.3290 ;
		
		// Relative XYZ values. Copy-paste-o-rama
		var XWhite=xwhite/ywhite;
		var YWhite=1;
		var ZWhite=(1 - xwhite - ywhite)/ywhite;
		
		var XRed=xred/yred;
		var YRed=1;
		var ZRed=(1 - xred - yred)/yred;
		
		var XGreen=xgreen/ygreen;
		var YGreen=1;
		var ZGreen=(1 - xgreen - ygreen)/green;
		
		var white = math.matrix([])
		
	</script>
</html>