<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>CSS Table Module Level 3</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="exploring" name="csswg-work-status">
  <meta content="ED" name="w3c-status">
  <link href="../default.css" rel="stylesheet" type="text/css">
  <link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
  <link href="default.css" rel="stylesheet" type="text/css">
<style>
  body {
    background-image: url("https://www.w3.org/StyleSheets/TR/logo-ED");
    background-repeat: no-repeat;
  };
  </style>
  <meta content="Bikeshed 1.0.0" name="generator">
<style>
				ul.compact { margin-top: -1em !important; list-style-type: disc; }
				ul.compact li { margin-top: 0 !important; margin-bottom: 0 !important; list-style-type: disc; }
			</style>
<style>
					details { 
						display: block;
					}
					details:not([open]):not(:hover) > ul {
						display: none;
					}
					details[open]:not(:hover) > ul {
						display: block;
					}
				</style>
<style>
				#width-distribution-principles-r1,
				#width-distribution-principles-r2,
				#width-distribution-principles-r3 {
					display: flex;
				}
				
				#width-distribution-principles-r1 > :first-child,
				#width-distribution-principles-r2 > :first-child,
				#width-distribution-principles-r3 > :first-child {
					flex-shrink: 0; flex-basis: 5em;
				}
				
				#width-distribution-principles-r1 > *,
				#width-distribution-principles-r2 > *,
				#width-distribution-principles-r3 > * {
					display: inline-block;
				}
			</style>
<style>
						ul.inline { display: inline; margin: 0; padding: 0; }
						--ul.inline::before { content:"("; display: inline; }
						--ul.inline::after { content:")"; display: inline; }
						ul.inline > li { display: inline; margin: 0; padding: 0; }
						ul.inline > li::after { content:", "; display: inline; }
						ul.inline > li:last-of-type::after { content:""; display: none; }
					</style>
<style>
	
	ul.bug-list { 
		list-style-type: none;
		padding: 0; 
		font-size: 80%;
	}
	ul.bug-list > li {
		margin: 0; margin-bottom: 10px;
	}
	ul.bug-list > li > summary {
		background: #efefef;
		padding: 10px;
	}
	ul.bug-list > li > summary > details {
		background: #f7f7f7;
		padding: 10px; font-weight: normal; 
	}
	
</style>
<style>
	
	.hint { opacity: 0.5; transition: opacity 0.25s; }
	.hint:hover { opacity: 1; }
	
	.highligth { background: yellow; }
	
	/* fallback for summary/details */
	summary { display: block; }
	summary:not([open]) > details { display: none; }
	summary:not([open]):hover > details { display: block; }
	#if-css-supports summary::-webkit-details-marker, summary:not([open]) > details { display: block; }
	#if-css-supports summary::-moz-details-marker, summary:not([open]) > details { display: block; }
	#if-css-supports summary::-ms-details-marker, summary:not([open]) > details { display: block; }
	#if-css-supports summary::details-marker, summary:not([open]) > details { display: block; }
	
</style>
<style>.highlight .hll { background-color: #ffffcc }
.highlight  { background: #ffffff; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .ch { color: #708090 } /* Comment.Hashbang */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .cpf { color: #708090 } /* Comment.PreprocFile */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #0077aa } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
        .highlight { background: hsl(24, 20%, 95%); }
        code.highlight { padding: .1em; border-radius: .3em; }
        pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
        </style>
 </head>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="http://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/Icons/w3c_home" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">CSS Table Module Level 3</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft, <time class="dt-updated" datetime="2016-01-28">28 January 2016</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="http://dev.w3.org/csswg/css-tables">http://dev.w3.org/csswg/css-tables</a>
     <dt>Latest version:
     <dd><a href="http://www.w3.org/TR/CSS2/tables.html">http://www.w3.org/TR/CSS2/tables.html</a>
     <dt>Feedback:
     <dd><span><a href="mailto:www-style@w3.org?subject=%5Bcss-tables-3%5D%20YOUR%20TOPIC%20HERE">www-style@w3.org</a> with subject line “<kbd>[css-tables-3] <i data-lt="">… message topic …</i></kbd>” (<a href="http://lists.w3.org/Archives/Public/www-style/" rel="discussion">archives</a>)</span>
     <dt>Issue Tracking:
     <dd><a href="#issues-index">Inline In Spec</a>
     <dd><span><a href="https://github.com/gregwhitworth/css-table-3/issues">Github</a></span>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Francois Remy</span> (<span class="p-org org">Microsoft</span>)
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Greg Whitworth</span> (<span class="p-org org">Microsoft</span>)
     <dt class="editor">Former Editors:
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Bert Bos</span> (<span class="p-org org">W3C</span>)
     <dd class="editor p-author h-card vcard"><span class="p-name fn">David Baron</span> (<span class="p-org org">Mozilla</span>)
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Markus Mielke</span> (<span class="p-org org">Microsoft</span>)
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Saloni Mira Rai</span> (<span class="p-org org">Microsoft</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  <div class="p-summary" data-fill-with="abstract">
   <p>This CSS module defines a two-dimensional grid-based layout system, optimized for tabular data rendering. In the table layout model, each display node is assigned to an intersection between a set of consecutive rows and a set of consecutive columns, themselves generated from the table structure and sized according to their content.</p>
    <a href="http://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p> The (<a href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list <a href="mailto:www-style@w3.org?Subject=%5Bcss-tables-3%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a> (see <a href="http://www.w3.org/Mail/Request">instructions</a>)
	is preferred for discussion of this specification.
	When sending e-mail,
	please put the text “css-tables-3” in the subject,
	preferably like this:
	“[css-tables-3] <em>…summary of comment…</em>” </p>
   <p> This document was produced by the <a href="http://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of the <a href="http://www.w3.org/Style/">Style Activity</a>). </p>
   <p> This document was produced by a group operating under
	the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>.
	W3C maintains a <a href="http://www.w3.org/2004/01/pp-impl/32061/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="http://www.w3.org/2015/Process-20150901/" id="w3c_process_revision">1 September 2015 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#content-model"><span class="secno">2</span> <span class="content">Content Model</span></a>
     <ol class="toc">
      <li>
       <a href="#table-structure"><span class="secno">2.1</span> <span class="content">Table Structure</span></a>
       <ol class="toc">
        <li><a href="#terminology"><span class="secno">2.1.1</span> <span class="content">Terminology</span></a>
       </ol>
      <li>
       <a href="#fixup"><span class="secno">2.2</span> <span class="content">Fixup</span></a>
       <ol class="toc">
        <li><a href="#fixupAlgo"><span class="secno">2.2.1</span> <span class="content">Fixup Algorithm</span></a>
        <li><a href="#fixup-examples"><span class="secno">2.2.2</span> <span class="content">Examples</span></a>
       </ol>
      <li><a href="#mapping"><span class="secno">2.3</span> <span class="content">Mapping between CSS &amp; HTML attributes</span></a>
      <li><a href="#spanning"><span class="secno">2.4</span> <span class="content">Spanning</span></a>
     </ol>
    <li>
     <a href="#layout"><span class="secno">3</span> <span class="content">Layout</span></a>
     <ol class="toc">
      <li><a href="#layout-principles"><span class="secno">3.1</span> <span class="content">Core principles</span></a>
      <li><a href="#dimensioning-the-row-column-grid"><span class="secno">3.2</span> <span class="content">Dimensioning the row/column grid</span></a>
      <li><a href="#missing-cells-fixup"><span class="secno">3.3</span> <span class="content">Missing cells fixup</span></a>
      <li>
       <a href="#layout-modes"><span class="secno">3.4</span> <span class="content">Table layout modes</span></a>
       <ol class="toc">
        <li><a href="#table-layout-property"><span class="secno">3.4.1</span> <span class="content">The Table-Layout property</span></a>
        <li><a href="#border-collapse-property"><span class="secno">3.4.2</span> <span class="content">The Border-Collapse property</span></a>
        <li><a href="#caption-side-property"><span class="secno">3.4.3</span> <span class="content">The Caption-Side property</span></a>
       </ol>
      <li>
       <a href="#style-overrides"><span class="secno">3.5</span> <span class="content">Style overrides</span></a>
       <ol class="toc">
        <li><a href="#global-style-overrides"><span class="secno">3.5.1</span> <span class="content">Overrides applying in all modes</span></a>
        <li><a href="#collapsed-style-overrides"><span class="secno">3.5.2</span> <span class="content">Overrides applying in collapsed-borders mode</span></a>
        <li><a href="#separated-style-overrides"><span class="secno">3.5.3</span> <span class="content">Overrides applying in separated-borders mode</span></a>
       </ol>
      <li>
       <a href="#border-collapsing"><span class="secno">3.6</span> <span class="content">Border-collapsing</span></a>
       <ol class="toc">
        <li>
         <a href="#conflict-resolution-for-collapsed-borders"><span class="secno">3.6.1</span> <span class="content">Conflict Resolution for Collapsed Borders</span></a>
         <ol class="toc">
          <li><a href="#border-conflict-resolution-algorithm"><span class="secno">3.6.1.1</span> <span class="content">Conflict Resolution Algorithm for Collapsed Borders</span></a>
          <li><a href="#border-style-harmonization-algorithm"><span class="secno">3.6.1.2</span> <span class="content">Harmonization Algorithm for Collapsed Borders</span></a>
          <li><a href="#border-specificity"><span class="secno">3.6.1.3</span> <span class="content">Specificity of a border style</span></a>
         </ol>
       </ol>
      <li>
       <a href="#content-measure"><span class="secno">3.7</span> <span class="content">Computing table measures</span></a>
       <ol class="toc">
        <li><a href="#computing-undistributable-space"><span class="secno">3.7.1</span> <span class="content">Computing Undistributable Space</span></a>
        <li><a href="#computing-cell-measures"><span class="secno">3.7.2</span> <span class="content">Computing Cell Measures</span></a>
        <li><a href="#computing-column-measures"><span class="secno">3.7.3</span> <span class="content">Computing Column Measures</span></a>
        <li><a href="#computing-the-table-width"><span class="secno">3.7.4</span> <span class="content">Computing the table width</span></a>
        <li><a href="#computing-the-table-height"><span class="secno">3.7.5</span> <span class="content">Computing the table height</span></a>
       </ol>
      <li>
       <a href="#width-distribution"><span class="secno">3.8</span> <span class="content">Available Width Distribution</span></a>
       <ol class="toc">
        <li>
         <a href="#width-distribution-principles"><span class="secno">3.8.1</span> <span class="content">Core principles</span></a>
         <ol class="toc">
          <li><a href="#width-distribution-principles-rN"><span class="secno">3.8.1.1</span> <span class="content">Rules</span></a>
          <li><a href="#width-distribution-principles-rR"><span class="secno">3.8.1.2</span> <span class="content">Available sizings</span></a>
         </ol>
        <li>
         <a href="#width-distribution-algorithm"><span class="secno">3.8.2</span> <span class="content">Distribution algorithm</span></a>
         <ol class="toc">
          <li><a href="#distributing-width-to-columns"><span class="secno">3.8.2.1</span> <span class="content">Distributing excess width to columns</span></a>
         </ol>
       </ol>
      <li>
       <a href="#height-distribution"><span class="secno">3.9</span> <span class="content">Available Height Distribution</span></a>
       <ol class="toc">
        <li><a href="#height-distribution-principles"><span class="secno">3.9.1</span> <span class="content">Core principles</span></a>
        <li><a href="#height-distribution-algorithm"><span class="secno">3.9.2</span> <span class="content">Distribution algorithm</span></a>
       </ol>
      <li><a href="#layout-algorithm"><span class="secno">3.10</span> <span class="content">Position of cells and captions</span></a>
     </ol>
    <li>
     <a href="#rendering"><span class="secno">4</span> <span class="content">Rendering</span></a>
     <ol class="toc">
      <li><a href="#paint-order"><span class="secno">4.1</span> <span class="content">Paint order of cells</span></a>
      <li><a href="#empty-cell-rendering"><span class="secno">4.2</span> <span class="content">Empty cell rendering (separated mode)</span></a>
      <li><a href="#drawing-cell-backgrounds"><span class="secno">4.3</span> <span class="content">Drawing cell backgrounds</span></a>
      <li>
       <a href="#drawing-collapsed-borders"><span class="secno">4.4</span> <span class="content">Drawing borders (collapsed mode)</span></a>
       <ol class="toc">
        <li><a href="#drawing-collapsed-table-root-borders"><span class="secno">4.4.1</span> <span class="content">Drawing table-root elements borders (collapsed mode)</span></a>
        <li><a href="#drawing-collapsed-table-cell-borders"><span class="secno">4.4.2</span> <span class="content">Drawing table-cell elements borders (collapsed mode)</span></a>
        <li><a href="#border-style-overrides"><span class="secno">4.4.3</span> <span class="content">Border styles (collapsed mode)</span></a>
       </ol>
     </ol>
    <li><a href="#bug-list"><span class="secno">5</span> <span class="content">List of bugs being tracked</span></a>
    <li><a href="#TODO"><span class="secno">6</span> <span class="content">(link here for missing sections)</span></a>
    <li>
     <a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li><a href="#document-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      <li><a href="#conform-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      <li>
       <a href="#conform-responsible"><span class="secno"></span> <span class="content"> Requirements for Responsible Implementation of CSS</span></a>
       <ol class="toc">
        <li><a href="#conform-partial"><span class="secno"></span> <span class="content"> Partial Implementations</span></a>
        <li><a href="#conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
        <li><a href="#conform-testing"><span class="secno"></span> <span class="content"> Implementations of CR-level Features</span></a>
       </ol>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is not normative</em></p>
   <p> Many types of information (ex: weather readings collected over the past year) 
			are best visually represented in a two-axis grid 
			where rows represent one item of the list (ex: a date, and the various weather properties measured during that day),
			and where columns represent the successive values of an items property (ex: the temperatures measured over the past year). </p>
   <p> Sometimes, to make the representation easier to understand,
			some cells of the grid are used to represent a description or summary of their parent row/column, 
			instead of actual data. 
		This happens more frequently for
			the cells found on the first row and/or column (called headers)
			or the cells found on the last row and/or column (called footers). </p>
   <p> This kind of tabular data representation is usually known as tables. 
		Tables layout can be abused to render other grid-like representations like calendars or timelines,
			though authors should prefer other layout modes 
			when the information being represented does not make sense as a data table. </p>
   <p> The rendering of tables in HTML has been defined for a long time in the HTML specification. 
		However, its interactions with features defined in CSS remained for a long time undefined.
		The goal of this specification is to define 
			the expected behavior of user agents supporting both HTML tables and CSS. </p>
   <p> Please be aware that some behaviors defined in this document 
			will not be the most logical or useful way of solving the problem they aim to solve,
			but such behaviors are often the result of compatibility requirements and not a deliberate choice 
			of the editors of this specification.
		Authors wishing to use more complex layouts are encouraged to rely on more modern CSS modules such as CSS Grids. </p>
   <h2 class="heading settled" data-level="2" id="content-model"><span class="secno">2. </span><span class="content">Content Model</span><a class="self-link" href="#content-model"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="table-structure"><span class="secno">2.1. </span><span class="content">Table Structure</span><a class="self-link" href="#table-structure"></a></h3>
   <p> The CSS table model is based on the HTML4 table model, 
				in which the structure of a table closely parallels the visual layout of the table. 
			In this model, a table consists of an optional caption and any number of rows of cells. </p>
   <p> In addition, adjacent rows and columns may be grouped structurally and 
			this grouping can be reflected in presentation (e.g., a border may be drawn around a group of rows). </p>
   <p> The table model is said to be "row primary" since authors specify rows, not columns, explicitly in the document language. 
			Columns are derived once all the rows have been specified: 
				the first cell of the first row belongs to the first column and as many other columns as spanning requires (and it creates them if needed), 
				and the following cells of that row each belong to the next available column and as many other columns as spanning requires (creating those if needed);
				the cells of the following rows each belong to the next available column for that row (taking rowspan into account) and as many other columns as spanning requires (creating those if needed). <span class="hint">(see <a href="#spanning">§2.4 Spanning</a> and <a href="#dimensioning-the-row-column-grid">§3.2 Dimensioning the row/column grid</a>)</span>. </p>
   <p> To summarize, an instance of the table model consists of: </p>
   <ul class="compact">
    <li>
     Its <a href="#table-root-element">table-root element</a> containing: 
     <ul>
      <li>
       One or more <a href="#table-row">table rows</a>, optionally in <a href="#table-row-grouping-element">row groups</a>, 
       <ul>
        <li>Each of them contaning one or more <a href="#table-cell">table cells</a>
       </ul>
      <li>Optionally: one or more <a href="#table-column">table columns</a>, optionally in <a href="#table-column-group">column groups</a> 
      <li>Optionally: a <a href="#table-caption">table caption</a>. 
     </ul>
   </ul>
   <figure>
     <img src="images/table-structure.png" width="493"> 
    <figcaption>Two representations of the structure of a table (tree vs layout)</figcaption>
   </figure>
   <p> The CSS model does not require that the document language include elements that correspond to each of these components. 
			For document languages (such as XML applications) that do not have pre-defined table elements, authors must map document language elements to table elements; 
			this is done with the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visuren.html#propdef-display">display</a> property. </p>
   <p> The following <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visuren.html#propdef-display">display</a> values assign table formatting rules to an arbitrary element: </p>
   <dl id="display-types">
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table">table<a class="self-link" href="#table"></a></dfn> (In HTML: TABLE) 
    <dd>Specifies that an element defines a block-level table: 
				it is a rectangular block that participates in a block formatting context. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="inline-table">inline-table<a class="self-link" href="#inline-table"></a></dfn> (In HTML: TABLE) 
    <dd>Specifies that an element defines an inline-level table: 
				it is a rectangular block that participates in an inline formatting context). 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-row">table-row<a class="self-link" href="#table-row"></a></dfn> (In HTML: TR) 
    <dd>Specifies that an element is a row of cells. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-row-group">table-row-group<a class="self-link" href="#table-row-group"></a></dfn> (In HTML: TBODY) 
    <dd>Specifies that an element groups one or more rows. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-header-group">table-header-group<a class="self-link" href="#table-header-group"></a></dfn> (In HTML: THEAD) 
    <dd>Like table-row-group, but for visual formatting, the row group is always displayed before all other rows and row groups and 
				after any top captions. Print user agents may repeat header rows on each page spanned by a table. If a table contains multiple elements 
				with <code>display: table-header-group</code>, only the first is rendered as a header; the others are treated as if they had <code>display: table-row-group</code>. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-footer-group">table-footer-group<a class="self-link" href="#table-footer-group"></a></dfn> (In HTML: TFOOT) 
    <dd>Like table-row-group, but for visual formatting, the row group is always displayed after all other rows and row groups and before any bottom captions. 
				Print user agents may repeat footer rows on each page spanned by a table. 
				If a table contains multiple elements with <code>display: table-footer-group</code>, only the first is rendered as a footer; 
				the others are treated as if they had <code>display: table-row-group</code>. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-column">table-column<a class="self-link" href="#table-column"></a></dfn> (In HTML: COL) 
    <dd>Specifies that an element describes a column of cells. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-column-group">table-column-group<a class="self-link" href="#table-column-group"></a></dfn> (In HTML: COLGROUP) 
    <dd>Specifies that an element groups one or more columns. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-cell">table-cell<a class="self-link" href="#table-cell"></a></dfn> (In HTML: TD, TH) 
    <dd>Specifies that an element represents a table cell. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-caption">table-caption<a class="self-link" href="#table-caption"></a></dfn> (In HTML: CAPTION) 
    <dd>Specifies a caption for the table. 
				All elements with <code>display: table-caption</code> must be rendered, as described in section 17.4. 
   </dl>
   <div class="issue" id="issue-ac4ceca8"><a class="self-link" href="#issue-ac4ceca8"></a> The following paragraph does not define an exception but confirms the normal rule. 
			Is it needed? </div>
   <p> Replaced elements with these <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visuren.html#propdef-display">display</a> values are treated as their given display types during layout. 
			For example, an image that is set to <code>display: table-cell</code> will fill the available cell space, and 
				its dimensions might contribute towards the table sizing algorithms, as with an ordinary cell. </p>
   <div class="issue" id="issue-a0105005"><a class="self-link" href="#issue-a0105005"></a> This isn’t about the table structure, but about layout.
			That should be defined elsewhere. </div>
   <p> Elements with <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visuren.html#propdef-display">display</a> set to table-column or table-column-group are not rendered (exactly as if they had <code>display: none</code>).
			They are still useful, because they may have attributes which induce a certain style for the columns they represent. </p>
   <h4 class="heading settled" data-level="2.1.1" id="terminology"><span class="secno">2.1.1. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h4>
   <p> In addition to the table structure display types, 
				the following wording is also being used in this spec: </p>
   <dl>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-root-element">table-root<a class="self-link" href="#table-root-element"></a></dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table">table</a> or <a data-link-type="dfn" href="#inline-table">inline-table</a> box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-non-root-element">table-non-root<a class="self-link" href="#table-non-root-element"></a></dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#proper-table-child-element">proper table child</a>, or a <a data-link-type="dfn" href="#table-cell">table-cell</a> box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-row-grouping-element">table-row-grouping<a class="self-link" href="#table-row-grouping-element"></a></dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-row-group">table-row-group</a>, <a data-link-type="dfn" href="#table-header-group">table-header-group</a>, or <a data-link-type="dfn" href="#table-footer-group">table-footer-group</a> box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-track">table-track<a class="self-link" href="#table-track"></a></dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-row">table-row</a>, or <a data-link-type="dfn" href="#table-column">table-column</a> box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-track-grouping-element">table-track-grouping<a class="self-link" href="#table-track-grouping-element"></a></dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-row-grouping-element">table-row-grouping</a>, or <a data-link-type="dfn" href="#table-column-group">table-column-group</a> box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="proper-table-child-element">proper table child<a class="self-link" href="#proper-table-child-element"></a></dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-track-grouping-element">table-track-grouping</a>, <a data-link-type="dfn" href="#table-track">table-track</a>, or <a data-link-type="dfn" href="#table-caption">table-caption</a> box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="proper-table-row-parent-element">proper table-row parent<a class="self-link" href="#proper-table-row-parent-element"></a></dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-root-element">table-root</a> or a <a data-link-type="dfn" href="#table-row-grouping-element">table-row-grouping</a> box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-internal-element">table-internal<a class="self-link" href="#table-internal-element"></a></dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-cell">table-cell</a>, <a data-link-type="dfn" href="#table-track">table-track</a> or <a data-link-type="dfn" href="#table-track-grouping-element">table-track-grouping</a> box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="tabular-container">tabular container<a class="self-link" href="#tabular-container"></a></dfn> 
    <dd> A <a data-link-type="dfn" href="#table-row">table-row</a> or <a data-link-type="dfn" href="#proper-table-row-parent-element">proper table-row parent</a> box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="consecutive-boxes">consecutive<a class="self-link" href="#consecutive-boxes"></a></dfn> boxes 
    <dd> Two sibling boxes are consecutive 
						if they have no intervening siblings 
						other than, optionally, an anonymous inline containing only white spaces.
					A sequence of sibling boxes is consecutive 
						if each box in the sequence is consecutive to the one before it in the sequence. 
   </dl>
   <h3 class="heading settled" data-level="2.2" id="fixup"><span class="secno">2.2. </span><span class="content">Fixup</span><a class="self-link" href="#fixup"></a></h3>
   <p> Document languages other than HTML may not contain all the elements in the CSS 2.1 table model. 
			In these cases, the "missing" elements must be assumed in order for the table model to work. </p>
   <p> Any <a data-link-type="dfn" href="#table-internal-element">table-internal</a> element will automatically generate necessary anonymous table objects around itself, if necessary.
			Any non-table descendant of a <a data-link-type="dfn" href="#table-root-element">table-root</a> must have a ancestors consisting of at least three nested objects corresponding to a <a data-link-type="dfn" href="#table">table</a>/<a data-link-type="dfn" href="#inline-table">inline-table</a> element, a <a data-link-type="dfn" href="#table-row">table-row</a> element, and a <a data-link-type="dfn" href="#table-cell">table-cell</a> element. 
			Missing elements cause the generation of anonymous boxes according to the following rules: </p>
   <h4 class="heading settled" data-level="2.2.1" id="fixupAlgo"><span class="secno">2.2.1. </span><span class="content">Fixup Algorithm</span><a class="self-link" href="#fixupAlgo"></a></h4>
   <p> For the purposes of these rules, out-of-flow elements are represented as inline elements of zero width and height. 
				Their containing blocks are chosen accordingly. </p>
   <p> The following steps are performed in three stages: </p>
   <ol>
    <li>
     <b>Remove irrelevant boxes:</b> 
     <ol>
      <li>Children of a <a data-link-type="dfn" href="#table-column">table-column</a> are treated as if they had <code>display: none</code>. 
      <li>Children of a <a data-link-type="dfn" href="#table-column-group">table-column-group</a> which are not a <a data-link-type="dfn" href="#table-column">table-column</a> are treated as if they had <code>display: none</code>. 
      <li>Anonymous inline boxes which contains only white space,
							are the first or last child of a <a data-link-type="dfn" href="#tabular-container">tabular container</a>,
							and whose immediately preceding or following sibling (if any) is a <a data-link-type="dfn" href="#table-non-root-element">table-non-root</a> element, 
							are treated as if they had <code>display: none</code>. 
      <li>Anonymous inline boxes which contains only white space and
							are between two immediate siblings each of which is a <a data-link-type="dfn" href="#table-non-root-element">table-non-root</a> element,
							are treated as if they had <code>display: none</code>. 
     </ol>
    <li>
     <b>Generate missing child wrappers:</b> 
     <ol>
      <li>An anonymous <a data-link-type="dfn" href="#table-row">table-row</a> box must be generated 
							around each sequence of consecutive children of a <a data-link-type="dfn" href="#table-root-element">table-root</a> box 
							which are not <a data-link-type="dfn" href="#proper-table-child-element">proper table child</a> boxes. <a class="hint" href="https://jsfiddle.net/hj2w7wwa/2/">!!Testcase</a> 
      <li>An anonymous <a data-link-type="dfn" href="#table-row">table-row</a> box must be generated 
							around each sequence of consecutive children of a <a data-link-type="dfn" href="#table-row-grouping-element">table-row-grouping</a> box
							which are not <a data-link-type="dfn" href="#table-row">table-row</a> boxes. <a class="hint" href="https://jsfiddle.net/hj2w7wwa/3/">!Testcase</a> 
      <li>An anonymous <a data-link-type="dfn" href="#table-cell">table-cell</a> box must be generated
							around each sequence of consecutive children of a <a data-link-type="dfn" href="#table-row">table-row</a> box
							which are not <a data-link-type="dfn" href="#table-cell">table-cell</a> boxes. <a class="hint" href="https://jsfiddle.net/hj2w7wwa/4/">!Testcase</a> 
     </ol>
    <li>
     <b>Generate missing parents:</b> 
     <ol>
      <li>An anonymous <a data-link-type="dfn" href="#table-row">table-row</a> box must be generated 
							around each sequence of consecutive <a data-link-type="dfn" href="#table-cell">table-cell</a> box 
							whose parent is not a <a data-link-type="dfn" href="#table-row">table-row</a>. <a class="hint" href="https://jsfiddle.net/hj2w7wwa/5/">Testcase</a> 
      <li>
       An anonymous <a data-link-type="dfn" href="#table">table</a> or <a data-link-type="dfn" href="#inline-table">inline-table</a> box must be generated
							around each sequence of consecutive <a data-link-type="dfn" href="#proper-table-child-element">proper table child</a> box 
							which are misparented. 
							(If the box’s parent is an inline box, then an <a data-link-type="dfn" href="#inline-table">inline-table</a> box must be generated; otherwise it must be a <a data-link-type="dfn" href="#table">table</a> box.) 
       <ul>
        <li>A <a data-link-type="dfn" href="#table-row">table-row</a> is misparented 
									if its parent is neither a <a data-link-type="dfn" href="#table-row-grouping-element">table-row-grouping</a> nor a <a data-link-type="dfn" href="#table-root-element">table-root</a> box. 
        <li>A <a data-link-type="dfn" href="#table-column">table-column</a> box is misparented 
									if its parent is neither a <a data-link-type="dfn" href="#table-column-group">table-column-group</a> box nor a <a data-link-type="dfn" href="#table-root-element">table-root</a> box. 
        <li>A <a data-link-type="dfn" href="#table-row-grouping-element">table-row-grouping</a>, <a data-link-type="dfn" href="#table-column-group">table-column-group</a>, or <a data-link-type="dfn" href="#table-caption">table-caption</a> box is misparented 
									if its parent is not a <a data-link-type="dfn" href="#table-root-element">table-root</a> box. 
       </ul>
        <a class="hint" href="https://jsfiddle.net/hj2w7wwa/7/">Testcase</a> <a class="hint" href="https://jsfiddle.net/hj2w7wwa/8/">Testcase</a> <a class="hint" href="https://jsfiddle.net/hj2w7wwa/9/">!Testcase</a> 
     </ol>
   </ol>
   <h4 class="heading settled" data-level="2.2.2" id="fixup-examples"><span class="secno">2.2.2. </span><span class="content">Examples</span><a class="self-link" href="#fixup-examples"></a></h4>
   <div class="example" id="example-06ee5df6">
    <a class="self-link" href="#example-06ee5df6"></a> 
<pre class="lang-markup highlight"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"row"</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"cell"</span><span class="p">></span>George<span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"cell"</span><span class="p">></span>4287<span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"cell"</span><span class="p">></span>1998<span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span></pre>
    <p>Here is the associated styles:</p>
<pre class="lang-css highlight"><span class="nt">.row </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-row <span class="p">}</span>
<span class="nt">.cell </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-cell <span class="p">}</span></pre>
    <p>After fixup, this will produce layout boxes as though this was the initial HTML:</p>
<pre class="lang-markup highlight"><span class="p">&lt;</span><span class="nt">table</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">></span>
    <span class="p">&lt;</span><span class="nt">td</span><span class="p">></span>George<span class="p">&lt;/</span><span class="nt">td</span><span class="p">></span>
    <span class="p">&lt;</span><span class="nt">td</span><span class="p">></span>4287<span class="p">&lt;/</span><span class="nt">td</span><span class="p">></span>
    <span class="p">&lt;</span><span class="nt">td</span><span class="p">></span>1998<span class="p">&lt;/</span><span class="nt">td</span><span class="p">></span>
  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">></span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">></span></pre>
   </div>
   <div class="example" id="example-baa23fae">
    <a class="self-link" href="#example-baa23fae"></a> 
    <p>In this example, three <a data-link-type="dfn" href="#table-cell">table-cell</a> elements are assumed to contain the text in the ROWs. The text inside 
				of the divs with a <code>display: table-row</code> are encapsulated in anonymous inline boxes, as explained in <a href="http://www.w3.org/TR/CSS21/visuren.html#anonymous" target="_blank">visual formatting model</a>:</p>
<pre class="lang-markup highlight"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"inline-table"</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"row"</span><span class="p">></span>This is the top row.<span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"row"</span><span class="p">></span>This is the middle row.<span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"row"</span><span class="p">></span>This is the bottom row.<span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span></pre>
<pre class="lang-css highlight"><span class="nt">.inline-table </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> inline-table<span class="p">;</span> <span class="p">}</span>
<span class="nt">.row </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-row<span class="p">;</span> <span class="p">}</span></pre>
    <p>This will produce layout boxes as though this was the initial HTML:</p>
<pre class="lang-markup highlight"><span class="p">&lt;</span><span class="nt">table</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">></span>
    <span class="p">&lt;</span><span class="nt">td</span><span class="p">></span>This is the top row.<span class="p">&lt;/</span><span class="nt">td</span><span class="p">></span>
  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">></span>
    <span class="p">&lt;</span><span class="nt">td</span><span class="p">></span>This is the middle row.<span class="p">&lt;/</span><span class="nt">td</span><span class="p">></span>
  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">></span>
    <span class="p">&lt;</span><span class="nt">td</span><span class="p">></span>This is the bottom row.<span class="p">&lt;/</span><span class="nt">td</span><span class="p">></span>
  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">></span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">></span></pre>
   </div>
   <h3 class="heading settled" data-level="2.3" id="mapping"><span class="secno">2.3. </span><span class="content">Mapping between CSS &amp; HTML attributes</span><a class="self-link" href="#mapping"></a></h3>
   <p> The default style sheet for HTML4 illustrates how its model maps to css properties and values: </p>
   <div class="note" role="note"> Some extensions to CSS have been used where contraints not mappable to current CSS apply </div>
<pre class="lang-css highlight">	
  <span class="nt">table    </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table <span class="p">}</span>
  <span class="nt">thead    </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-header-group <span class="p">}</span>
  <span class="nt">tbody    </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-row-group <span class="p">}</span>
  <span class="nt">tfoot    </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-footer-group <span class="p">}</span>
  <span class="nt">tr       </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-row <span class="p">}</span>
  <span class="nt">td, th   </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-cell <span class="p">}</span>
  <span class="nt">colgroup </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-column-group <span class="p">}</span>
  <span class="nt">col      </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-column <span class="p">}</span>
  <span class="nt">caption  </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> table-caption <span class="p">}</span>
  <span class="nt">table, thead, tbody, tfoot, tr, td, th, colgroup, col, caption </span><span class="p">{</span> <span class="k">box-sizing</span><span class="p">:</span> border-box<span class="p">;</span> <span class="p">}</span>
	

  <span class="nt">table </span><span class="p">{</span>
    <span class="k">box-sizing</span><span class="p">:</span> border-box<span class="p">;</span>
    <span class="k">border-spacing</span><span class="p">:</span> <span class="m">2</span><span class="l">px</span><span class="p">;</span>
    <span class="k">border-collapse</span><span class="p">:</span> separate<span class="p">;</span>
    <span class="k">text-indent</span><span class="p">:</span> initial<span class="p">;</span>
  <span class="p">}</span>

  <span class="nt">thead, tbody, tfoot, table > tr </span><span class="p">{</span> <span class="k">vertical-align</span><span class="p">:</span> middle<span class="p">;</span> <span class="p">}</span>
  <span class="nt">tr, td, th </span><span class="p">{</span> <span class="k">vertical-align</span><span class="p">:</span> inherit<span class="p">;</span> <span class="p">}</span>
	
  <span class="nt">td, th </span><span class="p">{</span> <span class="k">padding</span><span class="p">:</span> <span class="m">1</span><span class="l">px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">th </span><span class="p">{</span> <span class="k">font-weight</span><span class="p">:</span> bold<span class="p">;</span>  <span class="p">}</span>
	
  <span class="nt">table, td, th </span><span class="p">{</span> <span class="k">border-color</span><span class="p">:</span> gray<span class="p">;</span> <span class="p">}</span>
  <span class="nt">thead, tbody, tfoot, tr </span><span class="p">{</span> <span class="k">border-color</span><span class="p">:</span> inherit<span class="p">;</span> <span class="p">}</span>
	

	
	

  <span class="nt">table[frame=box], table[frame=border], table[frame=hsides], table[frame=above], table[frame=below], table[frame=vsides], table[frame=lhs], table[frame=rhs] </span><span class="p">{</span>
    <span class="k">border</span><span class="p">:</span> <span class="m">1</span><span class="l">px</span> solid inset<span class="p">;</span>
  <span class="p">}</span>



  <span class="nt">table:matches([rules=all], [rules=rows], [rules=cols], [rules=groups], [rules=none]) </span><span class="p">{</span>
    <span class="k">border-collapse</span><span class="p">:</span> collapse<span class="p">;</span> 
    <span class="k">border-style</span><span class="p">:</span> hidden<span class="p">;</span> 
  <span class="p">}</span>
	
  <span class="nt">table:matches([rules=all], [rules=rows], [rules=cols], [rules=groups], [rules=none]),</span>
<span class="nt">  table:matches([rules=all], [rules=rows], [rules=cols], [rules=groups], [rules=none]) > :matches(thead,tbody,tfoot) > tr > :matches(th,td) </span><span class="p">{</span>
    <span class="k">border-color</span><span class="p">:</span> black<span class="p">;</span>
  <span class="p">}</span>


  <span class="nt">table[border=$border] /* if(parseInt($border) > 0) */ </span><span class="p">{</span>
    <span class="k">border</span><span class="p">:</span> <span class="p">/</span>*(parseInt($border) * 1px)*/ outset rgb(128, 128, 128);
  }
  table[border=$border] > :matches(thead,tbody,tfoot) > tr > :matches(th,td) /* if(parseInt($border) > 0) */ {
    border: 1px inset rgb(128, 128, 128);
  }
	

  table[rules=all] > :matches(thead,tbody,tfoot) > tr > :matches(th,td) {
    border: 1px solid grey; 
  }
  table[rules=rows] > :matches(thead,tbody,tfoot) > tr > :matches(th,td) {
    border: 1px solid grey; 
    border-left: none; 
    border-right: none;
  }
  table[rules=cols] > :matches(thead,tbody,tfoot) > tr > :matches(th,td) {
    border: 1px solid grey;
    border-top: none;
    border-bottom: none;
  }
  table[rules=none] > :matches(thead,tbody,tfoot) > tr > :matches(th,td) { 
    border: none; 
  }

      
  table[rules=groups] > :matches(thead,tbody,tfoot) {
    border-top-width: 1px; border-top-style: solid;
    border-bottom-width: 1px; border-bottom-style: solid;
  }
  table[rules=groups] > colgroup {
    border-left-width: 1px; border-left-style: solid;
    border-right-width: 1px; border-right-style: solid;
  }
	

  table[frame=box], table[frame=border], table[frame=hsides], table[frame=above], table[frame=below], table[frame=vsides], table[frame=lhs], table[frame=rhs] {
    border-style: inset;
  }
  table[frame=below], table[frame=vsides], table[frame=lhs], table[frame=rhs] {
    border-top-style: hidden;
  }
  table[frame=above], table[frame=vsides], table[frame=lhs], table[frame=rhs] {
    border-bottom-style: hidden;
  }
  table[frame=hsides], table[frame=above], table[frame=below], table[frame=rhs] {
    border-left-style: hidden;
  }
  table[frame=hsides], table[frame=above], table[frame=below], table[frame=rhs] {
    border-right-style: hidden;
  }
	

  table[cellpadding=$x] > :matches(thead,tbody,tfoot) > tr > :matches(th,td) /* if(parseInt($x)>0) */ {
    padding: /*(parseInt($x) * 1px)*/;
  }
  table[cellspacing=$x] /* if(parseInt($x)>0) */ {
    border-spacing: /*(parseInt($x) * 1px)*/;
  }
	
	
  table[width=$w] /* if(parseInt($w) > 0) */ {
    width: /*(parseInt($w) * 1px)*/;
  }
  table[width=$w] /* if($w matches /(+|-|)([0-9]+([.][0-9]+|)|([.][0-9]+))[%]/) */ {
    width: /*(parseInt($w) * 1px)*/;
  }
  table[height=$h] /* if(parseInt($h) > 0) {
    height: /*(parseInt($h) * 1px)*/;
  }
  table[height=$h] /* if($h matches /(+|-|)([0-9]+([.][0-9]+|)|([.][0-9]+))[%]/) */ {
    height: /*(parseInt($h) * 1px)*/;
  }

	
  table[bgcolor=$color] {
    background-color: /*parseHTMLColor($color)*/;
  }
  table[align=left] {
    float: left;
  }
  table[align=right] {
    float: right;
  }
  table[align=center] {
    margin-left: auto;
    margin-right: auto;
  }
	

  caption[align=bottom i] { caption-side: bottom; }
  :matches(thead,tbody,tfoot,tr,td,th)[valign=top i] {
    vertical-align: top;
  }
  :matches(thead,tbody,tfoot,tr,td,th)[valign=middle i] {
    vertical-align: middle;
  }
  :matches(thead,tbody,tfoot,tr,td,th)[valign=bottom i] {
    vertical-align: bottom;
  }
  :matches(thead,tbody,tfoot,tr,td,th)[valign=bottom i] {
    vertical-align: baseline;
  }
	
  :matches(thead,tbody,tfoot,tr,td,th)[align=absmiddle i] {
    text-align: center;
  }
	
  :matches(colgroup,col,thead,tbody,tfoot,tr,td,th)[hidden] {
    visibility: collapse;
  }
	
  :matches(td,th)[nowrap] { white-space: nowrap; }
  :matches(td,th)[nowrap][width=$w] /* if(quirksMode &amp;&amp; parseInt($w) > 0) */ {
    white-space: normal; 
  }</pre>
   <div class="issue" id="issue-2e890406"><a class="self-link" href="#issue-2e890406"></a> We should merge/review the WHATWG spec on <a href="https://html.spec.whatwg.org/#tables-2">HTML to CSS mapping of tables</a>.
		They cover a few attributes I didnt’t test including nowrap (which has interesting issues).
		They also include <a href="https://jsfiddle.net/8t78exf1/">things which are not true</a> in most browsers. 
		Investigations are therefore required for each and any merge being made! </div>
   <h3 class="heading settled" data-level="2.4" id="spanning"><span class="secno">2.4. </span><span class="content">Spanning</span><a class="self-link" href="#spanning"></a></h3>
   <p style="font-size: italic"> This section will explain what is spanning
			and how it will affect algorithms later in this spec. </p>
   <p class="issue" id="issue-993fff0f"><a class="self-link" href="#issue-993fff0f"></a> We should define how spanning works, and define css properties for it. </p>
   <h2 class="heading settled" data-level="3" id="layout"><span class="secno">3. </span><span class="content">Layout</span><a class="self-link" href="#layout"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="layout-principles"><span class="secno">3.1. </span><span class="content">Core principles</span><a class="self-link" href="#layout-principles"></a></h3>
   <p> Unlike other block elements, tables do not fill their containing block by default.
			By default, the width of a table depends on the width required to fit its columns prefered width.
			The minimum width of a table is the width required to fit all its columns min-width and its undistributable spaces. </p>
   <p> If the width assigned to a table is larger than its minimum width,
				the <a href="#width-distribution">Available Width Distribution</a> algorithm 
				will adjust column widths in consequence. </p>
   <p> This section overrides the general-purpose rules that apply to calculating widths described in other specifications. 
			In particular, if the margins of a table are set to <code>0</code> and the width to <code>auto</code>, the table will not automatically size to fill its containing block. 
			However, once the used value of <code>width</code> for the table is found (using the algorithms given below) 
				then the other parts of those rules do apply. 
			Therefore, a table can be centered using left and right <code>auto</code> margins, for instance. </p>
   <h3 class="heading settled" data-level="3.2" id="dimensioning-the-row-column-grid"><span class="secno">3.2. </span><span class="content">Dimensioning the row/column grid</span><a class="self-link" href="#dimensioning-the-row-column-grid"></a></h3>
   <p style="font-size: italic"> This section explains how to decide how many rows and columns a table has. </p>
   <p> Like mentioned in the <a href="#table-structure">Table structure</a> section, 
			the amount of rows and columns defined in a table can be determined from the
			table structure. </p>
   <div class="note" role="note">
     In the following algorithm, "Map $box to a HTML element if needed" means: 
    <li>
     Let $elm be the HTML equivalent tag name of the display type of $box, as defined in <a href="#display-types">the display types list</a>: 
     <ul class="compact" style="margin:0 !important">
      <li>
       If $box originates from an HTML $elm element, 
       <ul>
        <li>Clone that element and its attributes (but not its descendants) and return it;
       </ul>
      <li>
       Else, 
       <ul>
        <li>Create a new HTML $elm element with no attribute and return it
       </ul>
     </ul>
      In both cases, save the relationship between the newly created element and $box. 
   </div>
   <p> To find out how many columns and rows the row/column grid of a table contains,
			and where each cell element takes place in that grid, the user agent must
			convert the css table to its equivalent html markup, using the following algorithm: </p>
   <ol>
    <li>Map the <a data-link-type="dfn" href="#table-root-element">table-root</a> to a HTML element if needed 
    <li>While there is one, and in DOM order, map to a HTML element if needed every child box of the <a data-link-type="dfn" href="#table-root-element">table-root</a>, 
				and append those to the &lt;table> element. 
    <li>While there is one, and in DOM order, map to a HTML element if needed every non-mapped <a data-link-type="dfn" href="#table-internal-element">table-internal</a> box of the <a data-link-type="dfn" href="#table-root-element">table-root</a> that is also a child of any already mapped box
				and append those to the element that was mapped to their parent box. 
   </ol>
   <p><a href="https://jsfiddle.net/eqrwaLyc/">Testcase</a>. <a href="https://jsfiddle.net/eqrwaLyc/1/">!!Testcase</a>.</p>
   <p class="issue" id="issue-1628c800"><a class="self-link" href="#issue-1628c800"></a> Add new css properties to control rowspan/colspan? Reuse grid ones? </p>
   <p> Once this is done, apply the <a href="http://www.w3.org/TR/html5/tabular-data.html#forming-a-table">HTML5 Table Formatting algorithm</a>,
				assign to the <a data-link-type="dfn" href="#table-root-element">table-root</a> element its correct amount of rows and columns (from its mapped element),
				and to each <a data-link-type="dfn" href="#table-cell">table-cell</a> element its accurate table-row-start/table-column-start/table-row-span/table-column-span (from its mapped element). </p>
   <div class="issue" id="issue-d2070ef4">
    <a class="self-link" href="#issue-d2070ef4"></a> 
    <p> To improve our compatibility with actual rendering, 
				we may need to specify something along those lines: </p>
    <p> "Modify the row/column grid such that 
				consecutive tracks spanned by the same set of cells 
				are merged into one single track 
				for the purpose of computing the layout of the table.
				Change the spanning of the cells contained in those tracks
				accordingly so that no difference is shown." <br> (see <a href="#spanning-ghost-rows">spanning-ghost-rows test cases</a>) </p>
   </div>
   <div class="issue" id="issue-c35e32e5"><a class="self-link" href="#issue-c35e32e5"></a> The HTML specification mentions that in some cases, two cells may occupy the same row/column location.
			We need to make sure this specification explains what happens in this case for layout/rendering. </div>
   <div class="issue" id="issue-dd3967d6"><a class="self-link" href="#issue-dd3967d6"></a> Add simple example </div>
   <h3 class="heading settled" data-level="3.3" id="missing-cells-fixup"><span class="secno">3.3. </span><span class="content">Missing cells fixup</span><a class="self-link" href="#missing-cells-fixup"></a></h3>
   <p class="note" role="note"> The following section clarifies and extends the CSS 2.1 statement saying that 
				missing cells are rendered as if an anonymous table-cell box occupied their position in the grid 
				(a "missing cell" is a cell in the row/column grid that is not occupied by an element or pseudo-element). </p>
   <p> Once the amount of columns in a table is known, any table-row-group element must be modified such that 
				each of its rows contains enough cells to fill all the columns of the table, when taking spanning into account. 
			New table-cell pseudo-elements must be appended to its rows content until this condition is met. </p>
   <p> Beside their display type, those pseudo-elements do not receive any specific or default styling, except where otherwise mentioned by this specification (meaning their background is “transparent”, their padding is “0px” and their border is “none” by default). </p>
   <h3 class="heading settled" data-level="3.4" id="layout-modes"><span class="secno">3.4. </span><span class="content">Table layout modes</span><a class="self-link" href="#layout-modes"></a></h3>
   <p> This section covers the flags which modify the way tables are being laid out.
			There are three major flags for table layout: <a class="property" data-link-type="propdesc" href="#propdef-table-layout">table-layout</a>, <a class="property" data-link-type="propdesc" href="#propdef-border-collapse">border-collapse</a>, and <a class="property" data-link-type="propdesc" href="#propdef-caption-side">caption-side</a>. </p>
   <h4 class="heading settled" data-level="3.4.1" id="table-layout-property"><span class="secno">3.4.1. </span><span class="content">The Table-Layout property</span><a class="self-link" href="#table-layout-property"></a></h4>
   <table class="def propdef" data-link-for-hint="table-layout">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-table-layout">table-layout<a class="self-link" href="#propdef-table-layout"></a></dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">normal <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-3/#comb-one">|</a> fixed
     <tr>
      <th>Initial:
      <td>separate
     <tr>
      <th>Applies to:
      <td>table-root elements.
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Animatable:
      <td>no
   </table>
   <p> When the <a class="property" data-link-type="propdesc" href="#propdef-table-layout">table-layout</a> property has <code>fixed</code> as its value,
				the aggregation algorithm for column sizing is not applied,
				and the values determined for the first row of the table are used instead
				(see <a href="#computing-column-measures">§3.7.3 Computing Column Measures</a>). </p>
   <h4 class="heading settled" data-level="3.4.2" id="border-collapse-property"><span class="secno">3.4.2. </span><span class="content">The Border-Collapse property</span><a class="self-link" href="#border-collapse-property"></a></h4>
   <table class="def propdef" data-link-for-hint="border-collapse">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-border-collapse">border-collapse<a class="self-link" href="#propdef-border-collapse"></a></dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">separate <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-3/#comb-one">|</a> collapse
     <tr>
      <th>Initial:
      <td>normal
     <tr>
      <th>Applies to:
      <td>table-root elements.
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Animatable:
      <td>no
   </table>
   <p> When the <a class="property" data-link-type="propdesc" href="#propdef-border-collapse">border-collapse</a> property has <code>collapse</code> as its value,
				other properties like <a class="property" data-link-type="propdesc" href="#propdef-border-spacing">border-spacing</a> are not applied (see <a href="#collapsed-style-overrides">§3.5.2 Overrides applying in collapsed-borders mode</a>),
				and borders of adjacent cells are merged together such that each cell draws only half of the shared border
				(see <a href="#border-collapsing">§3.6 Border-collapsing</a>). </p>
   <p> A <a data-link-type="dfn" href="#table-root-element">table-root</a> element is said to be <dfn data-dfn-type="dfn" data-noexport="" id="rendered-in-collapsed-mode">rendered <dfn data-dfn-type="dfn" data-noexport="" id="in-collapsed-mode">in collapsed mode<a class="self-link" href="#in-collapsed-mode"></a></dfn><a class="self-link" href="#rendered-in-collapsed-mode"></a></dfn> in this case.
				Otherwhise, the <a data-link-type="dfn" href="#table-root-element">table-root</a> element is said to be <dfn data-dfn-type="dfn" data-noexport="" id="rendered-in-separated-mode">rendered <dfn data-dfn-type="dfn" data-noexport="" id="in-separated-mode">in separated mode<a class="self-link" href="#in-separated-mode"></a></dfn><a class="self-link" href="#rendered-in-separated-mode"></a></dfn>. </p>
   <h4 class="heading settled" data-level="3.4.3" id="caption-side-property"><span class="secno">3.4.3. </span><span class="content">The Caption-Side property</span><a class="self-link" href="#caption-side-property"></a></h4>
   <table class="def propdef" data-link-for-hint="caption-side">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-caption-side">caption-side<a class="self-link" href="#propdef-caption-side"></a></dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">top <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-3/#comb-one">|</a> bottom
     <tr>
      <th>Initial:
      <td>top
     <tr>
      <th>Applies to:
      <td><code>table-caption</code> elements
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Animatable:
      <td>no
   </table>
   <p> This property specifies the position of the caption box with respect to the table box. 
				Values have the following meanings: </p>
   <dl>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="caption-side-top">top<a class="self-link" href="#caption-side-top"></a></dfn> 
    <dd> Positions the caption box above the table box. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="caption-side-bottom">bottom<a class="self-link" href="#caption-side-bottom"></a></dfn> 
    <dd> Positions the caption box below the table box. 
   </dl>
   <div class="issue" id="issue-7b647fd0"><a class="self-link" href="#issue-7b647fd0"></a> CSS2 described a different width and horizontal alignment behavior. 
				That behavior was supposed to be introduced in CSS3 using the values <code>top-outside</code> and <code>bottom-outside</code> on this property. <a href="http://fantasai.inkedblade.net/style/discuss/captions/">#REF</a> </div>
   <div class="issue" id="issue-909ed227"><a class="self-link" href="#issue-909ed227"></a> Gecko also supports the "left" and "right" values. It was never well defined though. <a href="http://codepen.io/FremyCompany/pen/YwGPWw">#REF</a> </div>
   <div class="issue" id="issue-1a7f0903"><a class="self-link" href="#issue-1a7f0903"></a> <strong>GREG TODO:</strong> Check to see if this is interopable in different writing modes; based on those findings we may want to bring in logical props as well </div>
   <div classs="issue"> Browsers react differently to multiple captions. <a href="http://codepen.io/FremyCompany/pen/WrJxwP">!Testcase</a> </div>
   <div class="example" id="example-3d627c8f">
    <a class="self-link" href="#example-3d627c8f"></a> 
    <p> To align caption content horizontally within the caption box, use the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-text-3/#propdef-text-align">text-align</a> property. </p>
    <p> In this example, the <a class="property" data-link-type="propdesc" href="#propdef-caption-side">caption-side</a> property places captions below tables. 
					The caption will be as wide as the parent of the table, and caption text will be left-justified. </p>
<pre>caption { 
  caption-side: bottom; 
    width: auto;
    text-align: left
}
</pre>
   </div>
   <h3 class="heading settled" data-level="3.5" id="style-overrides"><span class="secno">3.5. </span><span class="content">Style overrides</span><a class="self-link" href="#style-overrides"></a></h3>
   <p> Some css properties behave differently inside css tables. 
			The following sections list the exceptions and their effects. </p>
   <h4 class="heading settled" data-level="3.5.1" id="global-style-overrides"><span class="secno">3.5.1. </span><span class="content">Overrides applying in all modes</span><a class="self-link" href="#global-style-overrides"></a></h4>
   <p> The following rules apply to all table elements, irrespective of the layout mode in use: </p>
   <ul>
    <li>The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visuren.html#propdef-display">display</a> for <a data-link-type="dfn" href="#table-track">table-track</a> and <a data-link-type="dfn" href="#table-track-grouping-element">table-track-grouping</a> elements is forced to contents.
					This has the effect of not generating a box for these elements, and making their table-cell children direct layout children of their parent <a data-link-type="dfn" href="#table-root-element">table-root</a> element. 
    <li>The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/box.html#propdef-margin">margin</a> for <a data-link-type="dfn" href="#table-cell">table-cell</a> elements is forced to 0px. 
    <li>The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#background">background</a> longhands for <a data-link-type="dfn" href="#table-cell">table-cell</a> elements is computed using a special background painting algorithm described in <a href="#drawing-cell-backgrounds">§4.3 Drawing cell backgrounds</a>. 
   </ul>
   <h4 class="heading settled" data-level="3.5.2" id="collapsed-style-overrides"><span class="secno">3.5.2. </span><span class="content">Overrides applying in collapsed-borders mode</span><a class="self-link" href="#collapsed-style-overrides"></a></h4>
   <p> When borders of a table are <a data-link-type="dfn" href="#rendered-in-collapsed-mode">rendered in collapsed mode</a>, the following rules apply: </p>
   <ul>
    <li>The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/box.html#propdef-padding">padding</a> for the <a data-link-type="dfn" href="#table-root-element">table-root</a> element is forced to 0px. 
    <li>The used value of <a class="property" data-link-type="propdesc" href="#propdef-border-spacing">border-spacing</a> for the <a data-link-type="dfn" href="#table-root-element">table-root</a> element is forced to 0px. 
    <li>
     The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-radius">border-radius</a> for <a data-link-type="dfn" href="#table-cell">table-cell</a> elements is forced to 0px for all corners which are not shared with the <a data-link-type="dfn" href="#table-root-element">table-root</a> element. 
					For corners shared with the <a data-link-type="dfn" href="#table-root-element">table-root</a> element, 
						the used value of the corresponding border-…-radius property is set to 
						the used value of the corresponding property on the parent <a data-link-type="dfn" href="#table-root-element">table-root</a> element 
						if that value is bigger than the value which would be used otherwise.
					Next, set the used values of the table-root element border radiuses 
						to the ones of their corresponding table-cell 
						(this will prevent the table radius to grow bigger than the corresponding cell). 
     <div class="issue" id="issue-a8ba5fbb"><a class="self-link" href="#issue-a8ba5fbb"></a> This does not seem to be correct in either case, the cell border radius wins based on 
					this <a href="http://codepen.io/gregwhitworth/pen/LGWWZB" target="_blank">test</a>.
					Border-radius only works in IE/Edge and does not work in FF/Chrome. <span class="highlight"> Actually, this isn’t even totally true, as box-shadow shows:
						https://jsfiddle.net/wazhrfe3/1/ </span> </div>
    <li>The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border">border</a> longhands for <a data-link-type="dfn" href="#table-root-element">table-root</a> element 
						and the <a data-link-type="dfn" href="#table-cell">table-cell</a> elements it contains are 
						computed using a special conflict resolution algorithm described in <a href="#border-collapsing">§3.6 Border-collapsing</a>. 
   </ul>
   <h4 class="heading settled" data-level="3.5.3" id="separated-style-overrides"><span class="secno">3.5.3. </span><span class="content">Overrides applying in separated-borders mode</span><a class="self-link" href="#separated-style-overrides"></a></h4>
   <p> When borders of a table are <a data-link-type="dfn" href="#rendered-in-separated-mode">rendered in separated mode</a>, the following rules apply: </p>
   <ul>
    <li>(none, for now) 
   </ul>
   <div class="note" role="note">
     The following special CSS2.1 rules have now been incorporated in others, more general rules. 
    <details>
     <summary>...</summary>
     <ul>
      <li>Each cell has an individual border. <br> <br> <span class="advisement">This is a css default</span><br> <br> 
      <li>The <a class="property" data-link-type="propdesc" href="#propdef-border-spacing">border-spacing</a> property specifies the distance between the borders of adjoining cells.<br> <br> <span class="advisement">See <a href="#layout-algorithm">§3.10 Position of cells and captions</a>.</span><br> <br> 
      <li>In this space, the row, column, row group, and column group backgrounds are invisible, 
								allowing the table background to show through.<br> <br> <span class="advisement">They don’t have any box at all now;</span><br> <span class="advisement">See <a href="#global-style-overrides">§3.5.1 Overrides applying in all modes</a>.</span><br> <br> <span class="advisement">Their backgrounds are propagated to the cells;</span><br> <span class="advisement">See <a href="#rendering">§4 Rendering</a></span><br> <br> 
      <li>Rows, columns, row groups, and column groups cannot have borders 
								(i.e., user agents must ignore the border properties for those elements).<br> <br> <span class="advisement">They don’t have any box at all now;</span><br> <span class="advisement">See <a href="#global-style-overrides">§3.5.1 Overrides applying in all modes</a>.</span><br> <br> 
     </ul>
    </details>
   </div>
   <h3 class="heading settled" data-level="3.6" id="border-collapsing"><span class="secno">3.6. </span><span class="content">Border-collapsing</span><a class="self-link" href="#border-collapsing"></a></h3>
   <p> This section explains what is border-collapsing,
			and how to apply it on a table. </p>
   <div class="issue" id="issue-2a3d1531">
    <a class="self-link" href="#issue-2a3d1531"></a> 
    <p> This entire section is a proposal to make the rendering of collapsed borders sane.
				As implementations diverge very visibly, it is expected to require more discussion than some other parts.
				Since browsers handle this so differently, convergence cannot happen without reimplementation.
				A major concern for this proposal was to support as many cases as possible, and yet 
					keep the effort required for a new implementation of tables as low as possible. </p>
    <p> <b>Background:</b> CSS+HTML allow unprecedented combinations of border modes for table junctions, 
					and it makes it difficult to support all cases properly; 
					in fact some combinations are not <a href="https://en.wikipedia.org/wiki/Well-posed_problem">well-posed problems</a>, 
					so no rendering algorithm could be optimal. </p>
    <p> Because they grew from something simple (HTML) to something very complex (HTML+CSS), 
					the current table rendering models (backgrounds and borders) used by web browsers are insane
					(in the sense they are buggy, not interoperable and not CSSish at all). 
				Many usual CSS assumptions are broken, and renderings diverge widely. </p>
    <p> This proposal aims at fixing this situation. </p>
   </div>
   <div class="issue" id="issue-9f6680c4"><a class="self-link" href="#issue-9f6680c4"></a> <strong>This proposal does not respect these stated requirements:</strong><br> UAs must compute an initial left and right border width for the table 
				by examining the first and last cells in the first row of the table. 
			The left border width of the table is half of the first cell’s collapsed left border, 
				and the right border width of the table is half of the last cell’s collapsed right border. 
			If subsequent rows have larger collapsed left and right borders, 
				then any excess spills into the margin area of the table. </div>
   <div class="issue" id="issue-78fb4dd2"><a class="self-link" href="#issue-78fb4dd2"></a> This proposal is doing worse than Edge and Firefox (but better than Chrome) when
				row- or colspanned cells have border styles which conflict with their neighbors,
				and those neighbors have different styles which conflict with each other.
			This is a necessary trade-of to make the model sane. </div>
   <h4 class="heading settled" data-level="3.6.1" id="conflict-resolution-for-collapsed-borders"><span class="secno">3.6.1. </span><span class="content">Conflict Resolution for Collapsed Borders</span><a class="self-link" href="#conflict-resolution-for-collapsed-borders"></a></h4>
   <p> When they are rendered <a data-link-type="dfn" href="#in-collapsed-mode">in collapsed mode</a>, <a data-link-type="dfn" href="#table-root-element">table-root</a> and <a data-link-type="dfn" href="#table-cell">table-cell</a> elements sharing a border attempt to unify their borders 
				so that they render using the same style, width, and color (whenever this is possible). 
			This is accomplished by running the following algorithm. </p>
   <h5 class="heading settled" data-level="3.6.1.1" id="border-conflict-resolution-algorithm"><span class="secno">3.6.1.1. </span><span class="content">Conflict Resolution Algorithm for Collapsed Borders</span><a class="self-link" href="#border-conflict-resolution-algorithm"></a></h5>
   <div class="note" role="note"> For the purpose of this algorithm, “harmonizing” a set of borders means 
				applying the <a href="#border-style-harmonization-algorithm">“Harmonization Algorithm for Collapsed Borders”</a> on the given set of borders, 
				and set their used values to the value resulting from the algorithm, 
				except for cells having a <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-image-source">border-image-source</a> different from none: 
				those keep their initial values. </div>
   <p> <b>For any <a data-link-type="dfn" href="#table-root-element">table-root</a> element:</b> </p>
   <ul>
    <li>Harmonize the <a data-link-type="dfn" href="#table-root-element">table-root</a> element border-{top,bottom,left,right} 
					with the corresponding border of all cells forming the border of the table (indenpendently), 
					without actually modifying the border properties of the <a data-link-type="dfn" href="#table-root-element">table-root</a> element.<br> <br> Once this is done, set the <a data-link-type="dfn" href="#table-root-element">table-root</a> element border-{…}-width 
					to half the maximum width found during the harmonization processes for that border, 
					then set border-{…}-style to solid, and border-{…}-color to transparent. 
   </ul>
   <p><b>Then, for any <a data-link-type="dfn" href="#table-cell">table-cell</a> element C° related to that <a data-link-type="dfn" href="#table-root-element">table-root</a> element:</b> </p>
   <ul>
    <li>
     Resolve conflicts with border-right: 
     <ul>
      <li>Let C be an ordered set of <a data-link-type="dfn" href="#table-cell">table-cell</a> element borders, sorted in Row/Column order of their parent cell; 
					initially, let C contain only C°’s border-right 
      <li>Add to the set C the border-left of all cells located after C° 
					sharing a section of their border-left with C°’s border-right 
      <li>
       Repeat the following two instructions, until no new cell is added to C: 
       <ul>
        <li>For all newly-added cells C<sub>i</sub> having a rowspan greater than one, 
						add to the set C the border-right of all cells located before C<sub>i</sub> sharing a section of their border-right with C<sub>i</sub>’s border-left 
        <li>For all newly-added cells C<sub>i</sub> having a rowspan greater than one, 
						add to the set C the border-left of all cells located after C<sub>i</sub> sharing a section of their border-left with C<sub>i</sub>’s border-right 
       </ul>
      <li>Harmonize the conflicting borders of C 
     </ul>
    <li>
     Resolve conflicts with border-bottom: 
     <ul>
      <li>Let C be an ordered set of <a data-link-type="dfn" href="#table-cell">table-cell</a> element borders, sorted in Row/Column order of their parent cell; 
					initially, let C contain only C°’s border-bottom 
      <li>Add to the set C the border-top of all cells located after C° 
					sharing a section of their border-top with C°’s border-bottom 
      <li>
       Repeat the following two instructions, until no new cell is added to C: 
       <ul>
        <li>For all newly-added cells C<sub>i</sub> having a colspan greater than one, 
						add to the set C the border-bottom of all cells located before C<sub>i</sub> sharing a section of their border-bottom with C<sub>i</sub>’s border-top 
        <li>For all newly-added cells C<sub>i</sub> having a colspan greater than one, 
						add to the set C the border-top of all cells located after C<sub>i</sub> sharing a section of their border-top with C<sub>i</sub>’s border-bottom 
       </ul>
      <li>Harmonize the conflicting borders of C 
     </ul>
    <li>
     Divide the used width of all borders by two.<br> 
     <div class="note" role="note"> This effect will be compensated at rendering time wherever needed, 
					but is required for layout correctness. <span class="hint">(see <a href="#drawing-collapsed-borders">§4.4 Drawing borders (collapsed mode)</a>)</span> </div>
   </ul>
   <div class="note" role="note"> Implementations may of course choose to skip some of the steps of the previous algorithm, 
			provided they can prove those have no visible impact on the final results; 
			certain borders are harmonized more than once using the previous steps which is completely unnecessary, 
			but preventing this would make the spec harder to read. </div>
   <div class="example" id="example-e357129d"><a class="self-link" href="#example-e357129d"></a> To help the reader get a better idea of what this algorithm is doing, 
			the main steps of applying the previous algorithm over a sample table have been outlined here: <br> <br> <a href="https://jsfiddle.net/bn3d1sm4/">https://jsfiddle.net/bn3d1sm4/</a><br> <a href="https://jsfiddle.net/bn3d1sm4/1/">https://jsfiddle.net/bn3d1sm4/1/</a><br> <a href="https://jsfiddle.net/bn3d1sm4/2/">https://jsfiddle.net/bn3d1sm4/2/</a><br> …<br> <a href="https://jsfiddle.net/bn3d1sm4/15/">https://jsfiddle.net/bn3d1sm4/15/</a><br> </div>
   <h5 class="heading settled" data-level="3.6.1.2" id="border-style-harmonization-algorithm"><span class="secno">3.6.1.2. </span><span class="content">Harmonization Algorithm for Collapsed Borders</span><a class="self-link" href="#border-style-harmonization-algorithm"></a></h5>
   <div class="note" role="note"> For the purpose of this algorithm, “considering” a border’s properties means 
			that “if its properties are <a href="border-specificity">more specific</a> than CurrentlyWinningBorderProperties, 
			set CurrentlyWinningBorderProperties to its properties”. </div>
   <p> Given an ordered set of borders (BC<sub>1,</sub> BC<sub>2</sub>, … located in cells C<sub>1,</sub> C<sub>2</sub>, …) 
			execute the following algorithm to determine the used value of the border properties for those conflicting borders. </p>
   <ul>
    <li> Set CurrentlyWinningBorderProperties to “border: 0px none transparent” 
    <li>
      For each border BC<sub>i</sub>: 
     <ul>
      <li>Consider the BC<sub>i</sub> border’s properties 
     </ul>
    <li>
      If the border separates two columns: 
     <ul>
      <li>For each border BC<sub>i</sub>: 
						Find the table-column element in which the C<sub>i</sub> cell is located, if any. 
						If the BC<sub>i</sub> border is such that there is a border of the table-column element that would be drawn contiguously to it, 
						consider its border’s properties. 
      <li>For each border BC<sub>i</sub>: 
						Find the table-column-group element in which the C<sub>i</sub> cell is located, if any. 
						If the BC<sub>i</sub> border is such that there is a border of the table-column-group element that would be drawn contiguously to it, 
						consider its border’s properties. 
     </ul>
    <li>
      If the border separates two rows: 
     <ul>
      <li>For each border BC<sub>i</sub>: 
						Find the table-row element in which the C<sub>i</sub> cell is located, if any. 
						If the BC<sub>i</sub> border is such that there is a border of the table-row element that would be drawn contiguously to it, 
						consider its border’s properties. 
      <li>For each border BC<sub>i</sub>: 
						Find the table-row-group element in which the C<sub>i</sub> cell is located, if any. 
						If the BC<sub>i</sub> border is such that there is a border of the table-row-group element that would be drawn contiguously to it,
						consider its border’s properties. 
     </ul>
    <li> Return CurrentlyWinningBorderProperties 
   </ul>
   <h5 class="heading settled" data-level="3.6.1.3" id="border-specificity"><span class="secno">3.6.1.3. </span><span class="content">Specificity of a border style</span><a class="self-link" href="#border-specificity"></a></h5>
   <p> Given two borders styles, the border style having the most specificity is the border style which… </p>
   <ol>
    <li>… has hidden as <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-style">border-style</a>, if only one does 
    <li>… has the biggest <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-width">border-width</a>, once converted into css pixels 
    <li>… has the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-style">border-style</a> who comes first in the following list: <span>double, solid, dashed, dotted, ridge, outset, groove, inset, none</span> 
   </ol>
   <p> If none of these criterion matches, then both borders share the same specificity. </p>
   <h3 class="heading settled" data-level="3.7" id="content-measure"><span class="secno">3.7. </span><span class="content">Computing table measures</span><a class="self-link" href="#content-measure"></a></h3>
   <h4 class="heading settled" data-level="3.7.1" id="computing-undistributable-space"><span class="secno">3.7.1. </span><span class="content">Computing Undistributable Space</span><a class="self-link" href="#computing-undistributable-space"></a></h4>
   <p> This section will deal with the border spacings of the separated border mode. </p>
   <table class="def propdef" data-link-for-hint="border-spacing">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-border-spacing">border-spacing<a class="self-link" href="#propdef-border-spacing"></a></dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">&lt;​length​> &lt;​length​><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-3/#mult-opt">?</a>
     <tr>
      <th>Initial:
      <td>0px 0px
     <tr>
      <th>Applies to:
      <td>table-root elements when <a class="property" data-link-type="propdesc" href="#propdef-border-collapse">border-collapse</a> is <code>separate</code>.
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>two absolute lengths
     <tr>
      <th>Animatable:
      <td>yes
   </table>
   <p> The lengths specify the distance that separates adjoining cell borders. </p>
   <p> If one length is specified, it gives both the horizontal and vertical spacing. 
				If two are specified, the first gives the horizontal spacing and the second the vertical spacing. </p>
   <p> Lengths may not be negative. </p>
   <p> The distance between the table border and the borders of the cells on the edge of the table is the table’s padding for that side, plus the relevant border spacing distance. </p>
   <div class="example" id="example-8cf3f310"><a class="self-link" href="#example-8cf3f310"></a> For example, on the right hand side, the distance is padding-right + horizontal border-spacing. </div>
   <div class="issue" id="issue-33218562"><a class="self-link" href="#issue-33218562"></a> The width of the table is the distance from the left inner padding edge to the right inner padding edge (including the border spacing but excluding padding and border).
				However, in HTML and XHTML1, the width of the &lt;table> element is the distance from the left border edge to the right border edge. <b> Note: In CSS3 this peculiar requirement will be defined in terms of UA style sheet rules and the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a> property. </b> </div>
   <h4 class="heading settled" data-level="3.7.2" id="computing-cell-measures"><span class="secno">3.7.2. </span><span class="content">Computing Cell Measures</span><a class="self-link" href="#computing-cell-measures"></a></h4>
   <p style="font-style: italic"> This section will deal with the measurement of a cell. </p>
   <p> The following terms are parameters of tables or table cells. 
				These parameters encapsulate the differences 
					between tables with different values of <a class="property" data-link-type="propdesc" href="#propdef-border-collapse">border-collapse</a> (separate or collapse) 
					so that the remaining subsections of this section do not need to refer to them differently. </p>
   <dl>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="cell-intrinsic-offsets">cell intrinsic offsets<a class="self-link" href="#cell-intrinsic-offsets"></a></dfn>
    <dd>
     The cell intrinsic offsets is a term to capture the parts of padding and border of a table cell 
						that are relevant to intrinsic width calculation.
					It is a set of computed values for border-left-width, padding-left, padding-right, and border-right-width 
						(along with zero values for margin-left and margin-right) 
						defined as follows: 
     <ul>
      <li><a data-link-type="dfn" href="#in-separated-mode">In separated mode</a>: the computed horizontal padding and border of the table-cell 
      <li><a data-link-type="dfn" href="#in-collapsed-mode">In collapsed mode</a>: the computed horizontal padding of the cell and, for border values, the used border-width values of the cell (half the winning border-width) 
     </ul>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="table-intrinsic-offsets">table intrinsic offsets<a class="self-link" href="#table-intrinsic-offsets"></a></dfn>
    <dd>
     The table intrinsic offsets is a term to capture the parts of the padding and border of a table 
						that are relevant to intrinsic width calculation. 
					It is a set of computed values for border-left-width, padding-left, padding-right, and border-right-width 
						(along with zero values for margin-left and margin-right) 
						defined as follows: 
     <ul>
      <li><a data-link-type="dfn" href="#in-separated-mode">In separated mode</a>: the computed horizontal padding and border of the table-root 
      <li>
       <a data-link-type="dfn" href="#in-collapsed-mode">In collapsed mode</a>: the used border-width values of the cell (half the winning border-width) 
       <div class="issue" id="issue-f3f1a29e"><a class="self-link" href="#issue-f3f1a29e"></a>Is this the correct way to account for the various changes that have gone into CSS2.1 regarding which border sticks out into the margin?</div>
     </ul>
     <p class="note" role="note"> The margins are not included in the table intrinsic offsets 
							because handling of margins depends on the <a class="property" data-link-type="propdesc" href="#propdef-caption-side">caption-side</a> property. </p>
     <div class="issue" id="issue-3287d070"><a class="self-link" href="#issue-3287d070"></a>But doesn’t that break handling of percentage padding? <a class="hint" href="https://jsfiddle.net/j5dbco4m/">I don’t think so because they are resolved based on parent anyway</a></div>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="total-horizontal-border-spacing">total horizontal border spacing<a class="self-link" href="#total-horizontal-border-spacing"></a></dfn>
    <dd>
     The total horizontal border spacing is defined for each table: 
     <ul>
      <li>
       For tables <a data-link-type="dfn" href="#rendered-in-separated-mode">rendered in separated mode</a> containing at least one column, the horizontal component of the computed value of 
						    the border-spacing property times one plus the number of columns in the table <span class="highligth">in which cells originate</span> 
       <div class="issue" id="issue-ab7a6ec6"><a class="self-link" href="#issue-ab7a6ec6"></a>Isn’t <span class="highligth">that</span> better solved by the proposal to fix the row-grid in <a href="#dimensioning-the-row-column-grid">§3.2 Dimensioning the row/column grid</a>?</div>
      <li>Otherwise, 0 
     </ul>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="outer-min-content">outer min-content<a class="self-link" href="#outer-min-content"></a></dfn> and <dfn data-dfn-type="dfn" data-noexport="" id="outer-max-content">outer max-content<a class="self-link" href="#outer-max-content"></a></dfn> widths
    <dd>
     The outer min-content and max-content widths are defined for table cells, columns, and column groups. 
					The <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a> values used in these definitions are those defined <a href="#TODO">above</a>: 
     <ul>
      <li>
       The <b>outer min-content width</b> of a table cell is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, min-content width))</code> adjusted by the cell intrinsic offsets. 
       <div class="issue" id="issue-1fe927c0"><a class="self-link" href="#issue-1fe927c0"></a> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a> really be able to override the min-content width? 
								An alternative expression is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min-content width)</code> @ FR: I think we should choose this option. </div>
       <div class="issue" id="issue-1ff189b6"><a class="self-link" href="#issue-1ff189b6"></a> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a> affect outer min-content widths at all? 
								@ FR: I think it should, yes. That’s interoperable. </div>
      <li>
       The <b>outer min-content width</b> of a table column or column group is <code><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a></code>. 
       <div class="issue" id="issue-c04d1426"><a class="self-link" href="#issue-c04d1426"></a> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a> affect outer min-content widths at all? </div>
      <li>
       The <b>outer max-content width</b> of a table cell in a non-constrained column is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, max-content width))</code> adjusted by the cell intrinsic offsets. 
       <div class="issue" id="issue-fb243c49"><a class="self-link" href="#issue-fb243c49"></a> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a> be able to override the intrinsic min-content width? 
								An alternative expression is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min-content width, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, max-content width)</code>. </div>
      <li>
       The <b>outer max-content width</b> of a table cell in a constrained column is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>, min-content width)))</code> adjusted by the cell intrinsic offsets. 
       <div class="issue" id="issue-518d808e"><a class="self-link" href="#issue-518d808e"></a> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a> be able to override the min-content width? 
								An alternative expression is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min-content width, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>))</code>. </div>
      <li>The <b>outer max-content width</b> of a table column or column group is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>))</code>. 
     </ul>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="percentage-contribution">percentage contribution<a class="self-link" href="#percentage-contribution"></a></dfn>s
    <dd>The percentage contribution of a table cell, column, or column group 
						is defined in terms of the computed values of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a> that have computed values that are percentages:<br> <br> <code>max(percentage <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min(percentage <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>, percentage <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>))</code>.<br> <br> If the computed values are not percentages, then <code>0%</code> is used for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a> or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, and an <code>infinite</code> percentage is used for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>. 
   </dl>
   <div class="issue" id="issue-171f9ab5"><a class="self-link" href="#issue-171f9ab5"></a> These definitions need to account for the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a> property. </div>
   <h4 class="heading settled" data-level="3.7.3" id="computing-column-measures"><span class="secno">3.7.3. </span><span class="content">Computing Column Measures</span><a class="self-link" href="#computing-column-measures"></a></h4>
   <p style="font-style: italic"> This section will deal with the measurement of a column. </p>
   <p class="issue" id="issue-d5aa74ba"><a class="self-link" href="#issue-d5aa74ba"></a> We mention earlier that fixed tables use a different algorithm for columns aggregation.
				We need to define it. </p>
   <p> This subsection defines terms for various parameters associated with each column of a table. 
				These parameters are used in the following two subsections as part of 
					the rules for computing intrinsic widths of tables and 
					computing the column widths of a table. </p>
   <div class="note" role="note">
     The spanning and non-spanning intrinsic widths are intermediate values 
					that are used only within this section. 
				The rationale for having these separate definitions of spanning and non-spanning widths 
					is to make the layout of tables invariant under reordering of the rows. 
				This invariant is maintained by most, but not all, current Web browser implementations. <br> <br> 
    <center><span class="issue" id="issue-fb1008d6"><a class="self-link" href="#issue-fb1008d6"></a>Rewrite!</span><br></center>
     <br> 
   </div>
   <p class="issue" id="issue-f51fd601"><a class="self-link" href="#issue-f51fd601"></a> This needs to account for character-alignment of cells ('<a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value">&lt;string></a>' values of the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-text-3/#propdef-text-align">text-align</a> property). 
				This requires (based on the 9 March 2011 editor’s draft of css3-text) separately tracking max-content widths 
					for the part of the column before the center of the alignment string and 
					the part of the column after the center of the alignment string. 
				For tracking min-content widths, there are two options: 
					either not track them, or track three values: 
					two values as for max-content widths for any cells that do not have break points in them, 
					and a fourth value for any cells that do have break points in them 
					(and to which character alignment is therefore not mandatory). </p>
   <p class="issue" id="issue-c9bee0ce"><a class="self-link" href="#issue-c9bee0ce"></a> The handling of the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a> property with this algorithm is very poor. 
				It ought to have an effect stronger 
					than the one it has on the outer intrinsic widths of the element on which it is specified. 
				It probably ought to be a separate parameter of the column 
					(though how it interacts with the min-content width would need to be defined). </p>
   <p class="issue" id="issue-fc9f9341"><a class="self-link" href="#issue-fc9f9341"></a> The way this describes distribution of widths from column-spanning cells is wrong. 
				For min-content and max-content widths it should refer to the rules 
					for distributing excess width to columns for intrinsic width calculation.
				For percentages 
					it needs to ensure that it doesn’t distribute widths to columns 
					that do not have originating cells. </p>
   <dl>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="intermediate-min-content-width-for-span-1">intermediate min-content width for span 1<a class="self-link" href="#intermediate-min-content-width-for-span-1"></a></dfn>
    <dd>
     The largest of: 
     <ul>
      <li>the outer min-content width of the column group, if any 
      <li>the outer min-content width of the column, if any 
      <li>the outer min-content width of each cell in the column whose <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-multicol-2/#propdef-column-span">column-span</a> property has a computed value of 1 
     </ul>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="intermediate-max-content-width-for-span-1">intermediate max-content width for span 1<a class="self-link" href="#intermediate-max-content-width-for-span-1"></a></dfn>
    <dd>
     The largest of: 
     <ul>
      <li>the outer max-content width of the column group, if any 
      <li>the outer max-content width of the column, if any 
      <li>the outer max-content width of each cell in the column whose <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-multicol-2/#propdef-column-span">column-span</a> property has a computed value of 1 
     </ul>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="intermediate-intrinsic-percentage-width-for-span-1">intermediate intrinsic percentage width for span 1<a class="self-link" href="#intermediate-intrinsic-percentage-width-for-span-1"></a></dfn>
    <dd>The largest of the percentage contributions of 
						each cell in the column whose <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-multicol-2/#propdef-column-span">column-span</a> property has a computed value of 1, 
						of the column (if any), and 
						of the column group (if any) 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="intermediate-min-content-width-for-span-n-n--1">intermediate min-content width for span N (N > 1)<a class="self-link" href="#intermediate-min-content-width-for-span-n-n--1"></a></dfn>
    <dd>
     the largest of the intermediate min-content width for span N-1 and the contributions 
						of the cells in the column whose <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-multicol-2/#propdef-column-span">column-span</a> property has computed value N, 
						where the contribution of a cell is the result of taking the following steps: 
     <ol>
      <li>Define the baseline (min-content / max-content) width 
							as the sum of the intermediate (min-content / max-content) widths 
							for span N-1 of all columns that the cell spans. 
      <li>Define the baseline border spacing as the sum of the and the horizontal 
							border-spacing for any columns spanned by the cell, 
							other than the one in which the cell originates, 
							in which cells originate. 
      <li>
       The contribution of the cell is the sum of: 
       <ul>
        <li>the min-content width of the column for span N-1 
        <li>
         the product of: 
         <ul>
          <li>
           the ratio of: 
           <ul>
            <li>the intermediate max-content width for span N-1 of the column 
													minus the intermediate min-content width for span N-1 of the column, to 
            <li>the baseline max-content width minus the baseline min-content width 
           </ul>
            or zero if this ratio is undefined, and 
          <li>the outer min-content width of the cell 
											minus the baseline min-content width and the baseline border spacing, 
											clamped to be at least 0 and at most the difference 
											between the baseline max-content width and the baseline min-content width 
         </ul>
        <li>
         the product of: 
         <ul>
          <li>the ratio of the intermediate max-content width 
											for span N-1 of the column to the baseline max-content width 
          <li>the outer min-content width of the cell 
											minus the baseline max-content width and baseline border spacing, 
											or 0 if this is negative 
         </ul>
       </ul>
     </ol>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="intermediate-max-content-width-for-span-n-n--1">intermediate max-content width for span N (N > 1)<a class="self-link" href="#intermediate-max-content-width-for-span-n-n--1"></a></dfn>
    <dd>
     The largest of the intermediate max-content width 
					for span N-1 and the contributions of the cells in the column whose <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-multicol-2/#propdef-column-span">column-span</a> property has computed value N, 
					where the contribution of a cell is the result of taking the following steps: 
     <ol>
      <li>Define the baseline max-content width as 
							the sum of the intermediate max-content widths 
							for span N-1 of all columns that the cell spans. 
      <li>Define the baseline border spacing as 
							the sum of the and the horizontal border-spacing 
							for any columns spanned by the cell, 
							other than the one in which the cell originates, 
							in which cells originate. 
      <li>
       The contribution of the cell is the sum of: 
       <ul>
        <li>the max-content width of the column for span N-1 
        <li>
         the product of: 
         <ul>
          <li>the ratio of the intermediate max-content width 
											for span N-1 of the column to the baseline max-content width 
          <li>the outer max-content width of the cell 
											minus the baseline max-content width and the baseline border spacing, 
											or 0 if this is negative 
         </ul>
       </ul>
     </ol>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="intermediate-intrinsic-percentage-width-for-span-n-n--1">intermediate intrinsic percentage width for span N (N > 1)<a class="self-link" href="#intermediate-intrinsic-percentage-width-for-span-n-n--1"></a></dfn>
    <dd>
     If the intermediate intrinsic percentage width for span N-1 is greater than 0%, 
					then the intermediate intrinsic percentage width for span N is 
					the same as the intermediate intrinsic percentage width for span N-1.<br> <br> Otherwise, it is the largest of the contributions of the cells in the column 
					whose <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-multicol-2/#propdef-column-span">column-span</a> property has computed value N, 
					where the contribution of a cell is the result of taking the following steps: 
     <ol>
      <li>Start with the percentage contribution of the cell. 
      <li>Subtract the intermediate intrinsic percentage width for span N-1 of all columns that the cell spans. 
							If this gives a negative result, change it to 0%. 
      <li>
       Multiply by the ratio of 
       <ul>
        <li>the column’s non-spanning max-content width to 
        <li>the sum of the non-spanning max-content widths of all columns spanned by the cell 
									that have an intermediate intrinsic percentage width for span N-1 equal to 0%. 
       </ul>
        However, if this ratio is undefined because the denominator is zero, 
							instead use the 1 divided by the number of columns spanned by the cell 
							that have an intermediate intrinsic percentage width for span N-1 equal to zero. 
     </ol>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="min-content-width">min-content width<a class="self-link" href="#min-content-width"></a></dfn>
    <dd>the intermediate min-content width for span N, where N is the number of columns in the table 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="max-content-width">max-content width<a class="self-link" href="#max-content-width"></a></dfn>
    <dd>the intermediate max-content width for span N, where N is the number of columns in the table 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="intrinsic-percentage-width">intrinsic percentage width<a class="self-link" href="#intrinsic-percentage-width"></a></dfn>
    <dd>
     the smaller of: 
     <ul>
      <li>intermediate intrinsic percentage width for span N, 
							where N is the number of columns in the table 
      <li>100% minus the sum of the intrinsic percentage width of all prior columns in the table 
							(further left (right) when direction is "ltr" ("rtl")) 
     </ul>
     <p class="note" role="note"> The clamping of the total of the intrinsic percentage widths of columns to a maximum of 100% 
						means that the table layout algorithm is not invariant under switching of columns. </p>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="constrainedness">constrainedness<a class="self-link" href="#constrainedness"></a></dfn>
    <dd>
     A column is constrained if 
						the column group (if any), 
						the column (if any), 
						or any of the non-column-spanning cells in the column 
					has a computed <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a> that is not "auto", 
						and is not a percentage. 
     <div class="issue" id="issue-69b71497"><a class="self-link" href="#issue-69b71497"></a> Do we need intermediate constrainedness? 
						It’s easier to implement that way, but does it actually make any difference? </div>
   </dl>
   <div class="issue" id="issue-4ae33f53"><a class="self-link" href="#issue-4ae33f53"></a> Is 0% really treated like 0 rather than like a percentage value? 
				(e.g., if it’s the only non-spanning percentage in a column that has a spanning cell with a percentage width?) </div>
   <h4 class="heading settled" data-level="3.7.4" id="computing-the-table-width"><span class="secno">3.7.4. </span><span class="content">Computing the table width</span><a class="self-link" href="#computing-the-table-width"></a></h4>
   <p> This section will deal with the measurement of a table (width). </p>
   <p class="issue" id="issue-7ea7c49d"><a class="self-link" href="#issue-7ea7c49d"></a> We need to choose how captions affect the sizing of a table (see Alernatives) </p>
   <p class="advisement"> <b>Alternative I</b>:<br> This is what was specced in CSS 2.1.<br> </p>
   <div class="hint" style="font-size: 50%"> Only Chrome implemented this alternative. <a href="http://codepen.io/anon/pen/vLXEON">Test case</a> </div>
   <p> The <dfn data-dfn-type="dfn" data-noexport="" id="CAPMIN">caption width minimum (CAPMIN)<a class="self-link" href="#CAPMIN"></a></dfn> is determined by calculating for each caption 
					the minimum caption outer width as the MCW of a hypothetical table cell that contains the caption formatted as "display: block". 
				The greatest of the minimum caption outer widths is CAPMIN. </p>
   <p> Column and caption widths influence the final table width as follows: </p>
   <ul>
    <li>If the <a data-link-type="dfn" href="#table-root-element">table-root</a> element’s <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a> property has a computed value (W) other than <code>auto</code>, 
						the used width is the greater of W, CAPMIN, and the minimum width required by all the columns plus cell spacing or borders (MIN). 
					If the used width is greater than MIN, the extra width should be distributed over the columns. <span class="hint">See <a href="#width-distribution">§3.8 Available Width Distribution</a>.</span> 
    <li>If the <a data-link-type="dfn" href="#table-root-element">table-root</a> element has 'width: auto', 
						the used width is the greater of the table’s containing block width, CAPMIN, and MIN. 
					However, if either CAPMIN or the maximum width required by the columns plus cell spacing or borders (MAX) is less than that of the containing block, 
						use max(MAX, CAPMIN) instead. 
   </ul>
   <div class="note" role="note"> In this algorithm, rows (and row groups) and columns (and column groups) both constrain and are constrained by the dimensions of the cells they contain. 
				Setting the width of a column may indirectly influence the height of a row, and vice versa. </div>
   <p class="advisement"> <b>Alternative II</b>:<br> This is what was specced by David Baron. </p>
   <div class="hint" style="font-size: 50%"> Gecko and Edge implemented this alternative. <a href="http://codepen.io/anon/pen/vLXEON">Test case</a><br> Gecko also supports vertical-mode-captions; Edge is buggy. <a href="http://codepen.io/FremyCompany/pen/YwGPWw">Test case</a> </div>
   <p class="note" role="note"> This specification currently defines the intrinsic widths of tables (including inline-tables) as a parameter of the table excluding its caption, 
					but the outer intrinsic widths of tables as a parameter of the table including its caption. 
				This distinction is needed because the intrinsic widths exclusive of the caption are critical to the final table layout algorithm. 
				However, it may be better to have a separate term for these parameters 
					rather than overloading these existing terms by adding this strange distinction. </p>
   <p> The <b>min-content width of a table-root</b> is the sum of 
					the min-content widths of the columns and 
					the total horizontal border spacing of the table. </p>
   <p> The <b>max-content width of a table-root</b> is the sum of 
					the total horizontal border spacing of the table 
					and the largest of: </p>
   <ul>
    <li>the sum of the max-content widths of the columns 
    <li>
     the small percentage contribution of each of the columns, 
						where the small percentage contribution of a column is defined as the ratio of 
     <ol>
      <li>the column’s max-content width to 
      <li>its intrinsic percentage width (where 100% == 1.0) 
     </ol>
     <div class="note" role="note"> This ensures that cells, columns, or column groups with small percentage widths 
							have those percentage widths satisfied when possible. </div>
    <li>
     the large percentage contribution of the table, which is the ratio of 
     <ol>
      <li>the sum of the max-content widths of all the columns 
								whose intrinsic percentage width is zero to 
      <li>100% (1.0) minus the sum of the intrinsic percentage widths of the columns, 
     </ol>
      unless the denominator of that ratio is 0, 
						in which case it is 0 if the numerator is also 0, 
						and an infinitely large number if the numerator is nonzero 
     <div class="note" role="note"> This ensures that cells, columns, or column groups with large percentage widths 
							have those percentage widths satisfied when possible. </div>
     <div class="issue" id="issue-21e50732"><a class="self-link" href="#issue-21e50732"></a> It would be nice to prove that there’s no need to iterate over the columns separately. 
							I think this is true because in such cases the small percentage effect would win. </div>
   </ul>
   <p> The <b>outer min-content width of the non-caption part of a <a data-link-type="dfn" href="#table-root-element">table-root</a></b> is defined to be <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, the min-content width of the table, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>))</code> adjusted by the table intrinsic offset. </p>
   <p> The <b>outer min-content width of a <a data-link-type="dfn" href="#table-root-element">table-root</a></b> is defined to be the larger of: </p>
   <ul>
    <li>the outer min-content width of the caption 
    <li>
     the sum of the outer min-content width of the non-caption part of the table and 
						the margin values used to compute the outer max-content/min-content width 
     <div class="issue" id="issue-5e277278"><a class="self-link" href="#issue-5e277278"></a>margin values aren’t used that way anymore</div>
   </ul>
   <p> The <b>outer max-content width of the non-caption part of a <a data-link-type="dfn" href="#table-root-element">table-root</a></b> is defined to be <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min-content, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, max-content))</code> adjusted by the table intrinsic offset. </p>
   <p> The <b>outer max-content width of a <a data-link-type="dfn" href="#table-root-element">table-root</a></b> is defined to be the larger of: </p>
   <ul>
    <li>the outer max-content width of the caption 
    <li>
     the sum of the outer max-content width of the non-caption part of the table and 
						the margin values used to compute the outer max-content/min-content width 
     <div class="issue" id="issue-5e2772780"><a class="self-link" href="#issue-5e2772780"></a>margin values aren’t used that way anymore</div>
     <div class="issue" id="issue-efe9643c"><a class="self-link" href="#issue-efe9643c"></a>this algorithm needs to account for percentage margin and padding correctly</div>
   </ul>
   <h4 class="heading settled" data-level="3.7.5" id="computing-the-table-height"><span class="secno">3.7.5. </span><span class="content">Computing the table height</span><a class="self-link" href="#computing-the-table-height"></a></h4>
   <p> This section will deal with the measurement of a table (height). </p>
   <div class="issue" id="issue-5f730fd0"><a class="self-link" href="#issue-5f730fd0"></a> TODO, but this is probably done after width distribution. </div>
   <h3 class="heading settled" data-level="3.8" id="width-distribution"><span class="secno">3.8. </span><span class="content">Available Width Distribution</span><a class="self-link" href="#width-distribution"></a></h3>
   <h4 class="heading settled" data-level="3.8.1" id="width-distribution-principles"><span class="secno">3.8.1. </span><span class="content">Core principles</span><a class="self-link" href="#width-distribution-principles"></a></h4>
   <p style="font-style: italic"> This section is not normative. </p>
   <p class="issue" id="issue-488e8d11"><a class="self-link" href="#issue-488e8d11"></a> This section should get an editorial review to 
					use the same terms as the other sections. </p>
   <h5 class="heading settled" data-level="3.8.1.1" id="width-distribution-principles-rN"><span class="secno">3.8.1.1. </span><span class="content">Rules</span><a class="self-link" href="#width-distribution-principles-rN"></a></h5>
   <p> Ideally, each column should get its preferred width. 
				However, tableUsedWidth may not be big enough or small enough for the satisfactory result. </p>
   <p> We follow three rules here when determining column used width (columnUsedWidth): </p>
   <p id="width-distribution-principles-r1"> <b>Rule 1: </b> <span> When assigning preferred widths, specified percent columns 
					have a higher priority than specified unit value columns, 
					which have a higher priority than auto columns. </span> </p>
   <p id="width-distribution-principles-r2"> <b>Rule 2: </b> <span> Columns in the same category follow the same distribution method. 
					For example, they all get columnMinWidth or they all get columnPreferredWidth, etc. <br> <span class="note" role="note" style="display: block; margin-top: 0.5em"> There is one exception to this rule. 
						When applying columnPreferredPercent on a percent column, 
							the computed unit value may be smaller than columnMinWidth. 
						In this case, the column will be assigned its columnMinWidth 
							though the percent column group as a whole is still regarded 
							as being assigned the columnPreferredWidth. </span> </span> </p>
   <p id="width-distribution-principles-r3"> <b>Rule 3: </b> <span> The sum of columnUsedWidth should be equal to tableUsedWidth. </span> </p>
   <h5 class="heading settled" data-level="3.8.1.2" id="width-distribution-principles-rR"><span class="secno">3.8.1.2. </span><span class="content">Available sizings</span><a class="self-link" href="#width-distribution-principles-rR"></a></h5>
   <p> All three types of columns have the following possible used widths. </p>
   <ol>
    <li>columnMinWidth 
    <li>columnMinWidth + delta: <br> <span class="hint">A value between columnMinWidth and columnPreferredWidth-or-columnPreferredPercent</span> 
    <li>columnPreferredWidth <span class="hint">(for auto and specified unit columns)</span> or <br> columnPreferredPercent <span class="hint">(for specified percent columns)</span> 
    <li>
     columnPreferredWidth-or-columnPreferredPercent + delta<br> <span class="hint">A value larger than columnPreferredWidth-or-columnPreferredPercent</span> 
     <h4 class="heading settled" data-level="3.8.2" id="width-distribution-algorithm"><span class="secno">3.8.2. </span><span class="content">Distribution algorithm</span><a class="self-link" href="#width-distribution-algorithm"></a></h4>
     <p> When a table is laid out at a given used width, 
					the used width of each column must be determined as follows. </p>
     <p class="note" role="note"> For the purpose of this algorithm, we clarifty that
				the <dfn data-dfn-type="dfn" data-noexport="" id="assignable-table-width">assignable table width<a class="self-link" href="#assignable-table-width"></a></dfn> is
					the used width of the table 
					minus the total horizontal border spacing. </p>
     <ol>
      <li>Define the <dfn data-dfn-type="dfn" data-noexport="" id="min-content-guess">min-content guess<a class="self-link" href="#min-content-guess"></a></dfn> as the set of column width assignments 
					where each column is assigned its min-content width. 
      <li>
       Define the <dfn data-dfn-type="dfn" data-noexport="" id="min-content-percentage-guess">min-content-percentage guess<a class="self-link" href="#min-content-percentage-guess"></a></dfn> as the set of column width assignments where: 
       <ul>
        <li>
         each column with an intrinsic percentage width greater than 0% 
							is assigned the larger of: 
         <ul>
          <li>its intrinsic percentage width times the assignable width and 
          <li>its min-content width. 
         </ul>
        <li>all other columns are assigned their min-content width. 
       </ul>
      <li>
       Define the <dfn data-dfn-type="dfn" data-noexport="" id="min-content-specified-guess">min-content-specified guess<a class="self-link" href="#min-content-specified-guess"></a></dfn> as the set of column width assignments where: 
       <ul>
        <li>
         each column with an intrinsic percentage width greater than 0% 
							is assigned the larger of: 
         <ul>
          <li>its intrinsic percentage width times the assignable width and 
          <li>its min-content width, and 
         </ul>
        <li>any other column that is constrained 
							is assigned its max-content width, and 
        <li>all other columns are assigned their min-content width. 
       </ul>
      <li>
       Define the <dfn data-dfn-type="dfn" data-noexport="" id="max-content-guess">max-content guess<a class="self-link" href="#max-content-guess"></a></dfn> as the set of column width assignments where: 
       <ul>
        <li>
         each column with an intrinsic percentage width greater than 0% 
							is assigned the larger of: 
         <ul>
          <li>its intrinsic percentage width times the assignable width and 
          <li>its min-content width 
          <li>all other columns are assigned their max-content width. 
         </ul>
         <div class="note" role="note"> Note that the assignable width is greater than or equal to the table width using the min-content guess, 
					and that the widths for each column in the four guesses 
					(min-content guess, min-content-percentage guess, min-content-specified guess, and max-content guess) 
					are in nondecreasing order. </div>
         <p> If the <a data-link-type="dfn" href="#assignable-table-width">assignable table width</a> is less than or equal to the <a data-link-type="dfn" href="#max-content-guess">max-content guess</a>, 
					the used widths of the columns must be the linear combination (with weights adding to 1) 
					of the two consecutive guesses whose width sums bound the available width. </p>
         <p> Otherwise, the used widths of the columns are the result of starting from the <a data-link-type="dfn" href="#max-content-guess">max-content guess</a> and distributing the excess width to the columns of the table 
					according to the rules for <a data-link-type="dfn" href="#distributing-excess-width-to-columns">distributing excess width to columns</a> for used width calculation. </p>
         <figure>
          <p class="advisement"> The following schema describes the algorithm in a different way, 
					to make it easier to understand. </p>
           <img U0003100U00025U00022="" src="images/CSS-Tables-Column-Width-Assignment.svg" style-U00022widthU0003A=""> 
          <figcaption>Overview of the width distribution algorithm. Not normative.</figcaption>
         </figure>
         <p class="issue" id="issue-d245ea8c"><a class="self-link" href="#issue-d245ea8c"></a> Edge and Chrome ignores "min-width: %" while Firefox applies it properly.
			Firefox continues to apply a "min-width: %" when a "width: px" is specified (the width is ignored).
			We should decide on what is the right behavior and make sure it is written in the spec. </p>
         <h5 class="heading settled" data-level="3.8.2.1" id="distributing-width-to-columns"><span class="secno">3.8.2.1. </span><span class="content">Distributing excess width to columns</span><a class="self-link" href="#distributing-width-to-columns"></a></h5>
         <p> The rules for <dfn data-dfn-type="dfn" data-noexport="" id="distributing-excess-width-to-columns">distributing excess width to columns<a class="self-link" href="#distributing-excess-width-to-columns"></a></dfn> can be invoked in two ways: </p>
         <ul>
          <li>for distributing the excess width of a table to its columns 
					during the computation of the used widths of those columns (for used width calculation), or 
          <li>for distributing the excess max-content or min-content width of a column-spanning cell 
					to the max-content or min-content widths of the columns it spans (for intrinsic width calculation). 
         </ul>
         <p> The rules for these two cases are largely the same, but there are slight differences. </p>
         <p> The remainder of this section uses the term <dfn data-dfn-type="dfn" data-noexport="" id="distributed-width">distributed width<a class="self-link" href="#distributed-width"></a></dfn> to refer to the one of these widths that is being distributed, 
			and the <dfn data-dfn-type="dfn" data-noexport="" id="excess-width">excess width<a class="self-link" href="#excess-width"></a></dfn> is used to refer to the amount by which the width being distributed 
			exceeds the sum of the distributed widths of the columns it is being distributed to. </p>
         <ol>
          <li>If there are non-constrained columns that have originating cells 
					with intrinsic percentage width of 0% and 
					with nonzero max-content width <i class="hint">(aka the columns allowed to grow by this rule)</i>, 
				the distributed widths of the columns allowed to grow by this rule 
					are increased in proportion to max-content width 
					so the total increase adds to the excess width. 
          <li>Otherwise, if there are non-constrained columns that have originating cells 
					with intrinsic percentage width of 0% <i class="hint">(aka the columns allowed to grow by this rule, which thanks to the previous rule must have zero max-content width)</i>, 
				the distributed widths of the columns allowed to grow by this rule 
					are increased by equal amounts 
					so the total increase adds to the excess width. 
          <li>Otherwise, if there are (constrained) columns 
					with intrinsic percentage width of 0% and 
					with nonzero max-content width <i class="hint">(aka the columns allowed to grow by this rule, which, due to other rules, must have originating cells)</i>, 
				the distributed widths of the columns allowed to grow by this rule 
					are increased in proportion to max-content width 
					so the total increase adds to the excess width. 
          <li>Otherwise, if there are columns 
					with intrinsic percentage width greater than 0% <i class="hint">(aka the columns allowed to grow by this rule, which, due to other rules, must have originating cells)</i>, 
				the distributed widths of the columns allowed to grow by this rule 
					are increased in proportion to intrinsic percentage width 
					so the total increase adds to the excess width. 
          <li>Otherwise, the distributed widths of all columns that have originating cells 
					are increased by equal amounts 
					so the total increase adds to the excess width. 
         </ol>
       </ul>
       <p class="issue" id="issue-06742495"><a class="self-link" href="#issue-06742495"></a> What if no columns have originating cells? 
			Should the originating cells condition in the previous paragraph just be removed, or should, there be an additional "Otherwise" here? </p>
       <h3 class="heading settled" data-level="3.9" id="height-distribution"><span class="secno">3.9. </span><span class="content">Available Height Distribution</span><a class="self-link" href="#height-distribution"></a></h3>
       <h4 class="heading settled" data-level="3.9.1" id="height-distribution-principles"><span class="secno">3.9.1. </span><span class="content">Core principles</span><a class="self-link" href="#height-distribution-principles"></a></h4>
       <p class="issue" id="issue-3b5cc48d"><a class="self-link" href="#issue-3b5cc48d"></a> Decide what to do for height distribution. <br> <span class="hint">Should we use the same algorithm as <a href="#width-distribution">§3.8 Available Width Distribution</a> with different metrics?</span> </p>
       <div class="note" role="note">
        <p style="font-weight: bold; font-size: 120%;"> Investigations on height distribution </p>
        <p> Initial analysis shows that there are indeed similarities between width and height distribution. 
					There are also differences which I described here below: </p>
        <p> In many case, all browsers apply a distribution algorithm that favors percentages over pixels over auto. <span class="hint"><a href="https://jsfiddle.net/xg2ss965/2/">Case 6</a></span>. </p>
        <p> A difference with the width distribution algorithm is that 
						if the sum of all rows' heights is higher than 100%,
						then all browsers enter a completely different mode. <a href="https://jsfiddle.net/6ec0hxgx/">Case 7</a>. <span class="hint"> NOTE: The sum counts as well percentage heights and pixels heights, 
							since at this point you can safely resolve percentages. </span> <br> </p>
        <p>In this case, pixel-tracks are sized properly first.
					Then, percentage tracks get the remaining space proportionally to their height percentage up to their height percentage.
					Finally, auto tracks get to fill the remaining space, if there is any auto track.
					If there is none, percentage tracks continue growing above their height percentage until all the space is filled. <a href="https://jsfiddle.net/xg2ss965/1/">Case 9</a>.</p>
        <p> The height distribution algorithm also caps the sum of percentage heights to 100% in all browsers but Edge.
					That means that some rows get an arbitrary 0% height. <a href="https://jsfiddle.net/xg2ss965/">Case 8</a>. </p>
        <p> In Edge and Firefox, empty tracks do not get an increased size by this distribution if there are filled auto tracks.
					In Chrome, empty tracks count as distributable tracks as well even if there are other auto tracks. </p>
        <ul class="inline hint">
         <li>Case 1: <a href="https://jsfiddle.net/Lh9shm8p/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/">width</a> 
         <li>Case 2: <a href="https://jsfiddle.net/Lh9shm8p/1/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/1/">width</a> 
         <li>Case 3: <a href="https://jsfiddle.net/Lh9shm8p/2/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/2/">width</a> 
         <li>Case 4: <a href="https://jsfiddle.net/Lh9shm8p/3/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/3/">width</a> 
         <li>Case 5: <a href="https://jsfiddle.net/Lh9shm8p/4/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/4/">width</a> 
        </ul>
        <p id="min-content-and-percentages"> Intersting test cases about min-content and content using percentage sizes: </p>
        <ul class="compact">
         <li><a href="https://jsfiddle.net/gzapbyeg/1/">Case 10</a>. 
         <li><a href="https://jsfiddle.net/gzapbyeg/2/">Case 11</a>. 
        </ul>
         <br> Chrome and Edge apply percentages on the final layout. 
					All browsers work around them during the first pass 
						by considering them 0% (Chrome) or
						by ignoring the declaration (Edge, Firefox).
					The difference of choice is visible in <a href="https://jsfiddle.net/vmfrLzke/1/">Case 12</a>. <a href="http://codepen.io/FremyCompany/pen/obdYjv?editors=1100">Case 13</a>. 
       </div>
       <h4 class="heading settled" data-level="3.9.2" id="height-distribution-algorithm"><span class="secno">3.9.2. </span><span class="content">Distribution algorithm</span><a class="self-link" href="#height-distribution-algorithm"></a></h4>
       <p> TODO </p>
       <h3 class="heading settled" data-level="3.10" id="layout-algorithm"><span class="secno">3.10. </span><span class="content">Position of cells and captions</span><a class="self-link" href="#layout-algorithm"></a></h3>
       <p style="font-style: italic"> This section will explain where cells and captions should be rendered. </p>
       <div class="issue" id="issue-a0ceb132"><a class="self-link" href="#issue-a0ceb132"></a> We have to decide whether we want captions to act like a row, or be independant.
			Right now their existence is eluded to avoid answering the question. <a class="hint" href="https://jsfiddle.net/q1qwo6j6/1/">!!Testcase</a> </div>
       <div class="issue" id="issue-6bb7ab0f"><a class="self-link" href="#issue-6bb7ab0f"></a> We have to decide what visibility:collapse does.
			My proposal is to do like "hidden" but in addition 
				use the following formula to shift back the following rows/columns.
			The total width/height of the table would not be affected, only the cells position would. <a href="http://codepen.io/FremyCompany/pen/KVRzWe?editors=1100">!!Testcase</a>. <a href="http://codepen.io/FremyCompany/pen/KVRzQx?editors=1100">!!Testcase</a>. <a href="http://codepen.io/FremyCompany/pen/MKGyBx?editors=1100">!!Testcase</a>. </div>
       <p> Once the width of each column, and height of each row has been determined,
				the position of any table cell C is defined as the rectangle whose: </p>
       <ul class="compact">
        <li>
         width/height is the sum of: 
         <ul>
          <li>the widths/heights of all spanned columns/rows 
          <li>the horizontal/vertical <a class="property" data-link-type="propdesc" href="#propdef-border-spacing">border-spacing</a> times the amount of spanned columns/rows minus one 
         </ul>
        <li>
         left/top location is the sum of: 
         <ul>
          <li>the widths/heights of all previous columns/rows 
          <li>the horizontal/vertical <a class="property" data-link-type="propdesc" href="#propdef-border-spacing">border-spacing</a> times the amount of previous columns/rows plus one 
         </ul>
       </ul>
        <a href="https://jsfiddle.net/3pox7b4f/" id="spanning-ghost-rows">~Testcase</a> <a href="https://jsfiddle.net/3pox7b4f/1/">!!Testcase</a> <a href="https://jsfiddle.net/3pox7b4f/3/">!!Testcase</a> <a href="https://jsfiddle.net/3pox7b4f/4/">!!Testcase</a> <a href="https://jsfiddle.net/3pox7b4f/5/">Testcase</a> 
       <p> If the table layout mode is "fixed", 
				the content of some cells may exceed the available horizontal space,
				and cause an overflow. 
			Such overflow should behave exactly 
				like if the cell was an absolutely positioned display:block box. <a class="hint" href="https://jsfiddle.net/24bz3Lp1/">!Testcase</a> <a class="hint" href="https://jsfiddle.net/24bz3Lp1/1/">!Testcase</a> <a class="hint" href="https://jsfiddle.net/24bz3Lp1/3/">Testcase</a> </p>
       <h2 class="heading settled" data-level="4" id="rendering"><span class="secno">4. </span><span class="content">Rendering</span><a class="self-link" href="#rendering"></a></h2>
       <h3 class="heading settled" data-level="4.1" id="paint-order"><span class="secno">4.1. </span><span class="content">Paint order of cells</span><a class="self-link" href="#paint-order"></a></h3>
       <p> Table cells are painted in a table-root in DOM order as usual,
				independently of where cells end up actually being drawn. </p>
       <h3 class="heading settled" data-level="4.2" id="empty-cell-rendering"><span class="secno">4.2. </span><span class="content">Empty cell rendering (separated mode)</span><a class="self-link" href="#empty-cell-rendering"></a></h3>
       <p> Cells are <dfn data-dfn-type="dfn" data-noexport="" id="empty-cell">empty<a class="self-link" href="#empty-cell"></a></dfn> unless they contain one or more of the following: </p>
       <ul>
        <li>floating content, or 
        <li>in-flow content (other than white space that has been collapsed away by the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-text-3/#propdef-white-space">white-space</a> property handling).
       </ul>
       <div class="issue" id="issue-7f4dcff0"><a class="self-link" href="#issue-7f4dcff0"></a> Chrome simplified this to just matching :empty. 
			Should we match? </div>
       <table class="def propdef" data-link-for-hint="empty-cells">
        <tbody>
         <tr>
          <th>Name:
          <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-empty-cells">empty-cells<a class="self-link" href="#propdef-empty-cells"></a></dfn>
         <tr class="value">
          <th>Value:
          <td class="prod">show <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-3/#comb-one">|</a> hide
         <tr>
          <th>Initial:
          <td>show
         <tr>
          <th>Applies to:
          <td><code>table-cell</code> elements
         <tr>
          <th>Inherited:
          <td>yes
         <tr>
          <th>Percentages:
          <td>n/a
         <tr>
          <th>Media:
          <td>visual
         <tr>
          <th>Computed value:
          <td>as specified
         <tr>
          <th>Animatable:
          <td>no
       </table>
       <p> <a data-link-type="dfn" href="#in-collapsed-mode">In collapsed mode</a>, 
				this property has no effect. </p>
       <p> <a data-link-type="dfn" href="#in-separated-mode">In separated mode</a>, 
				this property controls the rendering of borders and backgrounds 
				around cells that have no visible content. </p>
       <p> When this property has the value <code>hide</code>, 
				no borders or backgrounds are drawn around/behind empty cells. </p>
       <div class="issue" id="issue-903a0b3e"><a class="self-link" href="#issue-903a0b3e"></a> Why not just say that the cell has "visibility: hidden"? </div>
       <p> Furthermore, if all the cells in a row have a value of <code>hide</code> and have no visible content, 
				then the row has zero height and the vertical border-spacing applies to one side of the row only. </p>
       <div class="issue" id="issue-af274d05"><a class="self-link" href="#issue-af274d05"></a> Why not just say that the row has "display: none"? </div>
       <div class="issue" id="issue-10a33aee"><a class="self-link" href="#issue-10a33aee"></a> Moreover, do we even need this behavior? <a href="https://jsfiddle.net/2oy2qt2q/3/">!!Testcase</a> </div>
       <div class="example" id="example-9bf4e8d5">
        <a class="self-link" href="#example-9bf4e8d5"></a> 
        <p>For example, take the following markup and css: </p>
<pre class="lang-markup highlight"><span class="p">&lt;</span><span class="nt">table</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">td</span><span class="p">>&lt;</span><span class="nt">span</span><span class="p">>&lt;/</span><span class="nt">span</span><span class="p">>&lt;/</span><span class="nt">td</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">td</span><span class="p">>&lt;/</span><span class="nt">td</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">td</span><span class="p">>&lt;</span><span class="nt">span</span><span class="p">>&lt;/</span><span class="nt">span</span><span class="p">>&lt;/</span><span class="nt">td</span><span class="p">></span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">></span></pre>
<pre class="lang-css highlight"><span class="nt">table </span><span class="p">{</span> 
  <span class="k">width</span><span class="p">:</span> <span class="m">500</span><span class="l">px</span><span class="p">;</span> <span class="k">height</span><span class="p">:</span> <span class="m">300</span><span class="l">px</span><span class="p">;</span>
  <span class="k">empty-cells</span><span class="p">:</span> hide<span class="p">;</span>
<span class="p">}</span>

<span class="nt">table </span><span class="p">{</span> <span class="k">background</span><span class="p">:</span> black<span class="p">;</span> <span class="k">border</span><span class="p">:</span> <span class="m">10</span><span class="l">px</span> solid black<span class="p">;</span> <span class="p">}</span>
<span class="nt">td </span><span class="p">{</span> <span class="k">background</span><span class="p">:</span> white<span class="p">;</span> <span class="p">}</span>

<span class="nt">table </span><span class="p">{</span> <span class="k">border-spacing</span><span class="p">:</span> <span class="m">0</span><span class="l">px</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">td </span><span class="p">{</span> <span class="k">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span></pre>
        <p>The correct rendering of this code snippet is depicted here: </p>
        <figure>
          <img height="300" src="images/empty-cells-example.gif" width="500"> 
         <figcaption>Rendering of three columns whose middle one is hidden by empty-cells:hide</figcaption>
        </figure>
       </div>
       <h3 class="heading settled" data-level="4.3" id="drawing-cell-backgrounds"><span class="secno">4.3. </span><span class="content">Drawing cell backgrounds</span><a class="self-link" href="#drawing-cell-backgrounds"></a></h3>
       <p> In addition to its own <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#background">background</a>, <a data-link-type="dfn" href="#table-cell">table-cell</a> elements also render the backgrounds of the <a data-link-type="dfn" href="#table-track">table-track</a> and <a data-link-type="dfn" href="#table-track-grouping-element">table-track-grouping</a> elements in which they belong. 
			This is actually different from simply inheriting their background 
				because the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#background-origin">background-origin</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#background-size">background-size</a> computations will actually be done on the bounds of the grouping elements, and not on those of the cell. </p>
       <p> For the purposes of finding the background of each table cell, 
				the different table elements may be thought of as being on six superimposed layers. 
			The background set on an element in one of the layers will only be visible 
				if the layers above it have a transparent background. </p>
       <p></p>
       <figure>
         <img src="http://www.w3.org/TR/CSS2/images/tbl-layers.png"> 
        <figcaption>Schema of table layers.</figcaption>
       </figure>
       <p></p>
       <ol start="0">
        <li>The table background is being rendered by the table, 
				and does not affect the cell background. 
        <li>The first background drawn by a cell is the background of its originating column group. 
				For the purpose of background-positioning, it is expected that a column group occupies the largest possible area a single cell could occupy in the row/column grid
				while originating in the column group and not entering any column not part of the column group. 
        <li>The second background drawn by a cell is the background of its originating column. 
				For the purpose of background-positioning, it is expected that a column occupies the largest possible area a single cell could occupy in the row/column grid
				while originating in the column and not entering any other column. 
        <li>The third background drawn by a cell is the background of its originating row group. 
				For the purpose of background-positioning, it is expected that a row group occupies the largest possible area a single cell could occupy in the row/column grid 
				while originating in the row group and not entering any row not part of the row group. 
        <li>The fourth background drawn by a cell is the background of its originating row. 
				For the purpose of background-positioning, it is expected that a row occupies the largest possible area a single cell could occupy in the row/column grid 
				while originating in the row and not entering any other row. 
        <li>The fifth background drawn by a cell is its own background. 
				This is the one that appears on top once all backgrounds have been rendered. 
       </ol>
       <p> As the figure above shows, although all rows contain the same number of cells, 
				not every cell may have specified content. <a data-link-type="dfn" href="#in-separated-mode">In separated mode</a>, if the value of their <a class="property" data-link-type="propdesc" href="#propdef-empty-cells">empty-cells</a> property is <code>hide</code>, these "empty" cells are not rendered at all, 
				as if <code>visibility: hidden</code> was specified on them, 
				letting the table background show through. </p>
       <h3 class="heading settled" data-level="4.4" id="drawing-collapsed-borders"><span class="secno">4.4. </span><span class="content">Drawing borders (collapsed mode)</span><a class="self-link" href="#drawing-collapsed-borders"></a></h3>
       <p> When a table is <a data-link-type="dfn" href="#rendered-in-collapsed-mode">rendered in collapsed mode</a>, 
				the rendering of its borders on and those of its table-cells is modified.
			The following rules describe in which way. </p>
       <h4 class="heading settled" data-level="4.4.1" id="drawing-collapsed-table-root-borders"><span class="secno">4.4.1. </span><span class="content">Drawing table-root elements borders (collapsed mode)</span><a class="self-link" href="#drawing-collapsed-table-root-borders"></a></h4>
       <p> Borders of a <a data-link-type="dfn" href="#table-root-element">table-root</a> element are not rendered <a data-link-type="dfn" href="#in-collapsed-mode">in collapsed mode</a>, 
					except if the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-image">border-image</a> property is set. </p>
       <p> In this case, the border is drawn as if the table border was twice as big as its used value specify, 
					and as if that excess was rendered inside the padding area of the <a data-link-type="dfn" href="#table-root-element">table-root</a> element. </p>
       <h4 class="heading settled" data-level="4.4.2" id="drawing-collapsed-table-cell-borders"><span class="secno">4.4.2. </span><span class="content">Drawing table-cell elements borders (collapsed mode)</span><a class="self-link" href="#drawing-collapsed-table-cell-borders"></a></h4>
       <p> Borders of a <a data-link-type="dfn" href="#table-cell">table-cell</a> element are rendered <a data-link-type="dfn" href="#in-collapsed-mode">in collapsed mode</a> as if the cell border was twice as big as its used value specify, 
					and as if that excess was rendered in the margin area of the cell, 
					with the added constraint that 
						for each side of the border which isn’t located at one of the the table edges, 
						the border is actually clipped to the border-box drawing area as its real used value define
						except if the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-image">border-image</a> property is set. </p>
       <p> If applying the previously-mentioned clipping behavior results in clipping a border over a non-integer amount of device pixels, 
					browsers may decide to snap the clipping area to a device pixel instead by ceiling the x- and y-values of the clipping area. 
				Ceiling the values ensures that in a normal writing mode, 
					the cell which gets the contested pixels between multiple cells is actually the most top left one, 
					which has a greater specificity than the other ones according to this spec. <span class="hint">See <a href="#paint-order">§4.1 Paint order of cells</a> and <a href="#border-conflict-resolution-algorithm">§3.6.1.1 Conflict Resolution Algorithm for Collapsed Borders</a>.</span> </p>
       <h4 class="heading settled" data-level="4.4.3" id="border-style-overrides"><span class="secno">4.4.3. </span><span class="content">Border styles (collapsed mode)</span><a class="self-link" href="#border-style-overrides"></a></h4>
       <p> Some of the values of the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-style">border-style</a> have different meanings in tables <a data-link-type="dfn" href="#in-collapsed-mode">in collapsed mode</a> than for other elements.
				Those definitions override the default behavior for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-style">border-style</a> values defined in the <a href="#TODO">Backgrounds and Borders specification</a>. </p>
       <dl>
        <dt data-md="">
         <p>hidden</p>
        <dd data-md="">
         <p>Same as <code>none</code>, but also inhibits any other border (see <a href="#border-specificity">§3.6.1.3 Specificity of a border style</a>).</p>
        <dt data-md="">
         <p>inset</p>
        <dd data-md="">
         <p>Same as <code>ridge</code>.</p>
        <dt data-md="">
         <p>outset</p>
        <dd data-md="">
         <p>Same as <code>groove</code>.</p>
       </dl>
       <h2 class="heading settled" data-level="5" id="bug-list"><span class="secno">5. </span><span class="content">List of bugs being tracked</span><a class="self-link" href="#bug-list"></a></h2>
       <p style="font-size: italic"> This section is not normative. </p>
       <ul class="bug-list">
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/jWzpjq?editors=1100"> Align=center attribute overrides css margins in Edge </a> 
          <details> Chrome and Firefox let CSS win.<br> Edge hides every border + table/row-group/row background.<br> <br> This specification says that Chrome and Firefox are right.<br> <a href="#mapping">§2.3 Mapping between CSS &amp; HTML attributes</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/ZQxVMo?editors=1100"> Chrome applies nowrap quirks mode fix in DOCTYPE documents too </a> 
          <details> Edge and Firefox do not apply the fix in normal mode.<br> Chrome also applies it for css widths, which is not what the spec says to do.<br> <br> The WHATWG spec says that Chrome is wrong.<br> This spec is aiming to state the same thing.<br> <a href="#mapping">§2.3 Mapping between CSS &amp; HTML attributes</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/RrMvPR?editors=1100"> Edge does not account for widths of spanned cells </a> 
          <details> Chrome and Firefox merge the two columns so are not affected.<br> Edge does not then is confused about what to do.<br> <br> The specs says that Edge is wrong.<br> <a href="#dimensioning-the-row-column-grid">§3.2 Dimensioning the row/column grid</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/xZWmXy?editors=1100"> Align=center attribute overrides css margins in Edge </a> 
          <details> Edge has issues with percentage widths.<br> <br> This specification should say that Chrome and Firefox are right, I guess.<br> <a href="#computing-cell-measures">§3.7.2 Computing Cell Measures</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/PZRdzo?editors=1100"> Table boxes should be wide enough to contain the caption </a> 
          <details> Chrome uses the CSS21 algorithm that fulfill this.<br> Firefox and Edge use David Baron’s algorithm that doesn’t.<br> <br> This specification has no opinion yet on the matter.<br> Chrome behavior is simpler to spec but not intuitive.<br> <a href="#computing-the-table-width">§3.7.4 Computing the table width</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/VeXVwz?editors=1100"> Tables containing no row cannot have height in Chrome, but can in Edge/Firefox </a> 
          <details> Chrome has table height = 0px.<br> Firefox and Edge have table height = specified height.<br> <br> This specification has no opinion yet on the matter.<br> Firefox and Edge match author intentions better.<br> <a href="#computing-the-table-height">§3.7.5 Computing the table height</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/yeKRGW?editors=1100"> Table-layout:fixed causes different width distribution in Chrome </a> 
          <details> Chrome starts to value px then percentages.<br> Others continue to value percentage then px.<br> <br> This specification has no opinion yet on the matter.<br> It is intended to specify the Edge/Firefox behavior.<br> <a href="#width-distribution">§3.8 Available Width Distribution</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/XXEoWe?editors=1100"> Chrome distributes the height to each row differently then IE and firefox </a> 
          <details> Chrome distributes rather equally.<br> Edge and Firefox work more similarly to width distribution.<br> <br> This specification has no opinion yet on the matter.<br> I think it makes sense to behave similarly for width and height, though.<br> <a href="#height-distribution">§3.9 Available Height Distribution</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/PZRdOP?editors=1100"> Height of rows which can overflow varies in Chrome vs Edge
				(percentage heights during min-height computation) </a> 
          <details> Chrome chooses table constraints over the no-scroll constraint.<br> Edge and Firefox do the opposite.<br> <br> This specification has no opinion yet on the matter.<br> Edge’s behavior is right by default due to CSS Sizing, though.<br> It would make sense to do what Chrome is doing when elements have non-visible overflow-y.<br> <a href="#height-distribution">§3.9 Available Height Distribution</a> <a href="#min-content-and-percentages">#REF</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/MKVPGR?editors=1100"> Height specified on row groups is not interoperable </a> 
          <details> Chrome ignores the height.<br> Firefox respects the height.<br> IE applies the height to each cell.<br> <br> This specification has no opinion yet on the matter.<br> An author would expect the Firefox behavior.<br> <a href="#height-distribution">§3.9 Available Height Distribution</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/MKVPGR?editors=1100"> Min-Height specified on rows is not interoperable </a> 
          <details> Chrome and Firefox ignore the height.<br> Edge applies the height.<br> <br> This specification has no opinion yet on the matter.<br> An author would expect the Edge behavior.<br> <a href="#height-distribution">§3.9 Available Height Distribution</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://jsfiddle.net/ArtyomShegeda/Ffjhn/1/"> Table with interleaved td[rowspan] rendered wrong in IE (145069) </a> 
          <details> Edge height-sizing has issues with this crossed-rowspan table.<br> <br> There is no doubt this is a bug, but it is a good test case for the algorithm.<br><br> <a href="#height-distribution">§3.9 Available Height Distribution</a> </details>
         </summary>
        <li>
         <summary>
           <a href="http://codepen.io/FremyCompany/pen/MKVqXQ?editors=1100"> Row with explicit 'visibility:visible' lose background color
				when parent table has 'visibility: hidden' </a> 
          <details>
            Chrome only hides table background + border.<br> Firefox hides table background + border, and row-group background.<br> Edge hides every border + table/row-group/row background.<br> <br> This specification currently says that Chrome is right.<br> <a href="#drawing-cell-backgrounds">§4.3 Drawing cell backgrounds</a><br> 
           <div class="issue" id="issue-aa6d058b"><a class="self-link" href="#issue-aa6d058b"></a> Should we hide the row-group background 
						by saying cells only draw the backgrounds 
						of visibility:visible grouping elements? </div>
          </details>
         </summary>
       </ul>
       <h2 class="heading settled" data-level="6" id="TODO"><span class="secno">6. </span><span class="content">(link here for missing sections)</span><a class="self-link" href="#TODO"></a></h2>
     </ol>
   </ol>
  </main>
  <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
  <h3 class="heading settled" id="document-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#document-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
	descriptive assertions and RFC 2119 terminology. The key words “MUST”,
	“MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
	“RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
	document are to be interpreted as described in RFC 2119.
	However, for readability, these words do not appear in all uppercase
	letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
	explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
  <p>Examples in this specification are introduced with the words “for example”
	or are set apart from the normative text with <code>class="example"</code>,
	like this: </p>
  <div class="example" id="example-52448c84">
   <a class="self-link" href="#example-52448c84"></a> 
   <p>This is an example of an informative example. </p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
	normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note. </p>
  <p>Advisements are normative sections styled to evoke special attention and are
	set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
	this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong> </p>
  <h3 class="heading settled" id="conform-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#conform-classes"></a></h3>
  <p>Conformance to this specification
	is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#style-sheet">CSS
			style sheet</a>. 
   <dt>renderer 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
			documents that use them. 
   <dt>authoring tool 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dl>
  <p>A style sheet is conformant to this specification
	if all of its statements that use syntax defined in this module are valid
	according to the generic CSS grammar and the individual grammars of each
	feature defined in this module. </p>
  <p>A renderer is conformant to this specification
	if, in addition to interpreting the style sheet as defined by the
	appropriate specifications, it supports all the features defined
	by this specification by parsing them correctly
	and rendering the document accordingly. However, the inability of a
	UA to correctly render a document due to limitations of the device
	does not make the UA non-conformant. (For example, a UA is not
	required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
	if it writes style sheets that are syntactically correct according to the
	generic CSS grammar and the individual grammars of each feature in
	this module, and meet all other conformance requirements of style sheets
	as described in this module. </p>
  <h3 class="heading settled" id="conform-responsible"><span class="content"> Requirements for Responsible Implementation of CSS</span><a class="self-link" href="#conform-responsible"></a></h3>
  <p>The following sections define several conformance requirements
		for implementing CSS responsibly,
		in a way that promotes interoperability in the present and future. </p>
  <h4 class="heading settled" id="conform-partial"><span class="content"> Partial Implementations</span><a class="self-link" href="#conform-partial"></a></h4>
  <p>So that authors can exploit the forward-compatible parsing rules to assign fallback values, <strong>CSS renderers <em>must</em> treat as invalid
		(and <a href="http://www.w3.org/TR/CSS2/conform.html#ignore">ignore as appropriate</a>)
		any at-rules, properties, property values, keywords, and other syntactic constructs
		for which they have no usable level of support</strong>.
		In particular, user agents <em>must not</em> selectively ignore
		unsupported property values and honor supported values in a single multi-value property declaration:
		if any value is considered invalid (as unsupported values must be),
		CSS requires that the entire declaration be ignored. </p>
  <h4 class="heading settled" id="conform-future-proofing"><span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
		the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h4 class="heading settled" id="conform-testing"><span class="content"> Implementations of CR-level Features</span><a class="self-link" href="#conform-testing"></a></h4>
  <p>Once a specification reaches the Candidate Recommendation stage,
		implementers should release an <a data-link-type="dfn" href="http://www.w3.org/TR/CSS/#vendor-prefix">unprefixed</a> implementation
		of any CR-level feature they can demonstrate
		to be correctly implemented according to spec,
		and should avoid exposing a prefixed variant of that feature. </p>
  <p>To establish and maintain the interoperability of CSS across
		implementations, the CSS Working Group requests that non-experimental
		CSS renderers submit an implementation report (and, if necessary, the
		testcases used for that implementation report) to the W3C before
		releasing an unprefixed implementation of any CSS features. Testcases
		submitted to W3C are subject to review and correction by the CSS
		Working Group. </p>
  <p>Further information on submitting testcases and implementation reports
		can be found from on the CSS Working Group’s website at <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
		Questions should be directed to the <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list. </p>
  <h2 class="no-num heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#assignable-table-width">assignable table width</a><span>, in §3.8.2</span>
   <li><a href="#propdef-border-collapse">border-collapse</a><span>, in §3.4.2</span>
   <li><a href="#propdef-border-spacing">border-spacing</a><span>, in §3.7.1</span>
   <li><a href="#caption-side-bottom">bottom</a><span>, in §3.4.3</span>
   <li><a href="#propdef-caption-side">caption-side</a><span>, in §3.4.3</span>
   <li><a href="#CAPMIN">caption width minimum (CAPMIN)</a><span>, in §3.7.4</span>
   <li><a href="#cell-intrinsic-offsets">cell intrinsic offsets</a><span>, in §3.7.2</span>
   <li><a href="#consecutive-boxes">consecutive</a><span>, in §2.1.1</span>
   <li><a href="#constrainedness">constrainedness</a><span>, in §3.7.3</span>
   <li><a href="#distributed-width">distributed width</a><span>, in §3.8.2.1</span>
   <li><a href="#distributing-excess-width-to-columns">distributing excess width to columns</a><span>, in §3.8.2.1</span>
   <li><a href="#empty-cell">empty</a><span>, in §4.2</span>
   <li><a href="#propdef-empty-cells">empty-cells</a><span>, in §4.2</span>
   <li><a href="#excess-width">excess width</a><span>, in §3.8.2.1</span>
   <li><a href="#in-collapsed-mode">in collapsed mode</a><span>, in §3.4.2</span>
   <li><a href="#inline-table">inline-table</a><span>, in §2.1</span>
   <li><a href="#in-separated-mode">in separated mode</a><span>, in §3.4.2</span>
   <li><a href="#intermediate-intrinsic-percentage-width-for-span-1">intermediate intrinsic percentage width for span 1</a><span>, in §3.7.3</span>
   <li><a href="#intermediate-intrinsic-percentage-width-for-span-n-n--1">intermediate intrinsic percentage width for span N (N > 1)</a><span>, in §3.7.3</span>
   <li><a href="#intermediate-max-content-width-for-span-1">intermediate max-content width for span 1</a><span>, in §3.7.3</span>
   <li><a href="#intermediate-max-content-width-for-span-n-n--1">intermediate max-content width for span N (N > 1)</a><span>, in §3.7.3</span>
   <li><a href="#intermediate-min-content-width-for-span-1">intermediate min-content width for span 1</a><span>, in §3.7.3</span>
   <li><a href="#intermediate-min-content-width-for-span-n-n--1">intermediate min-content width for span N (N > 1)</a><span>, in §3.7.3</span>
   <li><a href="#intrinsic-percentage-width">intrinsic percentage width</a><span>, in §3.7.3</span>
   <li><a href="#max-content-guess">max-content guess</a><span>, in §3.8.2</span>
   <li><a href="#max-content-width">max-content width</a><span>, in §3.7.3</span>
   <li><a href="#min-content-guess">min-content guess</a><span>, in §3.8.2</span>
   <li><a href="#min-content-percentage-guess">min-content-percentage guess</a><span>, in §3.8.2</span>
   <li><a href="#min-content-specified-guess">min-content-specified guess</a><span>, in §3.8.2</span>
   <li><a href="#min-content-width">min-content width</a><span>, in §3.7.3</span>
   <li><a href="#outer-max-content">outer max-content</a><span>, in §3.7.2</span>
   <li><a href="#outer-min-content">outer min-content</a><span>, in §3.7.2</span>
   <li><a href="#percentage-contribution">percentage contribution</a><span>, in §3.7.2</span>
   <li><a href="#proper-table-child-element">proper table child</a><span>, in §2.1.1</span>
   <li><a href="#proper-table-row-parent-element">proper table-row parent</a><span>, in §2.1.1</span>
   <li><a href="#rendered-in-collapsed-mode">rendered in collapsed mode</a><span>, in §3.4.2</span>
   <li><a href="#rendered-in-separated-mode">rendered in separated mode</a><span>, in §3.4.2</span>
   <li><a href="#table">table</a><span>, in §2.1</span>
   <li><a href="#table-caption">table-caption</a><span>, in §2.1</span>
   <li><a href="#table-cell">table-cell</a><span>, in §2.1</span>
   <li><a href="#table-column">table-column</a><span>, in §2.1</span>
   <li><a href="#table-column-group">table-column-group</a><span>, in §2.1</span>
   <li><a href="#table-footer-group">table-footer-group</a><span>, in §2.1</span>
   <li><a href="#table-header-group">table-header-group</a><span>, in §2.1</span>
   <li><a href="#table-internal-element">table-internal</a><span>, in §2.1.1</span>
   <li><a href="#table-intrinsic-offsets">table intrinsic offsets</a><span>, in §3.7.2</span>
   <li><a href="#propdef-table-layout">table-layout</a><span>, in §3.4.1</span>
   <li><a href="#table-non-root-element">table-non-root</a><span>, in §2.1.1</span>
   <li><a href="#table-root-element">table-root</a><span>, in §2.1.1</span>
   <li><a href="#table-row">table-row</a><span>, in §2.1</span>
   <li><a href="#table-row-group">table-row-group</a><span>, in §2.1</span>
   <li><a href="#table-row-grouping-element">table-row-grouping</a><span>, in §2.1.1</span>
   <li><a href="#table-track">table-track</a><span>, in §2.1.1</span>
   <li><a href="#table-track-grouping-element">table-track-grouping</a><span>, in §2.1.1</span>
   <li><a href="#tabular-container">tabular container</a><span>, in §2.1.1</span>
   <li><a href="#caption-side-top">top</a><span>, in §3.4.3</span>
   <li><a href="#total-horizontal-border-spacing">total horizontal border spacing</a><span>, in §3.7.2</span>
  </ul>
  <h3 class="no-num heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio" href="#biblio-css-backgrounds-3">[css-backgrounds-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#background">background</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#background-origin">background-origin</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#background-size">background-size</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border">border</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-image">border-image</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-image-source">border-image-source</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-radius">border-radius</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-style">border-style</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-width">border-width</a>
    </ul>
   <li>
    <a data-link-type="biblio" href="#biblio-css-multicol-2">[css-multicol-2]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-multicol-2/#propdef-column-span">column-span</a>
    </ul>
   <li>
    <a data-link-type="biblio" href="#biblio-css-text-3">[css-text-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-text-3/#propdef-text-align">text-align</a>
     <li><a href="https://drafts.csswg.org/css-text-3/#propdef-white-space">white-space</a>
    </ul>
   <li>
    <a data-link-type="biblio" href="#biblio-css-ui-3">[css-ui-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a>
    </ul>
   <li>
    <a data-link-type="biblio" href="#biblio-css-values-3">[css-values]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-values-3/#string-value">&lt;string></a>
     <li><a href="https://drafts.csswg.org/css-values-3/#mult-opt">?</a>
     <li><a href="https://drafts.csswg.org/css-values-3/#comb-one">|</a>
    </ul>
   <li>
    <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css2/visuren.html#propdef-display">display</a>
     <li><a href="https://drafts.csswg.org/css2/box.html#propdef-margin">margin</a>
     <li><a href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>
     <li><a href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>
     <li><a href="https://drafts.csswg.org/css2/box.html#propdef-padding">padding</a>
     <li><a href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>
    </ul>
  </ul>
  <h2 class="no-num heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css21"><a class="self-link" href="#biblio-css21"></a>[CSS21]
   <dd>Bert Bos; et al. <a href="http://www.w3.org/TR/CSS2">Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. REC. URL: <a href="http://www.w3.org/TR/CSS2">http://www.w3.org/TR/CSS2</a>
   <dt id="biblio-css-backgrounds-3"><a class="self-link" href="#biblio-css-backgrounds-3"></a>[CSS-BACKGROUNDS-3]
   <dd>CSS Backgrounds and Borders Module Level 3 URL: <a href="http://www.w3.org/TR/css3-background/">http://www.w3.org/TR/css3-background/</a>
   <dt id="biblio-css-multicol-2"><a class="self-link" href="#biblio-css-multicol-2"></a>[CSS-MULTICOL-2]
   <dd>CSS Multi-column Layout Module Level 2 URL: <a href="https://drafts.csswg.org/css-multicol-2/">https://drafts.csswg.org/css-multicol-2/</a>
   <dt id="biblio-css-text-3"><a class="self-link" href="#biblio-css-text-3"></a>[CSS-TEXT-3]
   <dd>Elika Etemad; Koji Ishii. <a href="http://www.w3.org/TR/css-text-3/">CSS Text Module Level 3</a>. 10 October 2013. LCWD. URL: <a href="http://www.w3.org/TR/css-text-3/">http://www.w3.org/TR/css-text-3/</a>
   <dt id="biblio-css-ui-3"><a class="self-link" href="#biblio-css-ui-3"></a>[CSS-UI-3]
   <dd>Tantek Çelik; Florian Rivoal. <a href="http://www.w3.org/TR/css-ui-3/">CSS Basic User Interface Module Level 3 (CSS3 UI)</a>. 7 July 2015. CR. URL: <a href="http://www.w3.org/TR/css-ui-3/">http://www.w3.org/TR/css-ui-3/</a>
   <dt id="biblio-css-values"><a class="self-link" href="#biblio-css-values"></a>[CSS-VALUES]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="http://www.w3.org/TR/css-values/">CSS Values and Units Module Level 3</a>. 11 June 2015. CR. URL: <a href="http://www.w3.org/TR/css-values/">http://www.w3.org/TR/css-values/</a>
   <dt id="biblio-rfc2119"><a class="self-link" href="#biblio-rfc2119"></a>[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
  </dl>
  <h2 class="no-num heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Media
      <th scope="col">Ani­mat­able
      <th scope="col">Com­puted value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-table-layout">table-layout</a>
      <td>normal | fixed
      <td>separate
      <td>table-root elements.
      <td>yes
      <td>n/a
      <td>visual
      <td>no
      <td>as specified
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-border-collapse">border-collapse</a>
      <td>separate | collapse
      <td>normal
      <td>table-root elements.
      <td>yes
      <td>n/a
      <td>visual
      <td>no
      <td>as specified
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-caption-side">caption-side</a>
      <td>top | bottom
      <td>top
      <td>table-caption elements
      <td>yes
      <td>n/a
      <td>visual
      <td>no
      <td>as specified
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-border-spacing">border-spacing</a>
      <td>&lt;​length​> &lt;​length​>?
      <td>0px 0px
      <td>table-root elements when border-collapse is separate.
      <td>yes
      <td>n/a
      <td>visual
      <td>yes
      <td>two absolute lengths
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-empty-cells">empty-cells</a>
      <td>show | hide
      <td>show
      <td>table-cell elements
      <td>yes
      <td>n/a
      <td>visual
      <td>no
      <td>as specified
   </table>
  </div>
  <h2 class="no-num heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> The following paragraph does not define an exception but confirms the normal rule. 
			Is it needed? <a href="#issue-ac4ceca8"> ↵ </a></div>
   <div class="issue"> This isn’t about the table structure, but about layout.
			That should be defined elsewhere. <a href="#issue-a0105005"> ↵ </a></div>
   <div class="issue"> We should merge/review the WHATWG spec on <a href="https://html.spec.whatwg.org/#tables-2">HTML to CSS mapping of tables</a>.
		They cover a few attributes I didnt’t test including nowrap (which has interesting issues).
		They also include <a href="https://jsfiddle.net/8t78exf1/">things which are not true</a> in most browsers. 
		Investigations are therefore required for each and any merge being made! <a href="#issue-2e890406"> ↵ </a></div>
   <div class="issue"> We should define how spanning works, and define css properties for it. <a href="#issue-993fff0f"> ↵ </a></div>
   <div class="issue"> Add new css properties to control rowspan/colspan? Reuse grid ones? <a href="#issue-1628c800"> ↵ </a></div>
   <div class="issue">
    <p> To improve our compatibility with actual rendering, 
				we may need to specify something along those lines: </p>
    <p> "Modify the row/column grid such that 
				consecutive tracks spanned by the same set of cells 
				are merged into one single track 
				for the purpose of computing the layout of the table.
				Change the spanning of the cells contained in those tracks
				accordingly so that no difference is shown." <br> (see <a href="#spanning-ghost-rows">spanning-ghost-rows test cases</a>) </p>
    <a href="#issue-d2070ef4"> ↵ </a>
   </div>
   <div class="issue"> The HTML specification mentions that in some cases, two cells may occupy the same row/column location.
			We need to make sure this specification explains what happens in this case for layout/rendering. <a href="#issue-c35e32e5"> ↵ </a></div>
   <div class="issue"> Add simple example <a href="#issue-dd3967d6"> ↵ </a></div>
   <div class="issue"> CSS2 described a different width and horizontal alignment behavior. 
				That behavior was supposed to be introduced in CSS3 using the values <code>top-outside</code> and <code>bottom-outside</code> on this property. <a href="http://fantasai.inkedblade.net/style/discuss/captions/">#REF</a> <a href="#issue-7b647fd0"> ↵ </a></div>
   <div class="issue"> Gecko also supports the "left" and "right" values. It was never well defined though. <a href="http://codepen.io/FremyCompany/pen/YwGPWw">#REF</a> <a href="#issue-909ed227"> ↵ </a></div>
   <div class="issue"> <strong>GREG TODO:</strong> Check to see if this is interopable in different writing modes; based on those findings we may want to bring in logical props as well <a href="#issue-1a7f0903"> ↵ </a></div>
   <div class="issue"> This does not seem to be correct in either case, the cell border radius wins based on 
					this <a href="http://codepen.io/gregwhitworth/pen/LGWWZB" target="_blank">test</a>.
					Border-radius only works in IE/Edge and does not work in FF/Chrome. <span class="highlight"> Actually, this isn’t even totally true, as box-shadow shows:
						https://jsfiddle.net/wazhrfe3/1/ </span> <a href="#issue-a8ba5fbb"> ↵ </a></div>
   <div class="issue">
    <p> This entire section is a proposal to make the rendering of collapsed borders sane.
				As implementations diverge very visibly, it is expected to require more discussion than some other parts.
				Since browsers handle this so differently, convergence cannot happen without reimplementation.
				A major concern for this proposal was to support as many cases as possible, and yet 
					keep the effort required for a new implementation of tables as low as possible. </p>
    <p> <b>Background:</b> CSS+HTML allow unprecedented combinations of border modes for table junctions, 
					and it makes it difficult to support all cases properly; 
					in fact some combinations are not <a href="https://en.wikipedia.org/wiki/Well-posed_problem">well-posed problems</a>, 
					so no rendering algorithm could be optimal. </p>
    <p> Because they grew from something simple (HTML) to something very complex (HTML+CSS), 
					the current table rendering models (backgrounds and borders) used by web browsers are insane
					(in the sense they are buggy, not interoperable and not CSSish at all). 
				Many usual CSS assumptions are broken, and renderings diverge widely. </p>
    <p> This proposal aims at fixing this situation. </p>
    <a href="#issue-2a3d1531"> ↵ </a>
   </div>
   <div class="issue"> <strong>This proposal does not respect these stated requirements:</strong><br> UAs must compute an initial left and right border width for the table 
				by examining the first and last cells in the first row of the table. 
			The left border width of the table is half of the first cell’s collapsed left border, 
				and the right border width of the table is half of the last cell’s collapsed right border. 
			If subsequent rows have larger collapsed left and right borders, 
				then any excess spills into the margin area of the table. <a href="#issue-9f6680c4"> ↵ </a></div>
   <div class="issue"> This proposal is doing worse than Edge and Firefox (but better than Chrome) when
				row- or colspanned cells have border styles which conflict with their neighbors,
				and those neighbors have different styles which conflict with each other.
			This is a necessary trade-of to make the model sane. <a href="#issue-78fb4dd2"> ↵ </a></div>
   <div class="issue"> The width of the table is the distance from the left inner padding edge to the right inner padding edge (including the border spacing but excluding padding and border).
				However, in HTML and XHTML1, the width of the &lt;table> element is the distance from the left border edge to the right border edge. <b> Note: In CSS3 this peculiar requirement will be defined in terms of UA style sheet rules and the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a> property. </b> <a href="#issue-33218562"> ↵ </a></div>
   <div class="issue">Is this the correct way to account for the various changes that have gone into CSS2.1 regarding which border sticks out into the margin?<a href="#issue-f3f1a29e"> ↵ </a></div>
   <div class="issue">But doesn’t that break handling of percentage padding? <a class="hint" href="https://jsfiddle.net/j5dbco4m/">I don’t think so because they are resolved based on parent anyway</a><a href="#issue-3287d070"> ↵ </a></div>
   <div class="issue">Isn’t <span class="highligth">that</span> better solved by the proposal to fix the row-grid in <a href="#dimensioning-the-row-column-grid">§3.2 Dimensioning the row/column grid</a>?<a href="#issue-ab7a6ec6"> ↵ </a></div>
   <div class="issue"> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a> really be able to override the min-content width? 
								An alternative expression is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min-content width)</code> @ FR: I think we should choose this option. <a href="#issue-1fe927c0"> ↵ </a></div>
   <div class="issue"> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a> affect outer min-content widths at all? 
								@ FR: I think it should, yes. That’s interoperable. <a href="#issue-1ff189b6"> ↵ </a></div>
   <div class="issue"> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a> affect outer min-content widths at all? <a href="#issue-c04d1426"> ↵ </a></div>
   <div class="issue"> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a> be able to override the intrinsic min-content width? 
								An alternative expression is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min-content width, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, max-content width)</code>. <a href="#issue-fb243c49"> ↵ </a></div>
   <div class="issue"> Should <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a> be able to override the min-content width? 
								An alternative expression is <code>max(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-min-width">min-width</a>, min-content width, min(<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-width">width</a>))</code>. <a href="#issue-518d808e"> ↵ </a></div>
   <div class="issue"> These definitions need to account for the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a> property. <a href="#issue-171f9ab5"> ↵ </a></div>
   <div class="issue"> We mention earlier that fixed tables use a different algorithm for columns aggregation.
				We need to define it. <a href="#issue-d5aa74ba"> ↵ </a></div>
   <div class="issue">Rewrite!<a href="#issue-fb1008d6"> ↵ </a></div>
   <div class="issue"> This needs to account for character-alignment of cells ('<a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value">&lt;string></a>' values of the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-text-3/#propdef-text-align">text-align</a> property). 
				This requires (based on the 9 March 2011 editor’s draft of css3-text) separately tracking max-content widths 
					for the part of the column before the center of the alignment string and 
					the part of the column after the center of the alignment string. 
				For tracking min-content widths, there are two options: 
					either not track them, or track three values: 
					two values as for max-content widths for any cells that do not have break points in them, 
					and a fourth value for any cells that do have break points in them 
					(and to which character alignment is therefore not mandatory). <a href="#issue-f51fd601"> ↵ </a></div>
   <div class="issue"> The handling of the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-max-width">max-width</a> property with this algorithm is very poor. 
				It ought to have an effect stronger 
					than the one it has on the outer intrinsic widths of the element on which it is specified. 
				It probably ought to be a separate parameter of the column 
					(though how it interacts with the min-content width would need to be defined). <a href="#issue-c9bee0ce"> ↵ </a></div>
   <div class="issue"> The way this describes distribution of widths from column-spanning cells is wrong. 
				For min-content and max-content widths it should refer to the rules 
					for distributing excess width to columns for intrinsic width calculation.
				For percentages 
					it needs to ensure that it doesn’t distribute widths to columns 
					that do not have originating cells. <a href="#issue-fc9f9341"> ↵ </a></div>
   <div class="issue"> Do we need intermediate constrainedness? 
						It’s easier to implement that way, but does it actually make any difference? <a href="#issue-69b71497"> ↵ </a></div>
   <div class="issue"> Is 0% really treated like 0 rather than like a percentage value? 
				(e.g., if it’s the only non-spanning percentage in a column that has a spanning cell with a percentage width?) <a href="#issue-4ae33f53"> ↵ </a></div>
   <div class="issue"> We need to choose how captions affect the sizing of a table (see Alernatives) <a href="#issue-7ea7c49d"> ↵ </a></div>
   <div class="issue"> It would be nice to prove that there’s no need to iterate over the columns separately. 
							I think this is true because in such cases the small percentage effect would win. <a href="#issue-21e50732"> ↵ </a></div>
   <div class="issue">margin values aren’t used that way anymore<a href="#issue-5e277278"> ↵ </a></div>
   <div class="issue">margin values aren’t used that way anymore<a href="#issue-5e2772780"> ↵ </a></div>
   <div class="issue">this algorithm needs to account for percentage margin and padding correctly<a href="#issue-efe9643c"> ↵ </a></div>
   <div class="issue"> TODO, but this is probably done after width distribution. <a href="#issue-5f730fd0"> ↵ </a></div>
   <div class="issue"> This section should get an editorial review to 
					use the same terms as the other sections. <a href="#issue-488e8d11"> ↵ </a></div>
   <div class="issue"> Edge and Chrome ignores "min-width: %" while Firefox applies it properly.
			Firefox continues to apply a "min-width: %" when a "width: px" is specified (the width is ignored).
			We should decide on what is the right behavior and make sure it is written in the spec. <a href="#issue-d245ea8c"> ↵ </a></div>
   <div class="issue"> What if no columns have originating cells? 
			Should the originating cells condition in the previous paragraph just be removed, or should, there be an additional "Otherwise" here? <a href="#issue-06742495"> ↵ </a></div>
   <div class="issue"> Decide what to do for height distribution. <br> <span class="hint">Should we use the same algorithm as <a href="#width-distribution">§3.8 Available Width Distribution</a> with different metrics?</span> <a href="#issue-3b5cc48d"> ↵ </a></div>
   <div class="issue"> We have to decide whether we want captions to act like a row, or be independant.
			Right now their existence is eluded to avoid answering the question. <a class="hint" href="https://jsfiddle.net/q1qwo6j6/1/">!!Testcase</a> <a href="#issue-a0ceb132"> ↵ </a></div>
   <div class="issue"> We have to decide what visibility:collapse does.
			My proposal is to do like "hidden" but in addition 
				use the following formula to shift back the following rows/columns.
			The total width/height of the table would not be affected, only the cells position would. <a href="http://codepen.io/FremyCompany/pen/KVRzWe?editors=1100">!!Testcase</a>. <a href="http://codepen.io/FremyCompany/pen/KVRzQx?editors=1100">!!Testcase</a>. <a href="http://codepen.io/FremyCompany/pen/MKGyBx?editors=1100">!!Testcase</a>. <a href="#issue-6bb7ab0f"> ↵ </a></div>
   <div class="issue"> Chrome simplified this to just matching :empty. 
			Should we match? <a href="#issue-7f4dcff0"> ↵ </a></div>
   <div class="issue"> Why not just say that the cell has "visibility: hidden"? <a href="#issue-903a0b3e"> ↵ </a></div>
   <div class="issue"> Why not just say that the row has "display: none"? <a href="#issue-af274d05"> ↵ </a></div>
   <div class="issue"> Moreover, do we even need this behavior? <a href="https://jsfiddle.net/2oy2qt2q/3/">!!Testcase</a> <a href="#issue-10a33aee"> ↵ </a></div>
   <div class="issue"> Should we hide the row-group background 
						by saying cells only draw the backgrounds 
						of visibility:visible grouping elements? <a href="#issue-aa6d058b"> ↵ </a></div>
  </div>
 </body>
</html>