<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>CSS Grid Layout</title>
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet type="text/css">
  <style type="text/css">
      .example { 
          clear:both
      }

      th { 
          text-align:left
      }

      .pseudo-code {
          font-family:monospace
      }
      .pseudo-code > ol {
          list-style-type:decimal
      }
      .pseudo-code > ol > li > ol {
          list-style-type:lower-latin
      }
      .pseudo-code > ol > li > ol > li > ol {
          list-style-type:lower-roman
      }
      .pseudo-code ul {
          list-style-type:disc
      }

      dd > p:nth-child(1) {
          margin-top:0
      }
  </style>
</head>
<body>
<div class="head">
<!--logo-->

<h1 class="title" id="title">CSS Grid Layout</h1>
<h2 class="no-num no-toc">[LONGSTATUS], [DATE: 3 March 2012]</h2>
<dl>

  <dt>This version:</dt>
  <!-- <dd><a href="[VERSION]">http://www.w3.org/TR/[YEAR]/WD-[SHORTNAME]-[CDATE]/</a> -->
  <dd><a href="http://dev.w3.org/csswg/css3-grid-layout/">http://dev.w3.org/csswg/css3-grid-layout/</a>
  <dt>Latest version:</dt><dd><a href="http://www.w3.org/TR/[SHORTNAME]/">http://www.w3.org/TR/[SHORTNAME]/</a>
  <dt>Editor's draft:</dt><dd><a href="http://dev.w3.org/csswg/[SHORTNAME]/">http://dev.w3.org/csswg/[SHORTNAME]/</a>
  <dt>Previous version</dt><dd><a href="http://www.w3.org/TR/2011/WD-css3-grid-layout-20110407/">http://www.w3.org/TR/2011/WD-css3-grid-layout-20110407/</a></dd>
  <dt>Issues List:</dt>
    <dd><a href="https://www.w3.org/Bugs/Public/buglist.cgi?product=CSS&amp;component=Grid+Layout&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED">In Bugzilla</a>
  <dt>Discussion:</dt>
    <dd><a href="http://lists.w3.org/Archives/Public/www-style/">www-style@w3.org</a> with subject line &ldquo;<kbd>[[SHORTNAME]] <var>&hellip; message topic &hellip;</var></kbd>&rdquo;
  <dt>Editors:</dt>
    <dd><a href="mailto:alexmog@microsoft.com">Alex Mogilevsky</a>, Microsoft Corporation</dd>
    <dd><a href="mailto:pcupp@microsoft.com">Phil Cupp</a>, Microsoft Corporation</dd>
    <dd><a href="mailto:mmielke@microsoft.com">Markus Mielke</a>, Microsoft Corporation</dd>
    <dd><a href="mailto:daniel.glazman@disruptive-innovations.com">Daniel Glazman</a>, Disruptive Innovations</dd>
</dl>

<!--copyright-->

<hr title="Separator for header">
</div>
    <h2 class="no-num no-toc">Abstract</h2>
    <div id="abstract">
    <p>
        Grid Layout contains features targeted at web application authors.
        The Grid can be used to achieve many different layouts. It excels at dividing
        up space for major regions of an application, or defining the relationship in terms of
        size, position, and layer between parts of a control built from HTML primitives.
    </p>
    <p>
        Like tables, the Grid enables an author to align elements into columns and rows, 
        but unlike tables, the Grid doesn't have content structure, and thus enables a wide
        variety of layouts not possible with tables.  For example, the children of the Grid
        can position themselves with <i>Grid lines</i> such that they overlap and layer similar to
        positioned elements.
    </p>
    <p>
        In addition, the absence of content structure in the Grid helps to manage changes to layout
        by using fluid and source order independent layout techniques.  By combining media queries
        with the CSS properties that control layout of the Grid and its children, authors can adapt
        their layout to changes in device form factors, orientation, and available space, without needing to
        alter the semantic nature of their content.
    </p>
    </div>
    <h2 class="no-num no-toc">Status of This Document</h2>
    <p>This is a public copy of the editors' draft. It is provided for discussion only and may change at any moment. Its publication here does not imply endorsement of its contents by W3C. Don't cite this document other than as work in progress.</p>
    <p>
        If you wish to make comments regarding this document, please send them to 
        <a href="mailto:www-style@w3.org">www-style@w3.org</a> 
        (<a href="mailto:www-style-request@w3.org?subject=subscribe">subscribe</a>, <a href="http://lists.w3.org/Archives/Public/www-style/">archives</a>). 
        All feedback is welcome.
    </p>
    <p>This document was produced by a group operating under the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>. W3C maintains a <a rel="disclosure" href="http://www.w3.org/2004/01/pp-impl/32061/status">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
    <h2 class="no-num no-toc" id="table">Table of contents</h2>
    <!--toc-->
    
    <div id="dependencies" class="section">
    <h2>Dependencies on other modules</h2>
        <p>
            This CSS3 module has normative references to the following other CSS3 modules:
        </p>
            <ul>
                <li>[[!CSS3VAL]]</li>
                <li>[[!CSS3-ALIGN]]</li>
            </ul>
        <p>
            This CSS3 module has non-normative (informative) references to the following other CSS3 modules:
        </p>
            <ul>
                <li>[[CSS3LAYOUT]]</li>
            </ul>
    </div>
    <!--End section: Dependencies -->
 
    <div id="Introduction" class="section">
    <h2>Introduction</h2>
    
        <div id="basic-capabilities" class="section">
        <h3>Basic Capabilities of the Grid</h3>
            
            <div class="sidefigure">
                <img class="figure" alt="Image: Application layout example requiring horizontal and vertical alignment." src="images/basic-form.png" />
                <p class="caption">Application layout example requiring horizontal and vertical alignment.</p>
            </div>

            <p>
            As websites evolved from simple documents into complex, interactive applications, tools for document layout, e.g. floats, were not necessarily well suited for application layout. By using a combination of tables, JavaScript, or careful measurements on floated elements, authors discovered workarounds to achieve desired layouts.  Layouts that adapted to the available space were often brittle and resulted in counter-intuitive behavior as space became constrained. As an alternative, authors of many web applications opted for a fixed layout that cannot take advantage of changes in the available rendering space on a screen.
            </p>
                
            <p>
            The layout capabilities of the Grid address these problems. The Grid provides a mechanism for authors to divide available space for layout into columns and rows using a set of predictable sizing behaviors.  Authors can then precisely position and size the building block elements of their application by referencing the <i>Grid lines</i>  between the columns and rows, or by defining and referencing a <i>Grid area</i>, which is a rectangular space covering an intersection of columns and rows.  Figure 1 illustrates a basic layout which can be achieved with the Grid.
            </p>

        <!--End Section: Basic Capabilities of the Grid-->
        </div>
        
        <div id="adapting-to-available-space" class="section">
        <h3>Adapting Layouts to Available Space</h3>
            <div class="sidefigure">
                <p>
                    <img alt="Image: Five grid items arranged according to content size and available space." src="images/game-smaller.png" />
                </p>
                <p class="caption">Five grid items arranged according to content size and available space.</p>
            </div>
            <div class="sidefigure">
                <p>
                    <img alt="Image: Growth in the grid due to an increase in available space." src="images/game-larger.png" />
                </p>
                <p class="caption">Growth in the grid due to an increase in available space.</p>
            </div>

            <p>
                The <i>Grid element</i> can be used to intelligently reflow elements within a webpage.
                Figure 2 represents a game with five major areas in the layout: the game title, stats area, game board, score area, and control area. 
                The author's intent is to divide the space for the game such that:
                </p><ul>
                    <li>The stats area always appears immediately under the game title.</li>
                    <li>The game board appears to the right of the stats and title.</li>
                    <li>The top of the game title and the game board should always align.</li>
                    <li>The bottom of the game board and the stats area align when the game has reached its minimum height, 
                        but otherwise the game board will stretch to take advantage of all the screen real-estate available to it.
                    </li>
                    <li>The score area should align into the column created by the game and stats area, while the controls are centered under the board.</li>
                </ul> 
            
            <p>
                As an alternative to using script to control the absolute position, width, and height of all elements, the author can use the <i>Grid element</i>, as shown in Figure 3.
                The following example shows how an author might achieve all the sizing, placement, and alignment rules declaratively.
            </p>
            <p>
                Note that there are multiple ways to specify the structure of the <i>Grid element</i> and to position and size <i>Grid items</i>, each optimized for different scenarios.
                This example illustrates one that an author may use to define the position and space for each <i>Grid item</i> using the 
                'grid-definition-rows' and 'grid-definition-columns' properties of the <i>Grid element</i>, 
                and the 'grid-row', 'grid-column', 'grid-row-span' and 'grid-column-span' properties on each <i>Grid item</i>.
            </p>
            
            <pre class="example">&lt;style type="text/css"&gt;
&lt;style type="text/css"&gt;
    #grid { 
        display: grid;

        /* Two columns: the first sized to content, the second receives the remaining space,   */
        /* but is never smaller than the minimum size of the board or the game controls, which */
        /* occupy this column. */
        grid-columns: auto minmax(min-content, 1fr);

        /* Three rows: the first and last sized to content, the middle row receives the        */
        /* remaining space, but is never smaller than the minimum height of the board or stats */
        /* areas. */
        grid-rows: auto minmax(min-content, 1fr) auto
    }

    /* Each part of the game is positioned between grid lines by referencing the starting grid */
    /* line and then specifying, if more than one, the number of rows or columns spanned to    */
    /* determine the ending grid line, which establishes bounds for the part. */
    #title    { grid-column: 1; grid-row: 1 }
    #score    { grid-column: 1; grid-row: 3 }
    #stats    { grid-column: 1; grid-row: 2; justify-self: start }
    #board    { grid-column: 2; grid-row: 1; grid-row-span: 2 }
    #controls { grid-column: 2; grid-row: 3; align-self: center }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="title">Game Title&lt;/div&gt;
    &lt;div id="score">Score&lt;/div&gt;
    &lt;div id="stats">Stats&lt;/div&gt;
    &lt;div id="board">Board&lt;/div&gt;
    &lt;div id="controls">Controls&lt;/div&gt;
&lt;/div&gt;</pre>
        <!--End Section: Adapting to Available Space for Layout-->
        </div>
        
        <div class="section" id="source-independence">
        <h3>Source Independence</h3>
            <div class="sidefigure">
                <p>
                    <img alt="Image: An arrangement suitable for portrait orientation." src="images/game-portrait.png" />
                </p>
                <p class="caption">An arrangement suitable for ''portrait'' orientation.</p>
            </div>
        
            <div class="sidefigure">
                <p>
                    <img alt="Image: An arrangment suitable for landscape orientation." src="images/game-landscape.png" />
                </p>
                <p class="caption">An arrangment suitable for ''landscape'' orientation.</p>
            </div>
            <p>
                Continuing the prior example, the author also wants the game to adapt to the space available on traditional computer monitors, handheld devices, 
                or tablet computers. Also, the game should optimize the placement of the components when viewed either in landscape or portrait orientation 
                (Figures 4 and 5). By combining the CSS markup for the <i>Grid element</i> with media queries, the author is able to use
                the same semantic markup, but rearranged independent of its source order, to achieve the desired layout in both orientations.
            </p>
            <p>
                The following example leverages the <i>Grid element</i>&rsquo;s ability to name the space which will be occupied by a <i>Grid item</i>.  This allows the author
                to avoid rewriting rules for <i>Grid items</i> as the <i>Grid element</i>&rsquo;s definition changes.
            </p>
            <pre class="example">&lt;style type="text/css"&gt;
    @media (orientation: portrait) {
        #grid { 
            display: grid;
            
            /* The rows, columns and areas of the grid are defined visually using the */
            /* grid-template property.  Each string is a row, and each word an area.  */
            /* The number of words in a string determines the number of               */
            /* columns. Note the number of words in each string must be identical.    */
            grid-template: "title stats"
                           "score stats"
                           "board board"
                           "ctrls ctrls";
            
            /* Columns and rows created with the template property can be assigned a sizing */
            /* function with the grid-definition-columns and grid-definition-rows properties. */
            grid-definition-columns: auto minmax(min-content, 1fr); 
            grid-definition-rows: auto auto minmax(min-content, 1fr) auto
        }
    }

    @media (orientation: landscape) {
        #grid { 
            display: grid;
            
            /* Again the template property defines areas of the same name, but this time */
            /* positioned differently to better suit a landscape orientation.            */
            grid-template: "title board"
                           "stats board"
                           "score ctrls";
            
            grid-definition-columns: auto minmax(min-content, 1fr); 
            grid-definition-rows: auto minmax(min-content, 1fr) auto
        }
    }

    /* The grid-area property places a grid item into named region (area) of the grid. */
    #title    { grid-area: title }
    #score    { grid-area: score }
    #stats    { grid-area: stats }
    #board    { grid-area: board }
    #controls { grid-area: ctrls }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="title"&gt;Game Title&lt;/div&gt;
    &lt;div id="score"&gt;Score&lt;/div&gt;
    &lt;div id="stats"&gt;Stats&lt;/div&gt;
    &lt;div id="board"&gt;Board&lt;/div&gt;
    &lt;div id="controls"&gt;Controls&lt;/div&gt;
&lt;/div&gt;</pre>
        
        <!--End Section: Source Independence-->
        </div>
        
        <div class="section" id="grid-layering-of-elements">
        <h3>Grid Layering of Elements</h3>
            <div class="sidefigure">
                <p>
                    <img alt="Image: A control composed of layered HTML elements." src="images/control-layering-and-alignment.png" />
                </p>
                <p class="caption">A control composed of layered HTML elements.</p>
            </div>
            <p>
                In the example shown in Figure 6, the author is creating a custom slider control. 
                The control has six parts. The lower and upper labels align to the left and right edges of the control. 
                The track of the slider spans the area between the labels. 
                The lower and upper fill parts touch beneath the thumb, and the thumb is a fixed width and height 
                that can be moved along the track by updating the two fraction-sized columns.
            </p>
            <p>
                Prior to the <i>Grid element</i>, the author would have likely used absolute positioning to control the top and left coordinates, 
                along with the width and height of each HTML element that comprises the control.  
                By leveraging the <i>Grid element</i>, the author can instead limit script usage to handling mouse events on the thumb, 
                which snaps to various positions along the track as the 'grid-definition-columns' property of the <i>Grid element</i> is updated. 
            </p>
            <pre class="example">&lt;style type="text/css"&gt;
    #grid { 
        display: grid;

        /* The grid-definition-columns and rows properties also support naming grid lines */
        /* which can then be used to position grid items.  The line names are assigned on    */
        /* either side of a column or row sizing function where the line would logically exist. */
        grid-definition-columns:      
            "start"        auto 
            "track-start"  0.5fr 
            "thumb-start"  auto 
            "fill-split"   auto 
            "thumb-end"    0.5fr 
            "track-end"    auto
            "end";
    }

    /* grid-column and grid-row accept a starting and optional endling line. */
    /* Below the lines are referred to by name. Beyond any semantic advantage, the names  */
    /* also allow the author to avoid renumbering the grid-row and      */
    /* column properties of the grid items.  This is similar to the concept demonstrated in the */
    /*  prior example with the grid-template property during orientation changes, but    */
    /* grid lines can also work with layered grid items that have overlapping areas of    */
    /* different shapes like the thumb and track parts  in this example. */
    #lower-label { grid-column: "start" }
    #track       { grid-column: "track-start" "track-end"; align-self: center }
    #upper-label { grid-column: "track-end"; }
    
    /* Fill parts are drawn above the track so set z-index to 5. */
    #lower-fill  { grid-column: "track-start" "fill-split"; align-self: center; z-index: 5 }
    #upper-fill  { grid-column: "fill-split" "track-end"; align-self: center; z-index: 5 }
    
    /* Thumb is the topmost part; assign it the highest z-index value. */
    #thumb       { grid-column: "thumb-start" "thumb-end"; z-index: 10 }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="lower-label"&gt;Lower Label&lt;/div&gt;
    &lt;div id="upper-label"&gt;Upper Label&lt;/div&gt;
    &lt;div id="track"&gt;Track&lt;/div&gt;
    &lt;div id="lower-fill"&gt;Lower Fill&lt;/div&gt;
    &lt;div id="upper-fill"&gt;Upper Fill&lt;/div&gt;
    &lt;div id="thumb"&gt;Thumb&lt;/div&gt;
&lt;/div&gt;</pre>
        
        <!--End Section: Grid Layering of Elements-->
        </div>

    <!--End Section: Introduction-->
    </div>
    
    <div id="grid-concepts" class="section">
    <h2>Core Concepts of the Grid</h2>
        <div class="sidefigure">
            <img class="figure" alt="Image: A diagram illustrating the relationship between the Grid Element and its Tracks, Lines, Areas and Items." src="images/grid-concepts.png" />
            <p class="caption">A diagram illustrating the relationship between the <i>Grid element</i> and its Tracks, Lines, Areas and Items.</p>
        </div>
        <p>
        A <dfn id="grid-element">Grid element</dfn> is declared in markup by setting the display property of an element to ''grid'' or ''inline-grid''.  Child elements of the Grid are termed <i>Grid items</i> and may be positioned and sized by the <i>Grid element</i> by leveraging the following logical concepts.
        </p>
        <ul>
            <li><i>Grid tracks</i></li>
            <li><i>Grid lines</i></li>
            <li><i>Grid areas</i></li>
        </ul>
        <p>
        Figure 7 illustrates the relationship between these concepts and the markup in the subsections that follow produce the result shown in the figure.
        </p>

        <div id="grid-concepts-tracks" class="section">
        <h3>Grid Tracks</h3>
            <p>
                <dfn id="grid-track">Grid Track</dfn>s are the columns and rows of the Grid defined with the 'grid-definition-rows' and 'grid-definition-columns' properties on the <i>Grid element</i>.  Each Track is defined by declaring a sequential list of sizing functions, one for each Track.  Tracks define the space between <i>Grid lines</i>.
            </p>
            <pre class="example">&lt;style type="text/css"&gt;
    #grid { 
        display: grid; 
        grid-definition-columns: 150px 1fr; /* two columns */
        grid-definition-rows: 50px 1fr 50px /* three rows  */
    }
&lt;/style&gt;</pre>
        <!--End Section: Grid Tracks-->
        </div>

        <div id="grid-concepts-lines" class="section">
        <h3>Grid Lines</h3>
            <p>
                <dfn id="grid-line">Grid Line</dfn>s are the horizontal or vertical dividing lines that exist on either side of a column or row.  <i>Grid lines</i> may be referred to by their <i>Grid line</i> number, or they may be named by the author.  Authors use one or more quoted strings to assign names to a <i>Grid line</i> before or after a <i>Grid track</i> definition wherever the desired <i>Grid line</i> would logically exist. A <i>Grid item</i> then uses the <i>Grid lines</i> to determine its position and available space within the Grid by referencing the <i>Grid lines</i> using the properties 'grid-row' and 'grid-column'.  'grid-row' and 'grid-column' accept a starting and optional ending Line.
            </p>
            <p>
                The following two examples create three column <i>Grid lines</i> and four row <i>Grid lines</i>.  The first example demonstrates how an author would refer to the <i>Grid lines</i> using <i>Grid line</i> numbers.  The second example uses explicitly named <i>Grid lines</i>.
            </p>
            <pre class="example">&lt;style type="text/css"&gt;
    #grid { 
        display: grid; 
        grid-definition-columns: 150px 1fr;
        grid-definition-rows: 50px 1fr 50px
    }

    #item1 { grid-column: 2; grid-row: 1 4 }
&lt;/style&gt;</pre>

    <pre class="example">&lt;style type="text/css"&gt;
    /* equivalent layout to the prior example, but using named lines */
    #grid { 
        display: grid; 
        grid-definition-columns: 150px "item1-start" 1fr "item1-end";
        grid-definition-rows: "item1-start" 50px 1fr 50px "item1-end"
    }

    #item1 { 
        grid-column: "item1-start" "item1-end"; 
        grid-row: "item1-start" "item1-end" 
    }
&lt;/style&gt;</pre>
        <!--End Section: Grid Lines-->
        </div>
        <div id="grid-concepts-areas" class="section">
        <h3>Grid Areas</h3>
            <p>
                <dfn id="grid-area-concept">Grid Area</dfn>s are the logical space used to lay out one or more <i>Grid items</i>.  <i>Grid areas</i> may be defined explicitly using the 'grid-template' property, or implicitly by referencing a region of the Grid using the properties 'grid-row' and 'grid-column' on a <i>Grid item</i>.
            </p>
            <p>
                Whether a <i>Grid area</i> is created explicitly or implicitly, there is no difference in the layout or drawing order of the <i>Grid items</i> which are associated with that <i>Grid area</i>.  <i>Grid areas</i> cannot be styled.  Only the syntax used to refer to a region of space on the Grid differs between the implicit and explicit approach to provide authors with the tools to best suit their scenarios as illustrated in prior examples.
            </p>
            <pre class="example">&lt;style type="text/css"&gt;
    /* using the template syntax */
    #grid  { 
        display: grid; 
        grid-template: ". a"
                       "b a"
                       ". a";
        grid-definition-columns: 150px 1fr;
        grid-definition-rows: 50px 1fr 50px
    }

    #item1 { grid-area: "a" }
    #item2 { grid-area: "b" }
    #item3 { grid-area: "b" }

    /* Align items 2 and 3 at different points in the Grid Area "b".  */
    /* By default, Grid Items are stretched to fit their Grid Area    */
    /* and these items would layer one over the other. */
    #item2 { align-self: head }
    #item3 { justify-self: end; align-self: foot }&lt;/style&gt;</pre>
        <!--End Section: Grid Areas-->
        </div>
        
    <!--End Section: Core Concepts of the Grid-->
    </div>

    <div id="grid-declaration" class="section">
      <h2>Grid Declaration</h2>
      <p>
        A <i>Grid element</i> is declared by setting the display property.
      </p>

        <table id="display-property" class="propdef">
            <tbody>
                <tr>
                    <td>Name:</td>
                    <td>display</td>
                </tr>
                <tr>
                    <td>Value:</td>
                    <td>
                    [ ...existing values... | <dfn id="grid">grid</dfn> | <dfn id="inline-grid">inline-grid</dfn> | 
                    </td>
                </tr>
                <tr>
                    <td>Computed value:</td>
                    <td>specified value</td>
                </tr>
            </tbody>
        </table>
        <dl>
            <dt><a name="value-def-display-grid">grid</a></dt>
            <dd>A value of grid causes an element to display as a block-level <i>Grid element</i>.</dd>
            <dt><a name="value-def-display-inline-grid">inline-grid</a></dt>
            <dd>A value of inline-grid causes an element to display as an inline-level <i>Grid element</i>.</dd>
        </dl>
		<p>The baseline of an inline <i>Grid element</i> is the bottom edge of the margin box.</p>
		
    <!--End Section: Grid Declaration--> 
    </div>
    
    <div id="grid-items" class="section">	
	<h2>Grid items</h2>
	<p>
		The contents of a <i>grid element</i> consists of zero or more <dfn id="grid-item">grid items</dfn>:
		each child of a <i>grid element</i>
		becomes a <i>grid item</i>,
		and each contiguous run of text that is directly contained inside a <i>grid element</i>
		is wrapped in an anonymous <i>grid item</i>.
		However, an anonymous grid item that contains only
		<a href="http://www.w3.org/TR/CSS21/text.html#white-space-prop">white space</a>
		is not rendered, as if it were ''display:none''.

	<p>
		A <i>grid item</i> establishes a new formatting context for its contents.
		The type of this formatting context is determined by its 'display' value, as usual.
		The computed 'display' of a <i>grid item</i> 
		is determined by applying the table in
		<a href="http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo">CSS 2.1 Chapter 9.7</a>.
		However, grid items are grid-level boxes, not block-level boxes:
		they participate in the <i>grid element</i>'s formatting context,
		not in a block formatting context.

	<div class="example">
		<p>Examples of grid items:
		<pre>
&lt;div style="display:grid">

    &lt;!-- grid item: block child -->
    &lt;div id="item1">block&lt;/div>

    &lt;!-- grid item: floated element; floating is ignored -->
    &lt;div id="item2" style="float: left;">float&lt;/div>

    &lt;!-- grid item: anonymous block box around inline content -->
    anonymous item 3

    &lt;!-- grid item: inline child -->
    &lt;span>
        item 4
        &lt;!-- grid items do not split around blocks -->
        &lt;div id=not-an-item>item 4&lt;/div>
        item 4
    &lt;/span>
&lt;/div></pre>
	</div>

	<p>
		Some values of 'display' trigger the generation of anonymous boxes.  
		For example, a misparented ''table-cell'' child is fixed up
		by <a href="http://www.w3.org/TR/CSS21/tables.html#anonymous-boxes">generating anonymous ''table'' and ''table-row'' elements</a> around it. [[!CSS21]]
		This fixup must occur <em>before</em> a grid element's children are promoted to <i>grid items</i>.
		For example, given two contiguous child elements with ''display:table-cell'', 
		an anonymous table wrapper box around them becomes the <i>grid item</i>.

	<p class='note'>
		Future display types may generate anonymous containers (e.g. ruby) or otherwise mangle the box tree (e.g. run-ins).
		It is intended that grid item determination run after these operations.


    <!--End Section: Grid Items-->
    </div>
	
    <div class="section" id="defining-grid-rows-columns-and-lines">
    <h2>Defining Grid Rows, Columns and Lines</h2>

    <div class="section" id="grid-rows-and-columns">
        <h3>Grid Rows and Columns</h3>
            <div class="sidefigure">
                <img class="figure" alt="Image: Grid Lines." src="images/grid-lines.png" />
                <p class="caption">Grid Lines.</p>
            </div>
            <p>
            <i>Grid elements</i> use <i>Grid lines</i> to divide their space.  There are two sets of <i>Grid lines</i>: one set defined by the columns that run in the direction of block progression, and another orthogonal set defined by rows.  Block progression is a writing-mode term that defines a logical direction.  In English it means vertical.
            </p>
            <p>
            A <i>Grid track</i> is a generic term for a column or row which separates two <i>Grid lines</i>.  Each <i>Grid track</i> is assigned a sizing function, which controls how wide or tall the column or row may grow, and thus how far apart two <i>Grid lines</i> are.  The sizing function specified can be a length, a percentage of the <i>Grid element</i>&rsquo;s size, derived from the contents occupying the column or row, or a proportion of the space which remains in the <i>Grid element</i>.  In the last case, remaining space refers to the width or height of the <i>Grid element</i> after accounting for space already consumed by columns and rows sized with a length, percentage or content.  The size can also be specified as a range using a minmax function, which can combine any of the previously mentioned mechanisms to define a min and max size for the column or row.
            </p>
            <p>
            In the following example there are two columns and three rows.  The first column is 150px wide beginning from the starting edge of the <i>Grid element</i>&rsquo;s content box.  The second column uses fractional sizing, which is a function of the remaining space in the Grid.  Its size will vary as the width of the <i>Grid element</i> changes.  If the used width of the <i>Grid element</i> is 200px, then the second column 50px wide.  If the used width of the <i>Grid element</i> is 100px, then the second column is 0px and any content positioned in the column will be overflowing the <i>Grid element</i>.  Sizing occurs in a similar fashion for the rows.
            </p>
            <pre class="example">&lt;style type="text/css"&gt;
    #grid { 
        display: grid; 
        grid-definition-columns: 150px 1fr;
        grid-definition-rows: 50px 1fr 50px
    }
&lt;/style&gt;</pre>
        <!--End Section: Grid Rows, Columns and Implicit Grid Lines-->
        </div>

        <div class="section" id="grid-named-grid-lines">
            <h3>Named Grid Lines</h3>
            <div class="sidefigure">
                <img class="figure" alt="Image: Named Grid Lines." src="images/grid-named-lines.png" />
                <p class="caption">Named Grid Lines.</p>
            </div>
            <p>
                A <i>Grid line</i> exists on either side of a column or row.  The <i>Grid line</i> may be named using one or more quoted strings which are positioned in the 'grid-definition-rows' or 'grid-definition-columns' definitions where the <i>Grid line</i> would logically occur (in between the sizing functions that define the Grid's columns and rows).  Each name associated with a <i>Grid line</i> must be unique for the set of columns or rows.  If the name is specified multiple times in the same column or row definition, it is associated with the first <i>Grid line</i> to which the name was assigned. When a name is not specified, <i>Grid lines</i> can be referred to in the order which they occur.  The first line is 1, the second 2 and so on.  The next example builds on the prior by assigning each line one or more names.
            </p>
            <pre class="example">&lt;style type="text/css"&gt;
    #grid {
        display: grid;
        grid-definition-columns: "first" "nav" 150px "main" 1fr "last";
        grid-definition-rows: "first" "header" 50px "main" 1fr "footer" 50px "last";
    }
&lt;/style&gt;</pre>
        <!--End Section: Named Grid Lines-->
        </div>
        
        <div class="section" id="grid-repeating-columns-and-rows">
        <h3>Repeating Columns and Rows</h3>
            <p>
                If there are large number of columns or rows that are the same or exhibit a recurring pattern, a repeat function can be applied to define the columns or rows in a more compact form.
            </p>
            <p>
                The next two examples are equivalent.  There is a single row, and a pattern of repetitive column <i>Grid lines</i>: a 250px column followed by a 10px gutter.  Note that when the repeat function is used with <i>Grid line</i> naming, that the names are assigned to the first occurrence of the pattern.
            </p> 
            <pre class="example">&lt;style type="text/css"&gt;
    #grid {
        display: grid;
        grid-definition-columns: 10px "content" 250px 10px 250px 10px 250px 10px 250px 10px;
        grid-definition-rows: 1fr;
    }

    /* Equivalent definition. */
    #grid {
        display: grid;
        grid-definition-columns: 10px repeat(4, "content" 250px 10px);
        grid-definition-rows: 1fr;
    }
&lt;/style&gt;</pre>
        <!--End Section: Repeating Columns and Rows-->
        </div>
        
        <div class="section" id="grid-definition-columns-and-rows-properties">
        <h3>Grid-definition-columns and Grid-definition-rows Properties</h3>
            <p>
                The following grammar expresses the allowable values for the 'grid-definition-rows' and 'grid-definition-columns' properties.
            </p>
            <code><pre>&lt;track-list&gt;    => [ [ &lt;string&gt; ]* &lt;track-group&gt; [ &lt;string&gt; ]* ]+ | none
&lt;track-group&gt;   => &lt;track-minmax&gt; | [ repeat( &lt;positive-integer&gt; , [ [ &lt;string&gt; ]* &lt;track-minmax&gt; [ &lt;string&gt; ]* ]+ ) ]
&lt;track-minmax&gt;  => minmax( &lt;track-breadth&gt; , &lt;track-breadth&gt; ) | auto | &lt;track-breadth&gt;
&lt;track-breadth&gt; => &lt;length&gt; | &lt;percentage&gt; | &lt;fraction&gt; | min-content | max-content</pre></code>
            
            <br>
            <p>Where:</p>
            <ul>
                <li><dfn id="length">length</dfn> is as defined by CSS3 Values. [[!CSS3VAL]]</li>
                <li><i>percentage</i> expresses a size for a <i>Grid track</i> as a percentage of the <i>Grid element</i>&rsquo;s logical width (for columns) or logical height (for rows).
                    When the width or height of the <i>Grid element</i> is dependent on content, the result is undefined.</li>
                <li><dfn id="fraction">fraction</dfn> is a non-negative floating-point number followed 
                    by 'fr'. Each 'fraction' value takes a share of the remaining space proportional to 
                    its number.  See <i>fraction values</i> for more details.</li>
                <li><dfn id="max-content">max-content</dfn> is a keyword which refers to the maximum of the max sizes of <i>Grid items</i> occupying
                    the <i>Grid track</i>.</li>
                <li><dfn id="min-content">min-content</dfn> is a keyword which refers to the maximum of the min sizes of <i>Grid items</i> occupying
                    the <i>Grid track</i>.</li>
                <li><dfn id="minmax">minmax(min, max)</dfn> defines a size range. The size used
                    should be greater than or equal to 'min' and less than or equal to 'max'.  If 'max' &lt; 'min', 
                    then 'max' is ignored and 'minmax(min,max)' is treated as 'minmax(min,min)'.</li>
                <li><dfn id="auto">auto</dfn> is equivalent to 'minmax(min-content, max-content)'.</li>
            </ul>
            <p class="issue">
                Consider whether having undefined behavior for percentage-sized tracks in content-sized grids is appropriate. CSS2.1 and CSS3 leave percentage width undefined, although there appears to be consistency between browser implementations.
            </p>
            <br>
            <table id="grid-definition-columns-property" class="propdef">
                <tbody>
                    <tr>
                        <td>Name:</td>
                        <td><dfn id="grid-definition-columns">grid-definition-columns</dfn></td>
                    </tr>
                    <tr>
                        <td>Value:</td>
                        <td>see grammar above</td>
                    </tr>
                    <tr>
                        <td>Initial:</td>
                        <td>none</td>
                    </tr>
                    <tr>
                        <td>Applies to:</td>
                        <td>non-replaced elements with a computed value of ''grid'' or ''inline-grid'' for display.</td>
                    </tr>
                    <tr>
                        <td>Inherited:</td>
                        <td>no</td>
                    </tr>
                    <tr>
                        <td>Percentages:</td>
                        <td>n/a</td>
                    </tr>
                    <tr>
                        <td>Media:</td>
                        <td>visual, paged</td>
                    </tr>
                    <tr>
                        <td>Computed value:</td>
                        <td>see text</td>
                    </tr>
                </tbody>
            </table>
        
            <table id="grid-definition-rows-property" class="propdef">
                <tbody>
                    <tr>
                        <td>Name:</td>
                        <td><dfn id="grid-definition-rows">grid-definition-rows</dfn></td>
                    </tr>
                    <tr>
                        <td>Value:</td>
                        <td>see grammar above</td>
                    </tr>
                    <tr>
                        <td>Initial:</td>
                        <td>none</td>
                    </tr>
                    <tr>
                        <td>Applies to:</td>
                        <td>non-replaced elements with a computed value of ''grid'' or ''inline-grid'' for display.</td>
                    </tr>
                    <tr>
                        <td>Inherited:</td>
                        <td>no</td>
                    </tr>
                    <tr>
                        <td>Percentages:</td>
                        <td>n/a</td>
                    </tr>
                    <tr>
                        <td>Media:</td>
                        <td>visual, paged</td>
                    </tr>
                    <tr>
                        <td>Computed value:</td>
                        <td>see text</td>
                    </tr>
                </tbody>
            </table>

            <p>The following example:</p>
            <ul>
                <li>Adds one <i>Grid line</i> 100 pixels from the ''start'' of the grid.</li>
                <li>Adds another <i>Grid line</i> 1/2 of the remaining space away.</li>
                <li>Adds another <i>Grid line</i> whose distance from the prior <i>Grid line</i> will be based on the maximum content size of elements 
                    occupying the column.</li>
                <li>Adds another <i>Grid line</i> whose distance from the prior <i>Grid line</i> is based on 
                    the minimum content size of all elements occupying the column, or 1/2 the 
                    remaining space, whichever is greater.</li>
            </ul>
            <pre class="example">div { grid-definition-columns: 100px 1fr max-content minmax(min-content, 1fr) }</pre>
            
            <p>Additional examples of valid <i>Grid track</i> definitions:</p>
            <pre class="example">    /* examples of valid track definitions */
    grid-definition-rows: 1fr minmax(min-content, 1fr);
    grid-definition-rows: 10px repeat(2, 1fr auto minmax(30%, 1fr));
    grid-definition-rows: (10px);
    grid-definition-rows: calc(4em - 5px)</pre>
        <!--End Section: grid-definition-columns and grid-definition-rows Properties-->
        </div>

        <div id="fraction-values-fr" class="section">
        <h4>Fraction Values: 'fr'</h4>
            <p><dfn id="fraction-values">Fraction values</dfn> are new units applicable to the 'grid-definition-rows' and 'grid-definition-columns' properties:</p>
            <dl>
                <dt>fr</dt>
                <dd>Fraction of available space. </dd>
            </dl>
            
            <p>
                The distribution of fractional space occurs after all ''length'' 
                or content-based row and column sizes have reached their maximum. 
                The total size of the rows or columns is then subtracted from the available space and the remainder is 
                divided proportionately among the fractional rows and columns.
            </p>
            <p>
                Each column or row's proportional share can be computed as the column or row's 
                <code>&lt;fraction&gt; * &lt;remaining space&gt; / &lt;sum of all fractions&gt;</code>.  
                Note that fractions occurring within a ''minmax'' function are only counted in the sum if in the ''max'' position.  
                Further, fractions that occur in the ''min'' position are treated as an absolute length of <code>0px</code>.
            </p>
            <p>
                When remaining space cannot be determined because the width or height of the <i>Grid element</i> is undefined, fraction-sized <i>Grid tracks</i>
                are sized to their contents while retaining their respective proportions.  In such cases the size of each fractional <i>Grid track</i> can
                be computed by determining the 'max-content' size of each fractional <i>Grid track</i> and dividing that size by the respective
                'fraction'.  The maximum value of those results is treated as the <code>1fr</code> value, which is then multiplied
                by each <i>Grid track</i>&rsquo;s 'fraction' to determine its final size.
            </p>
        <!--End Section: Fraction Values: 'fr'-->
        </div>

        <div id="computed-values-grid-rows-and-columns" class="section">
        <h4>Computed Values for grid-definition-rows and grid-definition-columns</h4>
            <p>
                The computed size of all <i>Grid tracks</i> as returned for the 'grid-definition-rows' and 'grid-definition-columns' properties are normalized to used pixel values.
                All <i>Grid tracks</i> are included in the computed value reported for 'grid-definition-rows' and 'grid-definition-columns' regardless of how the <i>Grid tracks</i> were created, e.g. implicit tracks may be created by <i>Grid items</i> referencing a <i>Grid line</i> not explicitly defined by a 'grid-definition-rows' or 'grid-definition-columns' property.
                
                The computed value includes any used values for named lines; any duplicate names must be removed. User agents may use the repeat syntax to avoid expansive string length due to implicit <i>Grid track</i> creation, 
                large spanning values or high repeat counts specified by the author.
            </p>
            <p>
                The algorithm used to apply repeat syntax to used <i>Grid track</i> values and <i>Grid line</i> names is user agent specific.  See below for example inputs and outputs.
            </p>
            <pre class="example">&lt;style type=&quot;text/css&quot;&gt;
    #grid {
        width: 500px;
        grid-definition-columns: 
            "a"         auto 
            "b"         minmax(min-content, 1fr) 
            "b" "c" "d" repeat(2, "e" 40px) 
                        repeat(5, auto);
    }
&lt;/style&gt;
&lt;div id=&quot;grid&quot;&gt;
    &lt;div style=&quot;grid-column:1; width:50px&quot;&gt;&lt;/div&gt;
    &lt;div style=&quot;grid-column:9; width:50px&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    // Returns '"a" 50px "b" 320px "c" "d" repeat(2, "e" 40px) repeat(4, 0px) 50px'.
    var gridElement = document.getElementById("grid");
    window.getComputedStyle(gridElement, null).getPropertyValue("grid-definition-columns");
&lt;/script&gt;</pre>
        <!--End Section: Fraction Values: 'fr'-->
        </div>

        <div id="defining-grid-areas-with-a-template" class="section">
        <h3>Defining Grid Areas with a Template</h3>
            <p>
                <i>Grid areas</i> can also be defined explicitly using <a href="http://www.w3.org/TR/css3-syntax/Overview.html#identifiers">identifiers</a> via the 'grid-template' property.  The 'grid-template' property provides a visualization of the <i>Grid element</i>&rsquo;s structure while simultaneously defining the <i>Grid areas</i> which can be used to position and size the child elements of the Grid.
            </p>
			<p>
				A row is created for every separate string listed for the grid-template property, and a column is created for each identifier or period in each string. Note that all strings must have the same number of columns. A period represents an unnamed area in the <i>grid element</i> that cannot be used to position or size a <i>grid item</i>. An identifier creates a named <i>grid area</i> that can be used to position and size <i>grid items</i>. No two <i>grid areas</i> may have the same identifier. Duplicate identifiers define a <i>grid area</i> which spans multiple tracks, and must therefore therefore be geometrically adjacent to each other, forming a rectangular shape. A declaration which fails to meet these criteria will be dropped.
			</p>
            <p>
                In the following example, a 'grid-template' property is used to create a page layout where areas are defined for header content <code>head</code>, navigational content <code>nav</code>, footer content <code>foot</code>, and main content <code>main</code>. Accordingly, the template creates three rows, two columns, and four areas.  The <code>head</code> area spans both columns and the first row of the grid. Columns are the tracks that run in the inline direction and rows are the tracks running in the direction of block progression.  See Grid Writing Modes for more details. 
            </p>
            <p>
                The 'grid-area' property, defined in further detail below, is specified on <i>Grid items</i> to position the <i>Grid item</i> inside an explicitly named <i>Grid area</i>.
                The 'grid-area' property, defined in further detail below, is specified on <i>Grid items</i> to position the <i>Grid item</i> inside an explicitly named <i>Grid area</i>.
            </p>

            <pre class="example">&lt;style type=&quot;text/css&quot;&gt;
    #grid {
        display: grid;
        grid-template: "head head"
                       "nav  main"
                       "foot ."
    }
    #grid > a {
        grid-area: "nav";
    }
&lt;/style&gt;</pre>
        
            <table id="grid-template-property" class="propdef">
                <tbody>
                    <tr>
                        <td>Name:</td>
                        <td><dfn id="grid-template">grid-template</dfn></td>
                    </tr>
                    <tr>
                        <td>Value:</td>
                        <td>[ " [ IDENT | . ]+ " ]+ | <dfn id="none-template">none</dfn></td>
                    </tr>
                    <tr>
                        <td>Initial:</td>
                        <td>none</td>
                    </tr>
                    <tr>
                        <td>Applies to:</td>
                        <td>Grid elements</td>
                    </tr>
                    <tr>
                        <td>Inherited:</td>
                        <td>no</td>
                    </tr>
                    <tr>
                        <td>Percentages:</td>
                        <td>n/a</td>
                    </tr>
                    <tr>
                        <td>Media:</td>
                        <td>visual, paged</td>
                    </tr>
                    <tr>
                        <td>Computed value:</td>
                        <td>specified value</td>
                    </tr>
                </tbody>
            </table>
        
        <!--End Section: Defining Grid Areas with a Template-->
        </div>

    <!--End Section: Defining Grid Rows and Columns-->
    </div>


    <div id="grid-item-placement" class="section">
    <h2>Placing Grid Items</h2>
        <p>The properties 'grid-row' and 'grid-column' are used to place <i>Grid items</i> in the Grid. Numbers and strings refer to <i>Grid lines</i>. The properties will accept a mandatory starting <i>Grid line</i> and an optional ending <i>Grid line</i> which must be greater than the starting <i>Grid line</i>. A value of 'auto' will result in the placement of the <i>Grid item</i> according to the automatic placement algorithm described in section 7.4. An IDENT refers to a named <i>Grid area</i> and will compute to the row or column associated with that <i>Grid area</i>. 'grid-row' and 'grid-column' properties that refer to an undefined <i>Grid line</i> or an undefined <i>Grid area</i> via an IDENT will compute to their initial values.</p>
        <table id="grid-column-property" class="propdef">
            <tbody>
                <tr>
                    <td>Name:</td>
                    <td><dfn id="grid-column">grid-column</dfn></td>
                </tr>
                <tr>
                    <td>Value:</td>
                    <td>[ [ &lt;integer&gt; | &lt;string&gt; ] [ &lt;integer&gt; | &lt;string&gt; ]? ] | IDENT | <dfn id="auto-column-position">auto</dfn></td>
                </tr>
                <tr>
                    <td>Initial:</td>
                    <td>auto</td>
                </tr>
                <tr>
                    <td>Applies to:</td>
                    <td>Grid Item elements</td>
                </tr>
                <tr>
                    <td>Inherited:</td>
                    <td>no</td>
                </tr>
                <tr>
                    <td>Percentages:</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Media:</td>
                    <td>visual, paged</td>
                </tr>
                <tr>
                    <td>Computed value:</td>
                    <td>see text</td>
                </tr>
            </tbody>
        </table>

        <table id="grid-row-property" class="propdef">
            <tbody>
                <tr>
                    <td>Name:</td>
                    <td><dfn id="grid-row">grid-row</dfn></td>
                </tr>
                <tr>
                    <td>Value:</td>
                    <td>[ [ &lt;integer&gt; | &lt;string&gt; ] [ &lt;integer&gt; | &lt;string&gt; ]? ] | IDENT | <dfn id="auto-row-position">auto</dfn></td>
                </tr>
                <tr>
                    <td>Initial:</td>
                    <td>auto</td>
                </tr>
                <tr>
                    <td>Applies to:</td>
                    <td>Grid Item elements</td>
                </tr>
                <tr>
                    <td>Inherited:</td>
                    <td>no</td>
                </tr>
                <tr>
                    <td>Percentages:</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Media:</td>
                    <td>visual, paged</td>
                </tr>
                <tr>
                    <td>Computed value:</td>
                    <td>see text</td>
                </tr>
            </tbody>
        </table>
        		
		        <div id="grid-row-span-and-grid-column-span">
        <h3>Grid-row-span and Grid-column-span</h3>
            <p>
                As an alternative to specifying an ending line for a <i>Grid area</i> or <i>Grid item</i>, 'grid-row-span' and 'grid-column-span' properties are available to specify a distance (line count) from the starting line to the ending line to define the dimensions of a <i>Grid area</i>. An IDENT refers to a named <i>Grid area</i> and will compute to the row or column span associated with that <i>Grid area</i>.
                Note that when 'grid-column-span' and a 'grid-column' ending line are both specified for a <i>Grid item</i>, that the ending line has priority.  In such cases the computed value of 'grid-column-span' will be the <i>Grid line</i> number of the specified column ending line minus the <i>Grid line</i> number of the specified column starting line.
                The same holds true for the related row properties.
            </p>
            <pre class="example">&lt;style type=&quot;text/css&quot;&gt;
#item {
    /* the following two property definitions are equivalent */
    /* both place the item between the first and third line */
    /* which is covering the first and second row of the Grid */
    grid-row: 1 3;
    grid-row: 1; grid-row-span: 2;
}
&lt;/style&gt;</pre>

            <table id="grid-column-span-property" class="propdef">
                <tbody>
                    <tr>
                        <td>Name:</td>
                        <td><dfn id="grid-column-span">grid-column-span</dfn></td>
                    </tr>
                    <tr>
                        <td>Value:</td>
                        <td>&lt;integer&gt; | IDENT </td>
                    </tr>
                    <tr>
                        <td>Initial:</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>Applies to:</td>
                        <td>Grid Item elements</td>
                    </tr>
                    <tr>
                        <td>Inherited:</td>
                        <td>no</td>
                    </tr>
                    <tr>
                        <td>Percentages:</td>
                        <td>n/a</td>
                    </tr>
                    <tr>
                        <td>Media:</td>
                        <td>visual, paged</td>
                    </tr>
                    <tr>
                        <td>Computed value:</td>
                        <td>specified value</td>
                    </tr>
                </tbody>
            </table>
        
            <table id="grid-row-span-property" class="propdef">
                <tbody>
                    <tr>
                        <td>Name:</td>
                        <td><dfn id="grid-row-span">grid-row-span</dfn></td>
                    </tr>
                    <tr>
                        <td>Value:</td>
                        <td>&lt;integer&gt; | IDENT</td>
                    </tr>
                    <tr>
                        <td>Initial:</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>Applies to:</td>
                        <td>Grid Item elements</td>
                    </tr>
                    <tr>
                        <td>Inherited:</td>
                        <td>no</td>
                    </tr>
                    <tr>
                        <td>Percentages:</td>
                        <td>n/a</td>
                    </tr>
                    <tr>
                        <td>Media:</td>
                        <td>visual, paged</td>
                    </tr>
                    <tr>
                        <td>Computed value:</td>
                        <td>specified value</td>
                    </tr>
                </tbody>
            </table>
        <!--End Section: Grid-row-span and Grid-column-span-->
        </div>

		
		<div id="the-grid-area-shorthand" class="section">
        <h3>The Grid Area shorthand</h3>
		
		<p>The 'grid-area' property is a shorthand for the 'grid-column', 'grid-row', 'grid-column-span', and 'grid-row-span' properties. Assigning an IDENT to the 'grid-area' property will set all four properties to the IDENT value. Specifying two integers will specify the row position and column position, respectively. Specifying three integers will specify the row and column positions, and set both the row and column spans to the value of the third integer. Specifying four integers will specify the row and column positions, and the row and column spans, respectively. Specifying four strings will specify the top, right, bottom, and left <i>Grid lines</i> for the <i>Grid item</i>, respectively. Specifying auto will set auto row and column positions to be resolved in accordance with 'grid-flow' property, as well as optionally specified row and column spans similar to the int syntax specified above.</p>
		
            <table id="grid-area-property" class="propdef">
                <tbody>
                    <tr>
                        <td>Name:</td>
                        <td><dfn id="grid-area">grid-area</dfn></td>
                    </tr>
                    <tr>
                        <td>Value:</td>
                        <td>IDENT | <br> [ &lt;int&gt; ]{2,4} | <br> [ &lt;string&gt; ]{4} | <br> [ <dfn id="none-area">auto</dfn> [ &lt;int&gt; ]{0,2} ]</td>
                    </tr>
                    <tr>
                        <td>Initial:</td>
                        <td>none</td>
                    </tr>
                    <tr>
                        <td>Applies to:</td>
                        <td>Grid Item elements</td>
                    </tr>
                    <tr>
                        <td>Inherited:</td>
                        <td>no</td>
                    </tr>
                    <tr>
                        <td>Percentages:</td>
                        <td>n/a</td>
                    </tr>
                    <tr>
                        <td>Media:</td>
                        <td>visual, paged</td>
                    </tr>
                    <tr>
                        <td>Computed value:</td>
                        <td>specified value</td>
                    </tr>
                </tbody>
            </table>

		<p>
		Note that the use of a shorthand property resets all properties covered by that property to their initial value, except for the properties explicitly set by the shorthand property.
		</p>
		
        <!--End Section: The grid area shorthand-->
        </div>


        
        <div id="anonymous-grid-areas" class="section">
        <h3>Anonymous Grid Areas</h3>
            <p>
                Each <i>Grid item</i> is contained by a <i>Grid area</i>, i.e. the <i>Grid area</i> serves as the containing block for the <i>Grid item</i>.  The dimensions of an anonymous <i>Grid area</i> are determined by naming the starting and ending <i>Grid lines</i> using the 'grid-row' and 'grid-column' properties on the <i>Grid item</i> which the <i>Grid area</i> surrounds.  The starting and ending lines may be referred to by a string name, if one was defined by the author, the <a href="#start-column-position">start</a> and <a href="#end-column-position">end</a> line keywords, or the <i>Grid line</i>&rsquo;s number.
            </p>
            <p>
                The following example positions the first <i>Grid item</i> to cover all rows and columns of the <i>Grid element</i> using the <a href="#start-column-position">start</a> and <a href="#end-column-position">end</a> keywords.  The second <i>Grid item</i> is positioned to cover the first row.  Note that when only the starting <i>Grid line</i> of the 'grid-row' or 'grid-column' properties are specified for the <i>Grid area</i>, that the <i>Grid area</i> is assumed to extend to the subsequent <i>Grid line</i>.
            </p>    
            <pre class="example">&lt;style type=&quot;text/css&quot;&gt;
    /* covers the <i>Grid element</i>&rsquo;s content box */
    #item1 {
        grid-row: start end;
        grid-column: start end;
    }
 
    /* covers the first row */
    #item2 {
        grid-row: start; /* extends to row Grid Line 2 */
        grid-column: start end;
    }
&lt;/style&gt;</pre>
            <p>
                The next example defines rows for header and footer <i>Grid items</i> sized to content, as well as a main region that receives all remaining space.   A single column which receives all horizontal space in the Grid's content box is also defined.
            </p>
            <pre class="example">&lt;style type=&quot;text/css&quot;&gt;
    #grid {
        display: grid;
        grid-definition-rows: "header" auto "main" 1fr "footer" auto;
        grid-definition-columns: 1fr;
    }
 
    #header { grid-row: "header"; grid-column: start }
    #main   { grid-row: "main"; grid-column: start }
    #footer { grid-row: "footer"; grid-column: start }

    /* Equivalent to the above using grid line numbers instead of names. */
    #header { grid-row: 1; grid-column: 1 }
    #main   { grid-row: 2; grid-column: 1 }
    #footer { grid-row: 3; grid-column: 1 }
&lt;/style&gt;</pre>
        <!--End Section: Anonymous Grid Areas-->
        </div>

        
        <div id="grid-implicit-columns-and-rows" class="section">
        <h3>Implicit Columns and Rows</h3>
            <div class="sidefigure">
                <p>
                    <img alt="Image: A Grid with an implicit row and two implicit columns." src="images/implicit-columns-and-rows.png" />
                </p>
                <p class="caption">A Grid with an implicit row and two implicit columns.</p>
            </div>
            
            <p>
                <i>Grid line</i> numbers referred to by 'grid-row' or 'grid-column' properties on a <i>Grid item</i> are not required to refer to a <i>Grid line</i> that was defined using the 'grid-definition-columns' or 'grid-definition-rows' properties on the <i>Grid element</i>.  In cases where the specified position is outside those explicitly specified on the <i>Grid element</i>, implicit columns and rows fill gaps added as needed to create additional <i>Grid lines</i> until the reference can be resolved.
                Note that quoted <i>Grid line</i> names that don't resolve to an explicitly defined <i>Grid line</i> are treated as though the author specified the &lsquo;<a href="#start-line"><code
   class=css>start</code></a>&rsquo; <i>Grid line</i> and don't trigger implicit <i>Grid track</i> creation.

            </p>
                        
            <p>
            Figure 10 illustrates the placement of <i>Grid items</i> resulting from the markup shown in the following example. Note that <i>Grid item</i> <code>B</code> is positioned on <i>Grid line</i> 5 which creates a 5th column to contain <i>Grid item</i> <code>B</code>.  Further, columns 3 and 4 are created as implicit auto-width columns without content resulting in a used column width of 0px. 
            </p>
            
            <pre class="example">&lt;style type="text/css"&gt;
    #grid { display: grid; grid-definition-columns: 20px; grid-definition-rows: 20px }
    #A { grid-column: 1; grid-row: 1; justify-self: start; align-self: head }
    #B { grid-column: 5; grid-row: 1; grid-row-span: 2; }
    #C { grid-column: 1; grid-row: 2; grid-column-span: 2; }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="A"&gt;A&lt;/div&gt;
    &lt;div id="B"&gt;B&lt;/div&gt;
    &lt;div id="C"&gt;C&lt;/div&gt;
&lt;/div&gt;</pre>
        
            <div id="defining-default-size-for-implicit-columns-and-rows">
            <h4>Defining a Default Size for Implicit Columns and Rows</h4>
                <p>
                    By default, any implicit columns or rows created are auto sized to content.  The default size can be changed using the 'grid-column-sizing' and 'grid-row-sizing' properties.  The properties accept any valid single column or row sizing function.
                </p>

                <table id="grid-column-sizing-property" class="propdef">
                    <tbody>
                        <tr>
                            <td>Name:</td>
                            <td><dfn id="grid-column-sizing">grid-column-sizing</dfn></td>
                        </tr>
                        <tr>
                            <td>Value:</td>
                            <td>&lt;track-minmax&gt; (see <a href="#grid-definition-columns-and-rows-properties">Grid Columns and Grid Rows Properties</a>)</td>
                        </tr>
                        <tr>
                            <td>Initial:</td>
                            <td>auto</td>
                        </tr>
                        <tr>
                            <td>Applies to:</td>
                            <td>Grid elements</td>
                        </tr>
                        <tr>
                            <td>Inherited:</td>
                            <td>no</td>
                        </tr>
                        <tr>
                            <td>Percentages:</td>
                            <td>see <a href="#grid-definition-columns-and-rows-properties">Grid Columns and Grid Rows Properties</a></td>
                        </tr>
                        <tr>
                            <td>Media:</td>
                            <td>visual, paged</td>
                        </tr>
                        <tr>
                            <td>Computed value:</td>
                            <td>see <a href="#computed-values-grid-rows-and-columns">Computed Values for grid-definition-rows and grid-definition-columns</a></td>
                        </tr>
                    </tbody>
                </table>

                <table id="grid-row-sizing-property" class="propdef">
                    <tbody>
                        <tr>
                            <td>Name:</td>
                            <td><dfn id="grid-row-sizing">grid-row-sizing</dfn></td>
                        </tr>
                        <tr>
                            <td>Value:</td>
                            <td>&lt;track-minmax&gt; (see <a href="#grid-definition-columns-and-rows-properties">Grid Columns and Grid Rows Properties</a>)</td>
                        </tr>
                        <tr>
                            <td>Initial:</td>
                            <td>auto</td>
                        </tr>
                        <tr>
                            <td>Applies to:</td>
                            <td>Grid elements</td>
                        </tr>
                        <tr>
                            <td>Inherited:</td>
                            <td>no</td>
                        </tr>
                        <tr>
                            <td>Percentages:</td>
                            <td>see <a href="#grid-definition-columns-and-rows-properties">Grid Columns and Grid Rows Properties</a></td>
                        </tr>
                        <tr>
                            <td>Media:</td>
                            <td>visual, paged</td>
                        </tr>
                        <tr>
                            <td>Computed value:</td>
                            <td>see <a href="#computed-values-grid-rows-and-columns">Computed Values for grid-definition-rows and grid-definition-columns</a></td>
                        </tr>
                    </tbody>
                </table>
            <!--End Section: Defining a Default Size for Implicit Columns and Rows-->
            </div>
        
        <!--End Section: Implicit Columns and Rows-->
        </div>

        <div id="automatic-placement-of-grid-items" class="section">
        <h3>Automatic Placement of Grid Items</h3>
            <p>
                <i>Grid items</i> can be automatically placed into an unoccupied space of the Grid.
                The 'grid-flow' property controls the direction in which the search for unoccupied space takes place, and whether rows or columns are added as needed to accomodate the content.
            </p>
            <p>
                A 'grid-flow' value of ''rows'' will place <i>grid item</i>s in row-major order by searching across columns and then rows for unoccupied space, and will create additional rows
                as needed to accomodate content <i>grid item</i>s.  Similarly, a 'grid-flow' value of ''columns'' will place <i>grid item</i>s in column-major order, creating new columns as needed.
            </p>
            <table id="grid-flow-property" class="propdef">
                    <tbody>
                        <tr>
                            <td>Name:</td>
                            <td><dfn id="grid-flow">grid-flow</dfn></td>
                        </tr>
                        <tr>
                            <td>Value:</td>
                            <td><dfn id="none-flow">none</dfn> | <dfn id="rows">rows</dfn> | <dfn id="columns">columns</dfn></td>
                        </tr>
                        <tr>
                            <td>Initial:</td>
                            <td>none</td>
                        </tr>
                        <tr>
                            <td>Applies to:</td>
                            <td>Grid elements</td>
                        </tr>
                        <tr>
                            <td>Inherited:</td>
                            <td>no</td>
                        </tr>
                        <tr>
                            <td>Percentages:</td>
                            <td>n/a</td>
                        </tr>
                        <tr>
                            <td>Media:</td>
                            <td>visual, paged</td>
                        </tr>
                        <tr>
                            <td>Computed value:</td>
                            <td>specified value</td>
                        </tr>
                    </tbody>
                </table>
                <div class="sidefigure">
                    <p>
                        <img alt="Image: A form arranged using automatic placement." src="images/auto-placed-form.png" />
                    </p>
                    <p class="caption">A form arranged using automatic placement.</p>
                </div>
                <p> 
                    The search for unoccupied space is conducted one <i>Grid item</i> at a time.
                    <i>Grid items</i> which have a constraint on their major axis are placed first (the major axis being rows for a 'grid-flow' value of ''rows'' and columns for a 'grid-flow' value of 'columns''). Note that constraint means a value other than ''auto'' for the applicable 'grid-row' or 'grid-column' property. After this step, the number of minor-axis tracks must be determined for conducting the second phase of the auto-placement algorithm.
                </p>
				<p>
				    For the purposes of operating the auto-placement algorithm on items that have no constraint on their major axis, the number of tracks on the minor axis must be determined. The number of tracks will be the largest number implied by the 'grid-template' property, the 'grid-row-definition' and 'grid-column-definition' properties, the position and size of any explicitly-defined <i>grid items</i>, or any minor-axis ''auto'' values resolved by the previous phase of the algorithm. Note that any ''auto'' values still unresolved will be treated as 1 for the purposes of this determination.
				</p>
				<p>
					To position all remaining items that have ''auto'' values left unresolved, starting at position 1,1 on the grid, determine the minimum value along the minor axis that a <i>grid item</i> can be placed at while not overlapping the <i>grid area</i> of any other <i>grid item</i>, or exceeding the previously determined maximum track along the minor axis. If no such value can be found along the minor axis, increment the major axis value, creating new major axis tracks as necessary.
				</p>
                <p>
                    In the following example, there are three columns, each auto-sized to their contents.
                    No rows are explicitly defined.  The 'grid-flow' property is ''rows'' which instructs the grid
                    to search across its three columns starting with the first row, then the next, adding rows
                    as needed until sufficient space is located to accomodate the position of any auto-placed 
                    <i>Grid item</i>.
                    Figure 11 illustrates the result.
                </p>
            <pre class="example">&lt;style type="text/css"&gt;
    form {
        display: grid;
        grid-definition-columns: "labels" auto "controls" auto "oversized" auto;
        grid-flow: rows
    }
    form &gt; input, form &gt; select {
        /* Place all controls in the "controls" column and automatically find the */
        /* next available row. */
        grid-column: "controls";
        grid-row: auto
    }
    form &gt; label {
        /* Place all labels in the "labels" column and automatically find the next
        /* available row. */
        grid-column: "labels";
        grid-row: auto
    }
    
    #department {
        /* Auto place this item in the "oversized" column in the first row where an area that  */
        /* spans three rows won't overlap other explicitly placed items or areas or any items */
        /* automatically placed prior to this area. */
        grid-column: "oversized";
        grid-row: auto;
        grid-row-span: 3;
    }

    /* Place all the buttons of the form in the explicitly defined grid area. */
    #buttons {
        grid-row: auto;

        /* Ensure the button area spans the entire grid element in the column direction. */
        grid-column-span: 3;
        justify-self: end
    }
&lt;/style&gt;
&lt;form action="#"&gt;
    &lt;label for="firstname"&gt;First name:&lt;/label&gt;
    &lt;input type="text" id="firstname" name="firstname" /&gt;
    &lt;label for="lastname"&gt;Last name:&lt;/label&gt;
    &lt;input type="text" id="lastname" name="lastname" /&gt;
    &lt;label for="address"&gt;Address:&lt;/label&gt;
    &lt;input type="text" id="address" name="address" /&gt;
    &lt;label for="address2"&gt;Address 2:&lt;/label&gt;
    &lt;input type="text" id="address2" name="address2" /&gt;
    &lt;label for="city"&gt;City:&lt;/label&gt;
    &lt;input type="text" id="city" name="city" /&gt;
    &lt;label for="state"&gt;State:&lt;/label&gt;
    &lt;select type="text" id="state" name="state"&gt;
        &lt;option value="WA"&gt;Washington&lt;/option&gt;
    &lt;/select&gt;
    &lt;label for="zip"&gt;Zip:&lt;/label&gt;
    &lt;input type="text" id="zip" name="zip" /&gt;
    
    &lt;div id="department"&gt;
        &lt;label for="department"&gt;Department:&lt;/label&gt;
        &lt;select id="department" name="department" multiple&gt;
            &lt;option value="finance"&gt;Finance&lt;/option&gt;
            &lt;option value="humanresources"&gt;Human Resources&lt;/option&gt;
            &lt;option value="marketing"&gt;Marketing&lt;/option&gt;
        &lt;/select&gt;
    &lt;/div&gt;

   &lt;div id="buttons"&gt;
       &lt;button id="cancel"&gt;Cancel&lt;/button&gt;
       &lt;button id="back"&gt;Back&lt;/button&gt; 
       &lt;button id="next"&gt;Next&lt;/button&gt;
   &lt;/div&gt;
&lt;/form&gt;</pre>
            <div id="automatic-grid-item-placement-algorithm" class="section">
            <h4>Automatic Grid Item Placement Algorithm</h4>
                <p>
                    The following summarizes the algorithm for auto placement of <i>Grid items</i>:  
                </p>
                <ol>
                    <li>For each <i>Grid item</i> with a major-axis position that is not ''auto'' in source order:</li>
						<ol>
							<li>Resolve the ''auto'' value for its minor-axis position to the minimum value that ensures this item's <i>grid area</i> will not overlap the <i>grid area</i> of any explicitly or previously auto-placed item.</li>
						</ol>
					</li>
					<li>Determine the maximum number of minor tracks based on maximum track number implied by the 'grid-template' property, the 'grid-row-definition' and 'grid-column-definition' properties, the position and size of any explicitly-defined <i>grid items</i>, or any minor-axis ''auto'' values resolved by the step 1 of the algorithm </li>
					<li>Position the <i>auto-placement cursor</i> at position 1,1 in the grid.</li>
					<li>For each <i>grid item</i> having an unresolved value of ''auto'', in source order:
                        <ol>
							<li>If the minor-axis position is not ''auto'', then:
								<ol>
									<li>Set the minor-axis position of the cursor to be equal to the minor-axis position of the <i>grid item</i>.</li>
									<li>Increment the <i>auto-placement cursor</i> along the major-axis until a value is found where the <i>grid item</i> does not overlap the <i>grid area</i> of any other <i>grid item</i> (creating new major-axis tracks as necessary).</li>
								</ol>
							</li>
							<li>If the minor and major-axis positions are both ''auto'', then:
								<ol>
									<li>Increment the minor-axis position of the <i>auto-placement cursor</i> until this item's <i>grid area</i> does not overlap another item's <i>grid area</i>, or causes the <i>grid area</i> to exceed the maximum number of minor-axis tracks previously determined in step 2.</li>
									<li>If this item's position is still unresolved after the previous step, then increment the cursor's major-axis position and reset the minor-axis position to 1 (creating new major-axis tracks if necessary.</li>
								</ol>
							</li>
                        </ol>
                    </li>
                </ol>
            <!--End Section: Automatic Grid Item Placement Algorithm-->
            </div>
        
        <!--End Section: Grid Item Auto Placement-->
        </div>   


    <!--End Section: Grid Item Placement-->
    </div>

    <div id="grid-item-alignment" class="section">
    <h2>Grid Item Alignment</h2>
        <p>
            A <i>Grid item</i>&rsquo;s alignment within its Area can be controlled by using the 
            'justify-self' and 'align-self' properties.  
            Refer to the <a href="http://dev.w3.org/csswg/css3-align/">CSS Box Alignment Level 3</a> for more details about these properties.
        </p>
    <!--End Section: Grid Item Alignment-->
    </div>

    <div id="drawing-order-of-grid-items" class="section">
    <h2>Drawing Order of Grid Items</h2>
        <div class="sidefigure">
            <p>
                <img alt="Image: Drawing order controlled by z-index and source order." src="images/drawing-order.png" />
            </p>
            <p class="caption">Drawing order controlled by z-index and source order.</p>
        </div>
        <p>
            <i>Grid items</i> do not directly affect each other's placement in the <i>Grid element</i>.  
            A <i>Grid item</i> may affect the position of a <i>Grid line</i> in a column or row that uses a contents-based relative size, 
            which in turn affects the position or size of another <i>Grid item</i>, but there is no direct interaction between <i>Grid items</i>.  
            <i>Grid items</i> may overlap because the <i>Grid item</i>&rsquo;s Area is defined to intersect with the Area of another <i>Grid item</i>.  
            <i>Grid item</i> boxes in non-intersecting Areas may also overlap because of negative margins.
        </p>
        <p>
            In cases where boxes overlap, <a href="http://www.w3.org/TR/CSS21/visuren.html#propdef-z-index">'z-index'</a> provides control over the drawing order of <i>Grid items</i>.  
            Both <i>Grid elements</i> and <i>Grid items</i> generate a stacking context as described for floats (step 5, section 14) in the <a href="http://www.w3.org/TR/2007/WD-css3-box-20070809/#stacking">CSS3 Box Model</a>.
        </p>
        <p>
            Figure 15 illustrates the drawing order of the markup shown in the following example.
        </p>
        <pre class="example">&lt;style type="text/css"&gt;
    #grid { display: grid; grid-definition-columns: 1fr 1fr; grid-definition-rows: 1fr 1fr }
    #A { grid-column: 1; grid-row: 2; grid-column-span: 2; align-self: foot }
    #B { grid-column: 1; grid-row: 1; z-index: 10 }
    #C { grid-column: 2; grid-row: 1; align-self: head; margin-left: -20px }
    #D { grid-column: 2; grid-row: 2; justify-self: end; align-self: head }
    #E { grid-column: 1; grid-row: 1; 
         grid-column-span: 2; grid-row-span: 2; z-index: 5;
         justify-self: center; align-self: center 
    }
&lt;/style&gt;

&lt;div id="grid"&gt;
    &lt;div id="A"&gt;A&lt;/div&gt;
    &lt;div id="B"&gt;B&lt;/div&gt;
    &lt;div id="C"&gt;C&lt;/div&gt;
    &lt;div id="D"&gt;D&lt;/div&gt;
    &lt;div id="E"&gt;E&lt;/div&gt;
&lt;/div&gt;</pre>
    <!--End Section: Drawing Order of Grid Items-->
    </div>

    <div id="calculating-size-of-grid-tracks" class="section">
    <h2>Calculating the Size of Grid Tracks</h2>
    
        <div id="definition-of-terms-for-grid-track-sizing-calculations" class="section">
        <h3>Definition of Terms for use in Calculating Grid Track Sizes</h3>
            <dl>
                <dt>
                    <dfn id="AvailableSpace-definition">AvailableSpace</dfn>
                </dt>
                <dd>The <i>Grid element</i>&rsquo;s content box size in the applicable dimension.</dd>
                <dt>
                    <dfn id="MaxTrackSizingFunction-definition">MaxTrackSizingFunction</dfn>
                </dt>
                <dd>One of the <a href="#grid-definition-columns-and-rows-properties">&lt;track-breadth&gt;</a> sizing functions assigned as the maximum breadth of a <i>Grid track</i>.</dd>
                <dt>
                    <dfn id="MinTrackSizingFunction-definition">MinTrackSizingFunction</dfn>
                </dt>
                <dd>One of the <a href="#grid-definition-columns-and-rows-properties">&lt;track-breadth&gt;</a> sizing functions assigned as the minimum breadth of a <i>Grid track</i>.</dd>
                <dt>
                    <dfn id="RemainingSpace-definition">RemainingSpace</dfn>
                </dt>
                <dd>The max of zero and the AvailableSpace less the sum of all <i>Grid track</i> UsedBreadth values. This is undefined if AvailableSpace is undefined (i.e. the Grid element is shrink-to-fit or the height is auto.)</dd>
                <dt>
                    <dfn id="SpanCount-definition">SpanCount</dfn>
                </dt>
                <dd>The number of <i>Grid tracks</i> crossed by a <i>Grid item</i> in the applicable dimension.</dd>
            </dl>
        <!--End Section: Definition of Terms for use in Calculating Grid Track Sizes-->
        </div>

        <div id="grid-track-sizing-algorithm" class="section">
        <h3>Grid Track Sizing Algorithm</h3>
                <ol>
                    <li>Call ComputedUsedBreadthOfGridTracks for Grid Columns to resolve their logical width.</li>
                    <li>Call ComputedUsedBreadthOfGridTracks for Grid Rows to resolve their logical height.  The logical width of Grid Columns from the prior step is used in the formatting of <i>Grid items</i> in content-sized Grid Rows to determine their required height.</li>
                    <li>If the minimum content size of any <i>Grid item</i> has changed based on available height for the <i>Grid item</i> as computed in step 2, adjust the min content size of the <i>Grid item</i> and restart the <i>Grid track</i> Sizing algorithm (once only).</li>
                </ol>

                            <dl>
                <dt>
                    <dfn id="function-ComputeUsedBreadthOfGridTracks">ComputeUsedBreadthOfGridTracks</dfn>
                </dt>
                <dd>
                    <p>
                        This is the core <i>Grid track</i> sizing algorithm.  It is run for Grid columns and Grid rows.  The goal of the function is to ensure:
                    </p>
                    <ol>
                        <li>That each <i>Grid track</i> satisfies its MinTrackSizingFunction</li>
                        <li>That each <i>Grid track</i> grows from the breadth which satisfied its MinTrackSizingFunction to a breadth which satifies its MaxTrackSizingFunction, subject to RemainingSpace.</li>
                    </ol>
                    <p>
                        For the purposes of resolving the breadth that satisfies the MinTrackSizingFunction and MaxTrackSizingFunction, each <i>Grid track</i> falls into one of three categories:
                    </p>
                    <ol>
                        <li>A percentage or length value which can be trivially resolved.</li>
                        <li>A min-content or max-content value which will be resolved based on the measurements of the <i>Grid items</i> which cover the <i>Grid track</i>.</li>
                        <li>A fraction value which can only be resolved after determining the RemainingSpace in the <i>Grid element</i>&rsquo;s content box after having considered all contributions from the prior two categories of <i>Grid tracks</i>.</li>
                    </ol>
                    <p>
                        The breadths which satisfy MinTrackSizingFunctions and MaxTrackSizingFunctions for the first category of <i>Grid tracks</i> are resolved in step 1 during <i>Grid track</i> variable initialization.
                        The breadths which satisfy the MinTrackSizingFunctions and the MaxTrackSizingFunctions for the second category of content-sized <i>Grid tracks</i> are resolved in step 2.  At the end of step 2, the first goal of ComputeUsedBreadthOfGridTracks function has been satisfied:
                        the UsedBreadth variable of each GridTrack now satisfies its MinTrackSizingFunction. The MaxBreadth variable for each <i>Grid track</i> now contains the resolved value for its MaxTrackSizingFunction. 
                    </p>
                    <p>
                        In step 3, the second goal of this function is satisified as each (non-fraction-sized) <i>Grid track</i> 
                        attempts to grow from the UsedBreadth value to the MaxBreadth value, subject to RemainingSpace.
                    </p>
                    <p>
                        Finally in step 4, the third category of fraction-sized <i>Grid tracks</i> can be resolved using what is now the RemainingSpace having updated the UsedBreadth of each <i>Grid track</i> at the end of step 3.
                    </p>
                    <dl>
                        <dt>
                            <dfn id="function-ComputeUsedBreadthOfGridTracks-inputs">Inputs</dfn>
                        </dt>
                        <dd>
                            <ul>
                                <li>GridTracks: The set of <i>Grid tracks</i> for which the <i>Grid track</i> variable UsedBreadth will be computed.</li>
                            </ul>
                        </dd>
                    </dl>
                    <dl>
                        <dt>
                            <dfn id="function-ComputeUsedBreadthOfGridTracks-algorithm">Algorithm</dfn>
                        </dt>
                        <dd class="pseudo-code">
                            <ol>
                                <li>Initialize per <i>Grid track</i> variables
                                    <ol>
                                        <li>For each <i>Grid track</i> t in GridTracks
                                            <ol>
                                                <li>If t.MinTrackSizingFunction is a percentage or length, then t.UsedBreadth = resolved length</li>
                                                <li>If t.MinTrackSizingFunction is min-content, max-content, or a fraction, then t.UsedBreadth = 0</li>
                                                <li>If t.MaxTrackSizingFunction is percentage or length, then t.MaxBreadth = resolved length
                                                    <ol>
                                                        <li>If the resolved length of the MaxTrackSizingFunction is less than the MinTrackSizingFunction, t.MaxBreadth = t.UsedBreadth.</li>
                                                    </ol>
                                                </li>
                                                <li>If t.MaxTrackSizingFunction is min-content, or max-content, then t.MaxBreadth = Infinity</li>
                                                <li>If t.MaxTrackSizingFunction is a fraction, then t.MaxBreadth = t.UsedBreadth</li>
                                                <li>t.SpanGroupInWhichMaxBreadthWasMadeFinite = null</li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                                <li>Resolve content-based TrackSizingFunctions
                                    <ol>
                                        <li>Call ResolveContentBasedTrackSizingFunctions, with arguments:
                                            <ul>
                                                <li>GridItems: All <i>Grid items</i>.</li>
                                            </ul>
                                        </li>
                                    </ol>
                                </li>
                                <li>Grow all <i>Grid tracks</i> in GridTracks from their UsedBreadth up to their MaxBreadth value until RemainingSpace is exhausted.
                                    <ol>
                                        <li>If RemainingSpace is defined
                                            <ol>
                                                <li>Iterate over all GridTracks and assign UsedBreadth to UpdatedTrackBreadth</li>
                                                <li>Call DistributeSpaceToTracks, with arguments:
                                                    <ul>
                                                        <li>SpaceToDistribute: RemainingSpace</li>
                                                        <li>TrackGrowthConstraint: A function which given a <i>Grid track</i> returns its MaxBreadth.</li>
                                                        <li>TracksForGrowth: All <i>Grid tracks</i></li>
                                                        <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: The empty set.</li>
                                                        <li>CurrentBreadth: A function which given a <i>Grid track</i> returns the UsedBreadth.</li>
                                                    </ul>
                                                </li>
                                                <li>Iterate over all GridTracks and assign UpdatedTrackBreadth to UsedBreadth</li>
                                            </ol>
                                        </li>
                                        <li>Else
                                            <ol>
                                                <li>For each <i>Grid track</i> t in GridTracks
                                                    <ol>
                                                        <li>t.UsedBreadth = t.MaxBreadth</li>
                                                    </ol>
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                                <li>Grow all <i>Grid tracks</i> having a fraction as the MaxTrackSizingFunction
                                    <ol>
                                        <li>normalizedFractionBreadth = 0
                                        <li>If RemainingSpace is defined
                                            <ol>
                                                <li>normalizedFractionBreadth = Call ComputeNormalizedFractionBreadth, with arguments:
                                                    <ul>
                                                        <li>GridTracks: GridTracks</li>
                                                        <li>SpaceToFill: AvailableSpace</li>
                                                    </ul>
                                                </li>
                                            </ol>
                                        </li>
                                        <li>Else
                                            <ol>
                                                <li>For each <i>Grid track</i> t in GridTracks having a fraction as the MaxTrackSizingFunction
                                                    <ol>
                                                        <li>normalizedFractionBreadth = Max( normalizedFractionBreadth, t.UsedBreadth / t.MaxTrackSizingFunction.FractionValue )
                                                        </li>
                                                    </ol>
                                                </li>
                                                <li>For each <i>Grid item</i> i, which crosses a set of GridTracks s
                                                    <ol>
                                                        <li>itemNormalizedFractionBreadth = Call ComputeNormalizedFractionBreadth, with arguments:
                                                            <ul>
                                                                <li>GridTracks: s</li>
                                                                <li>SpaceToFill: max-content size of i</li>
                                                            </ul>
                                                        </li>
                                                        <li>normalizedFractionBreadth = Max( normalizedFractionBreadth, itemNormalizedFractionBreadth )
                                                        </li>
                                                    </ol>
                                                </li>
                                            </ol>
                                        </li>
                                        <li>For each <i>Grid track</i> t in GridTracks
                                            <ol>
                                                <li>t.UsedBreadth = Max( t.UsedBreadth, normalizedFractionBreadth * t.MaxTrackSizingFunction.FractionValue )</li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </dd>
                    </dl>
                </dd>
            <!--End Function Definition: ComputeUsedBreadthOfGridTracks-->
            </dl>

            <dl>
                <dt>
                    <dfn id="function-ResolveContentBasedTrackSizingFunctions">ResolveContentBasedTrackSizingFunctions</dfn>
                </dt>
                <dd>
                    <p>
                        The purpose of this function is to resolve the contribution that each <i>Grid item</i> makes to any min-content or max-content TrackSizingFunctions for the <i>Grid tracks</i> it covers. There are four permutations: min-content or max-content in either the MinTrackSizingFunction or MaxTrackSizingFunction. MinTrackSizingFunctions are resolved before MaxTrackSizingFunctions, and min-content contributions are resolved before max-content contributions. Note that when resolving min-content contributions they may grow tracks that have either min-content or max-content keywords, as seen in 3.a.i and 3.b.i below.
                    </p>
                    <p class="issue">
                        Currently this algorithm embodies several heuristics which regulate the growth of spanning <i>Grid items</i> to accomodate certain use cases. (E.g. the game example in Figures 2 and 3 above.) These heuristics should be a normative part of this specification to ensure interoperability. To the extent additional use cases can be identified that cannot be satisfied by following the current heuristics, the normative algorithm can be updated, or additional mechanisms can be introduced for fine-grained control of content-based TrackSizingFunction.
                    </p>    
                    <dl>
                        <dt>
                            <dfn id="function-ResolveContentBasedTrackSizingFunctions-inputs">Inputs</dfn>
                        </dt>
                        <dd>
                            <ul>
                                <li>GridItems: The set of <i>Grid items</i> for which min-content or max-content keywords should be resolved.</li>
                            </ul>
                        </dd>
                    </dl>
                    <dl>
                        <dt>
                            <dfn id="function-ResolveContentBasedTrackSizingFunctions-algorithm">Algorithm</dfn>
                        </dt>
                        <dd class="pseudo-code">
                            <ol>
                                <li>Filter all <i>Grid items</i> into a set g, such that each <i>Grid item</i> has either a SpanCount of 1 or does not cross a fraction-sized <i>Grid track</i></li>
                                <li>Group all <i>Grid items</i> in set g by their SpanCount ascending</li>
                                <li>For each group of <i>Grid items</i>
                                    <ol>
                                        <li>Resolve content-based MinTrackSizingFunctions
                                            <ol>
                                                <li>Call ResolveContentBasedTrackSizingFunctionsForItems, with arguments:
                                                    <ul>
                                                        <li>GridItems: All <i>Grid items</i> in the current group.</li>
                                                        <li>AdditionalSpaceRequiredByItem: A function which given a <i>Grid item</i> returns the min-content size of that <i>Grid item</i> less the summed UsedBreadth of all <i>Grid tracks</i> it covers.</li>
                                                        <li>TrackGrowthConstraint: A function which given a <i>Grid track</i> returns its MaxBreadth.</li>
                                                        <li>TracksForGrowth: A function which given a <i>Grid item</i> returns the set of <i>Grid tracks</i> covered by that <i>Grid item</i> that have a min-content or max-content MinTrackSizingFunction.</li>
                                                        <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A function which given a set of <i>Grid tracks</i> returns the subset of <i>Grid tracks</i> having a min-content or max-content MaxTrackSizingFunction.  If that set is the empty set, return the input set instead.</li>
                                                        <li>Accumulator: A function which given a <i>Grid track</i> returns a reference to its UsedBreadth variable.</li>
                                                    </ul>
                                                </li>
                                                <li>Call ResolveContentBasedTrackSizingFunctionsForItems, with arguments:
                                                    <ul>
                                                        <li>GridItems: All <i>Grid items</i> in the current group.</li>
                                                        <li>AdditionalSpaceRequiredByItem: A function which given a <i>Grid item</i> returns the max-content size of that <i>Grid item</i> less the summed UsedBreadth of all <i>Grid tracks</i> it covers.</li>
                                                        <li>TrackGrowthConstraint: A function which given a <i>Grid track</i> returns its MaxBreadth.</li>
                                                        <li>TracksForGrowth: A function which given a <i>Grid item</i> returns the set of <i>Grid tracks</i> covered by that <i>Grid item</i> that have a max-content MinTrackSizingFunction.</li>
                                                        <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A function which given a set of <i>Grid tracks</i> returns the subset of <i>Grid tracks</i> having a max-content MaxTrackSizingFunction.  If that set is the empty set, return the input set instead.</li>
                                                        <li>Accumulator: A function which given a <i>Grid track</i> returns a reference to its UsedBreadth variable.</li>
                                                    </ul>
                                                </li>
                                            </ol>
                                        </li>
                                        <li>Resolve content-based MaxTrackSizingFunctions
                                            <ol>
                                                <li>Call ResolveContentBasedTrackSizingFunctionsForItems, with arguments:
                                                    <ul>
                                                        <li>GridItems: All <i>Grid items</i> in the current group.</li>
                                                        <li>AdditionalSpaceRequiredByItem: A function which given a <i>Grid item</i> returns the min-content size of that <i>Grid item</i> less the summed MaxBreadth (unless the MaxBreadth is infinite, in which case use the UsedBreadth) of all <i>Grid tracks</i> it covers.</li>
                                                        <li>TrackGrowthConstraint: A function which given a <i>Grid track</i> returns its MaxBreadth.</li>
                                                        <li>TracksForGrowth: A function which given a <i>Grid item</i> returns the set of <i>Grid tracks</i> covered by that <i>Grid item</i> that have a min-content or max-content MaxTrackSizingFunction.</li>
                                                        <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: The identity function.</li>
                                                        <li>Accumulator: A function which given a <i>Grid track</i> returns a reference to its MaxBreadth variable.</li>
                                                    </ul>
                                                </li>
                                                <li>Call ResolveContentBasedTrackSizingFunctionsForItems, with arguments:
                                                    <ul>
                                                        <li>GridItems: All <i>Grid items</i> in the current group.</li>
                                                        <li>AdditionalSpaceRequiredByItem: A function which given a <i>Grid item</i> returns the max-content size of that <i>Grid item</i> less the summed MaxBreadth (unless the MaxBreadth is infinite, in which case use the UsedBreadth) of all <i>Grid tracks</i> it covers.</li>
                                                        <li>TrackGrowthConstraint: A function which given a <i>Grid track</i> returns infinity if the <i>Grid track</i>&rsquo;s SpanGroupInWhichMaxBreadthWasMadeFinite is equal to the current group; otherwise return the <i>Grid track</i>&rsquo;s MaxBreadth.</li>
                                                        <li>TracksForGrowth: A function which given a <i>Grid item</i> returns the set of <i>Grid tracks</i> covered by that <i>Grid item</i> that have a max-content MaxTrackSizingFunction.</li>
                                                        <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: The identity function.</li>
                                                        <li>Accumulator: A function which given a <i>Grid track</i> returns a reference to its MaxBreadth variable.</li>
                                                    </ul>
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>    
                                <li>For each <i>Grid track</i> t from the set of all <i>Grid tracks</i>
                                    <ol>
                                        <li>If t.MaxBreadth == infinity then t.MaxBreadth = t.UsedBreadth</li>
                                    </ol>
                                </li>
                            </ol>
                        </dd>
                    </dl>
                </dd>
            <!--End Function Definition: ResolveContentBasedTrackSizingFunctions-->
            </dl>

            <dl>
                <dt>
                    <dfn id="function-ResolveContentBasedTrackSizingFunctionsForItems">ResolveContentBasedTrackSizingFunctionsForItems</dfn>
                </dt>
                <dd>
                    <p>
                        The above function, ResolveContentBasedTrackSizingFunctions, groups <i>Grid items</i> based on the number of <i>Grid tracks</i> each <i>Grid item</i> spanned. ResolveContentBasedTrackSizingFunctionsForItems, below, then calls DistributeSpaceToTracks for each <i>Grid item</i> in the
                        group to determine how much each <i>Grid item</i> needs to grow the <i>Grid tracks</i> that it covers.  The maximum contribution made by any <i>Grid item</i> is accumulated into a temporary, per-<i>Grid track</i> variable, 
                        and at the end of the group, the space is recorded into a final <i>Grid track</i> variable as determined by the Accumulator function.
                    </p>
                    <dl>
                        <dt>
                            <dfn id="function-ResolveContentBasedTrackSizingFunctionsForItems-inputs">Inputs</dfn>
                        </dt>
                        <dd>
                            <ul>
                                <li>GridItems: The set of <i>Grid items</i> which will contribute to the growth of <i>Grid tracks</i>.</li>
                                <li>AdditionalSpaceRequiredByItem: A function which returns the difference between either the min-content or max-content for the <i>Grid item</i> and the space already allocated to the <i>Grid tracks</i> covered by the <i>Grid item</i> in earlier phases of the algorithm.</li>
                                <li>TrackGrowthConstraint: A function which given a <i>Grid track</i> returns a value that limits the amount by which it may be grown by the <i>Grid items</i> which cover it.</li>
                                <li>TracksForGrowth: A function which given a <i>Grid item</i> identifies the set of <i>Grid tracks</i> to be grown in this phase of the algorithm.</li>
                                <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A function which identifies a subset of <i>Grid tracks</i> from TracksForGrowth that may be grown in this phase of the algorithm after all <i>Grid tracks</i> in the TracksForGrowth set have already grown to their TrackGrowthConstraint.</li>
                                <li>Accumulator: A function which given a <i>Grid track</i> returns the variable used to accumulate the results of the UpdatedTrackBreadth from DistributeSpaceToTracks.</li>
                            </ul>
                        </dd>
                    </dl>
                    <dl>
                        <dt>
                            <dfn id="function-ResolveContentBasedTrackSizingFunctionsForItems-algorithm">Algorithm</dfn>
                        </dt>
                        <dd class="pseudo-code">
                            <ol>
                                <li>For each <i>Grid track</i> t
                                    <ol>
                                       <li>t.UpdatedTrackBreadth = Accumulator( t )</li>
                                    </ol>
                                </li>
                                <li>For each <i>Grid item</i> i in GridItems
                                    <ol>
                                        <li>Call DistributeSpaceToTracks, with arguments:
                                            <ul>
                                                <li>SpaceToDistribute: AdditionalSpaceRequiredByItem( i )</li>
                                                <li>TrackGrowthConstraint: TrackGrowthConstraint</li>
                                                <li>TracksForGrowth: TracksForGrowth( i )</li>
                                                <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: SubsetOfTracksForGrowthBeyondTrackGrowthConstraint( TracksForGrowth( i ) )</li>
                                                <li>CurrentBreadth: A function which given a <i>Grid track</i> returns the UsedBreadth of the <i>Grid track</i> if Accumulator returns infinity; otherwise the value of the Accumulator is returned.</li>
                                            </ul>
                                        </li>
                                    </ol>
                                </li>
                                <li>For each <i>Grid track</i> t
                                    <ol>
                                        <li>If Accumulator( t ) == infinity and t.UpdatedTrackBreadth != infinity
                                            <ol>
                                                <li>t.SpanGroupInWhichMaxBreadthWasMadeFinite = GridItems</li>
                                            </ol>
                                        </li>
                                        <li>Accumulator( t ) = t.UpdatedTrackBreadth</li>
                                    </ol>
                                </li>
                            </ol>
                        </dd>
                    </dl>
                </dd>
            <!--End Function Definition: ResolveContentBasedTrackSizingFunctionsForItems-->
            </dl>
            
            <dl>
                <dt>
                    <dfn id="function-DistributeSpaceToTracks">DistributeSpaceToTracks</dfn>
                </dt>
                <dd>
                    <p>
                        Ensures that for each <i>Grid track</i> in RecipientTracks, a value will be computed, UpdatedTrackBreadth, that represents the <i>Grid track</i>&rsquo;s share of SpaceToDistribute.
                    </p>
                    <p>
                        There are two parts to this function.  The first for loop in step 2 is giving each <i>Grid track</i> an equal share of the space, but without exceeding their TrackGrowthConstraint values.
                        Because there are different MaxBreadths assigned to the different <i>Grid tracks</i>, the first loop can result in their uneven growth.
                    </p>
                    <p>
                        If the first loop completes having grown every <i>Grid track</i> to its TrackGrowthConstraint, and there is still SpaceToDistribute, then  SubsetOfTracksForGrowthBeyondTrackGrowthConstraint are further grown equally until SpaceToDistribute is exhausted.
                    </p>
                    <p>
                        Note that <i>Grid tracks</i> considered by this function may have a TrackGrowthConstraint equal to Infinity, which signals that these tracks have not yet been grown by a <i>Grid item</i>. These tracks can therefore be grown without exceeding the TrackGrowthConstraint of the track. By only growing tracks up to their TrackGrowthConstraint value, we can ensure that the grid remains "tight" - that is, that track breadth is as close to the content size of the <i>Grid items</i> inside as possible. Only once all <i>Grid tracks</i> have a CurrentBreadth equal to a TrackGrowthConstraint do we move to the second for loop and grow tracks further, thereby making the <i>Grid element</i> less tight.
                    </p>
                    <dl>
                        <dt>
                            <dfn id="function-DistributeSpaceToTracks-inputs">Inputs</dfn>
                        </dt>
                        <dd>
                            <ul>
                                <li>SpaceToDistribute: A length to be distributed among the supplied set of <i>Grid tracks</i>.</li>
                                <li>TrackGrowthConstraint: A function which given a <i>Grid track</i> returns the maximum breadth of the track, unless the track is in the SubsetOfTracksForGrowthBeyoundTrackGrowthConstraint.</li>
                                <li>TracksForGrowth: A set of <i>Grid tracks</i> to be grown up to their TrackGrowthConstraint while SpaceToDistribute remains.</li>
                                <li>SubsetOfTracksForGrowthBeyondTrackGrowthConstraint: A subset of <i>Grid tracks</i> from TracksForGrowth that may be grown beyond their TrackGrowthConstraint after all <i>Grid tracks</i> in the TracksForGrowth set have already grown to their TrackGrowthConstraint if there is remaining SpaceToDistribute.</li>
                                <li>CurrentBreadth: A function which given a <i>Grid track</i> returns a value to use as a starting point from which to grow this track.</li>
                            </ul>
                        </dd>
                    </dl>
                    <dl>
                        <dt>
                            <dfn id="function-DistributeSpaceToTracks-algorithm">Algorithm</dfn>
                        </dt>
                        <dd class="pseudo-code">
                            <ol>
                                <li>Sort TracksForGrowth by TrackGrowthConstraint( t ) - CurrentBreadth( t ) ascending (where t is an element in the RecipientTrack set).</li>
                                <li>For i = 0 to TracksForGrowth.length - 1
                                    <ol>
                                        <li>t = TracksForGrowth[i]</li>
                                        <li>share = Min ((SpaceToDistribute / ( TracksForGrowth.length - i )), (TrackGrowthConstraint( t ) - CurrentBreadth( t )))</li>
                                        <li>t.TempBreadth = CurrentBreadth( t ) + share</li>
                                        <li>SpaceToDistribute -= share</li>
                                    </ol>
                                </li>
                                <li>If SpaceToDistribute > 0
                                    <ol>
                                        <li>Let tracks = SubsetOfTracksForGrowthBeyondTrackGrowthConstraint( TracksForGrowth )</li>
                                        <li>For i = 0 to tracks.length - 1
                                            <ol>
                                                <li>t = tracks[i]</li>
                                                <li>share = SpaceToDistribute / ( tracks.length - i )</li>
                                                <li>t.TempBreadth += share</li>
                                                <li>SpaceToDistribute -= share</li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                                <li>For each <i>Grid track</i> t in TracksForGrowth
                                    <ol>
                                        <li>If t.UpdatedTrackBreadth == infinity
                                            <ol>
                                                <li>t.UpdatedTrackBreadth = t.TempBreadth</li>
                                            </ol>
                                        </li>
                                        <li>Else
                                            <ol>
                                                <li>t.UpdatedTrackBreadth = Max( t.UpdatedTrackBreadth, t.TempBreadth )</li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </dd>
                    </dl>
                </dd>
            <!--End Function Definition: DistributeSpaceToTracks-->
            </dl>


            <dl>
                <dt>
                    <dfn id="function-CalculateNormalizedFractionBreadth">CalculateNormalizedFractionBreadth</dfn>
                </dt>
                <dd>
                    This method computes a ''1fr'' value, referred to as the NormalizedFractionBreadth, for a set of <i>Grid tracks</i>.  The value computed will ensure that when the NormalizedFractionBreadth is multiplied by the fractions associated with GridTracks, that the UsedBreadths of GridTracks will increase by an amount equal to the maximum of zero and the specified SpaceToFill less the sum of the current UsedBreadths.
                    <dl>
                        <dt>
                            <dfn id="function-CalculateNormalizedFractionBreadth-inputs">Inputs</dfn>
                        </dt>
                        <dd>
                            <ul>
                                <li>GridTracks: The set of <i>Grid tracks</i> whose fraction sizing functions are considered for the purposes of a computing a NormalizedFractionBreadth that will cause GridTracks to fill SpaceToFill.</li>
                                <li>SpaceToFill: The space to be filled by GridTracks.</li>
                            </ul>
                        </dd>
                    </dl>
                    <dl>
                        <dt>
                            <dfn id="function-CalculateNormalizedFractionBreadth-returns">Returns</dfn>
                        </dt>
                        <dd>
                            <ul>
                                <li>The 1fr value required by GridTracks to fill SpaceToFill.</li>
                            </ul>
                        </dd>
                    </dl>
                    <dl>
                        <dt>
                            <dfn id="function-CalculateNormalizedFractionBreadth-algorithm">Algorithm</dfn>
                        </dt>
                        <dd class="pseudo-code">
                            <ol>
                                <li>allocatedSpace = the sum of the UsedBreadth for each <i>Grid track</i> in GridTracks</li>
                                <li>fractionTracks = the subset of GridTracks whose MaxTrackSizingFunction is a fraction</li>
                                <li>For each <i>Grid track</i> t in fractionTracks
                                    <ol>
                                        <li>t.NormalizedFractionValue = t.UsedBreadth / t.MaxTrackSizingFunction.FractionValue</li>
                                    </ol>
                                </li>
                                <li>Sort fractionTracks by their NormalizedFractionValue ascending</li>
                                <li>spaceNeededFromFractionTracks = SpaceToFill - allocatedSpace</li>
                                <li>currentBandFractionBreadth = accumulatedFractions = 0</li>
                                <li>For each <i>Grid track</i> t in fractionTracks
                                    <ol>
                                        <li>If t.NormalizedFractionValue > currentBandFractionBreadth
                                            <ol>
                                                <li>If t.NormalizedFractionValue * accumulatedFractions > spaceNeededFromFractionTracks then break from for loop</li>
                                                <li>currentBandFractionBreadth = t.NormalizedFractionValue</li>
                                            </ol>
                                        </li>
                                        <li>accumulatedFractions += t.MaxTrackSizingFunction.FractionValue</li>
                                        <li>spaceNeededFromFractionTracks += t.UsedBreadth</li>
                                    </ol>
                                </li>
                                <li>return spaceNeededFromFractionTracks / accumulatedFractions</li>
                            </ol>
                        </dd>
                    </dl>
                </dd>
            <!--End Function Definition: CalculateNormalizedFractionBreadth-->
            </dl>
            
        <!--End Section: Grid Track Sizing Algorithm-->
        </div>

    <!--End Section: Calculating the Size of Grid Tracks-->
    </div>

    <div id="defining-shrink-to-fit-behavior-of-grid-elements" class="section">
    <h2>Defining the Shrink-to-fit Behavior of Grid Elements</h2>

		<p>The <a href="http://www.w3.org/TR/css3-box/#shrink-to-fit">CSS3 Box Model</a> defines the shrink-to-fit behavior of an element as min(max(preferred minimum width, available width), preferred width), with available width defined in the Box Model spec. Accordingly, for the <i>Grid element</i> we define the preferred minimum width as the sum of the UsedBreadths of the <i>Grid tracks</i> just before step 3 in ComputeUsedBreadthOfGridTracks, and the preferred width as the sum of the UsedBreadths of the <i>Grid tracks</i> after the entire track sizing algorithm has been run with infinite space.</p>
			
    <!--End Section: Defining the Shrink-to-fit Behavior of Grid Elements-->
	</div>
    
    <h2 id="changes-from-previous-version" class="no-num">Changes from <a href="http://www.w3.org/TR/2012/WD-css3-grid-layout-20120322/">Previous Working Draft</a></h2>
    <div>
        <h3 id="changes-from-previous-version-12-april-2012" class="no-num">Changes made in 12 April 2012 Editor's Draft</h3>
        <ul>
			<li>Section 4: Added the definition of the baseline of an inline grid.</li>
			<li>Section 6.4: Changed repeat syntax from using simple brackets to a repeat() function. Also removed discussion of whitespace, which is not needed under the new syntax.</li>
			<li>Section 6.5: Updated grammar to remove quotes from keywords, and updated repeating syntax.</li>
			<li>Section 6.5: Removed "fit-content" as a synonym for "auto" value in grid-row and grid-column properties</li>
			<li>Section 6.6 (was 7.2): Moved this section into Section 6, which describes Defining the Grid.</li>
			<li>Section 6.6: Specified that non-rectangular grid-template regions are not allowed, and that one column is created for each letter in a template string.</li>
			<li>Section 6.6: Updated text describing grid-template and writing-mode sensitivity.</li>
			<li>Section 10.2: Updated DistributeSpaceToTracks to us TracksForGrowth in step 4, rather than all Grid Tracks.</li>
            <li>Section 10.2: Fixed minor spelling error "Contstriant"</li>
			<li>Section 11: Added a definition of the preferred minimum width and the preferred width of the Grid element.</li>
        </ul>

        <h3 id="changes-from-previous-version-2-august-2012" class="no-num">Changes made in 2 August 2012 Editor's Draft</h3>
        <ul>
			<li>Section 2.2: Updated Example I, and other examples, to use the latest Box Alignment Level 3 syntax.</li> 
			<li>Section 3.3: Changed "Grid Cells to "Grid Areas" throughout the spec.</li>
			<li>Section 5: Updated this section to be in alignment with the Flexible Box spec on anonymous items.</li>
			<li>Section 6.3: Removed this from the spec.</li>
			<li>Section 6.3: (was 6.4) Removed issue 1 about named lines in the repeat syntax; will track the issue via Bugzilla.</li>
			<li>Section 6.4: (was 6.5) Renamed Grid-columns and Grid-rows to Grid-column-definition and Grid-row-definition throughout the spec.</li>
			<li>Section 6.5: (was 6.6) Update the grid-template property to accept IDENTS for naming grid areas instead of characters.</li>
            <li>Section 6.5: (was 6.6) Added support for periods to create an unamed region of the grid using the grid-template property.</li>
            <li>Section 6.5: (was 6.6) Removed discussion of grid-cell property (now grid-area) to section 7.</li>
			<li>Section 7: Updated usage and syntax of grid-row, grid-column, grid-row-span and grid-column-span properties to include the use of IDENTS.</li>
			<li>Section 7.2: Updated usage and syntax of grid-area property (was grid-cell) as a shorthand property for other grid sizing and positioning properties.</li>
			<li>Section 7.5: Updated description and algorithm for automatic placement of Grid Items.</li>
			<li>Section 10.2: Corrected typo in CalculateNormalizedFractionBreadth - NormalizedFractionValue ==> NormalizedFractionBreadth.</li>
			<li>Section 10.2: Changed CalculateNormalizedFractionBreadth to sort by NormalizedFractionValue ascending.</li>
			<li>Section 10.2: Changed syntax from "== defined" to "is defined".</li>
			<li>Section 10.2: Fixed ResolveContentBasedTrackSizingFunctionsForItems to use GridItems instead of RecipientTracks.</li>
        </ul>

    </div>

    <h2 class="no-num">Acknowledgements</h2>
      <p>
        This specification is made possible by input from Erik Anderson, Rossen Atanassov, Arron Eicholz, Sylvain Galineau, John Jansen, Chris Jones, Kathy Kam, Veljko Miljanic, Peter Salas, Christian Stockwell, Eugene Veselov, and the CSS Working Group members. Thanks to Eliot Graff for editorial input.
      </p>

<h2 class="no-num" id="references">
References</h2>

<h3 class="no-num" id="normative-references">
Normative references</h3>
<!--normative-->

<h3 class="no-num" id="other-references">
Other references</h3>
<!--informative-->

<h2 class="no-num" id="index">
Index</h2>
<!--index-->

<h2 class="no-num" id="property-index">
Property index</h2>
<!-- properties -->

</body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
 
