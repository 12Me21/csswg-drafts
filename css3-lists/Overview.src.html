<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
	<title>CSS Lists and Counters Module Level 3</title>
	<meta charset=utf-8>
	<link rel="stylesheet" type="text/css" href="http://dev.w3.org/csswg/default.css">
	<style type="text/css">
	td, th { padding: 0 0.5em; }
	.numbering td, .numbering th { vertical-align: top; }
	.mapping th { text-align: right; }
	.mapping td { text-align: center; }
	.roman-example { padding: 0.75em; background: white; color: black; margin: 0.25em 0; display: block; }
	.hebrew { display: block; }
	.hebrew-example thead { display: none; }
	.hebrew-example tbody { display: table; float: left; margin: 1em 2em 0.5em; }
	.hebrew-example tr > :first-child { text-align: right; }
	.hebrew-example tr > :last-child { text-align: left; }
	.hebrew-example + * { clear: both; }
	</style>
	<link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-ED">
</head><body>

<div class="head">
<!--logo-->

<h1>CSS Lists and Counters Module Level 3</h1>

<h2 class="no-num no-toc">[LONGSTATUS] [DATE]</h2>
<dl>
	<dt>This version:
	<dd><!-- <a href="http://www.w3.org/TR/[YEAR]/WD-[SHORTNAME]-[CDATE]">http://www.w3.org/TR/[YEAR]/WD-[SHORTNAME]-[CDATE]</a></dd> -->
	<a href="http://dev.w3.org/csswg/css3-lists">http://dev.w3.org/csswg/css3-lists</a></dd>

	<dt>Latest Working Draft:
	<dd><a href="http://www.w3.org/TR/css3-lists">[LATEST]</a></dd>

	<dt>Previous versions:</dt>
	<dd><a href="http://www.w3.org/TR/2002/WD-css3-lists-20021107">http://www.w3.org/TR/2002/WD-css3-lists-20021107</a></dd>

	<dt>Editor:</dt>
	<dd><a href="http://www.xanthir.com/contact">Tab Atkins Jr.</a></dd>

	<dt>Previous Editors:</dt> <!-- in the order tantek requested -->
	<dd>Ian Hickson, <a href="mailto:ian@hixie.ch">ian@hixie.ch</a></dd>
	<dd><span lang="tr">Tantek &#x00C7;el&#x0131&#x0307;k</span>, Microsoft Corporation,
	<a href="mailto:tantekc@microsoft.com">tantekc@microsoft.com</a></dd>

	<dt>Contributors:</dt> <!-- in order of volume of input -->
	<dd>Simon Montagu, AOL-TW/Netscape, <a href="mailto:smontagu@netscape.com">smontagu@netscape.com</a></dd>
	<dd>Daniel Yacob, <a href="mailto:yacob@geez.org">yacob@geez.org</a></dd>
	<dd>Christopher Hoess, <a href="mailto:choess@stwing.upenn.edu">choess@stwing.upenn.edu</a></dd>
	<dd>Daniel Glazman, AOL-TW/Netscape, <a href="mailto:glazman@netscape.com">glazman@netscape.com</a></dd>
</dl>

<!--copyright-->

<hr title="Separator for header">
</div>


<h2 class="no-num no-toc" id="abstract">
Abstract</h2>

	<p>CSS is a language for describing the rendering of structured documents
	(such as HTML and XML) on screen, on paper, in speech, etc.
	This draft contains the features of CSS level&nbsp;3 relating to
	list styling. It includes and extends the functionality of
	CSS level&nbsp;2 [[!CSS21]], which builds on CSS level&nbsp;1
	[[CSS1]]. The main extensions compared to level&nbsp;2 are
	<span class="issue">summarize here</span>.


<h2 class="no-num no-toc" id="status">
Status of this document</h2>

<!--status-->


<h2 class="no-num no-toc" id="contents">
Table of contents</h2>

<!--toc-->

<hr>

<!-- ====================================================================== -->

<h2>
Introduction</h2>

	<p>The list model in this module differs in some important ways from the list model in CSS2,
	specifically in its handling of markers. Implementation experience suggested the CSS2 model
	overloaded the ::before and ::after pseudo-elements with too much behavior, while at the same time
	introducing new properties when existing properties were sufficient.</p>

	<p>Most block-level elements in CSS generate one principal block box. In this module, we discuss two
	CSS mechanisms that cause an element to have an associated marker: one method associates one
	principal block box (for the element's content) with a separate marker box (for decoration such as a
	bullet, image, or number), and the other inserts a marker box into the principal box. Unlike :before
	and :after content, the marker box cannot affect the position of the principal box, whatever the
	positioning scheme.</p>

	<div class="html-example">

		<p>For instance, the following example illustrates how markers may be used to add parentheses around
		each numbered list item. This HTML application and style sheet:</p>

		<pre>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
 &lt;HEAD&gt;
  &lt;TITLE&gt;Creating a list with markers&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
   LI::marker { content: "(" counter(list-item, lower-roman) ")"; }
   LI { display: list-item; }
  &lt;/STYLE&gt;
 &lt;/HEAD&gt;
 &lt;BODY&gt;
  &lt;OL&gt;
   &lt;LI&gt; This is the first item. &lt;/LI&gt;
   &lt;LI&gt; This is the second item. &lt;/LI&gt;
   &lt;LI&gt; This is the third item. &lt;/LI&gt;
  &lt;/OL&gt;
 &lt;/BODY&gt;
&lt;/HTML&gt;
		</pre>

		<p>should produce something like this: </p>

		<pre>
  (i) This is the first item.
 (ii) This is the second item.
(iii) This is the third item.
		</pre>
	</div>

	<p>With descendant selectors and child selectors, it's possible to specify different marker types
	depending on the depth of embedded lists.</p>

	<p class="issue">A future release of this module will probably include ways to render tree
	lists.</p>

<!-- ====================================================================== -->

<h2>
Declaring a List Item</h2>

	<p>To declare a list item, the 'display'
	property should be set to ''list-item''. This, in addition to generating
	a ''::marker'' pseudo-element and enabling the
	properties described below for that element, causes that element to
	increment the list item counter ''list-item''.
	(This does not affect the specified or computed values of the counter
	properties.)</p>

	<p>The ''list-item'' counter is a real counter,
	and can be directly affected using the 'counter-increment' and ''counter-reset'' 
	properties. It can also be used in the ''counter()'' and ''counters()'' functions.</p>

	<p class="issue">The CSS3 box module may define other 'display' values which generate a list
	marker. These should also affect the ''list-item'' counter.</p>

	<p>Note that this new model makes the ''marker''
	display type redundant. That display type is therefore obsolete in the
	CSS3 Lists model.</p>

<!-- ====================================================================== -->

<h2 id=list-style-type-property>
List Content: The 'list-style-type' property</h2>

	<table class="propdef">
		<tr>
			<th>Name:
			<td><dfn>list-style-type</dfn>
		<tr>
			<th>Value:
			<td><b>&lt;string></b> | <b>&lt;counter-style></b> | none
		<tr>
			<th>Initial:
			<td>disc
		<tr>
			<th>Applies To:
			<td>all elements with ''display: list-item''
		<tr>
			<th>Inherited:
			<td>yes
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Computed Value:
			<td>specified value
	</table>

	<p>This property specifies the default contents of the list item
	marker if 'list-style-image' has the
	value 'none' or if the image pointed to by the URI cannot be
	displayed. The value 'none' specifies no marker, and a string value uses the 
	given string; otherwise, the value specifies a <b>&lt;counter-style></b> which 
	is used to format the value of the ''list-item'' counter.</p>

	<dl>
		<dt><dfn>&lt;string></dfn></dt>
		<dd>The ''::marker'' pseudoelement must use the provided string as its default
		contents.</dd>

		<dt><dfn>none</dfn></dt>
		<dd>The ''::marker'' pseudoelement must have no default contents.  This will 
		suppress the creation of a marker unless the ''::marker'' has its contents 
		specified directly through the 'content' property.</dd>

		<dt><dfn>&lt;counter-style></dfn></dt>
		<dd>
			<p>The ''::marker'' pseudoelement's default contents must be the value of 
			the ''list-item'' counter, formatted according to the given counter style.  
			Algorithms for formatting a value according to a counter style are given 
			later in this spec.</p>
			<p>The <b>UA style sheet</b> given later in this spec provides a large list
			of counter style definitions, and authors or users may define their own
			counter styles as well.</p>
		</dd>
	</dl>

<!-- ====================================================================== -->

<h2 id=predefined-counters>
Predefined Counter Styles</h2>

	<p>While authors may define their own counter styles using the ''@counter-style''
	rule defined in this spec, there are many counter styles that CSS already defined
	in previous levels, and many more that can be usefully predefined.  Appendix A
	contains a required UA stylesheet which defines a large number of counter styles 
	using the ''@counter-style'' rule.  A few styles require special handling beyond
	what can be expressed in a stylesheet, though.  Those counter styles are described
	in this section.



<h3 id=decimal-counters>
The ''decimal'' counter style</h3>

	<p>The ''decimal'' counter style is the default fallback counter style for the
	''@counter-style'' rule, and is also used in extraordinary situations like fallback
	loop.  As such, it has to be well-defined at all times, so that a counter can 
	always be formatted regardless of the validity of the defined counter styles.</p>

	<p>UAs must not allow the definition of the ''decimal'' counter style given in 
	Appendix A to be overridden.</p>



<h3 id=glyph-counters>
Glyphs</h3>

	<p>CSS 2.1 defined three single-glyph counter styles (''circle'', ''disc'', and 
	''square''), but didn't define precisely how to render them, instead opting to
	describe generally how they should look and leaving it up to the UA to decide how
	to render the markers.</p>

	<p>Appendix A gives normative definitions for these styles, but UAs may instead 
	default to rendering these styles using a browser-generated image matching the
	description below.  If the styles are overridden, the new style must be honored; 
	this relaxation of the rendering requirements applies only to the default value 
	of each counter style.</p>

	<p>If the UA chooses to use an image for the default rendering of these counter 
	styles, the image must be scalable and designed to attractively fill a box 1em
	wide and 1em tall.</p>

	<dl>
		<dt>circle</dt>
		<dd>A hollow circle, similar to ◦ U+25E6 WHITE BULLET.</dd>

		<dt>disc</dt>
		<dd>A filled circle, similar to • U+2022 BULLET.</dd>

		<dt>square</dt>
		<dd>A filled square, similar to ■ U+25A0 BLACK SQUARE.</dd>
	</dl>



<h3 id=complex-counters>
Complex counter styles</h3>

	<p>Some real-life counter styles are unfortunately too complex to be accurately
	described using the ''@counter-style'' rule.  The following styles must be supported
	as default counter styles as if they were defined by theoretical 
	''@counter-style'' rules placed at the end of the UA stylesheet defined in Appendix 
	A, using the given name as the counter style name and the given algorithm to format
	counter values.  They must be overrideable like any other predefined counter style.</p>

	<dl>
		<dt>hebrew</dt>
		<dd>
			<p>This is a simple additive system defined for the range 1 to 999999.
			The digits are split into two groups of three. Within each group,
			appropriate digits are picked from the following list (at most one per
			column) and written in descending order by value (hundreds first). If
			there is more than one group, the first group is followed by U+05F3 HEBREW
			PUNCTUATION GERESH.</p>

			<table>
				<caption>Hebrew numbering system</caption>
				<thead>
					<tr>
						<th colspan="3">Hundreds
						<th colspan="3">Tens
						<th colspan="3">Units
					<tr>
						<th>Values
						<th colspan="2">Codepoints
						<th>Values
						<th colspan="2">Codepoints
						<th>Values
						<th colspan="2">Codepoints
				<tbody>
					<tr>
						<td>100
						<td>ק
						<td>U+05E7
						<td>10
						<td>י
						<td>U+05D9
						<td>1
						<td>א
						<td>U+05D0
					<tr>
						<td>200
						<td>ר
						<td>U+05E8
						<td>20
						<td>כ
						<td>U+05DB
						<td>2
						<td>ב
						<td>U+05D1
					<tr>
						<td>300
						<td>ש
						<td>U+05E9
						<td>30
						<td>ל
						<td>U+05DC
						<td>3
						<td>ג
						<td>U+05D2
					<tr>
						<td>400
						<td>ת
						<td>U+05EA
						<td>40
						<td>מ
						<td>U+05DE
						<td>4
						<td>ד
						<td>U+05D3
					<tr>
						<td>500
						<td>תק
						<td>U+05EA U+05E7
						<td>50
						<td>נ
						<td>U+05E0
						<td>5
						<td>ה
						<td>U+05D4
					<tr>
						<td>600
						<td>תר
						<td>U+05EA U+05E8
						<td>60
						<td>ס
						<td>U+05E1
						<td>6
						<td>ו
						<td>U+05D5
					<tr>
						<td>700
						<td>תש
						<td>U+05EA U+05E9
						<td>70
						<td>ע
						<td>U+05E2
						<td>7
						<td>ז
						<td>U+05D6
					<tr>
						<td>800
						<td>תת
						<td>U+05EA U+05EA
						<td>80
						<td>פ
						<td>U+05E4
						<td>8
						<td>ח
						<td>U+05D7
					<tr>
						<td>900
						<td>תתק
						<td>U+05EA U+05EA U+05E7
						<td>90
						<td>צ
						<td>U+05E6
						<td>9
						<td>ט
						<td>U+05D8
			</table>

			<p>If the last two digits of a group (when represented in decimal) are 15
			or 16, they should be expressed not as יה U+05D9 U+05D4
			(10+5) and יו U+05D9 U+05D5 (10+6), but as
			טו U+05D8 U+05D5 (9+6) and טז U+05D8 U+05D6
			(9+7). This is done to avoid a close resemblance to the Tetragrammaton
			(four-letter name of God) יהוה U+05D9 U+05D4
			U+05D5 U+05D4. Although this convention is originally derived from
			religious practice, it is universally used even in completely secular
			contexts.</p>

			<p>The numerical value of each letter is fixed and not determined by
			position, so reordering a number group will not change its value. This
			may be done when a number spells out a word with negative connotations.
			For instance, 298, רצח U+05E8 U+05E6 U+05D7
			(200+90+8), is the Hebrew for "murder", so it is sometimes written as
			רחצ U+05E8 U+05D7 U+05E6 (200+8+90). Words are
			sometimes similarly rearranged when a reordered form has especially
			positive connotations, for example 18, יח U+05D9 U+05D7
			(10+8) is often written as חי U+05D7 U+05D9 (8+10), the
			Hebrew for "alive". Unlike the exception for 15 and 16, using the
			regular form in these cases is not considered an error.</p>

			<p>The suffix for the hebrew numbering system is a dot (. U+002E
			FULL STOP).</p>

			<p>Numbers outside the range of the Hebrew system are rendered using the
			''decimal'' counter style.</p>

			<div class="example">
				<p>This table shows the decimal number in the first cell, and the
				equivalent hebrew number in the second.</p>

				<table class="hebrew-example">
					<thead>
						<tr>
							<th>Decimal
							<th>Hebrew
					<tbody>
						<tr>
							<td>-3
							<td>-3
						<tr>
							<td>-2
							<td>-2
						<tr>
							<td>-1
							<td>-1
						<tr>
							<td>0
							<td>0
						<tr>
							<td>1
							<td>א
						<tr>
							<td>2
							<td>ב
						<tr>
							<td>3
							<td>ג
						<tr>
							<td>4
							<td>ד
						<tr>
							<td>5
							<td>ה
					<tbody>
						<tr>
							<td>97
							<td>צז
						<tr>
							<td>98
							<td>צח
						<tr>
							<td>99
							<td>צט
						<tr>
							<td>100
							<td>ק
						<tr>
							<td>101
							<td>קא
						<tr>
							<td>944
							<td>תתקמד
						<tr>
							<td>945
							<td>תתקמה
						<tr>
							<td>946
							<td>תתקמו
						<tr>
							<td>999
							<td>תתקצט
					<tbody>
						<tr>
							<td>1000
							<td>א׳
						<tr>
							<td>1001
							<td>א׳א
						<tr>
							<td>1998
							<td>א׳תתקצח
						<tr>
							<td>1999
							<td>א׳תתקצט
						<tr>
							<td>2000
							<td>ב׳
						<tr>
							<td>2001
							<td>ב׳א
						<tr>
							<td>2003
							<td>ב׳ג
						<tr>
							<td>2748
							<td>ב׳תשמח
						<tr>
							<td>2750
							<td>ב׳תשנ
				</table>

				<p>This example (like all other examples) is non-normative. If one of
				the numbers above is inconsistent with the rules described above, then
				the example should be disregarded.</p>
			</div>
		</dd>

		<dt>ethiopic-numeric</dt>
		<dd>
			<p>The Ethiopian numbering system is defined for all positive non-zero numbers.
			The following algorithm converts decimal digits to ethiopic numbers.</p>

			<ol>
				<li>Split the number into groups of two digits, starting with the least
				significant decimal digit.</li>

				<li>Index each group sequentially, starting from the least significant
				as group number zero.</li>

				<li>If the group has an odd index (as given in the previous step) and
				has the value 1, or if the group is the most significant one and has
				the value 1, or if the group has the value zero, then remove the digit
				(but leave the group, so it still has a separator appended below).</li>

				<li>For each remaining digit, substitute the relevant ethiopic character
				from the list below.
					<table>
						<caption>Ethiopic numbering system</caption>
						<thead>
							<tr>
								<th colspan="3">Tens
								<th colspan="3">Units
							<tr>
								<th>Values
								<th colspan="2">Codepoints
								<th>Values
								<th colspan="2">Codepoints
						<tbody>
							<tr>
								<td>10
								<td>፲
								<td>U+1372
								<td>1
								<td>፩
								<td>U+1369
							<tr>
								<td>20
								<td>፳
								<td>U+1373
								<td>2
								<td>፪
								<td>U+136A
							<tr>
								<td>30
								<td>፴
								<td>U+1374
								<td>3
								<td>፫
								<td>U+136B
							<tr>
								<td>40
								<td>፵
								<td>U+1375
								<td>4
								<td>፬
								<td>U+136C
							<tr>
								<td>50
								<td>፶
								<td>U+1376
								<td>5
								<td>፭
								<td>U+136D
							<tr>
								<td>60
								<td>፷
								<td>U+1377
								<td>6
								<td>፮
								<td>U+136E
							<tr>
								<td>70
								<td>፸
								<td>U+1378
								<td>7
								<td>፯
								<td>U+136F
							<tr>
								<td>80
								<td>፹
								<td>U+1379
								<td>8
								<td>፰
								<td>U+1370
							<tr>
								<td>90
								<td>፺
								<td>U+137A
								<td>9
								<td>፱
								<td>U+1371
					</table>
				</li>

				<li>For each group with an odd index (as given in the second step),
				append ፻ U+137B.</li>

				<li>For each group with an even index (as given in the second step),
				except the group with number 0, append ፼ U+137C.</li>

				<li>Concatenate the groups into one string.</li>
			</ol>

			<p>This system is defined for all numbers greater than zero. For zero and
			negative numbers, the decimal system is used instead.</p>

			<p>The suffix for the ethiopic-numeric numbering systems is a dot
			(. U+002E FULL STOP). <span class="issue">Is there a better suffix
			to use? <strong>The alphabetic ethiopic systems use a different
			suffix.</strong></span></p>

			<div class="example">
				<p>The decimal number 100, in ethiopic, is ፻ U+137B <!-- odd --></p>

				<p> The decimal number 78010092, in ethiopic, is
				፸፰፻፩፼፻፺፪ U+1378
				U+1370 U+137B <!-- 70 8 odd --> U+1369 U+137C <!-- 1 even --> U+137B
				<!-- odd --> U+137A U+136A. <!-- 90 2 --></p>

				<p> The decimal number 780000001092, in ethiopic, is
				፸፰፻፩፼፻፼፻፺፪
				U+1378 U+1370 U+137B <!-- 70 8 odd --> U+1369 U+137C <!-- 1 even -->
				U+137B <!-- odd --> U+137C <!-- even --> U+137B <!-- odd --> U+137A
				U+136A. <!-- 90 2 --></p>
			</div>
		</dd>
	</dl>

<!-- ====================================================================== -->

<h2 id=list-style-image-property>
List Content: The 'list-style-image' property</h2>

	<table class="propdef">
		<tr>
			<th>Name:
			<td><dfn>list-style-image</dfn>
		<tr>
			<th>Value:
			<td>&lt;image> | none
		<tr>
			<th>Initial
			<td>none
		<tr>
			<th>Applies To:
			<td>all elements with ''display: list-item''
		<tr>
			<th>Inherited:
			<td>yes
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Computed Value:
			<td>specified value
	</table>

	<p>This property sets the image that will be used as the list item marker. When 
	the <b>&lt;image></b> resolves to a valid image, it is used as the default contents 
	of ''::marker'' instead of the value specified by 'list-style-type'.</p>

	<p>If the value ''none'' is provided, or the <b>&lt;image></b> doesn't resolve 
	to a valid image, then the default contents are given by 'list-style-type' instead.</p>

	<div class="example">
		<p>The following example sets the marker at the beginning of each list item to
		be the image "ellipse.png".</p>
		<pre>LI { list-style-image: url("http://www.example.com/ellipse.png") }</pre>
	</div>

<!-- ====================================================================== -->

<h2 id=content-property>
List Content: Generating the computed value of the 'content' property</h2>

	<p>If a ''::marker'' pseudo-element has its 'content' property set to ''normal'', the 
	following algorithm should be used to generate the computed value of the property.</p>

	<ol>
		<li>If the computed value of 'list-style-image' is not ''none'', and if the 
		image is valid, then the computed value of the 'content' property is the value 
		of the 'list-style-image' property.</li>

		<li>Otherwise, if the computed value of 'list-style-type' is a string, then 
		the computed value of the 'content' property is that string.</li>

		<li>Otherwise, if the computed value of 'list-style-type' is not ''none'', then
		the computed value of the 'content' property is ''counter(list-item, <b>&lt;counter-style></b>)'', 
		where <b>&lt;counter-style></b> is the computed value of the 'list-style-type' 
		property, followed by a string that is the suffix for the counter style in question 
		(which may be empty).</li>

		<li>Otherwise the computed value is ''none''.</li>
	</ol>

	<div class="example">
		<p>Given the following style sheet:</p>
		<pre>li { display: list-item; list-style-type: decimal /* initial value */; }
li::marker { content: normal /* initial value */; }</pre>
		<p>And the following document fragment:</p>
		<pre>&lt;li&gt; List Item &lt;/li&gt;</pre>
		<p>The computed value of the 'content' property on the ''::marker'' 
		pseudo-element of the list item element is:</p>
		<pre>counter(list-item, decimal) "."</pre>
	</div>

<!-- ====================================================================== -->

<h2 id=list-style-position-property>
Marker Position: The 'list-style-position' property</h2>

	<table class="propdef">
		<tr>
			<th>Name:
			<td><dfn>list-style-position</dfn>
		<tr>
			<th>Value:
			<td>inside | hanging | outside
		<tr>
			<th>Initial:
			<td>outside
		<tr>
			<th>Applies To:
			<td>all elements with ''display: list-item''
		<tr>
			<th>Inherited:
			<td>yes
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Computed Value:
			<td>specified value
	</table>

	<p>This property specifies the position of the ''::marker'' pseudo-element's box 
	in the list item. Values have the following meanings:</p>

	<dl>
		<dt><dfn>inside</dfn></dt>
		<dd>The ''::marker'' pseudo-element is an inline-block element placed immediately
		before the ''::before'' pseudo-element in the list item's principle box, after 
		which the element's content flows. Note that if there is no inline content, 
		this will create a line box, just as content in an inline ''::before'' pseudo-element 
		would. Also note that all the properties that apply to inline elements apply 
		to the ''::marker'' pseudo-element in this state, and this ''::marker'' box 
		participates in the inline box model in the normal manner.</dd>

		<dt><dfn>hanging</dfn></dt>
		<dd>As ''inside'', except the marker is absolutely positioned (see the section
		on ''::marker'' for more details.)  The marker's auto position is such that 
		its "before" edge is aligned with the "before" edge of the first line box 
		in the list item, and its "end" edge is flush with the "start" edge of the 
		first line box in the list item.  
		<span class=note>Note that this causes the marker to still respond to the
		'text-align' property, as the boundaries of line boxes depend on 'text-align'.</span></dd>

		<dt><dfn>outside</dfn></dt>
		<dd>As ''inside'', except the marker is absolutely positioned (see the section
		on ''::marker'' for more details.)  The marker's auto position is such that 
		its "before" edge is aligned with the "before" edge of the list item.  If 
		the list item's parent box is ltr, the marker's "end" edge must be flush 
		with the list item's "start" edge; if the list item's parent box is rtl, 
		the marker's "start" edge must be flush with the list item's "end" edge.</dd>
	</dl>

	<div class=issue>
		<p>''hanging'' is meant to emulate what some browsers (IE8, Firefox, Opera)
		did for the CSS2.1 "outside" value, with somewhat more detail.</p>

		<p>''outside'' is meant to emulate what other browsers (Webkit, IE9) did for
		the CSS2.1 "outside" value, again with more detail.  There is a notable behavior
		change, in that the markers pay attention to the container's direction, not
		the list item.  This arose from the "Requirements for bidi in HTML" group's
		conclusions - in a mixed-direction list, right now it's impossible to determine 
		ahead of time which side of the container the gutter should go (to contain the
		bullet).  You have to put a gutter on both sides, even if all the items are
		one direction, just in case.</p>

		<p>I'm not sure exactly how to express what I want with the "out-of-flow" comment
		in ''hanging'' and ''outside''.  I want to change how it's positioned, but 
		without invoking the "positioned element" machinery.  Is that good/possible?
		I also don't want to interfere with the author actually setting 'position' on
		''::marker''.  All this, and the ''::marker'' should still be a child of the
		list item in the box tree (otherwise the behavior is surprising).</p>

		<p>How should I define "first line box" for ''hanging''?  The marker is intended
		to be "magically positioned" - does this invoke the same logic that Positioned
		Layout defines, where it leaves behind an inline placeholder that will generate
		a line box?  If not, do I descend into children to find the first linebox?
		If I do that, there's the possibility of conflict, if a list item contains a 
		list item, and both of their markers position off of the same linebox.  The 
		consequences of this are well-defined, but is that okay?  I get 3 different
		behaviors out of the 3 hanging-like browsers.</p>
	</div>

	<p>Note that a marker is only generated if the computed value of the 'content' 
	property for the element's ''::marker'' pseudo-element is not ''inhibit''.</p>

	<div class="html-example">
		<p>For example:

		<pre>	
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
 &lt;HEAD&gt;
  &lt;TITLE&gt;Comparison of inside/outside position&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
   UL         { list-style: outside }
   UL.compact { list-style: inside }
  &lt;/STYLE&gt;
 &lt;/HEAD&gt;
 &lt;BODY&gt;
  &lt;UL&gt;
   &lt;LI&gt;first list item comes first&lt;/LI&gt;
   &lt;LI&gt;second list item comes second&lt;/LI&gt;
  &lt;/UL&gt;
  &lt;HT&gt;
  &lt;UL class="compact"&gt;
   &lt;LI&gt;first list item comes first&lt;/LI&gt;
   &lt;LI&gt;second list item comes second&lt;/LI&gt;
  &lt;/UL&gt;
 &lt;/BODY&gt;
&lt;/HTML&gt;
		</pre>

		<p> The above example may be formatted as:</p>

		<div class="figure">
			<p><img id="img-list-inout" src="list-inout.gif" alt="list with bullets to the left of it and list with bullets inside"></p>
		</div>
	</div>

	<p>In right-to-left text, the markers would have been on the right side of the box.</p>

<!-- ====================================================================== -->

<h2 id=list-style-property>
The 'list-style' shorthand property</h2>

	<table class="propdef">
		<tr>
			<th>Name:
			<td><dfn>list-style</dfn>
		<tr>
			<th>Value:
			<td>&lt;'list-style-type'> || &lt;'list-style-position'> || &lt;'list-style-image'>
		<tr>
			<th>Initial:
			<td>N/A (shorthand property)
		<tr>
			<th>Applies To:
			<td>all elements with ''display: list-item''
		<tr>
			<th>Media:
			<td>visual
		<tr>
			<th>Computed Value;
			<td>N/A (shorthand property)
	</table>

	<p>The 'list-style' property is a shorthand notation for setting the
	three properties 'list-style-type', 'list-style-image', and 'list-style-position'
	at the same place in the style sheet.</p>

	<div class="example">
		<p>For example:</p>

		<pre>
UL { list-style: upper-roman inside }  /* Any UL */
UL > UL { list-style: circle outside } /* Any UL child of a UL */
		</pre>
	</div>

	<p>Although authors may specify 'list-style' information directly on
	list item elements (e.g., LI in HTML), they should do so with care. The following rules look
	similar, but the first declares a descendant selector and the second a (more specific) child selector.</p>

	<pre class="example">
	OL.alpha LI   { list-style: lower-alpha } /* Any LI descendant of an OL */
	OL.alpha > LI { list-style: lower-alpha } /* Any LI child of an OL */
	</pre>

	<p>Authors who use only the descendant selector may not
	achieve the results they expect. Consider the following rules:</p>

	<pre class="html-example">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
 &lt;HEAD&gt;
  &lt;TITLE&gt;WARNING: Unexpected results due to cascade&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
   OL.alpha LI  { list-style: lower-alpha }
   UL LI        { list-style: disc }
  &lt;/STYLE&gt;
 &lt;/HEAD&gt;
 &lt;BODY&gt;
  &lt;OL class="alpha"&gt;
   &lt;LI&gt;level 1
    &lt;UL&gt;
     &lt;LI&gt;level 2&lt;/LI&gt;
    &lt;/UL&gt;
   &lt;/LI&gt;
  &lt;/OL&gt;
 &lt;/BODY&gt;
&lt;/HTML&gt;
	</pre>

	<p>The desired rendering would have level 1 list items with 'lower-alpha' labels and level 2 items
	with 'disc' labels. However, the cascading order will cause the first style rule (which includes
	specific class information) to mask the second. The following rules solve the problem by employing a
	child selector instead:</p>

	<pre class="example">
OL.alpha > LI   { list-style: lower-alpha }
UL LI           { list-style: disc }
	</pre>

	<p>Another solution would be to specify 'list-style' information only
	on the list type elements:

	<pre class="example">
OL.alpha   { list-style: lower-alpha }
UL         { list-style: disc }
	</pre>

	<p>Inheritance will transfer the 'list-style' values from OL and UL
	elements to LI elements. This is the recommended way to specify list style information.</p>

	<div class="example">
		<p> A URI value may be combined with any other value, as in:</p>

		<pre>
UL { list-style: url("http://png.com/ellipse.png") disc }
		</pre>
		<p> In the example above, the 'disc' will be used when the image is unavailable.</p>
	</div>

	<p>A value of ''none'' for the 'list-style' property sets both 'list-style-type' 
	and 'list-style-image' to ''none'', because it sets the 'list-style-type' to ''none'' 
	(that is the first value in the list), and the initial value of the 'list-style-image'
	property, which isn't listed in that declaration, is ''none''. For this reason,</p>

	<pre>LI { list-style: none; }</pre>

	<p>will ensure that no list-item marker is displayed on LI elements, except if a value is explicitly
	given to the 'content' property of the ''::marker'' pseudo-element. In general, the best way to ensure that no marker
	is rendered is to not set the 'display' property to list-item.</p>

<!-- ====================================================================== -->

<h2 id=marker-pseudoelement>
Markers: The ''::marker'' pseudo-element</h2>

	<p>Markers are created by setting an element's 'display' property to
	''list-item''. The ''list-item'' display type is, in every
	other respect, identical to the ''block'' display type.  The marker box is only 
	created if the computed value of the 'content' property for the pseudo-element 
	is not ''none''.</p>

	<p>Just like other generated content, markers generate a box when they're created,
	which has margins, border, padding, and everything else a box normally has.  Markers
	are placed at the beginning of their superior parent's content, immediately before
	a ''::before'' pseudo-element on the same superior parent.  Marker boxes are 
	inline-block by default, and so a value of ''auto'' for 'width'
	resolves to the width of the marker's content.</p>

	<div class="html-example">
		<p>In the following example, the content is centered within a marker
		box of a fixed width. This document:</p>

		<pre>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
 &lt;HEAD&gt;
  &lt;TITLE&gt;Content alignment in the marker box&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
   LI::marker { 
     content: "(" counter(counter) ")";
     width: 6em;
     text-align: center;
   }
   LI {
     display: list-item;
     counter-increment: counter;
   }
  &lt;/STYLE&gt;
 &lt;/HEAD&gt;
 &lt;BODY&gt;
  &lt;OL&gt;
   &lt;LI&gt; This is the first item. &lt;/LI&gt;
   &lt;LI&gt; This is the second item. &lt;/LI&gt;
   &lt;LI&gt; This is the third item. &lt;/LI&gt;
  &lt;/OL&gt;
 &lt;/BODY&gt;
&lt;/HTML&gt;
		</pre>

		<p>should produce something like this: </p>

		<pre>
  (1)    This is the 
         first item.
  (2)    This is the 
         second item.
  (3)    This is the 
         third item.
		</pre>
	</div>


	<p>The next example uses markers to number notes (paragraphs).</p>

	<div class="html-example">
		<p>The following document:</p>

		<pre>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
 &lt;HEAD&gt;
  &lt;TITLE&gt;Markers to create numbered notes4&gt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
   P { margin-left: 12 em; }
   P.Note::marker { 
      content: url("note.gif") "Note " counter(note-counter) ":";
      text-align: left;
      width: 10em;
   }
   P.Note {
     display: list-item;
     counter-increment: note-counter;
   }
  &lt;/STYLE&gt;
 &lt;/HEAD&gt;
 &lt;BODY&gt;
  &lt;P&gt;This is the first paragraph in this document.&lt;/P&gt;
  &lt;P CLASS="Note"&gt;This is a very short document.&lt;/P&gt;
  &lt;P&gt;This is the end.&lt;/P&gt;
 &lt;/BODY&gt;
&lt;/HTML&gt;
		</pre>

		<p>should produce something like:</p>

		<pre>
            This is the first paragraph 
            in this document.

  Note 1:   This is a very short 
            document.
           
            This is the end.
		</pre>
	</div>

	<div class="html-example">
		<p>The following example illustrates how markers may be offset from their element. This HTML
		application and style sheet:</p>

		<pre>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
&lt;HTML&gt;
 &lt;HEAD&gt;
  &lt;TITLE&gt;Marker example 5&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
   P { margin-left: 8em } /* Make space for counters */
   LI::marker { margin: 0 3em 0 0; content: counter(list-item, lower-roman) "."; }
   LI { display: list-item }
  &lt;/STYLE&gt;
 &lt;/HEAD&gt;
 &lt;BODY&gt;
  &lt;P&gt; This is a long preceding paragraph ...&lt;/P&gt;
  &lt;OL&gt;
   &lt;LI&gt; This is the first item.
   &lt;LI&gt; This is the second item.
   &lt;LI&gt; This is the third item.
  &lt;/OL&gt;
  &lt;P&gt; This is a long following paragraph ...&lt;/P&gt;
 &lt;/BODY&gt;
&lt;/HTML&gt;
		</pre>

		<p>should produce something like this: </p>

		<pre>
        This is a long preceding
        paragraph ...
      
   i.   This is the first item.
  ii.   This is the second item.
 iii.   This is the third item.

        This is a long following
        paragraph ...
		</pre>

		<p>(Note the use of the implicit counter increment.)</p>
	</div>

<!-- ====================================================================== -->

<h2 id=counter-style>
Defining Custom Counter Styles: the ''@counter-style'' rule</h2>

	<p>CSS 2.1 defined a handful of useful counter styles based on the styles that
	HTML traditionally allowed on ordered and unordered lists.  This tiny set, though,
	is quite inadequate for modern web pages; displaying an ordered list with markers 
	based on the latin alphabet while the content is Arabic seems quite incongruous!</p>

	<p>Unfortunately, the set of potentially useful list styles is too large to
	specify ahead-of-time - the world contains thousands of languages and hundreds
	of scripts, not to mention the near-infinite stylistic variations found on the
	web that go beyond mere languaged-based variation.  The ''@counter-style'' rule
	allows CSS to address this in an open-ended manner, by allowing the author
	to define their own counter styles.  These styles can then be used in the
	'list-style-type' property or in the ''counter()'' and ''counters()'' functions,
	exactly like the predefined counter styles in CSS.</p>

<h3 id=counter-style-syntax>
@counter-style Syntax</h3>

	<p>The ''@counter-style'' rule is defined as:</p>

	<xmp class=prod>
@counter-style <counter-style-name> {
	type:
	range:
	glyphs:
	additive-glyphs:
	cjk-glyphs:
	prefix:
	suffix:
	fallback:
}
	</xmp>

	<p class=issue>Copy the way other specs define new @-rules that contain decl
	blocks, like @font-face.</p>

	<p>The &lt;counter-style-name> must be be a valid identifier, and must not be
	''decimal''; violating these rules is a syntax error and must cause the @counter-style
	block to be ignored.</p>

	<p>Omitting the 'type' property in a @counter-style block is a syntax error
	and must cause the @counter-style block to be ignored.  A @counter-style block
	must contain exactly one of 'glyphs', 'additive-glyphs', or 'cjk-glyphs'; containing
	none of them or more than one of them is a syntax error and must cause the 
	@counter-style block to be ignored.  Further, which of those three is present
	must match the 'type' value: if the type is ''additive'', the 'additive-glyphs'
	property must be present; if the type is ''cjk'', the 'cjk-glyphs' property
	must be present; if the type is any other valid type, the 'glyphs' property
	must be present.  Violating any of the conditions in the preceding sentence
	is a syntax error and must cause the @counter-style block to be ignored.
	Individual types may impose additional requirements on the value of the 'glyphs'
	property; if so, violating these requirements is a syntax error and must cause
	the @counter-style block to be ignored.</p>

	<p>The meaning and values of each of the properties are defined in the following
	section.</p>

<h4 id=counter-style-type>
The 'type' Property</h4>

	<p>The 'type' property specifies which algorithm will be used to construct
	the counter's representation based on the counter value.  For example, ''repeating''
	type counter styles just cycle through their glyphs repeatedly, while ''numeric''
	type counter styles interpret their glyphs as digits and build their representation
	accordingly.  It is defined as:

	<xmp class=prod>
<counter-type> = repeating | numeric | alphabetic | symbolic | [ non-repeating <integer>? ] | cjk | additive
	</xmp>

	<dl>
		<dt><dfn>repeating</dfn></dt>
		<dd>
			<p>If the type is ''repeating'', the 'glyphs' property must contain 
			at least one <i>counter glyph</i>. This type is defined over all counter 
			values.</p>

			<p>The ''repeating'' counter type cycles repeatedly through its provided
			glyphs, looping back to the beginning when it falls off the end of the
			list.  It can be used for simple bullets (just provide a single 
			<i>counter glyph</i>), or for cycling through multiple bullets.  The 
			first <i>counter glyph</i> is used as the representation of the value 
			1, the second <i>counter glyph</i> (if it exists) is used as the representation
			of the value 2, etc.</p>

			<p>In general, if there are <code>N</code> <i>counter glyphs</i> and
			a representation is being constructed for the value <code>I</code>, 
			the representation is the <i>counter glyph</i> at index <code>I mod N</code>
			of the list of <i>counter glyphs</i> (indexed from 0). 
			<span class=note>The <code>mod</code> must return a non-negative number
			for these purposes.  If an implementation of <code>mod</code> returns
			a negative value for negative inputs, add <code>N</code> to the resultant
			value to make it non-negative.</span></p>

			<div class=example>
				<p>A 'triangle bullet' list style can be defined with code like:</p>

				<xmp>
@counter-style triangle {
	type: repeating;
	glyphs: "▶";
}
				</xmp>

				<p>It will then produce lists that look like:</p>

				<pre>
 ▶  First item
 ▶  Second item
 ▶  Third item
				</pre>
			</div>
		</dd>

		<dt><dfn>numeric</dfn></dt>
		<dd>
			<p>If the type is ''numeric'', the 'glyphs' property must contain at
			least two <i>counter glyph</i>s. This type is defined over all counter 
			values.</p>

			<p>The ''numeric'' counter type cycles interprets the list of 
			<i>counter glyphs</i> as digits to a number system.</p>

			<p>The first <i>counter glyph</i> in the list is interpreted as the
			digit 0, the second as the digit 1, and so on.  If there are <var>N</var> 
			<i>counter glyph</i>s, the representation is a base <var>N</var> 
			number using the <i>counter glyph</i>s as digits.</p>

			<p>To construct the representation, run the following algorithm. Let
			<var>N</var> be the length of the list of <i>counter glyphs</i>, 
			<var>I</var> initially be the counter value, <var>S</var>
			initially be the empty string, <var>negative</var> be a boolean flag
			that is initially false, and <code>glyph(n)</code> be the nth
			<i>counter glyph</i> in the list of <i>counter glyph</i>s (0-indexed).</p>

			<ol>
				<li>If <var>I</var> is 0, append <code>glyph(0)</code> to 
				<var>S</var> and return <var>S</var>.</li>

				<li>If <var>I</var> is negative, set <var>negative</var> to
				true and <var>I</var> to its absolute value.</li>

				<li>While <var>I</var> is not equal to 0:

					<ol>
						<li>Prepend <code>glyph( <var>I</var> mod <var>N</var> )</code> 
						to <var>S</var>.</li>

						<li>Set <var>I</var> to <code>floor( <var>I</var> / <var>N</var> )</code>.</li>
					</ol>
				</li>

				<li>If <var>negative</var> is true, prepend "-" U+XXXX HYPHEN MINUS
				to <var>S</var>.</li>

				<li>Return <var>S</var>.</li>
			</ol>

			<div class=example>
				<p class=issue>Example here.</p>
			</div>
		</dd>

		<dt><dfn>alphabetic</dfn></dt>
		<dd>
			<p>If the type is ''alphabetic'', the 'glyphs' property must contain
			at least two <i>counter glyph</i>s.  This type is defined only over
			positive counter values.</p>

			<p>The ''alphabetic'' counter type interprets the list of <i>counter glyphs</i>
			as digits to an <em>alphabetic</em> numbering system.  Alphabetic 
			numbering systems do not contain a digit representing 0.  Alphabetic
			numbering systems are sometimes used, for example, to number spreadsheet
			cells

			<p>The first <i>counter glyph</i> in the list is interpreted as the
			digit 1, the second as the digit 2, and so on.  If there are <var>N</var>
			<i>counter glyph</i>s, the representation is a base <var>N</var> 
			alphabetic number using the <i>counter glyph</i>s as digits.</p>

			<p>To construct the representation, run the following algorithm.  Let
			<var>N</var> be the length of the list of <i>counter glyph</i>s,
			<var>I</var> initially be the counter value, <var>S</var> initially
			be the empty string, and <code>glyph(n)</code> be the nth <i>counter glyph</i>
			in the list of <i>counter glyph</i>s (0-indexed).</p>

			<p>While <var>I</var> is not equal to 0:</p>
	
			<ol>
				<li>Set <var>I</var> to <code><var>I</var> - 1</code>.</li>

				<li>Prepend <code>glyph( <var>I</var> mod <var>N</var> )</code>
				to <var>S</var>.</li>

				<li>Set <var>I</var> to <code>floor( <var>I</var> / <var>N</var> )</code>.</li>
			</ol>

			<p>Finally, return <var>S</var>.</p>

			<div class=example>
				<p class=issue>Example here.</p>
			</div>
		</dd>

		<dt><dfn>symbolic</dfn></dt>
		<dd>
			<p>If the type is ''symbolic'', the 'glyphs' property must contain at
			least one <i>counter glyph</i>.  This type is defined over positive
			counter values.</p>

			<p>The ''symbolic'' counter type is meant to simulate "footnote"-style
			counters and similar.  It cycles through its list of glyphs repeatedly,
			first just presenting the glyph itself, then the glyph doubled, then
			tripled, etc.</p>

			<p>To construct the representation, let <var>N</var> be the length of 
			the list of <i>counter glyph</i>s,<var>I</var> initially be the counter 
			value, <var>S</var> initially be the empty string, and <code>glyph(n)</code> 
			be the nth <i>counter glyph</i>	in the list of <i>counter glyph</i>s 
			(0-indexed).  Append <code>glyph( <var>I</var> mod <var>N</var> )</code>
			to <var>S</var> <code>floor( (<var>I</var> - 1) / <var>N</var> )</code>
			times, then return <var>S</var>.</p>

			<div class=example>
				<p class=issue>Example here.</p>
			</div>
		</dd>

		<dt><dfn>non-repeating</dfn></dt>
		<dd>
			<p>If the type is ''non-repeating'', the 'glyphs' property must contain
			at least one <i>counter glyph</i>.  This type is defined over counter
			values in a finite range, starting with the <i>first glyph value</i>
			and having a length equal to the length of the list of <i>counter glyph</i>s.</p>

			<p>When this type is specified, it may optionally have an integer provided
			after it, which sets the <dfn>first glyph value</dfn>.  If it is omitted,
			the <i>first glyph value</i> is 1.</p>

			<p>The ''non-repeating'' counter type is for representing counter styles
			that only have a finite number of representations.  For example, Unicode
			defines several limited-length runs of special characters meant for 
			lists, such as circled digits.</p>

			<p>The first <i>counter glyph</i> is the representation for the 
			<i>first glyph value</i>, and subsequent counter values are represented
			by subsequent <i>counter glyph</i>s.  Once the list of <i>counter glyph</i>s
			is exhausted, further values cannot be represented by this type, and
			must drop down to the fallback counter style.</p>

			<div class=example>
				<p class=issue>Example here.</p>
			</div>
		</dd>

		<dt><dfn>additive</dfn></dt>
		<dd>
			<p>If the type is ''additive'', the 'additive-glyphs' property must
			contain at least one <i>additive tuple</i>.  This type is nominally
			defined over all positive counter values (see algorith, below, for
			exact details)</p>

			<p>The ''additive'' counter type can be used to implement roman numerals,
			and additionally is used to represent the numbering system of several
			languages which use different digits for each position in a number.

			<p>To construct the representation, let <var>I</var> initially be the
			counter value, <var>S</var> initially be the empty string, and
			<var>glyph list</var> initially be the list of <i>additive tuple</i>s.

			<p>If <var>I</var> is initially 0, and there is an <i>additive tuple</i>
			with a weight of 0, append that tuple's <i>counter glyph</i> to S
			and return S.</p>

			<p>Otherwise, while <var>I</var> is greater than 0 and there are elements
			left in the <var>glyph list</var>:</p>

			<ol>
				<li>Pop the first <i>additive tuple</i> from the <var>glyph list</var>.
				This is the <dfn>current tuple</dfn>.</li>

				<li>Append the <i>current tuple</i>'s <i>counter glyph</i> to <var>S</var> 
				<code>floor( <var>I</var> / <var><i>current tuple</i>'s weight</var> )</code>
				times (this may be 0).</li>
			</ol>

			<p>If the loop ended because <var>I</var> is 0, return S.  If the loop
			ended because there were no elements left in the <var>glyph list</var> but
			<var>I</var> is not 0, then the counter style cannot represent this 
			value, and must instead drop down to its <i>fallback</i> counter style.</p>

			<div class=example>
				<p class=issue>Example here.</p>
			</div>
		</dd>

		<dt><dfn>cjk</dfn></dt>
		<dd>
			<p>The ''cjk'' counter type is defined for all counter values between
			1 and 10^XXX - 1.  It is used to represent the counter styles commonly
			used in Chinese, Japanese, and Korean script lists.</p>

			<div class=issue>
				<p>Describe the algorithm here.  Apparently, the spec algorithm
				is wrong for both japanese forms, and at least chinese-trad-informal.
				I'll have to figure out if it's even possible to handle this with
				a generic algorithm, or if I should just put them all in the special-case
				list.</p>
			</div>
		</dd>
	</dl>

<h3 id=counter-style-range>
The 'range' property</h3>

	<p>The 'range' property defines the range over which the counter style is defined.
	If a counter style is used to represent a counter value outside of its range,
	the counter style instead drops down to its fallback counter style.  The property
	is defined as:</p>

	<xmp class=prod>
<counter-range> = [<integer> | infinite]{2}
	</xmp>

	<p>The first value represents the lower bound of the range (with 'infinite'
	representing negative infinity), and the second value represents the upper bound
	of the range (with 'infinite' representing positive infinity).  This is an inclusive
	range - it includes both the lower and upper bound numbers.  It is a syntax
	error for the lower bound to be higher than the upper bound, and must cause
	the @counter-style block to be ignored.</p>

	<p>Some counter style types have their own implicit ranges, specified above 
	in the individual descriptions for each type.  The range specified by the 'range'
	property is applied after the implicit type-based range, and can only tighten
	the range (that is, make the lower bound higher or the upper bound lower).  
	It is not an error to specify a 'range' value larger than the implicit range;
	the part of the range outside the implicit range simply has no effect.</p>

<h3 id=counter-style-glyphs>
The 'glyphs' property</h3>

	<p>The 'glyphs' property specifies the <i>counter glyph</i>s used by several
	of the counter style types to construct their representations.  It is defined
	as:</p>

	<xmp class=prod>
<counter-glyphs> = [ <string> | <image> ]+
	</xmp>

	<p>Some counter style types specify that the 'glyphs' property must have at 
	least two entries.  If the counter style's type is set to such a type, it is
	a syntax error to have less than two entries in the 'glyphs' property and must
	cause the @counter-style block to be ignored.</p>

	<p>Each entry in the 'glyphs' property is a <dfn>counter glyph</dfn>.</p>

	<div class=example>
		<p class=issue>Add example of string glyphs.</p>
		<p class=issue>Add example of image glyphs.</p>
	</div>

<h3 id=counter-style-prefix>
The 'prefix' property</h3>

	<p>The 'prefix' property specifies a string that is placed before the representation
	of the counter value when constructing the default contents of the ::marker
	pseudo-element.  It is defined as:</p>

	<xmp class=prod>
<counter-prefix> = <string>
	</xmp>

	<p>If the 'prefix' property is omitted or invalid, its initial value is "" 
	(the empty string).</p>

<h3 id=counter-style-suffix>
The 'suffix' property</h3>

	<p>The 'suffix' property specifies a string that is placed after the representation
	of the counter value when constructing the default contents of the ::marker
	pseudo-element.  It is defined as:</p>

	<xmp class=prod>
<counter-suffix> = <string>
	</xmp>

	<p>If the 'suffix' property is omitted or invalid, its initial value is "." 
	U+002E FULL STOP.</p>

<h3 id=counter-style-fallback>
The 'fallback' property</h3>

	<p>The 'fallback' property specifies a fallback counter style.  When the
	given counter style cannot generate a representation for a counter value (for
	example, if the counter value is outside the range for the counter style), the
	representation is instead generated by the fallback counter style.  It is defined
	as:</p>

	<xmp class=prod>
<counter-style-fallback> = <counter-style-name>
	</xmp>

	<p>If the 'fallback' property is omitted, invalid, or refers to a non-existent
	counter style, its initial value is 'decimal' (which is guaranteed to be defined).</p>

<!-- ======================================================================= -->

<h2 id="profiles">
Profiles</h2>

	<p>This module has two profiles: CSS Level 1 and Full. There is no
	CSS2 profile because this module is incompatible with the CSS2 list
	model.</p>

	<p>The CSS Level 1 module consists of 'list-style', 'list-style-position', 
	'list-style-image', and 'list-style-type' (but only the following
	values: 'disc', 'circle, square', 'decimal', 'lower-roman',
	'upper-roman', 'lower-alpha', 'upper-alpha', 'none'). It does not
	include the ::marker pseudo element.</p>

	<p>The Full profile contains everything.</p>

<!-- ====================================================================== -->

<h2 id="html4">
Sample style sheet for HTML 4.0</h2>

	<p>This section is informative, nor normative.</p>

	<pre>
 /* Set up list items */
 li { display: list-item; /* counter-increment: list-item; (implied by display: list-item) */ }

 /* Set up ol and ul so that they reset the list-item counter */
 ol, ul { counter-reset: list-item; }

 /* Default list style types for ordered lists */
 ol { list-style-type: decimal; }

 /* Default list style types for unordered lists up to 3<!-- 8 --> deep */
 ul { list-style-type: disc; }
 ul ul { list-style-type: square; }
 ul ul ul { list-style-type: circle; }
<!--  and so on ad nauseum:
 ul ul ul ul { list-style-type: box; }
 ul ul ul ul ul { list-style-type: disc; }
 ul ul ul ul ul ul { list-style-type: square; }
 ul ul ul ul ul ul ul { list-style-type: circle; }
 ul ul ul ul ul ul ul ul { list-style-type: box; }
-->
 /* The type attribute on ol and ul elements */
 ul[type="disc"] { list-style-type: disc; }
 ul[type="circle"] { list-style-type: circle; }
 ul[type="square"] { list-style-type: square; }
 ol[type="1"] { list-style-type: decimal; }
 ol[type="a"] { list-style-type: lower-alpha; }
 ol[type="A"] { list-style-type: upper-alpha; }
 ol[type="i"] { list-style-type: lower-roman; }
 ol[type="I"] { list-style-type: upper-roman; }

 /* The start attribute on ol elements */
 ol[start] { counter-reset: list-item attr(start, integer, 1); counter-increment: list-item -1; }

 /* The value attribute on li elements */
 li[value] { counter-reset: list-item attr(value, integer, 1); counter-increment: none;<!-- XXX interaction with default increase --> }

 /* The above rules don't fully describe HTML4 lists, since they do not cover
    behaviors such as margins and the like. The following rules could be used
    for this purpose:

    ol, ul { display: block; margin: 1em 0; padding-left: 2.5em; }
    ol ol, ol ul, ul ul, ul ol { margin-top: 0; margin-bottom: 0; }  
    li::marker { margin-right: 1em; text-align: right; }

  */

	</pre>

	<p class="issue">Another example is required here.</p>
	<!--
	<pre>
		h1-h6 numbering
	</pre>
	-->

<!-- ====================================================================== -->

<h2 class="no-num" id="acknowledgments">
Acknowledgments</h2>

	<p>The following people and documentation they wrote were very useful
	for defining the numbering systems: <!-- alphabetical by full name -->
	Alexander Savenkov,
	Aryeh Gregor,
	Frank Tang,
	Jonathan Rosenne,
	Karl Ove Hufthammer,
	Musheg Arakelyan,
	Nariné Renard Karapetyan,
	Randall Bart,
	Richard Ishida
	Simon Montagu
	</p>

	 <!-- see http://www.damowmow.com/temp/csswg/lists/part2.html 
		       http://www.qsm.co.il/Hebrew/Gimatria.htm
		       http://people.netscape.com/smontagu/writings/HebrewNumbers.html
		       http://www.ethiopic.org/Collation/OrderedLists.html
		       http://bugzilla.mozilla.org/show_bug.cgi?id=102252 -->

<!-- ====================================================================== -->

<h2 class="no-num" id="changes">
Changes From CSS2</h2>

	<p>As described in the introduction section, there are significant changes in this module when
	compared to CSS2.</p>

	<ol>
		<li>''display:marker'' has been replaced with ''::marker''</li>

		<li>It is no longer possible to make end markers.</li>

		<li>The 'marker-offset' property is obsoleted.</li>

		<li>Markers are now aligned relative to the line box edge, rather than the border edge.</li>

		<li>Markers now have margins.</li>

		<li>The introduction of many new list style types as well as explicit algorithms for all list style types.</li>

		<li>Error handling rules for unknown list style types were changed to be consistent with the normal
		 parsing error handling rules.</li>

		<li>The list-item predefined counter identifier has been introduced.</li>
	</ol>

<!-- ====================================================================== -->

<h2 class="no-num" id="references">References</h2>

<h3 class="no-num">Normative references</h3>
<!--normative-->

<h3 class="no-num">Other references</h3>
<!--informative-->

<h2 class="no-num">Property index</h2>
<!-- properties -->

<h2 class="no-num">Index</h2>
<!--index-->

</body>
</html>
