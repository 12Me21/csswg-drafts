<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>CSS Box Alignment Module Level 3</title>
  <link rel=contents href="#contents">
  <link rel=index href="#index">
  <link rel="stylesheet" type="text/css" href="../default.css">
  <link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-[STATUS].css">
  <style type="text/css">
    .issue th:first-child { text-align: left !important; }  
    [rowspan] > img { max-height: 4em; float: right; }  
    [rowspan] { vertical-align: middle; }
    small { display: block; }
  </style>
</head>

<div class="head">
<!--logo-->

<h1>CSS Box Alignment Module Level 3</h1>

<h2 class="no-num no-toc">[LONGSTATUS] [DATE]</h2>
<dl>

  <dt>This version:
    <!--<dd><a href="[VERSION]">http://www.w3.org/TR/[YEAR]/WD-[SHORTNAME]-[CDATE]/</a>-->
    <dd>ED-[SHORTNAME]-[CDATE]
  <dt>Latest version:
    <dd><a href="http://www.w3.org/TR/css3-align/">http://www.w3.org/TR/[SHORTNAME]/</a>
  <dt>Editor's draft:
    <dd><a href="http://dev.w3.org/csswg/[SHORTNAME]/">http://dev.w3.org/csswg/[SHORTNAME]/</a>
  <dt>Previous version:
    <dd><a href="http://www.w3.org/TR/2012/WD-css3-align-20120612/">http://www.w3.org/TR/2012/WD-css3-align-20120612/</a>
  <dt>Issue Tracking:</dt>
    <dd><a href="http://www.w3.org/Style/CSS/Tracker/products/39">http://www.w3.org/Style/CSS/Tracker/products/39</a>
  <dt>Feedback:</dt>
    <dd><a href="mailto:www-style@w3.org?subject=%5Bcss-align%5D%20feedback"
         >www-style@w3.org</a> 
         with subject line &ldquo;<kbd>[css-align] 
         <var>&hellip; message topic &hellip;</var></kbd>&rdquo;
         (<a rel="discussion" href="http://lists.w3.org/Archives/Public/www-style/"
           >archives</a>)

  <dt>Editors:
    <dd class="h-card vcard">
      <a class="p-name fn u-url url" rel="author"
         href="http://fantasai.inkedblade.net/contact">Elika J. Etemad</a>,
      <span class="p-org org">Mozilla</span>
</dl>

<!--copyright-->

<hr title="Separator for header">
</div>

<h2 class="no-num no-toc" id="abstract">Abstract</h2>

  <p>This module contains the features of <a href="http://www.w3.org/TR/CSS/">CSS</a> relating to
  the alignment of boxes within their containers
  in the various CSS box layout models:
  block layout, table layout, flex layout, and grid layout.
  (The alignment of text and inline-level content is defined in [[CSS3TEXT]]
  and [[CSS3LINE]].)
  CSS is a language for describing the rendering of structured documents
  (such as HTML and XML) on screen, on paper, in speech, etc.

<h2 class="no-num no-toc" id="status">Status of this document</h2>

<!--status-->

<p>The following features are at risk: &hellip;

<h2 class="no-num no-toc" id="contents">
Table of contents</h2>

<!--toc-->

<h2 id="intro">
Introduction</h2>

  <p><em>This section is not normative.</em>

  <p>CSS Levels 1 and 2 allowed for the alignment of text via 'text-align' and
  the alignment of blocks by balancing ''auto'' margins. However, except in
  table cells, vertical alignment was not possible. As CSS3 adds further
  capabilities, the ability to align boxes in various dimensions becomes more
  critical. This module attempts to create a cohesive and common box alignment
  model to share among all of CSS.
  
  <p class=note>The alignment of text and inline-level content is defined in [[CSS3TEXT]]
  and [[CSS3LINE]].

  <p>Inspiration for this document:
  <ul>
    <li><a href="http://wiki.csswg.org/ideas/centering#alignment-property">summary of a discussion for implementing &lt;CENTER&gt;</a>
    <li><a href="https://lists.w3.org/Archives/Member/w3c-css-wg/2008AprJun/0015.html">Minutes from March 2008 F2F</a>
    <li><a href="http://lists.w3.org/Archives/Public/www-style/2012Feb/0743.html">fantasai's attempt to merge all alignment properties</a>
  </ul>

<h3 id="placement">
Module interactions</h3>

  <p>This module adds some new alignment capabilities to the block layout
  model described in [[!CSS21]] chapters 9 and 10 and defines the interaction
  of these properties with the alignment of table cell content using
  'vertical-align', as defined in [[!CSS21]] chapter 17.
  The interaction of these properties with
  Grid Layout [[!CSS3-GRID-LAYOUT]]
  and Flexible Box Layout [[!CSS3-FLEXBOX]]
  is defined in their respective modules.

  <p>No properties in this module apply to the <code>::first-line</code> or
  <code>::first-letter</code> pseudo-elements.

<h3 id="values">
Values</h3>

  <p>This specification follows the
  <a href="http://www.w3.org/TR/CSS21/about.html#property-defs">CSS property
  definition conventions</a> from [[!CSS21]]. Value types not defined in
  this specification are defined in CSS Level 2 Revision 1 [[!CSS21]].
  Other CSS modules may expand the definitions of these value types: for
  example [[CSS3VAL]], when combined with this module, adds the
  ''initial'' keyword as a possible property value.
  
  <p>In addition to the property-specific values listed in their definitions,
  all properties defined in this specification also accept the
  <a href="http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit">inherit</a>
  keyword as their property value. For readability it has not been repeated
  explicitly.

  
<h2 id="overview">
Overview of Alignment Properties</h2>

  <p>The alignment properties in CSS can be described along two axes:
  <ul>
    <li>which dimension they apply to (inline vs. stacking), and
    <li>whether they control the position of the box within its parent,
  or the box's content within itself.
  </ul>

  <p class=note>This proposal uses the terms 'justify' and 'align' to distinguish
  between alignment in the inline and stacking dimensions, respectively.
  The choice is somewhat arbitrary, but having the two terms allows for
  a consistent naming scheme that works across all of CSS's layout models.

  <p>The following table summarizes the proposed alignment properties
  and the display types they can apply to.
  
  <table class=data>
  <colgroup span=1></colgroup>
  <colgroup span=2></colgroup>
  <colgroup span=1></colgroup>
  <thead>
    <tr><th>Common
        <th>Axis
        <th>Aligns
        <th>Applies to
  </thead>
  <tbody>
    <tr><th>'justify-self'
        <td>inline
        <td rowspan=2><img src="self-target.jpg" alt=""> element within parent <small>(effectively adjusts margins)</small>
        <td>block-level elements and grid items
    <tr><th>'align-self'
        <td>stacking
        <td>flex items and grid items
  </tbody>
  <tbody>
    <tr><th>'justify-content'
        <td>inline
        <td rowspan=2><img src="content-target.jpg" alt="">content within element <small>(effectively adjusts padding)</small>
        <td>block containers and flex containers
    <tr><th>'align-content'
        <td>stacking
        <td>block containers and flex containers
  </tbody>
  <tbody>
    <tr><th>'justify-items'
        <td>inline
        <td rowspan=2><img src="child-target.jpg" alt=""> items inside element <small>(controls child items&rsquo; ''align/justify-self: auto'')</small>
        <td>grid containers
    <tr><th>'align-items'
        <td>stacking
        <td>flex containers and grid containers
  </tbody>
  </table>

  <p class=issue>
  The exact behavior of these properties on layout models other than Flexbox is still
  <strong>to be determined</strong>. This is a <strong>First Public Working Draft</strong>
  and is <strong>NOT STABLE</strong>.

  <p class=note>
  The '-items' values don't affect the element itself.
  When set on a flex container or grid container,
  they specify the interpretation of any ''align/justify-self: auto'' used on the items in the container element.

  <p class=issue>True alignment vs. safe alignment.
  Maybe make safe by default, true if ''true'' is specified?
  Or safe/true depending on layout model (e.g. safe for blocks, true for flexbox)?
  Current draft introduces a ''true'' keyword, but other options should be considered.

<h2 id='alignment-values'>
Alignment Values</h2>

  <p>All of the alignment properties use a common set of values,
    defined below.

  <dl>
    <dt><dfn>alignment subject</dfn>
    <dd>
      The <i>alignment subject</i> is the thing or things being aligned by the property.
      For 'justify-self' and 'align-self',
      the <i>alignment subject</i> is the margin box of the box the property is set on.
      For 'justify-content' and 'align-content',
      the <i>alignment subject</i> is defined by the layout mode.

    <dt><dfn>alignment container</dfn>
    <dd>
      The <i>alignment container</i> is the rectangle that the <i>alignment subject</i> is aligned within.
      This is defined by the layout mode,
      but is usually the <i>alignment subject</i>’s containing block.
  </dl>

<h3 id='positional-values'>
Positional Alignment: the ''center'', ''start'', ''end'', ''self-start'', ''self-end'', ''flex-start'', ''flex-end'', ''left'', and ''right'' keywords</h3>

  <p>...

  <pre class='prod'>
<dfn>&lt;item-position></dfn> = center | stretch | start | end | self-start | self-end | 
                  flex-start | flex-end | left | right;
<dfn>&lt;content-position></dfn> = center | start | end | flex-start | flex-end | left | right;</pre>

  <dl>
    <dt><dfn>''center''</dfn>
    <dd>Centers the <i>alignment subject</i> within its <i>alignment container</i>.

    <dt><dfn>''stretch''</dfn>
    <dd>If the 'width' or 'height' (as appropriate) of the <i>alignment subject</i> is ''auto'',
      its used value is the length necessary to make the <i>alignment subject</i>’s outer size
      as close to the size of the <i>alignment container</i> as possible,
      while still respecting the constraints imposed by 'min/max-width/height'.
      Otherwise, this is equivalent to ''start''.
    
    <dt><dfn>''start''</dfn>
    <dd>Aligns the <i>alignment subject</i> to be flush with the <i>alignment container</i>’s start edge.
    
    <dt><dfn>''end''</dfn>
    <dd>Aligns the <i>alignment subject</i> to be flush with the <i>alignment container</i>’s end edge.
    
    <dt><dfn>''self-start''</dfn>
    <dd>Aligns the <i>alignment subject</i> to be flush with the edge of the <i>alignment container</i> 
      corresponding to the <i>alignment subject</i>’s start side.
    
    <dt><dfn>''self-end''</dfn>
    <dd>Aligns the <i>alignment subject</i> to be flush with the edge of the <i>alignment container</i> 
      corresponding to the <i>alignment subject</i>’s end side.
    
    <dt><dfn>''flex-start''</dfn>
    <dd><strong>Only used in flex layout.</strong> [[!CSS3-FLEXBOX]]
      Aligns the <i>alignment subject</i> to be flush with the edge of the <i>alignment container</i> 
      corresponding to the <i>flex container</i>’s main-start or cross-start side, as appropriate.
      When used in layout modes other than Flexbox,
      this is equivalent to ''start''.
    
    <dt><dfn>''flex-end''</dfn>
    <dd><strong>Only used in flex layout.</strong>
      Aligns the <i>alignment subject</i> to be flush with the edge of the <i>alignment container</i> 
      corresponding to the <i>flex container</i>’s main-end or cross-end side, as appropriate.
      When used in layout modes other than Flexbox,
      this is equivalent to ''start''.
    
    <dt><dfn>''left''</dfn>
    <dd>Aligns the <i>alignment subject</i> to be flush with the <i>alignment container</i>’s <a href="http://www.w3.org/TR/css3-writing-modes/#line-left">line-left</a> edge.
      If the property's axis is not parallel with the inline axis,
      this is equivalent to ''start''.

    <dt><dfn>''right''</dfn>
    <dd>Aligns the <i>alignment subject</i> to be flush with the <i>alignment container</i>’s <a href="http://www.w3.org/TR/css3-writing-modes/#line-right">line-right</a> edge.
      If the property's axis is not parallel with the inline axis,
      this is equivalent to ''start''.
  </dl>

  <p class='issue'>Add example images.

<h3 id='baseline'>
Baseline Alignment: the ''baseline'' keyword</h3>

  <p>...

  <dl>
    <dt><dfn>''baseline''</dfn>
    <dd>For table cells, grid items, and flex items, aligns the 
      cell/item's <i>first formatted line</i>&apos;s baseline, if any,
      with the same baseline in other ''baseline''-aligned cells/items in the row/column (as appropriate for the axis).
      This is similar to the behavior of ''vertical-align: baseline'' on table cells;
      see [[!CSS21]] chapter 17 for details.
      If the content's position is not fully determined by baseline alignment,
      the content is start-aligned insofar as possible while preserving the baseline alignment.
      (Content that has no first-line baseline is thus also start-aligned.)
  </dl>

  <p class='issue'>Add example images.

<h3 id='distribution-values'>
Distributed Alignment: the ''space-between'', ''space-around'', and ''space-evenly'' keywords</h3>

  <p>The distribution values are used by 'justify-content' and 'align-content'
    to distribute the items in the <i>alignment subject</i>
    evenly between the start and end edges of the <i>alignment container</i>.

  <pre class='prod'>
<dfn>&lt;content-distribution></dfn> = space-between | space-around | space-evenly | stretch</pre>

  <dl>
    <dt><dfn>''space-between''</dfn>
    <dd>The items are evenly distributed in the <i>alignment container</i>.
      The first item is placed flush with the start edge of the <i>alignment container</i>,
      the last item is placed flush with the end edge of the <i>alignment container</i>,
      and the remaining items are distributed so that the spacing between any two adjacent items is the same.
      Unless otherwise specified,
      this value falls back to ''start''.

    <dt><dfn>''space-around''</dfn>
    <dd>The items are evenly distributed in the <i>alignment container</i>,
      with a half-size space on either end.
      The items are distributed so that the spacing between any two adjacent items is the same,
      and the spacing before the first and after the last item is half the size of the other spacing.
      Unless otherwise specified,
      this value falls back to ''center''.

    <dt><dfn>''space-evenly''</dfn>
    <dd>The items are evenly distributed in the <i>alignment container</i>,
      with a full-size space on either end.
      The items are distributed so that the spacing between any two adjacent items,
      before the first item,
      and after the last item
      is the same.
      Unless otherwise specified,
      this value falls back to ''center''.

    <dt><dfn>''stretch''</dfn>
    <dd>If the combined size of the items is less than the size of the <i>alignment container</i>,
      any ''auto''-sized items have their size increased equally so that the combined size exactly fills the <i>alignment container</i>.
      Otherwise,
      or if there are no ''auto''-sized items,
      this value is identical to ''flex-start''.
      <span class='note'>(For layout modes other than flex layout, ''flex-start'' is identical to ''start''.)</span>
  </dl>

  <p class='issue'>Add example images.

<h3 id='overflow-values'>
Overflow Alignment: the ''safe'' and ''true'' keywords</h3>

  <p>When the <i>alignment subject</i> is larger than the <i>alignment container</i>,
    it will overflow.
    Some alignment modes, if honored in this situation,
    may cause data loss:
    for example, if the contents of a sidebar are centered,
    when they overflow they may send part of their boxes past the viewport's start edge,
    which can't be scrolled to.

  <p>To help combat this problem,
    an <dfn>overflow alignment</dfn> mode can be explicitly specified.
    "True" alignment honors the specified alignment mode in overflow situations, even if it causes data loss,
    while "safe" alignment changes the alignment mode in overflow situations in an attempt to avoid data loss.

  <p>If the <i>overflow alignment</i> isn't explicitly specified,
    the default <i>overflow alignment</i> is determined by the layout mode.
    Document-centric layout modes, such as block layout, default to "safe" <i>overflow alignment</i>,
    while design-centric layout modes, such as flex layout, default to "true" <i>overflow alignment</i>.

  <pre class='prod'>
<dfn>&lt;overflow-position></dfn> = true | safe</pre>

  <dl>
    <dt><dfn>''safe''</dfn>
    <dd>If the size of the <i>alignment subject</i> overflows the <i>alignment container</i>,
      the <i>alignment subject</i> is instead aligned as if the alignment mode were ''start''.

    <dt><dfn>''true''</dfn>
    <dd>Regardless of the relative sizes of the <i>alignment subject</i> and <i>alignment container</i>,
      the given alignment value is honored.
  </dl>

  <p class='issue'>Transplant example 10 from flexbox.

<h2 id='content-distribution'>
Content Distribution: the 'justify-content' and 'align-content' properties</h2>

  <p>The 'justify-content' and 'align-content' properties control alignment of the box's content within the box.

  <div class="figure">
    <p><img alt="Diagram showing that the alignment of the content within the element is affected." src="content-target.jpg">
  </div>

  <table class=propdef>
    <tr>
      <th>Name:
      <td><dfn>justify-content</dfn>, <dfn>align-content</dfn>
    <tr>
      <th><a href="#values">Value</a>:
      <td>auto | [ <var>&lt;content-distribution></var> <var>&lt;content-position></var>? | <var>&lt;content-position></var> ] && <var>&lt;overflow-position></var>?
    <tr>
      <th>Initial:
      <td>auto
    <tr>
      <th>Applies to:
      <td>block containers, flex containers, and grid containers
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed&nbsp;value:
      <td>specified value
    <tr>
      <th>Animatable:
      <td>no
    <tr>
      <th>Canonical order:
      <td><abbr title="follows order of property value definition">per grammar</abbr>
  </table>

  <p>
    Aligns the contents of the box as a whole along the box's inline/row/main axis.
    Values other than ''auto'' are <a href="#alignment-values">defined above</a>.

  <dl>
    <dt>Block Layout:
    <dd>
      <p>All values other than ''auto'' force the block container to establish a new formatting context.
        ''auto'' otherwise behaves as ''start''.

      <p>The <i>alignment container</i> is the <i>block container</i>’s content box.
        The <i>alignment subject</i> is the entire contents of the block.

      <p>The 'align-content' property applies along the <i>block axis</i>,
        but the <var>&lt;content-distribution></var> values behave as their fallback values.
        The 'justify-content' property does not apply to and has no effect on block containers.

    <dt>Multicol Layout:
    <dd>
      <p>''auto'' behaves as ''start''.

      <p>The <i>alignment container</i> is the <i>multi-column element</i>’s content box.
        The <i>alignment subject</i> is the column boxes, as a unit.

      <p>The 'align-content' property applies along the <i>block axis</i>,
        but the <var>&lt;content-distribution></var> values behave as their fallback values.
        The 'justify-content' property does not apply to and has no effect on multi-column elements.

    <dt>Flex Layout:
    <dd>
      <p>''auto'' computes to ''stretch''.

      <p>The <i>alignment container</i> is the <i>flex container</i>’s content box.
        For 'justify-content', the <i>alignment subject</i> is the <i>flex items</i> in each <i>flex line</i>;
        for 'align-content', the <i>alignment subject</i> is the <i>flex lines</i>.

      <p>The 'align-content' property applies along the <i>cross axis</i>.
        The 'justify-content' property applies along the <i>main axis</i>,
        but ''stretch'' behaves as ''start''.

      <p>See [[!CSS3-FLEXBOX]] for details.

    <dt>Grid Layout:
    <dd>
      <p>''auto'' computes to ''stretch''.

      <p>The <i>alignment container</i> is the <i>grid container</i>’s content box.
        The <i>alignment subject</i> is the bounds of the <i>grid</i>.
        <span class='issue'>Need to dfn a better term for this in Grid.</span>

      <p>The 'align-content' property applies along the <i>block (column) axis</i>.
        The 'justify-content' property applies along the <i>inline (row) axis</i>.
        In both properties, the <var>&lt;content-distribution></var> values behave as their fallback values.
  </dl>

<h2 id='self-alignment'>
Self-Alignment: Aligning the Box within its Parent</h2>

  <p>
    The 'justify-self' and 'align-self' properties control alignment of the box within its containing block.

  <div class="figure">
    <p><img alt="Diagram showing that the alignment of the element within its containing block is affected." src="self-target.jpg">
  </div>

<h3 id='justify-self-property'>
Inline/Main-Axis Alignment: the 'justify-self' property</h3>

  <table class=propdef>
    <tr>
      <th>Name:
      <td><dfn>justify-self</dfn>
    <tr>
      <th><a href="#values">Value</a>:
      <td>auto | baseline | [ <var>&lt;item-position></var> && <var>&lt;overflow-position></var>? ]
    <tr>
      <th>Initial:
      <td>auto
    <tr>
      <th>Applies to:
      <td>block-level boxes, absolutely-positioned boxes, and grid items
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed&nbsp;value:
      <td>specified value
    <tr>
      <th>Animatable:
      <td>no
    <tr>
      <th>Canonical order:
      <td><abbr title="follows order of property value definition">per grammar</abbr>
  </table>

  <p>
    Justifies the box within its parent along the inline/row axis:
    the box's outer edges are aligned within its <i>alignment container</i>
    <a href="#alignment-values">as described by its alignment value</a>.

  <p>
    The ''auto'' keyword computes to
    ''stretch'' on absolutely-positioned elements,
    and to the computed value of 'justify-items' on the parent
    (minus any ''legacy'' keywords) on all other boxes.


  <dl>
    <dt>Block-level Boxes:
    <dd>
      <p>
        The 'justify-self' property applies along its containing block's <i>inline axis</i>.

      <p>
        The <i>alignment container</i> is the block's containing block
        except that for block-level elements that establish a block formatting context
        and are placed next to a float,
        the <i>alignment container</i> is reduced by the space taken up by the float.
        (Note: This is the legacy behavior of HTML <code>align</code>.)
        The <i>alignment subject</i> is block's margin box.

      <p>
        The default <i>overflow alignment</i> is ''safe''.
        In terms of CSS2.1 block-level formatting [[!CSS21]],
        the rules for "over-constrained" computations in <a href="http://www.w3.org/TR/CSS21/visudet.html#blockwidth">section 10.3.3</a>
        are ignored in favor of alignment as specified here
        and the used value of the offset properties are not adjusted to correct for the over-constraint.

      <p class="note">
        The ''stretch'' keyword is equivalent to ''start'',
        since block layout already stretches by default.

    <dt>Absolutely-positioned Boxes:
    <dd>
      <p>The 'justify-self' property applies along its containing block's <i>inline axis</i>.

      <p>When neither margin in this dimension is ''auto''
        and neither offset property in this dimension is ''auto'',
        values other than ''stretch'' cause <a href="http://www.w3.org/TR/CSS21/visudet.html#abs-non-replaced-width">non-replaced absolutely-positioned boxes</a>
        to use shrink-to-fit sizing for calculating ''auto'' measures,
        and 'justify-self' dictates alignment as follows:

      <p>
        The <i>alignment container</i> is the box's containing block
        as modified by the offset properties ('top'/'right'/'bottom'/'left').
        The <i>alignment subject</i> is the box's margin box.

      <p>
        The default <i>overflow alignment</i> is ''safe''.
        In terms of CSS2.1 formatting [[!CSS21]],
        the rules for "over-constrained" computations in <a href="http://www.w3.org/TR/CSS21/visudet.html#abs-non-replaced-width">section 10.3.7</a>
        are ignored in favor of alignment as specified here
        and the used value of the offset properties are not adjusted to correct for the over-constraint.

      <p class="issue">
        Make stretch work on replaced items?
        This requires keeping ''auto'' as ''auto''.

    <dt>Grid Items:
    <dd>
      <p>The 'justify-self' property applies along the grid's <i>row axis</i>.

      <p>The <i>alignment container</i> is the <i>grid cell</i>.
        The <i>alignment subject</i> is <i>grid item</i>'s margin box.
        The default <i>overflow alignment</i> is ''true''.
  </dl>

  <div class="example">
    <p>The effect of these rules is that an auto-sized block-level table,
    for example, can be aligned while still having side margins.
    If the table's max-content size is narrower than its containing block,
    then it is shrink-wrapped to that size and aligned as specified.
    If the table's max-content size is wider, then it fills its containing block,
    and the margins provide appropriate spacing from the containing block edges.
  </div>

  <p>This property does not apply to floats.

<h3 id='align-self-property'>
Block/Cross-Axis Alignment: the 'align-self' property</h3>

  <table class=propdef>
    <tr>
      <th>Name:
      <td><dfn>align-self</dfn>
    <tr>
      <th><a href="#values">Value</a>:
      <td>auto | baseline | [ <var>&lt;item-position></var> && <var>&lt;overflow-position></var>? ]
    <tr>
      <th>Initial:
      <td>auto
    <tr>
      <th>Applies to:
      <td>block-level elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed&nbsp;value:
      <td>specified value
    <tr>
      <th>Animatable:
      <td>no
    <tr>
      <th>Canonical order:
      <td><abbr title="follows order of property value definition">per grammar</abbr>
  </table>

  <dl>
    <dt><dfn>''auto''</dfn>
    <dd>
      ...
  </dl>

<h2 id='default-alignment'>
Default Alignment</h2>

  <p>
    The 'align-items' and 'justify-items' properties set the default 'align-self' and 'justify-self' behavior of the items contained by the element.

  <div class="figure">
    <p><img alt="Diagram showing that the alignment of grid items within the element is affected." src="child-target.jpg">
  </div>

<h3 id='justify-items-property'>
Inline/Main-Axis Alignment: the 'justify-items' property</h3>

  <table class=propdef>
    <tr>
      <th>Name:
      <td><dfn>justify-items</dfn>
    <tr>
      <th><a href="#values">Value</a>:
      <td>auto | baseline | [ <var>&lt;item-position></var> && <var>&lt;overflow-position></var>? ] |
          [ legacy && [ left | right | center ] ]
    <tr>
      <th>Initial:
      <td>auto
    <tr>
      <th>Applies to:
      <td>block containers, flex containers, and grid containers
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed&nbsp;value:
      <td>specified value
    <tr>
      <th>Animatable:
      <td>no
    <tr>
      <th>Canonical order:
      <td><abbr title="follows order of property value definition">per grammar</abbr>
  </table>

  <p>
    This property specifies the default 'justify-self' for all of the boxes
    (including anonymous boxes)
    participating in this box's formatting context.
    Values have the following meanings:

  <dl>
    <dt><dfn>''auto''</dfn>
    <dd>
      <p>
        If the element has a parent,
        and its computed value for ''justify-items'' includes the ''legacy'' keyword,
        ''auto'' computes to the parent's value.

      <p>
        Otherwise, ''auto'' computes to:

      <ul>
        <li>''stretch'' for flex containers and grid containers
        <li>''start'' for everything else
      </ul>

    <dt><dfn>''legacy''</dfn>
    <dd>
      This keyword causes the value to effectively inherit into descendants.
      It can only be combined with the ''center'', ''left'', and ''right'' positions.
      The alignment keyword, but not the ''legacy'' keyword, is passed to 'justify-self'.
      It exists to implement the legacy alignment behavior of HTML's <code>&lt;center></code> element and <code>align</code> attribute.
  </dl>

  <p>Other values have no special handling and are merely passed to 'justify-self'.

<h3 id='align-items-property'>
Block/Cross-Axis Alignment: the 'align-items' property</h3>

  <table class=propdef>
    <tr>
      <th>Name:
      <td><dfn>align-items</dfn>
    <tr>
      <th><a href="#values">Value</a>:
      <td>auto | baseline | [ <var>&lt;item-position></var> && <var>&lt;overflow-position></var>? ]
    <tr>
      <th>Initial:
      <td>auto
    <tr>
      <th>Applies to:
      <td>block-level elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed&nbsp;value:
      <td>specified value
    <tr>
      <th>Animatable:
      <td>no
    <tr>
      <th>Canonical order:
      <td><abbr title="follows order of property value definition">per grammar</abbr>
  </table>

  <p>
    This property specifies the default 'align-self' for all of the boxes
    (including anonymous boxes)
    participating in this box's formatting context.
    Values have the following meanings:

  <dl>
    <dt><dfn>''auto''</dfn>
    <dd>
      <p>
        Computes to:

      <ul>
        <li>''stretch'' for flex containers and grid containers
        <li>''start'' for everything else
      </ul>
  </dl>

  <p>Other values have no special handling and are merely passed to 'align-self'.


<h2 id="conformance">
Conformance</h2>

<h3 id="conventions">
Document conventions</h3>

  <p>Conformance requirements are expressed with a combination of
  descriptive assertions and RFC 2119 terminology. The key words “MUST”,
  “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
  “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
  document are to be interpreted as described in RFC 2119.
  However, for readability, these words do not appear in all uppercase
  letters in this specification.
  
  <p>All of the text of this specification is normative except sections
  explicitly marked as non-normative, examples, and notes. [[!RFC2119]]</p>
  
  <p>Examples in this specification are introduced with the words “for example”
  or are set apart from the normative text with <code>class="example"</code>,
  like this:
  
  <div class="example">
    <p>This is an example of an informative example.</p>
  </div>
  
  <p>Informative notes begin with the word “Note” and are set apart from the
  normative text with <code>class="note"</code>, like this:
  
  <p class="note">Note, this is an informative note.</p>

<h3 id="conformance-classes">
Conformance classes</h3>

  <p>Conformance to CSS Box Alignment Module Level 3
  is defined for three conformance classes:
  <dl>
    <dt><dfn title="style sheet!!as conformance class">style sheet</dfn>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
      style sheet</a>.
    <dt><dfn>renderer</dfn></dt>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
      that interprets the semantics of a style sheet and renders
      documents that use them.
    <dt><dfn id="authoring-tool">authoring tool</dfn></dt>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
      that writes a style sheet.
  </dl>
  
  <p>A style sheet is conformant to CSS Box Alignment Module Level 3
  if all of its statements that use syntax defined in this module are valid
  according to the generic CSS grammar and the individual grammars of each
  feature defined in this module.
  
  <p>A renderer is conformant to CSS Box Alignment Module Level 3
  if, in addition to interpreting the style sheet as defined by the
  appropriate specifications, it supports all the features defined
  by CSS Box Alignment Module Level 3 by parsing them correctly
  and rendering the document accordingly. However, the inability of a
  UA to correctly render a document due to limitations of the device
  does not make the UA non-conformant. (For example, a UA is not
  required to render color on a monochrome monitor.)
  
  <p>An authoring tool is conformant to CSS Box Alignment Module Level 3
  if it writes style sheets that are syntactically correct according to the
  generic CSS grammar and the individual grammars of each feature in
  this module, and meet all other conformance requirements of style sheets
  as described in this module.

<h3 id="partial">
Partial implementations</h3>

  <p>So that authors can exploit the forward-compatible parsing rules to
  assign fallback values, CSS renderers <strong>must</strong>
  treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
  as appropriate</a>) any at-rules, properties, property values, keywords,
  and other syntactic constructs for which they have no usable level of
  support. In particular, user agents <strong>must not</strong> selectively
  ignore unsupported component values and honor supported values in a single
  multi-value property declaration: if any value is considered invalid
  (as unsupported values must be), CSS requires that the entire declaration
  be ignored.</p>
  
<h3 id="experimental">
Experimental implementations</h3>

  <p>To avoid clashes with future CSS features, the CSS2.1 specification
  reserves a <a href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
  syntax</a> for proprietary and experimental extensions to CSS.
  
  <p>Prior to a specification reaching the Candidate Recommendation stage
  in the W3C process, all implementations of a CSS feature are considered
  experimental. The CSS Working Group recommends that implementations
  use a vendor-prefixed syntax for such features, including those in
  W3C Working Drafts. This avoids incompatibilities with future changes
  in the draft.
  </p>
 
<h3 id="testing">
Non-experimental implementations</h3>

  <p>Once a specification reaches the Candidate Recommendation stage,
  non-experimental implementations are possible, and implementors should
  release an unprefixed implementation of any CR-level feature they
  can demonstrate to be correctly implemented according to spec.
  
  <p>To establish and maintain the interoperability of CSS across
  implementations, the CSS Working Group requests that non-experimental
  CSS renderers submit an implementation report (and, if necessary, the
  testcases used for that implementation report) to the W3C before
  releasing an unprefixed implementation of any CSS features. Testcases
  submitted to W3C are subject to review and correction by the CSS
  Working Group.
  
  <p>Further information on submitting testcases and implementation reports
  can be found from on the CSS Working Group's website at
  <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
  Questions should be directed to the
  <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
  mailing list.

<h3 id="cr-exit-criteria">
CR exit criteria</h3>

  <p class=issue>[Change or remove the following CR exit criteria if
  the spec is not a module, but, e.g., a Note or a profile. This text was <a
  href="http://www.w3.org/Style/CSS/Tracker/actions/44"> decided on 2008-06-04.</a>]</p>

  <p>
  For this specification to be advanced to Proposed Recommendation,
  there must be at least two independent, interoperable implementations
  of each feature. Each feature may be implemented by a different set of
  products, there is no requirement that all features be implemented by
  a single product. For the purposes of this criterion, we define the
  following terms:
  
  <dl>
    <dt>independent <dd>each implementation must be developed by a
    different party and cannot share, reuse, or derive from code
    used by another qualifying implementation. Sections of code that
    have no bearing on the implementation of this specification are
    exempt from this requirement.
  
    <dt>interoperable <dd>passing the respective test case(s) in the
    official CSS test suite, or, if the implementation is not a Web
    browser, an equivalent test. Every relevant test in the test
    suite should have an equivalent test created if such a user
    agent (UA) is to be used to claim interoperability. In addition
    if such a UA is to be used to claim interoperability, then there
    must one or more additional UAs which can also pass those
    equivalent tests in the same way for the purpose of
    interoperability. The equivalent tests must be made publicly
    available for the purposes of peer review.
  
    <dt>implementation <dd>a user agent which:
  
    <ol class=inline>
      <li>implements the specification.
  
      <li>is available to the general public. The implementation may
      be a shipping product or other publicly available version
      (i.e., beta version, preview release, or “nightly build”). 
      Non-shipping product releases must have implemented the
      feature(s) for a period of at least one month in order to
      demonstrate stability.
  
      <li>is not experimental (i.e., a version specifically designed
      to pass the test suite and is not intended for normal usage
      going forward).
    </ol>
  </dl>
  
  <p>The specification will remain Candidate Recommendation for at least
  six months.

<h2 class=no-num id="acknowledgments">
Acknowledgments</h2>

  <p>Special thanks goes to Markus Mielke, Alex Mogilevsky, and the
  participants in the CSSWG's March 2008 F2F alignment discussions.

<h2 class=no-num id="references">
References</h2>

<h3 class="no-num" id="normative-references">
Normative references</h3>
<!--normative-->

<h3 class="no-num" id="other-references">
Other references</h3>
<!--informative-->

<h2 class="no-num" id="index">
Index</h2>
<!--index-->

<h2 class="no-num" id="property-index">
Property index</h2>
<!-- properties -->

</body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: html
sgml-declaration:"~/SGML/html5.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
 
